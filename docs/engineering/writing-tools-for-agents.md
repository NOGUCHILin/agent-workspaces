# Writing Effective Tools for Agents

出典: [Anthropic Engineering](https://www.anthropic.com/engineering/writing-tools-for-agents)

---

## 主要ポイント

> 「ツールは決定論的システムと非決定論的エージェント間の新しい契約」

従来のAPI設計とは異なるアプローチが必要。

---

## 実装フロー

### 1. プロトタイプ構築
- Claude Codeで迅速に試作
- ローカルMCPサーバーで動作確認
- ユーザーフィードバック収集

### 2. 評価システム構築
- 実世界ベースのタスク生成
- 複数の成功パスを許容
- トークン消費量などのメトリクス追跡

### 3. Agentによる最適化
- 評価トランスクリプトをClaude Codeに提供
- 矛盾点や効率性の問題を自動検出

---

## ベストプラクティス

| 原則 | 説明 |
|------|------|
| **ツール選定** | リスト全体返却より検索・絞り込み機能を優先 |
| **名前空間管理** | `service_resource_action`パターンで曖昧性排除 |
| **コンテキスト効率** | UUIDより意味のある識別子を使用 |
| **トークン最適化** | ページネーション・フィルタリング・截断を実装 |
| **説明の工夫** | **「新入社員に説明する」を基準に** |

---

## 成果

Slack・Asanaの内部ツール最適化で、Claudeによる自動改善が人手による実装を上回るパフォーマンスを達成。
