# Claude Code推奨ワークフロー

出典: [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices)

---

## 1. Explore, Plan, Code, Commit

複雑な問題に対応する汎用パターン。

**手順**:
1. ファイル・画像・URLを読み込み（コード作成禁止）
2. 複雑な問題では「サブエージェント」活用
3. `think`キーワードで拡張思考（`think hard`や`ultrathink`で段階的強化）
4. 計画をドキュメント化して検証
5. 実装
6. コミット・PR作成、README/changelog更新

**利点**: 事前計画により深い思考が必要な問題のパフォーマンス大幅向上

---

## 2. Write Tests, Commit; Code, Iterate, Commit

テスト駆動開発パターン。

**手順**:
1. 入出力ペアに基づきテスト作成（TDD明示で過度なモック回避）
2. テスト失敗を確認（実装コード禁止）
3. テストをコミット
4. テスト合格までコード反復
5. サブエージェントで過剰適合を検証
6. コミット

**利点**: 明確なターゲットに対して反復するとClaudeは段階的に改善できる

---

## 3. Write Code, Screenshot, Iterate

UI/UX開発向けビジュアルフィードバックパターン。

**手順**:
1. Puppeteer MCP、iOS simulatorなどスクリーンショット機能導入
2. デザインモック提供（ドラッグドロップ or ファイルパス）
3. 実装→スクリーンショット→モック比較→反復（2-3回推奨）
4. コミット

---

## 4. Safe YOLO Mode

コンテナ内での自律実行。

```bash
claude --dangerously-skip-permissions
```

**用途**: リント修正、ボイラープレート生成など単純タスク
**必須**: インターネット遮断のDockerコンテナ内で使用

---

## 5. Codebase Q&A

エージェント的なコード探索で学習・問題解決。

**活用例**:
- ロギング実装方法の確認
- APIエンドポイント作成パターン
- 特定コード行の説明
- エッジケース処理の把握

**メリット**: オンボーディング時間短縮

---

## 6. Git操作

90%以上のgit操作に対応。

- Git履歴検索（バージョン変更・機能所有者・API設計背景）
- コミットメッセージ自動生成（変更と履歴から）
- 複雑なリベース/マージコンフリクト解決

---

## 7. GitHub操作

- PR作成（`pr`短記法対応）
- コードレビューコメント対応
- ビルド失敗・リンター警告修正
- イシュー分類とトリアージ

---

## 8. Jupyter Notebook活用

**用途**: データ探索・結果解釈・美的改善
**推奨**: VS Codeで`.ipynb`とClaude Codeを並列表示

---

## 最適化テクニック

| テクニック | 内容 |
|-----------|------|
| 指示の具体性 | 「テスト追加」より「ログアウト時のエッジケース対応テスト、モック回避」 |
| コンテキスト管理 | `/clear`で長期セッション中の不要履歴削除 |
| チェックリスト | Markdownチェックリストで複雑タスク管理 |
| データ入力 | コピペ、パイプ、ツール呼び出し、ファイル読み込みを柔軟に |

---

## マルチClaude戦略

| 戦略 | 内容 |
|------|------|
| 並列実行 | 異なるターミナルでコード作成と検証分離 |
| Git worktrees | `git worktree add ../project-feature-a feature-a` |
| Headless mode | `claude -p "prompt"` でCI/自動化統合 |
