# 💳 クレジットカード運用ダッシュボード - 使い方ガイド

**作成日時**: 2025-11-08 12:38 (土)

---

## 🎯 このダッシュボードでできること

1. **カード残高の管理** - 9枚のカードの利用可能額を入力・更新
2. **最適なカードの確認** - 今日使うと何日後に引き落としか一目で分かる
3. **締日アラート** - 締日が近いカードを自動通知
4. **請求書カード払いスケジュール** - 申請日と引き落とし日の管理
5. **引き落としスケジュール** - 資金繰り管理

---

## 📱 アクセス方法

### ✅ 現在の構成

**HTTPサーバー**: Mac上でPython HTTPサーバーを起動
**アクセス**: Tailscale VPN経由でどこからでもアクセス可能

### Windows / スマホからアクセス

ブラウザで以下のURLを開く：

```
http://100.102.44.111:9000/index.html
```

**前提条件**:
- MacのHTTPサーバーが起動していること
- TailscaleがMac・アクセス元デバイス両方で起動していること

---

## 🚀 サーバーの起動・停止

### 起動方法

Macで以下のコマンドを実行（Claude Code経由またはターミナルで）：

```bash
cd /Users/noguchisara/projects/work/finance-cashflow
python3 -m http.server 9000 --bind 0.0.0.0
```

起動したら、バックグラウンドで動き続けます。

### 停止方法

```bash
# プロセスIDを確認
ps aux | grep "http.server 9000" | grep -v grep

# プロセスを停止（<PID>は上記で確認したプロセスID）
kill <PID>
```

または、サーバーを起動したターミナルで `Ctrl + C`

---

## 📖 使い方

### 1. ダッシュボードを開く

Windows・スマホのブラウザで：
```
http://100.102.44.111:9000/index.html
```

### 2. カード残高を入力

各カードの利用可能額を入力欄に入力します。

**入力例**:
- トヨタファイナンス: `1200000`
- Amazon Mastercard: `436000`
- しんきんVisa: `1600000`
- （以下同様）

### 3. 「💾 残高を反映して再計算」ボタンをクリック

すると、以下が自動で表示されます：

#### A. 今日カードを使った場合の引き落とし日
- 猶予期間が長い順にランキング表示（🥇🥈🥉）
- 締日まで7日以内のカードには「⏰ 締日まで〇日」アラート
- 各カードの利用可能額とステータス（🟢🟡🔴）

#### B. 請求書カード払いスケジュール
- 申請日順に表示
- チェックボックスで申請済みマーク可能
- 引き落とし日も表示

#### C. 引き落としスケジュール
- 日付順に引き落とし予定を表示
- 各日の合計金額を表示

---

## 🔄 日常の運用フロー

### 毎日

1. ダッシュボードを開く
2. 最新のカード残高を入力（マネーフォワードやカード会社サイトで確認）
3. 「残高を反映して再計算」をクリック
4. **今日使うべきカード**を確認（猶予期間が長いカード優先）

### 請求書カード払い申請時

1. 「請求書カード払いスケジュール」セクションを確認
2. 申請日になったら、マネーフォワードで申請
3. ダッシュボードのチェックボックスにチェック

### 引き落とし前

1. 「引き落としスケジュール」セクションを確認
2. 各日の引き落とし合計金額を把握
3. 必要に応じて口座に資金準備

---

## 🛠️ トラブルシューティング

### ダッシュボードが開けない

**症状**: `http://100.102.44.111:9000/index.html` で404エラー

**対処**:
1. MacでHTTPサーバーが起動しているか確認
   ```bash
   ps aux | grep "http.server 9000" | grep -v grep
   ```
2. 起動していなければ再起動
   ```bash
   cd /Users/noguchisara/projects/work/finance-cashflow
   python3 -m http.server 9000 --bind 0.0.0.0
   ```
3. Tailscaleが両方のデバイスで起動しているか確認

### データが保存されない

**原因**: ブラウザのlocalStorageを使用していないため、ページを閉じるとリセットされます。

**対処**: 毎回最新の残高を入力する必要があります。

**将来的な改善案**: localStorage対応（フェーズ2で検討）

### スマホで表示が崩れる

**対処**: レスポンシブデザインに対応していますが、小さい画面では一部見にくい場合があります。横画面にすると見やすくなります。

---

## 📂 ファイル構成

```
/Users/noguchisara/projects/work/finance-cashflow/
├── index.html                          # ダッシュボード本体
├── ダッシュボード使い方ガイド.md        # このファイル
├── デプロイ問題_トラブルシューティング_2025-11-07.md  # Vercelデプロイ関連
├── docs/
│   └── master-data-v2.yaml             # カード情報マスター
├── scripts/
│   └── optimize_credit_schedule.py     # Python最適化スクリプト
└── data/
    └── (Git管理外)
```

---

## 🔮 今後の拡張予定

### フェーズ2（検討中）

- **データ保存機能**: localStorage対応で残高を保存
- **請求書データ入力**: 手動で請求書払いデータを追加・編集
- **通常クレカ払い管理**: 通信費・消耗品費などの定期支払い管理
- **月次レポート**: Python版との連携

### Vercelデプロイ（保留）

- 現在トラブル中（詳細は `デプロイ問題_トラブルシューティング_2025-11-07.md` 参照）
- ローカルサーバー + Tailscaleで十分機能しているため、優先度低

---

## 📌 重要な注意事項

### セキュリティ

- **プライベートネットワーク**: TailscaleのVPN経由でのみアクセス可能
- **GitHubはプライベートリポジトリ**: カード情報は非公開
- **データは Git 管理外**: `.gitignore` で除外済み

### バックアップ

- HTMLファイルは `/Users/noguchisara/projects/work/finance-cashflow/index.html` に保存
- Git管理されているため、変更履歴も追跡可能

### サーバー起動の自動化（オプション）

毎回手動でサーバーを起動するのが面倒な場合、Mac起動時に自動起動する設定も可能です。
（必要であれば次のセッションで設定）

---

## 🆘 サポート

問題が発生した場合：

1. このドキュメントの「トラブルシューティング」セクションを確認
2. `デプロイ問題_トラブルシューティング_2025-11-07.md` を参照
3. Claude Codeに相談

---

**ドキュメント作成日**: 2025-11-08 12:38 (土)
**最終更新**: 2025-11-08 12:38 (土)
