"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[14344,41797],{27542:(e,t,o)=>{o.d(t,{n:()=>I});var n=o(296540),r=()=>o(726637),i=()=>o(484714),l=()=>o(590526),s=()=>o(401497),a=()=>o(295633),c=()=>o(718827),u=()=>o(807449),d=()=>o(493552),p=()=>o(26697),y=()=>o(898244),f=()=>o(416504),m=()=>o(989184),S=()=>o(69708),x=()=>o(100622),b=()=>o(284371),h=()=>o(68555),v=()=>o(3700),g=o(474848);const j=200,w=75,k=75;function I({blockStore:e,collectionContextStore:t,columnWidth:o}){const I=(0,i().v3)(),C=(0,l().O$)(t.currentSubitemFormatStoreForCollectionStore),P=(0,l().K8)((()=>e.getAssociatedCollectionStore()),[e]),_=(0,l().K8)((()=>{var e;return null===(e=t.collectionViewStore())||void 0===e?void 0:e.getType()}),[t]),T=(0,l().K8)((()=>{if(!C||!P)return;const e=P.getSchema()[C.property];return void 0!==e&&(0,y().nC)(e)?e:void 0}),[P,C]),E="table"===_||"list"===_||"timeline"===_,R=(0,S().tz)(),B=r().A.isMobile?w:j,M=(0,s().IS)((()=>({button:{height:20,display:"flex",alignItems:"center",gap:2,color:x().Tj.text.tertiary,borderRadius:6,padding:"0 6px"},parentTitle:{...E?{maxWidth:o?Math.min(B,o-k):B}:{},...b().RC}})),[o,E,B]),A=(0,l().K8)((()=>C&&T?(0,v().eO)({store:e,subitemFormat:C,propertySchema:T}):[]),[e,C,T]),L=(0,l().K8)((()=>{if(0===A.length)return;const t=A[0];return a().B.createChildStore(e,t)}),[e,A]),W=(0,l().K8)((()=>{var e;return null==L||null===(e=L.getModel())||void 0===e?void 0:e.getRenderTitleWithPlaceholder({getRecordModel:L.getRecordModel,userTimeZone:(0,f().P)(),intl:R})}),[L,R]),F=(0,l().K8)((()=>(0,v().xC)({collectionContextStore:t,blockStore:e})),[t,e]),V=(0,n.useCallback)((()=>(0,g.jsx)("div",{children:W})),[W]),K=(0,n.useCallback)((e=>(0,g.jsxs)(c().Ay,{ariaLabel:R.formatMessage({id:"parentItemIndicator.button.openParentSidePeek.ariaLabel",defaultMessage:"Open parent in side peek"}),onClick:()=>{L&&h().kB({relationPointers:A,relatedPageStore:L,environment:I,from:"relation_property",peekMode:"side_peek"})},style:M.button,...e,children:[(0,g.jsx)(u().I,{icon:m().Z,size:"sm",colorVariant:"secondary"}),(0,g.jsx)(d().D,{styleKey:"bodySmMedium",children:(0,g.jsx)("div",{style:M.parentTitle,children:W})})]})),[I,R,L,W,A,M.button,M.parentTitle]);return F&&L?(0,g.jsx)(p().m,{alignment:"start",delayThreshold:300,render:K,renderTooltip:V}):null}},32064:(e,t,o)=>{o.d(t,{Jd:()=>z,DC:()=>K,_R:()=>L,VW:()=>V,K1:()=>W,e7:()=>A,de:()=>E,oN:()=>F,L$:()=>D,K2:()=>O,JJ:()=>M,cE:()=>H,Dd:()=>Q});o(16280),o(898992),o(354520),o(581454);var n=o(296540),r=()=>o(484714),i=()=>o(590526),l=()=>o(401497),s=()=>o(631524),a=()=>o(764880),c=()=>o(156736),u=()=>o(784892),d=()=>o(437607),p=()=>o(534177),y=()=>o(79926);const f=new(y().O2)("PropertyModulePersonProperty",(async()=>await Promise.all([o.e(35530),o.e(36556),o.e(55373),o.e(36192),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(11676),o.e(94522),o.e(38293),o.e(63515),o.e(55162),o.e(32370),o.e(26264),o.e(64242),o.e(47160),o.e(76677),o.e(42056),o.e(3261),o.e(54219),o.e(82120)]).then(o.bind(o,281943)))),m=(0,y()._h)(f,(e=>e.PersonPropertyModule));var S=()=>o(449412);const x={};function b(e){const{throttleSeconds:t,...o}=e,n=`${e.from}:${e.type}`,r=x[n],i=Date.now();(!r||i-r>1e3*t)&&(x[n]=i,function(e){const{error:t,...o}=e;(0,S().O8)(t,o)}(o))}var h=()=>o(515872),v=()=>o(802229),g=()=>o(564883),j=()=>o(971003),w=()=>o(795354),k=()=>o(153364),I=o(474848);function C({renderOrigin:e,actors:t,placement:n="bottom",alignment:i="start",disableTooltip:s=!1,avatarSize:a}){const c=(0,r().WS)();s=s||c||t.length<1;const u=(0,l().IS)((()=>({scrollContainer:{maxHeight:"min(50vh, 300px)",overflowY:"auto"},listContainer:{display:"flex",flexDirection:"column",gap:6,paddingTop:6,paddingBottom:6},tooltip:{maxWidth:300,paddingTop:0,paddingBottom:0}})),[]);return(0,I.jsx)(o(26697).m,{placement:n,alignment:i,disableTooltip:s,render:e,style:u.tooltip,allowHover:!0,renderTooltip:e=>(0,I.jsx)("div",{...e,style:u.scrollContainer,children:(0,I.jsx)("div",{style:u.listContainer,children:t.map((e=>e instanceof o(849255).L?(0,I.jsx)(o(994006).A,{userStore:e,avatarSize:a??20,inline:!0,hasTooltip:!1,hasPersonHoverCard:!1},e.id):e instanceof o(457205).v?(0,I.jsx)(o(427636).A,{botStore:e,avatarSize:a??20},e.id):null))})})})}const P=n.memo(C);var _=()=>o(712354),T=()=>o(586295);const E=n.memo(n.forwardRef((function(e,t){const{buttonStyle:r,onContextMenu:i,editButtonClickProps:s,property:a,store:c,EmptyComponent:d,tokenFontSize:p,tokenLimit:y,quickActionButtons:f,width:m,formQuestionStore:S,collectionSchema:x,limitTokensToSingleTruncatedLine:b,userExpandable:h,generateButtonStyles:g,isCompactCardMode:w=!1,avatarSize:k}=e,{propertySchema:C,baseStyles:P,surface:_}=(0,n.useContext)(j().L8),T=(0,v().DZ)(c,a,C),E=B({store:c,property:a,propertySchema:C,surface:_}),M=0===E.length,A=E.length>1,L=(0,o(496645).Ug)(null==P?void 0:P.tokenFormat),W=w&&A?u().NY.Inline:L,F=w&&A,V=L,K=(0,l().IS)((()=>({buttonStyle:{...P.buttonStyle,...r,...(null==g?void 0:g(M))||{}},buttonPressedStyle:P.buttonPressedStyle??{},buttonHoveredStyle:P.buttonHoveredStyle??{},tokensContainer:{...W===u().NY.Inline?{gap:0}:{},...b&&{display:"flex",...o(284371).RC}},token:{...p&&{fontSize:p}},actorTokenOverlap:{...W===u().NY.Inline?{margin:o(848401).vb[W].margin}:{}},moreToken:{margin:0,...b&&{flexShrink:0}}})),[P.buttonHoveredStyle,P.buttonPressedStyle,P.buttonStyle,r,M,b,g,W,p]);return M&&void 0===d?null:(0,I.jsx)(o(381176).P,{ref:t,editButtonClickProps:s,onContextMenu:i,style:K.buttonStyle,pressedStyle:K.buttonPressedStyle,hoveredStyle:K.buttonHoveredStyle,tooltipHide:W===u().NY.Inline,quickActionButtons:f,width:m,formQuestionStore:S,collectionSchema:x,userExpandable:h,children:M&&void 0!==d&&!T?(0,I.jsx)(d,{}):(0,I.jsx)(R,{values:E,tokenLimit:y,tokenFormat:W,styles:K,store:c,property:a,limitTokensToSingleTruncatedLine:b??!1,userExpandable:h,reverseStack:F,moreTokenFormat:V,avatarSize:k})})})));function R({values:e,tokenLimit:t,tokenFormat:r,styles:c,store:p,property:y,limitTokensToSingleTruncatedLine:f,userExpandable:m,reverseStack:S,moreTokenFormat:x,avatarSize:b}){const[h,v]=(0,n.useState)(!1),g=t&&e.length>t&&!h;let j=e.slice(0,g?t:20);const k=(0,n.useCallback)((e=>{e.preventDefault(),v(!0)}),[]),C=(0,n.useCallback)((e=>{e.preventDefault(),v(!1)}),[]),P=(0,i().K8)((()=>{if(p)return(0,o(299545).O3)(p,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===y))}),[p,y]),_=(0,o(358167).v)({blockId:null==p?void 0:p.id,propertyId:y}),E=P&&(null==P?void 0:P.length)>0||_,R=(0,l().eP)(),B=(0,l().IS)((()=>({personTokenStyle:{...c.token,...E?{marginInlineStart:3,marginInlineEnd:3,maxWidth:"fit-content",display:"inline-block"}:{}},wrapperStyle:{...c.tokensContainer,...E?{...(0,o(924703).sQ)(R),paddingTop:9,paddingBottom:0,lineHeight:2,...f?{display:"flex"}:{flexWrap:"wrap",display:"inline"}}:{},alignItems:"center"},collapseIcon:{fill:o(100622).Tj.text.secondary},reverseStackStyle:{...S?{display:"flex",flexDirection:"row-reverse",width:"auto"}:{}},moreTokenWrapper:{marginInlineStart:r===u().NY.Inline?5:0}})),[E,f,c.tokensContainer,c.token,S,r,R]),M=(0,o(213828).s)({propertyId:y,store:p});j=S?[...j].reverse():j;const A=t=>S?0!==t:t<e.length-1;return(0,I.jsxs)(T().h,{className:M,style:B.wrapperStyle,children:[(0,I.jsx)(T().h,{style:{...B.wrapperStyle,...B.reverseStackStyle},children:j.map(((e,t)=>(0,o(201980).MMZ)(e)?(0,I.jsx)(o(877750).W,{templateVariableType:e},`person-property-value-${e}`):(0,a().Pu)(e)||(0,d().I6)(e)?(0,I.jsx)(o(729564).A,{actorOrGroupPointer:(0,d().I6)(e)?(0,d().S4)({spacePermissionGroupId:e.id,spaceId:e.spaceId}):e,style:{...A(t)&&c.actorTokenOverlap,...B.personTokenStyle,...f&&{width:"100%",flexShrink:1}},tokenFormat:r,avatarSize:b},e.id):void 0))}),g?m?(0,I.jsx)(s().p,{size:"xs",onClick:k,style:{marginInlineStart:10},children:(0,I.jsx)(w().A,{count:e.length-t,format:x,style:c.moreToken,fixedHeight:!0,isCompact:!0})}):(0,I.jsx)("div",{style:B.moreTokenWrapper,children:(0,I.jsx)(w().A,{count:e.length-t,format:x,style:c.moreToken,fixedHeight:!0,isCompact:!0})}):h?(0,I.jsx)(s().p,{size:"xs",onClick:C,style:{marginInlineStart:5},children:(0,I.jsx)(o(807449).I,{icon:o(430042).R,size:"sm",style:B.collapseIcon})}):void 0]})}function B({property:e,store:t,propertySchema:o,surface:n}){return(0,i().K8)((()=>{const r=null==o?void 0:o.type;switch(r){case"created_by":{const e=t.getCreatedByPointer();if(e)return[e];break}case"last_edited_by":{const e=t.getLastEditedByPointer();if(e)return[e];break}case"person":{const r=t.isTemplate();return(0,c().a)({value:t.getPropertyValue(e),isTemplatePage:r,propertySchema:o,blockCreatorPointer:r||(0,h().J)(n)?void 0:t.getCreatedByPointer()})}case void 0:return[];default:(0,p().HB)(r)}return[]}),[e,o,t,n])}const M=n.forwardRef((function(e,t){const{store:i,property:l}=e,{shouldWrap:s}=(0,n.useContext)(j().L8),a=(0,r().WS)(),c=(0,n.useMemo)((()=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g().qO,{store:i,property:l},"workflow-autofill"),(0,I.jsx)(k().k,{},"comment")]})),[l,i]),u=Q(e,t);return(0,I.jsx)(E,{...u,EmptyComponent:_().rW,collectionStore:e.collectionStore,quickActionButtons:c,userExpandable:s,tokenFontSize:a?o(968021).hN:void 0})})),A=n.forwardRef((function(e,t){const{store:o,property:r}=e,i=Q(e,t),l=(0,n.useMemo)((()=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g().qO,{store:o,property:r},"workflow-autofill"),(0,I.jsx)(k().k,{},"comment")]})),[r,o]);return(0,I.jsx)(E,{...i,EmptyComponent:_().ao,collectionStore:e.collectionStore,quickActionButtons:l})})),L=n.forwardRef((function(e,t){const o=Q(e,t),r=q({store:e.store,property:e.property,surface:e.surface}),i=(0,n.useMemo)((()=>(0,I.jsx)(k().k,{},"comment")),[]);return(0,I.jsx)(P,{actors:r,renderOrigin:e=>(0,I.jsx)("div",{...e,children:(0,I.jsx)(E,{...o,EmptyComponent:_().ao,tokenLimit:1,quickActionButtons:i,limitTokensToSingleTruncatedLine:!0})})})})),W=n.forwardRef((function(e,t){const o=Q(e,t);return(0,I.jsx)(E,{...o,EmptyComponent:_().Fe,tokenLimit:1})})),F=n.forwardRef((function(e,t){const{store:r,property:i}=Q(e,t),{propertySchema:l,propertyModule:s,surface:a}=(0,n.useContext)(j().L8),c=l,u=B({store:r,property:i,propertySchema:c,surface:a});return s&&(0,o(778781).E2)(s)?(0,I.jsx)(o(762183).H,{ref:t,store:r,property:i,children:(0,I.jsx)(m,{store:r,property:i,propertyValues:u,propertySchema:c,module:s,surface:e.surface})}):(b({from:"PropertyModulePersonProperty",type:"invalidModule",throttleSeconds:60,error:new Error("Expected to find a property_person module."),data:{blockId:r.id,propertyId:i,miscDataToConvertToString:{moduleType:null==s?void 0:s.type}}}),null)})),V=n.forwardRef((function(e,t){const n=Q(e,t,(0,o(999943).F)(t,e.collectionStore,e.property,"person"));return(0,I.jsx)(E,{...n,EmptyComponent:e.showIfEmpty?_().Jb:void 0,tokenLimit:5,userExpandable:!0})})),K=n.forwardRef((function(e,t){const{showIfEmpty:n,collectionViewStore:r}=e,l=Q(e,t),s=(0,i().K8)((()=>"compact"===(0,o(371727).C)(r)),[r]),a=s?5:void 0,c=q({store:e.store,property:e.property,surface:e.surface});return(0,I.jsx)(P,{actors:c,disableTooltip:!s||c.length<=1,avatarSize:18,renderOrigin:e=>(0,I.jsx)("div",{...e,children:(0,I.jsx)(E,{...l,EmptyComponent:n?_().Jb:void 0,isCompactCardMode:s,tokenLimit:a,avatarSize:18})})})})),z=n.forwardRef((function(e,t){const o=Q(e,t);return(0,I.jsx)(E,{...o})})),H=n.forwardRef((function(e,t){const o=Q(e,t);return(0,I.jsx)(E,{...o})})),D=n.forwardRef((function(e,t){const o=Q(e,t);return(0,I.jsx)(E,{...o})})),O=n.forwardRef((function(e,t){const o=Q(e,t);return(0,I.jsx)(E,{...o})}));function Q(e,t,o){const{store:n,property:r,onContextMenu:i,width:l}=e;return{ref:t,store:n,property:r,editButtonClickProps:(0,v().QK)(e),onContextMenu:i,buttonStyle:null==o?void 0:o.buttonStyle,width:l}}function q({property:e,store:t,surface:l}){const{propertySchema:s}=(0,n.useContext)(j().L8),c=(0,r().v3)(),u=B({store:t,property:e,propertySchema:s,surface:l});return(0,i().K8)((()=>{const e=null==t?void 0:t.getRecordModel;return e?u.map((t=>{if(!(0,a().Pu)(t))return;const n=(0,a().xC)({pointer:t,getRecordModel:e});return(0,o(883701).J)(c,n)})).filter((e=>void 0!==e)):[]}),[c,u,null==t?void 0:t.getRecordModel])}},53528:(e,t,o)=>{o.d(t,{OH:()=>s,T2:()=>a,do:()=>c});var n=()=>o(597777),r=()=>o(869190),i=()=>o(604995),l=()=>o(416504);function s(e){const{dateTime:t,intl:o,shortenDateAndRange:n}=e,l=i().C6.toPersistedDate(t.valueOf());return r().ZF({value:l,allowRelativeDates:!0,intl:o,shortenDateAndRange:n,displayInUserTimezone:!0})}function a(e){const{dateTime:t,intl:o,userTimeZone:n,displayInUserTimezone:l,alwaysIncludeTimezone:s}=e,a=i().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return r().ZF({value:a,allowRelativeDates:!0,intl:o,userTimeZone:n,displayInUserTimezone:l,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:o}=e,s=i().C6.toPersistedDateRange(t),a=r().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),c=t.end.setZone((0,l().P)()),u=r().fU({start_time:c.toFormat(n().GE),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:a,formattedEndTime:u})}},66129:(e,t,o)=>{o.d(t,{z:()=>r});var n=()=>o(179034);function r(e){const t=e.getAliasTargetStore();return(null==t?void 0:t.table)===n().ev?t:e}},89956:(e,t,o)=>{o.d(t,{p:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.46 2.46 11.08 11.08",svg:(0,o(474848).jsx)("path",{d:"M3.088 2.463a.625.625 0 0 0-.625.625v4a.625.625 0 1 0 1.25 0V4.597l3.045 3.045a.625.625 0 0 0 .884-.884L4.597 3.713h2.49a.625.625 0 1 0 0-1.25zM9.244 8.36a.625.625 0 0 0-.883.884l3.042 3.043H8.912a.625.625 0 1 0 0 1.25h4c.345 0 .625-.28.625-.625v-4a.625.625 0 0 0-1.25 0v2.491z"})},r=(0,o(340498).wt)("arrowExpandDiagonalSmall",n,"small")},97059:(e,t,o)=>{o.d(t,{s:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"1.82 1.82 12.68 12.68",svg:(0,o(474848).jsx)("path",{d:"M8 1.825a.575.575 0 0 0-.575.575V4a.575.575 0 0 0 1.15 0V2.4A.575.575 0 0 0 8 1.825m4.367 1.809a.575.575 0 0 0-.814 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.132-1.131a.575.575 0 0 0 0-.813m-7.92 0a.575.575 0 0 0-.813.813l1.13 1.131a.575.575 0 1 0 .814-.813zm3.248 3.071a.7.7 0 1 0-.99.99l.77.77.99-.99zm4.305.72a.575.575 0 0 0 0 1.15h1.6a.575.575 0 1 0 0-1.15zm-9.6 0a.575.575 0 1 0 0 1.15H4a.575.575 0 0 0 0-1.15zm11.895 5.88-5.37-5.37-.99.99 5.37 5.37a.7.7 0 0 0 .99-.99m-8.717-2.883a.575.575 0 0 0-.813 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.131-1.131a.575.575 0 0 0 0-.813M8 11.425a.575.575 0 0 0-.575.575v1.6a.575.575 0 1 0 1.15 0V12A.575.575 0 0 0 8 11.425"})},r=(0,o(340498).wt)("magicWandSmall",n,"small")},224682:(e,t,o)=>{o.d(t,{m:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){const{propertySchema:t,stores:n,sessionIdForAnalytics:r,collectionId:i}=e,l=r||o(206267).JW();return this.setState({type:"filling",propertySchema:t,collectionId:i,numBlocksToAutofill:n.length,numBlocksAutofilled:0,sessionId:l,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),l}}const r=new n},308195:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{editMode:void 0,store:void 0}}cloneState(){return o(496603).o8(this.state)}}const r=new n},346863:(e,t,o)=>{o.d(t,{b:()=>I});var n=o(296540),r=()=>o(726637),i=()=>o(484714),l=()=>o(590526),s=()=>o(401497),a=()=>o(929219),c=()=>o(898244),u=()=>o(97059),d=()=>o(69708),p=()=>o(100622),y=()=>o(662453),f=()=>o(224682),m=()=>o(68465),S=()=>o(747100),x=()=>o(619206),b=()=>o(90654),h=()=>o(468882),v=()=>o(543886),g=()=>o(405170),j=()=>o(971003),w=()=>o(527257),k=o(474848);function I(e){const{store:t,property:o,openOverlay:I}=e,P=(0,i().v3)(),{propertySchema:_,surface:T,collectionContextStore:E,isEmptyStore:R,canEdit:B}=(0,n.useContext)(j().L8),M=(0,l().O$)(R),A=(0,d().tz)(),L=(0,n.useCallback)((async()=>{if(!_)return;if(I){const e=(0,S().cq)(t)?g().A:v().A;b().ho({blockPropertyValueOverlayStore:e,collectionContextStore:E,surface:T,environment:P,store:t,property:o,readOnly:!0})}const e=f().m.setIsWriting({propertySchema:_,stores:[t],collectionId:t.getAssociatedCollectionId()}),{propertyCompletionsActions:n}=await y().aiDependency.load();n.autofillPropertyForBlocks({environment:P,stores:[t],property:o,propertySchema:_,userEventForAnalytics:"generate_from_action_button",collectionContextStore:E,sessionIdForAnalytics:e,from:h().zP(T)})}),[E,P,T,I,o,_,t]),W=(0,l().K8)((()=>B&&_&&(!r().A.isMobile||M)&&(0,m().ge)(x().A.getMode(P,t,t.getSpaceStore()),t)&&(0,c().$M)(_)&&(0,c().om)(_)&&a().A.state.online),[P,B,M,_,t]),F=(0,s().IS)((()=>({iconStyle:{color:p().Tj.text.secondary,fill:p().Tj.text.secondary,width:16,height:16}})),[]);return W?(0,k.jsx)(w().A,{icon:u().s,tooltip:A.formatMessage(C.update),onClick:L,iconStyle:F.iconStyle,style:{height:20,width:24,borderRadius:4},hasBackground:!1}):null}const C=(0,d().YK)({update:{defaultMessage:"Update",id:"database.editButton.autofillWithAiTooltip"}})},381553:(e,t,o)=>{o.d(t,{Y:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"2.37 2.37 11.25 11.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.053 6.407a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.893 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286M5.159 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M7.053 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M8.947 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286M10.84 8.3a.643.643 0 1 0 0 1.287.643.643 0 0 0 0-1.286m-5.681 1.894a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286m1.894 0a.643.643 0 1 0 0 1.286.643.643 0 0 0 0-1.286"}),(0,n.jsx)("path",{d:"M4.25 2.375c-1.036 0-1.875.84-1.875 1.875v7.5c0 1.036.84 1.875 1.875 1.875h7.5c1.036 0 1.875-.84 1.875-1.875v-7.5c0-1.036-.84-1.875-1.875-1.875zm-.625 9.375V5.632h8.75v6.118c0 .345-.28.625-.625.625h-7.5a.625.625 0 0 1-.625-.625"})]})},i=(0,o(340498).wt)("viewCalendarSmall",r,"small")},427571:(e,t,o)=>{o.r(t),o.d(t,{BlockPropertyRouter:()=>Zn});var n=o(296540),r=()=>o(590526),i=()=>o(354032),l=()=>o(908201),s=()=>o(726637),a=()=>o(484714),c=()=>o(401497),u=()=>o(713998),d=()=>o(968021),p=()=>o(381176),y=()=>o(971003),f=()=>o(513996),m=()=>o(999943),S=()=>o(431616),x=o(474848);const b=n.memo((0,n.forwardRef)((function(e,t){const{store:i,collectionStore:l,buttonStyle:s,onContextMenu:a,quickActionButtons:d,property:f}=e,{baseStyles:m}=(0,n.useContext)(y().L8),b=(0,r().K8)((()=>{var e;const t=i.getPropertyValue(f),n=null==l||null===(e=l.getRecordKeyStore())||void 0===e?void 0:e.getRecordKey(),r=(0,u().On)(t);return void 0===r?"...":(0,o(716016).H4)(n,r)}),[l,f,i]),h=(0,c().IS)((()=>({buttonStyle:{...m.buttonStyle,...s},buttonPressedStyle:m.buttonPressedStyle??{},buttonHoveredStyle:m.buttonHoveredStyle??{}})),[m.buttonHoveredStyle,m.buttonPressedStyle,m.buttonStyle,s]);return(0,x.jsx)(p().P,{ref:t,style:h.buttonStyle,hoveredStyle:h.buttonHoveredStyle,pressedStyle:h.buttonPressedStyle,onContextMenu:a,quickActionButtons:d,editButtonClickProps:void 0,children:(0,x.jsx)(S().C,{fontColor:"light",children:b})})}))),h=(0,n.forwardRef)((function(e,t){const{store:o,property:n,surface:r}=e,i=(0,a().WS)(),l=T(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:i}).page.text}})),[i]));return(0,x.jsx)(b,{...l,quickActionButtons:(0,x.jsx)(f().i,{store:o,property:n,surface:r})})})),v=(0,n.forwardRef)((function(e,t){const{store:o,property:n,surface:r}=e,{isPhone:i}=(0,a().Y0)(),l=T(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:i}).table.text}})),[i]));return(0,x.jsx)(b,{...l,quickActionButtons:s().A.isMobile?void 0:(0,x.jsx)(f().i,{store:o,property:n,surface:r},"copy")})})),g=(0,n.forwardRef)((function(e,t){const{store:o,property:n,surface:r}=e,{isPhone:i}=(0,a().Y0)(),l=T(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:i}).compact_page.text}})),[i]));return(0,x.jsx)(b,{...l,quickActionButtons:s().A.isMobile?void 0:(0,x.jsx)(f().i,{store:o,property:n,surface:r},"copy")})})),j=(0,n.forwardRef)((function(e,t){const o=T(e,t);return(0,x.jsx)(b,{...o})})),w=(0,n.forwardRef)((function(e,t){const o=T(e,t,(0,m().F)(t,e.collectionStore,e.property,"auto_increment_id"));return(0,x.jsx)(b,{...o})})),k=(0,n.forwardRef)((function(e,t){const o=(0,a().WS)(),n=T(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).card.text}})),[o]));return(0,x.jsx)(b,{...n})})),I=(0,n.forwardRef)((function(e,t){const o=T(e,t);return(0,x.jsx)(b,{...o})})),C=(0,n.forwardRef)((function(e,t){const o=T(e,t);return(0,x.jsx)(b,{...o})})),P=(0,n.forwardRef)((function(e,t){const o=T(e,t);return(0,x.jsx)(b,{...o})})),_=(0,n.forwardRef)((function(e,t){const o=T(e,t);return(0,x.jsx)(b,{...o})}));function T(e,t,o){const{store:n,collectionStore:r,property:i,onContextMenu:l}=e;return{ref:t,store:n,collectionStore:r,property:i,onContextMenu:l,buttonStyle:null==o?void 0:o.buttonStyle}}var E=()=>o(79926),R=()=>o(26697),B=()=>o(69708),M=()=>o(100622),A=()=>o(534177),L=()=>o(813297),W=()=>o(367742),F=()=>o(253053);const V=n.memo((0,n.forwardRef)((function(e,t){const{store:i,property:l,collectionStore:u,buttonStyle:d,innerButtonStyle:f,onContextMenu:m,disabled:S}=e,b=(0,B().tz)(),[h,v]=(0,n.useState)(!1),g=(0,a().v3)(),{baseStyles:j,propertySchema:w,collectionContextStore:k}=(0,n.useContext)(y().L8),I=w,C=(null==j?void 0:j.sizing)??"default",{value:P}=(0,E().fJ)(o(862292).T.formulas),{value:_}=(0,E().fJ)(L().QV.automationTypecheck),{value:T}=(0,E().fJ)(L().QV.automationActionRegistry),V=(0,r().K8)((()=>{if(null!=I&&I.automation_id)return o(302655).d.createChildStore(u,{table:o(912720).yB,id:I.automation_id,spaceId:u.getSpaceId()})}),[u,I]),K=(0,o(76190).n)(V),z=(0,r().K8)((()=>null==k?void 0:k.settingsStore),[k]),H=(0,r().K8)((()=>{const e=g.currentUser.id;if(P&&_&&T&&k&&"button"===(null==I?void 0:I.type)&&I.automation_id&&i.isPageBlock()&&V)return{type:"button_property",persisted:!0,automationStore:V,collectionContextStore:k,property:l,propertySchema:I,intl:b,parentRecordStore:V,currentUserId:e,pageStore:i,formulasModule:P,isLoggedIn:g.currentUser.isLoggedIn(),automationTypecheckModule:_,automationActionRegistryModule:T}}),[g.currentUser,P,_,T,k,I,i,V,l,b]),D=!(0,r().O$)(o(929219).e),{isDisabled:O,hasError:Q}=(0,r().K8)((()=>{if(D||!H)return{isDisabled:!0,hasError:!1};const e=(0,W().lp)({environment:g,isSubscribed:K,...H}).state,t="sufficient"===e.executionPermissionStatus;return{isDisabled:S||!t||!i.canEdit()||h,hasError:(0,A().O9)(e.typecheckResult)&&o(973647).Q.isSuccess(e.typecheckResult)&&(0,o(352271).x4)(e.typecheckResult.value)}}),[g,S,H,i,h,K,D]),q=(0,n.useCallback)((async()=>{if(H)if(Q)k&&z&&I&&o(837570).h({environment:g,mode:"edit_button_property",collectionSettingsStore:z,collectionContextStore:k,property:l,propertySchema:I});else try{var e;v(!0);const{automationExecutionActions:t}=await L().QV.automations.load();await t.executeClientAutomation({environment:g,clientContext:H}),null!==(e=g.mobileNative)&&void 0!==e&&e.buzz?g.mobileNative.buzz():window.navigator.vibrate(20)}finally{v(!1)}}),[H,k,z,g,Q,l,I]),N=(0,r().K8)((()=>(null==H?void 0:H.automationStore.getNameStore().getValue())??(null==I?void 0:I.name)),[null==H?void 0:H.automationStore,null==I?void 0:I.name]),U=(0,r().K8)((()=>{if(!s().A.isMobile)return(0,W().nD)(null==H?void 0:H.automationStore)}),[H]),J=!N||0===N.length,$=(0,c().IS)((()=>({buttonStyle:{...j.buttonStyle,...d},buttonPressedStyle:j.buttonPressedStyle??{},buttonHoveredStyle:j.buttonHoveredStyle??{},innerButtonStyle:{pointerEvents:"auto",overflow:"hidden",height:"small"===C?20:24,paddingInlineStart:6,paddingInlineEnd:6,...f},innerButtonLabelStyle:{overflow:"hidden",textOverflow:"ellipsis",color:J?M().Tj.text.tertiary:void 0}})),[j.buttonHoveredStyle,j.buttonPressedStyle,j.buttonStyle,d,f,J,C]),Y=e=>(0,x.jsx)(o(406094).A,{disabled:O,disabledFeedback:!0,size:"sm",onClick:q,style:$.innerButtonStyle,...e,children:(0,x.jsx)("span",{style:$.innerButtonLabelStyle,children:J?(0,x.jsx)(B().sA,{...F().yn.buttonPlaceholder}):N})});return(0,x.jsx)(p().P,{ref:t,style:$.buttonStyle,hoveredStyle:$.buttonHoveredStyle,pressedStyle:$.buttonPressedStyle,editButtonClickProps:void 0,onContextMenu:m,tooltipHide:(0,A().O9)(U),tooltipPropertyValue:D?(0,x.jsx)(B().sA,{...o(267271).AY.unavailableOfflineTooltip}):void 0,children:Q?(0,x.jsx)(R().m,{placement:"right",renderTooltip:()=>(0,x.jsx)(L().Od,{content:(0,x.jsx)(B().sA,{...o(913687).A.buttonPropertyErrorTooltip}),subtitle:(0,x.jsx)(B().sA,{...F().yn.clickToEdit})}),render:Y}):U?(0,x.jsx)(L().Vp,{parentStore:i,urlToPreview:U,renderOrigin:Y}):Y()})}))),K=(0,n.forwardRef)((function(e,t){const o=(0,a().WS)(),n=$(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).table.button},innerButtonStyle:{maxWidth:"100%"}})),[o]));return(0,x.jsx)(V,{...n})})),z=(0,n.forwardRef)((function(e,t){const o=(0,a().WS)(),n=$(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).page.button}})),[o]));return(0,x.jsx)(V,{...n})})),H=(0,n.forwardRef)((function(e,t){const o=(0,a().WS)(),n=$(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).compact_page.button}})),[o]));return(0,x.jsx)(V,{...n})})),D=(0,n.forwardRef)((function(e,t){const o=$(e,t);return(0,x.jsx)(V,{...o})})),O=(0,n.forwardRef)((function(e,t){const o=$(e,t,(0,m().F)(t,e.collectionStore,e.property,"button"));return(0,x.jsx)(V,{...o})})),Q=(0,n.forwardRef)((function(e,t){const o=(0,a().WS)(),n=$(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).card.button},innerButtonStyle:{height:24}})),[o]));return(0,x.jsx)(V,{...n})})),q=(0,n.forwardRef)((function(e,t){const o=$(e,t);return(0,x.jsx)(V,{...o})})),N=(0,n.forwardRef)((function(e,t){const o=$(e,t,(0,c().IS)((()=>({buttonStyle:{maxWidth:200}})),[]));return(0,x.jsx)(V,{...o})})),U=(0,n.forwardRef)((function(e,t){const o=$(e,t,(0,c().IS)((()=>({buttonStyle:{height:void 0}})),[]));return(0,x.jsx)(V,{...o})})),J=(0,n.forwardRef)((function(e,t){const o=$(e,t);return(0,x.jsx)(V,{...o})}));function $(e,t,o){const{store:n,collectionStore:r,property:i,disabled:l,onContextMenu:s}=e;return{ref:t,store:n,collectionStore:r,property:i,disabled:l,onContextMenu:s,buttonStyle:null==o?void 0:o.buttonStyle,innerButtonStyle:null==o?void 0:o.innerButtonStyle}}var Y=()=>o(443239),Z=()=>o(299709),G=()=>o(457419),X=()=>o(244828),ee=()=>o(90654),te=()=>o(468882),oe=()=>o(802229),ne=()=>o(564883),re=()=>o(324440);const ie=n.memo(n.forwardRef((function(e,t){const{store:i,property:l,enablePointerEventsForInteractiveTypes:s,editButtonClickProps:u,onClick:d,onContextMenu:f,buttonStyle:m,showLabel:S,disabled:b,quickActionButtons:h,width:v}=e,g=(0,a().v3)(),j=(0,r().K8)((()=>(0,o(657970).w)(i.getPropertyValue(l))),[l,i]),{baseStyles:w,propertySchema:k,surface:I,collectionContextStore:C}=(0,n.useContext)(y().L8),P=le(i,l,b),_=k,T=(0,n.useCallback)((()=>{const e=i.getPropertyStore(l);e&&C&&(X().createAndCommit({userAction:"BlockPropertyValue.handleEditButtonClick",environment:g,canUndo:!0,perform:e=>{ee().qS({stores:[i],property:l,transaction:e})}}),(0,Z().E)({environment:g,collectionContextStore:C,block_id:e.id,property:l,property_type:"checkbox",from:(0,te().zP)(I),isFromBulkActionsToolbar:!1})),d&&d()}),[C,g,I,d,l,i]),E=(0,c().IS)((()=>({buttonStyle:{...w.buttonStyle,...m},buttonPressedStyle:w.buttonPressedStyle??{},buttonHoveredStyle:w.buttonHoveredStyle??{}})),[w,m]);return(0,x.jsx)(p().P,{ref:t,onContextMenu:f,editButtonClickProps:u,style:E.buttonStyle,hoveredStyle:E.buttonHoveredStyle,pressedStyle:E.buttonPressedStyle,quickActionButtons:h,width:v,children:(0,x.jsx)(re().o,{propertyLabel:S?null==_?void 0:_.name:void 0,checked:j,enablePointerEventsForInteractiveTypes:s,onClick:T,disabled:P,store:i,property:l})})})));function le(e,t,o){return(0,r().K8)((()=>o||!e.canEdit()||(0,Y().u)(t)||(0,G().S)(e)),[o,t,e])}const se=n.forwardRef((function(e,t){const{store:o,property:r}=e,i=(0,a().WS)(),l=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:i}).table.checkbox}})),[i]),s=(0,n.useMemo)((()=>(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill")),[r,o]),u=xe(e,t,l);return(0,x.jsx)(ie,{...u,showLabel:!1,quickActionButtons:s})})),ae=n.forwardRef((function(e,t){const{store:o,property:r}=e,i=(0,a().WS)(),l=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:i}).page.checkbox}})),[i]),s=(0,n.useMemo)((()=>(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill")),[r,o]),u=xe(e,t,l);return(0,x.jsx)(ie,{...u,showLabel:!1,collectionStore:e.collectionStore,quickActionButtons:s})})),ce=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=xe(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).compact_page.checkbox}})),[o]));return(0,x.jsx)(ie,{...n,showLabel:!1})})),ue=n.forwardRef((function(e,t){const o=xe(e,t,(0,c().IS)((()=>({buttonStyle:{minWidth:"fit-content"}})),[]));return(0,x.jsx)(ie,{...o,showLabel:!1})})),de=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=xe(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).card.checkbox,width:"unset",minWidth:"unset"}})),[o]));return(0,x.jsx)(ie,{...n,showLabel:!0})})),pe=n.forwardRef((function(e,t){const o=xe(e,t);return(0,x.jsx)(ie,{...o,showLabel:!0})})),ye=n.forwardRef((function(e,t){const o=xe(e,t);return(0,x.jsx)(ie,{...o,showLabel:!1})})),fe=n.forwardRef((function(e,t){const o=xe(e,t);return(0,x.jsx)(ie,{...o,showLabel:!1})})),me=n.forwardRef((function(e,t){const o=xe(e,t);return(0,x.jsx)(ie,{...o,showLabel:!1})})),Se=n.forwardRef((function(e,t){const o=xe(e,t);return(0,x.jsx)(ie,{...o,showLabel:!1})}));function xe(e,t,o){const{store:n,disabled:r,collectionStore:i,property:l,enablePointerEventsForInteractiveTypes:s,onClick:a,onContextMenu:c,width:u}=e;return{ref:t,store:n,disabled:r,collectionStore:i,property:l,editButtonClickProps:(0,oe().QK)(e),enablePointerEventsForInteractiveTypes:s,onClick:a,onContextMenu:c,buttonStyle:null==o?void 0:o.buttonStyle,width:u}}var be=()=>o(477660),he=()=>o(153364),ve=()=>o(712354);const ge=n.memo(n.forwardRef((function(e,t){const{onContextMenu:i,editButtonClickProps:l,property:s,store:a,buttonStyle:u,EmptyComponent:d,quickActionButtons:f=[],showIfEmpty:m,width:b,disableLinkify:h,userExpandable:v}=e,{propertySchema:g,baseStyles:j}=(0,n.useContext)(y().L8),w=(0,be().z)(g),k=(0,r().K8)((()=>a.getPropertyValue(s)),[s,a]),I=(0,r().K8)((()=>!(!w||"url"!==w.type)&&!w.show_full_url),[w]),C=(0,c().IS)((()=>({buttonStyle:{...j.buttonStyle,...u},buttonPressedStyle:j.buttonPressedStyle??{},buttonHoveredStyle:j.buttonHoveredStyle??{}})),[j.buttonHoveredStyle,j.buttonPressedStyle,j.buttonStyle,u]);return null!=k&&k.length||void 0!==d?(0,x.jsx)(p().P,{ref:t,editButtonClickProps:l,onContextMenu:i,style:C.buttonStyle,pressedStyle:C.buttonPressedStyle,hoveredStyle:C.buttonHoveredStyle,quickActionButtons:f,width:b,userExpandable:v,children:null!=k&&k.length||void 0===d?w?(0,x.jsx)(S().C,{children:(0,x.jsx)(o(891725).LE,{type:w.type,textValue:k,useShortenedUrl:I,disableLinkify:m||h,store:a,property:s})}):null:(0,x.jsx)(d,{})}):null}))),je=n.forwardRef((function(e,t){const{store:o,property:r,surface:i}=e,{shouldWrap:l}=(0,n.useContext)(y().L8),u=(0,n.useMemo)((()=>{if(!s().A.isMobile)return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill"),(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})}),[i,r,o]),p=(0,a().WS)(),m=Be(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:p}).table.text}})),[p]));return(0,x.jsx)(ge,{...m,EmptyComponent:ve().rW,quickActionButtons:u,userExpandable:l})})),we=n.forwardRef((function(e,t){const{store:o,property:r,surface:i}=e,l=(0,a().WS)(),s=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).page.text}})),[l]),u=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill"),(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})),[i,r,o]),p=Be(e,t,s);return(0,x.jsx)(ge,{...p,EmptyComponent:ve().ao,quickActionButtons:u})})),ke=n.forwardRef((function(e,t){const{store:o,property:r,surface:i}=e,l=(0,a().WS)(),s=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).compact_page.text}})),[l]),u=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy"),(0,x.jsx)(ne().kF,{},"visit")]})),[i,r,o]),p=Be(e,t,s);return(0,x.jsx)(ge,{...p,EmptyComponent:ve().ao,quickActionButtons:u,disableLinkify:!0})})),Ie=n.forwardRef((function(e,t){const{showIfEmpty:o}=e,n=Be(e,t,(0,m().F)(t,e.collectionStore,e.property,"phone_number"));return(0,x.jsx)(ge,{...n,EmptyComponent:o?ve().Jb:void 0})})),Ce=n.forwardRef((function(e,t){const{showIfEmpty:o}=e,n=(0,a().WS)(),r=Be(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:n}).card.text}})),[n]));return(0,x.jsx)(ge,{...r,EmptyComponent:o?ve().Jb:void 0})})),Pe=n.forwardRef((function(e,t){const o=Be(e,t);return(0,x.jsx)(ge,{...o})})),_e=n.forwardRef((function(e,t){const o=Be(e,t);return(0,x.jsx)(ge,{...o})})),Te=n.forwardRef((function(e,t){const o=Be(e,t);return(0,x.jsx)(ge,{...o})})),Ee=n.forwardRef((function(e,t){const o=Be(e,t);return(0,x.jsx)(ge,{...o})})),Re=n.forwardRef((function(e,t){const o=Be(e,t);return(0,x.jsx)(ge,{...o,EmptyComponent:ve().Fe,showIfEmpty:!0})}));function Be(e,t,o){const{store:n,collectionStore:r,property:i,onContextMenu:l,width:s}=e;return{ref:t,store:n,collectionStore:r,property:i,editButtonClickProps:(0,oe().QK)(e),onContextMenu:l,buttonStyle:null==o?void 0:o.buttonStyle,width:s}}var Me=()=>o(650632),Ae=(o(581454),()=>o(924703)),Le=()=>o(762183);const We=new(E().O2)("FilePropertyModule",(async()=>await o.e(5938).then(o.bind(o,565296)))),Fe=(0,E()._h)(We,(e=>e.FilePropertyModule));var Ve=()=>o(496645),Ke=()=>o(213828),ze=()=>o(586295);const He=n.memo(n.forwardRef((function(e,t){const{store:i,EmptyComponent:l,onContextMenu:s,buttonStyle:d,selectableStyle:f,property:m,editButtonClickProps:S,quickActionButtons:b,width:h,shouldDisableLinks:v,shouldTruncateToSingleLine:g,shouldLockImageAspectRatio:j,userExpandable:w}=e,k=(0,a().v3)(),{baseStyles:I,collectionContextStore:C,canEdit:P}=(0,n.useContext)(y().L8),[_,T]=(0,n.useState)(void 0);(0,n.useEffect)((()=>{T(i.clone())}),[i]);const E=(0,n.useCallback)((e=>{ee().ho({environment:k,blockPropertyValueOverlayStore:S.blockPropertyValueOverlayStore,store:i,property:m,surface:S.surface,uploadFiles:e.files,disableHorizontalEdgeScroll:S.disableHorizontalEdgeScroll,collectionContextStore:C})}),[C,S.blockPropertyValueOverlayStore,S.disableHorizontalEdgeScroll,S.surface,k,m,i]),R=(0,r().K8)((()=>{const e=i.getPropertyValue(m);return u().pJ(e)}),[i,m]),B=(0,c().IS)((()=>{var e;return{buttonStyle:{...I.buttonStyle,...d},buttonPressedStyle:I.buttonPressedStyle??{},buttonHoveredStyle:I.buttonHoveredStyle??{},selectableStyle:{display:"inherit",borderRadius:null===(e=I.buttonStyle)||void 0===e?void 0:e.borderRadius,...f}}}),[I.buttonHoveredStyle,I.buttonPressedStyle,I.buttonStyle,d,f]),M=!R||0===R.length,A=M&&void 0!==l,L=!M;return _&&(A||L)?(0,x.jsx)(o(692763).Ay,{store:_,canNativeDropOnto:P,onNativeDrop:E,analyticsName:"file_property",shouldShowDropZone:P,style:B.selectableStyle,children:(0,x.jsxs)(p().P,{ref:t,onContextMenu:s,editButtonClickProps:S,style:B.buttonStyle,pressedStyle:B.buttonPressedStyle,hoveredStyle:B.buttonHoveredStyle,quickActionButtons:b,width:h,forceEnableButton:g&&!M,userExpandable:w,children:[A?(0,x.jsx)(l,{}):void 0,L?(0,x.jsx)(De,{store:i,links:R,property:m,shouldTruncateToSingleLine:g,shouldDisableLinks:v,shouldLockImageAspectRatio:j,tokenFormat:(0,Ve().Ug)(null==I?void 0:I.tokenFormat)}):void 0]})}):null}))),De=n.memo((function({store:e,links:t,property:n,shouldTruncateToSingleLine:r=!1,shouldDisableLinks:i=!1,shouldLockImageAspectRatio:l=!1,tokenFormat:s}){const a=r?3:void 0,u=(0,Ke().s)({propertyId:n,store:e}),d=Boolean(u),p=(0,c().eP)(),y=(0,c().IS)((()=>({wrapperStyle:{...d?{...(0,Ae().sQ)(p),padding:4,lineHeight:2,...!r&&{flexWrap:"wrap",display:"inline-flex"}}:{}},moreToken:{margin:0,flexShrink:0}})),[d,r,p]),f=a&&t.length>a?t.slice(0,a):t,m=f.length<t.length?t.length-f.length:0;return(0,x.jsxs)(ze().h,{style:y.wrapperStyle,className:u,children:[f.map(((t,n)=>(0,x.jsx)(o(684847).X,{linkValue:t,store:e,shouldDisableLinks:i,shouldLockImageAspectRatio:l},t.url+n))),m>0?(0,x.jsx)(o(795354).A,{count:m,format:s,style:y.moreToken,fixedHeight:!0,isCompact:!0}):void 0]})})),Oe=n.forwardRef((function(e,t){const{shouldWrap:o}=(0,n.useContext)(y().L8),r=(0,a().WS)(),i=et(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:r}).table.button,height:"100%"},selectableStyle:{width:"100%"}})),[r]));return(0,x.jsx)(He,{...i,EmptyComponent:ve().rW,quickActionButtons:(0,x.jsx)(he().k,{},"comment"),userExpandable:o})})),Qe=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=et(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).page.button,height:"100%"},selectableStyle:{width:"100%"}})),[o]));return(0,x.jsx)(He,{...n,EmptyComponent:ve().ao,quickActionButtons:(0,x.jsx)(he().k,{},"comment")})})),qe=n.forwardRef((function(e,t){const o=(0,a().WS)(),r=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).compact_page.button}})),[o]),i=(0,n.useMemo)((()=>(0,x.jsx)(he().k,{},"comment")),[]),l=et(e,t,r);return(0,x.jsx)(He,{...l,EmptyComponent:ve().ao,quickActionButtons:i,shouldDisableLinks:!0,shouldLockImageAspectRatio:!0,shouldTruncateToSingleLine:!0})})),Ne=n.forwardRef((function(e,t){const o=et(e,t);return(0,x.jsx)(He,{...o,EmptyComponent:ve().Fe,shouldDisableLinks:!0})})),Ue=n.forwardRef((function(e,t){const{showIfEmpty:o}=e,n=et(e,t,(0,m().F)(t,e.collectionStore,e.property,"file"));return(0,x.jsx)(He,{...n,EmptyComponent:o?ve().Jb:void 0})})),Je=n.forwardRef((function(e,t){const{showIfEmpty:o}=e,n=(0,a().WS)(),r=et(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:n}).card.button,width:"100%"},selectableStyle:{width:"100%"}})),[n]));return(0,x.jsx)(He,{...r,EmptyComponent:o?ve().Jb:void 0})})),$e=n.forwardRef((function(e,t){const o=et(e,t);return(0,x.jsx)(He,{...o})})),Ye=n.forwardRef((function(e,t){const o=et(e,t);return(0,x.jsx)(He,{...o})})),Ze=n.forwardRef((function(e,t){const o=et(e,t);return(0,x.jsx)(He,{...o})})),Ge=n.forwardRef((function(e,t){const o=et(e,t);return(0,x.jsx)(He,{...o})})),Xe=n.forwardRef((function(e,t){return(0,x.jsx)(Le().H,{...e,ref:t,children:(0,x.jsx)(Fe,{...e})})}));function et(e,t,o){const{store:n,onContextMenu:r,property:i,width:l}=e;return{ref:t,store:n,property:i,editButtonClickProps:(0,oe().QK)(e),onContextMenu:r,buttonStyle:null==o?void 0:o.buttonStyle,selectableStyle:null==o?void 0:o.selectableStyle,width:l}}var tt=()=>o(878181),ot=(o(898992),o(672577),()=>o(381175)),nt=()=>o(371722),rt=()=>o(718827),it=()=>o(584262),lt=()=>o(278238),st=()=>o(284371),at=()=>o(535960),ct=()=>o(898808);function ut(e){const{blockStore:t,isInLibrary:n}=e,i=(0,a().v3)(),l=(0,r().K8)((()=>(0,nt().f)(t,{includeTeamHomeFeed:!0,includeDataSources:!1}).find((e=>"team"===e.table))),[t]),s=(0,r().K8)((()=>{if(l)return l.getIcon()}),[l]),u=(0,c().IS)((()=>{let e=M().Tj.popoverWaxPaperBackground;if(s)if(s.icon){const t=(0,lt().VA)(s.icon);e="lightgray"===t?M().Tj.gray.background.secondary:(M().Tj[t]||M().Tj.gray).background.secondary}else e=M().Tj.gray.background.tertiary;return{button:{width:"100%",cursor:"pointer",color:n?M().Tj.text.primary:M().Tj.text.secondary},title:{fontWeight:n?st().Wy.medium:st().Wy.regular,whiteSpace:"nowrap",display:"flex",justifyContent:n?"start":"end",alignItems:"center"},hoveredStyle:{color:M().Tj.text.primary,background:"transparent"},pressedStyle:{background:"transparent"},pageIcon:{...n&&{marginInlineStart:2,marginInlineEnd:6}},miniTeamSpaceIcon:{position:"absolute",bottom:-3,insetInlineStart:11,borderRadius:2,background:e},relativeContainer:{position:"relative"}}}),[s,n]);return(0,x.jsx)(rt().Ay,{hoveredStyle:u.hoveredStyle,pressedStyle:u.pressedStyle,style:u.button,onClick:e=>{(0,at().u)({environment:i,store:t,openInNew:(0,ot().V)(e),pageVisitSource:it().y8.CollectionViewLocationProperty})},children:(0,x.jsxs)("div",{style:u.relativeContainer,children:[(0,x.jsx)(o(761652).A,{store:t,useInvertedColors:!1,iconSize:20,style:u.title,iconStyle:u.pageIcon,underlineTitle:n}),n&&l?(0,x.jsx)(ct().x,{store:l,disabled:!0,size:12,style:u.miniTeamSpaceIcon},"icon"):void 0]})})}o(354520);var dt=()=>o(723085),pt=()=>o(807449),yt=()=>o(416504),ft=()=>o(176412),mt=()=>o(471095),St=()=>o(888867),xt=()=>o(906719),bt=()=>o(565049),ht=()=>o(187820),vt=()=>o(29554);const gt=(0,B().YK)({shared:{defaultMessage:"Shared",id:"CollectionLocation.SidebarTitle.sectionShared"},private:{defaultMessage:"Private",id:"CollectionLocation.SidebarTitle.sectionPrivate"},noAccess:{defaultMessage:"No access",id:"CollectionLocation.noAccess"},emptyCollectionName:{id:"CollectionLocation.EmptyCollectionName",defaultMessage:"Untitled"}});function jt(e){return(0,x.jsx)("span",{style:{paddingInlineStart:2,...e.style},children:"/"})}function wt(e){const{collectionForLocationStore:t,collectionContextStore:n,pageStore:i}=e,l=(0,B().tz)(),s=(0,r().K8)((()=>{const e=(0,nt().f)(t??i,{includeTeamHomeFeed:!1,includeDataSources:!1}).filter((e=>!(e instanceof o(350013).N)));return e.reverse(),e}),[t,i]),{collectionIsInPrivate:a,collectionIsInRestricted:u,collectionIsInShared:d}=(0,r().K8)((()=>{const e=null==n?void 0:n.groupsForTypedDatabasesStore.state;return e&&null!=t&&t.id?{collectionIsInPrivate:Boolean(e.privateDatabases[t.id]),collectionIsInRestricted:Boolean(e.restrictedDatabases[t.id]),collectionIsInShared:Boolean(e.sharedDatabases[t.id])}:{collectionIsInPrivate:!1,collectionIsInRestricted:!1,collectionIsInShared:!1}}),[null==n?void 0:n.groupsForTypedDatabasesStore,null==t?void 0:t.id],{useDeepEqual:!0}),p=(0,r().K8)((()=>(0,M().O4)({theme:"light"})),[]),y=(0,c().IS)((()=>({textStyle:{color:p.popoverWaxPaperBackground,fontWeight:"normal"},shareTypeIndicatorIcon:{width:16,height:16,marginInlineStart:2,marginInlineEnd:2,color:M().Tj.gray.icon.secondary,padding:2,backgroundColor:M().Tj.gray.background.tertiary,borderRadius:3}})),[p]),f=a||u||d;let m=null;return a?m=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(pt().I,{icon:mt().lockFillIcon,style:y.shareTypeIndicatorIcon}),(0,x.jsx)("span",{children:l.formatMessage(gt.private)})]}):u?m=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:{...y.shareTypeIndicatorIcon,padding:0,paddingInlineStart:1,margin:0},children:(0,x.jsx)(pt().I,{icon:ft().L,style:{...y.shareTypeIndicatorIcon,margin:0,background:void 0}})}),(0,x.jsx)("span",{children:l.formatMessage(gt.noAccess)})]}):d&&(m=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(pt().I,{icon:St().s,style:y.shareTypeIndicatorIcon}),(0,x.jsx)("span",{children:l.formatMessage(gt.shared)})]})),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[f?(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",columnGap:4,...y.textStyle},children:[m,u?void 0:(0,x.jsx)(jt,{style:{marginTop:-4,...y.textStyle}})]}):void 0,s.length>3?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(kt,{ancestorStore:s[0],showDivider:!0}),(0,x.jsx)("span",{style:{paddingInlineStart:2,...y.textStyle},children:"..."}),(0,x.jsx)(jt,{style:y.textStyle}),a||d?void 0:(0,x.jsx)(kt,{ancestorStore:s[s.length-2],showDivider:!0}),(0,x.jsx)(kt,{ancestorStore:s[s.length-1],showDivider:!1})]}):s.map(((e,t)=>(0,x.jsx)(kt,{ancestorStore:e,showDivider:t<s.length-1},e.id)))]})}function kt(e){const{ancestorStore:t,showDivider:o}=e,n=(0,r().K8)((()=>(0,M().O4)({theme:"light"})),[]),i=(0,r().K8)((()=>{if(t instanceof dt().h)return t.getIcon()}),[t]),l=(0,c().IS)((()=>{let e=M().Tj.popoverWaxPaperBackground;if(i)if(i.icon){const t=(0,lt().VA)(i.icon);e="lightgray"===t?M().Tj.gray.background.secondary:(M().Tj[t]||M().Tj.gray).background.secondary}else e=M().Tj.gray.background.tertiary;return{teamIconStyle:{background:e},textStyle:{color:n.popoverWaxPaperBackground,fontWeight:"normal"}}}),[n,i]);return t instanceof dt().h?(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,x.jsx)(bt().A,{store:t,showDivider:!1,maxWidth:160,iconSize:16,iconStyle:l.teamIconStyle,titleStyle:l.textStyle,disabled:!1}),o?(0,x.jsx)(jt,{style:l.textStyle}):void 0]}):(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,x.jsx)(xt().A,{store:t,showDivider:!1,emojiSize:18,maxWidth:160,titleStyle:l.textStyle,disabled:!1},t.id),o?(0,x.jsx)(jt,{style:l.textStyle}):void 0]})}function It(e){const{teamStore:t,collectionStore:o,isInLibrary:n}=e,i=(0,r().K8)((()=>o.getIcon()),[o]),l=(0,r().K8)((()=>t.getIcon()),[t]),s=(0,c().IS)((()=>{let e;if(null!=l&&l.icon){const t=(0,lt().VA)(l.icon);e="lightgray"===t?M().Tj.gray.background.secondary:(M().Tj[t]||M().Tj.gray).background.secondary}else e=M().Tj.gray.background.secondary;return{miniTeamSpaceIcon:{position:"absolute",bottom:-3,insetInlineEnd:-3,borderRadius:2,background:e},teamSpaceIcon:{borderRadius:3,marginInlineEnd:2}}}),[l]),a=n&&!i?"collectionViewBlock":"collection";return i||n?(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative",marginInlineEnd:2},children:[(0,x.jsx)(ht().B6,{icon:i,iconRecordCategory:a,size:20,emojiSize:20,isEmptyPage:!1,bucket:"public",isLarge:!0,largeIcon:!0,disabled:!0}),(0,x.jsx)(ct().x,{store:t,disabled:!0,size:12,style:s.miniTeamSpaceIcon},"icon")]}):(0,x.jsx)(ct().x,{store:t,disabled:!0,size:20,style:s.teamSpaceIcon},"icon")}const Ct=function(e){const{collectionContextStore:t,collectionForLocationStore:n}=e,i=(0,a().v3)(),l=(0,B().tz)(),{collectionIsInPrivate:s,collectionIsInRestricted:u,collectionIsInShared:d}=(0,r().K8)((()=>{const e=t.groupsForTypedDatabasesStore.state;return{collectionIsInPrivate:Boolean(null==e?void 0:e.privateDatabases[n.id]),collectionIsInRestricted:Boolean(null==e?void 0:e.restrictedDatabases[n.id]),collectionIsInShared:Boolean(null==e?void 0:e.sharedDatabases[n.id])}}),[t.groupsForTypedDatabasesStore,n.id],{useDeepEqual:!0}),p=(0,r().K8)((()=>(0,o(74351).U)(n)),[n]),y=(0,r().K8)((()=>{const e=n.getParentBlockStore();return!!e&&(e.isInLibraryBlock()&&n.canRead())}),[n]),f=(0,r().K8)((()=>{const e=(0,vt().r4)(n.getName(),n)??l.formatMessage(gt.emptyCollectionName);if(!y)return e;const t=n.getParentBlockStore();return 0===e.length?(null==t?void 0:t.getRenderTitleWithPlaceholder({userTimeZone:(0,yt().P)(),intl:l}))??l.formatMessage(gt.emptyCollectionName):e}),[n,l,y]),m=(0,r().K8)((()=>n.getIcon()),[n]),S=(0,r().K8)((()=>{var e;return null===(e=t.collectionViewBlockStore())||void 0===e?void 0:e.id}),[t]),b=(0,r().K8)((()=>{let e=it().y8.LocationProperty;return S?((0,o(635462).s)(S)&&(e=t.isInHomeWidgetStore.state?it().y8.PersonalHomeTileTasks:it().y8.PersonalHomePageTasks),e):e}),[S,t]),h=(0,c().IS)((()=>({button:{color:M().Tj.palette.gray[800],cursor:"pointer"},inner:{display:"flex",flexDirection:"row",alignItems:"center",columnGap:4},shareTypeIndicatorIcon:{width:20,height:20,padding:2,marginInlineEnd:2,color:M().Tj.gray.icon.secondary,backgroundColor:M().Tj.gray.background.secondaryTranslucent,borderRadius:3},miniShareTypeIndicatorIcon:{position:"absolute",bottom:-3,insetInlineEnd:-3,backgroundColor:M().Tj.gray.background.secondary,borderRadius:3,paddingTop:1,paddingBottom:1},collectionTitleTextStyle:{lineHeight:1,fontWeight:st().Wy.medium,marginTop:2,marginInlineStart:2,whiteSpace:"nowrap",...(0,te().w_)()}})),[]);if(!(p||s||u||d||y))return null;const v=s||u||d||y&&!p;let g=y?(0,x.jsx)(ht().B6,{icon:void 0,iconRecordCategory:"collectionViewBlock",size:20,emojiSize:20,isEmptyPage:!1,bucket:"public",isLarge:!0,largeIcon:!0,disabled:!0}):(0,x.jsx)(pt().I,{icon:St().s,style:h.shareTypeIndicatorIcon});if(m){const e=s?(0,x.jsx)(pt().I,{icon:o(338862).lockFillSmallIcon,size:"xxs",colorPalette:"gray",colorVariant:"secondary",style:h.miniShareTypeIndicatorIcon}):(0,x.jsx)(pt().I,{icon:o(668250).R,size:"xxs",colorPalette:"gray",colorVariant:"secondary",style:h.miniShareTypeIndicatorIcon});g=(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative"},children:[(0,x.jsx)(ht().B6,{icon:m,size:20,emojiSize:20,isEmptyPage:!1,bucket:"public",isLarge:!0,largeIcon:!0,disabled:!0}),y?void 0:e]})}else u?g=(0,x.jsx)("div",{style:{...h.shareTypeIndicatorIcon,padding:0,margin:0},children:(0,x.jsx)(pt().I,{icon:ft().L,style:{...h.shareTypeIndicatorIcon,margin:0,background:void 0}})}):s&&(g=(0,x.jsx)(pt().I,{icon:mt().lockFillIcon,style:h.shareTypeIndicatorIcon}));return(0,x.jsx)(rt().Ay,{hoveredStyle:{background:"transparent"},pressedStyle:{background:"transparent"},style:h.button,onClick:e=>{const t=n.getParentBlockStore();if(t){const o=(0,ot().V)(e);(0,at().u)({environment:i,store:t,pageVisitSource:b,openInNew:o})}},children:(0,x.jsxs)("div",{style:h.inner,children:[p?(0,x.jsx)(It,{teamStore:p,collectionStore:n,isInLibrary:y}):void 0,v?g:void 0,(0,x.jsx)("div",{style:h.collectionTitleTextStyle,children:f})]})})},Pt=n.memo(n.forwardRef((function(e,t){const{store:i,EmptyComponent:l,onContextMenu:s,buttonStyle:a}=e,{baseStyles:u,collectionContextStore:d}=(0,n.useContext)(y().L8),f=(0,r().K8)((()=>i.getAssociatedCollectionStore()),[i]),m=(0,r().K8)((()=>d&&d.isInLibraryBlock()),[d]),S=(0,r().K8)((()=>{if(!d)return;if((0,o(988291).I)(d))return i.getNavigableBlockStore();const e=i.getParentStore();return m&&e&&"block"===e.table&&e.canRead()?e.getNavigableBlockStore():void 0}),[d,m,i]),b=(0,c().IS)((()=>({buttonStyle:{...u.buttonStyle,minWidth:32,...a},buttonPressedStyle:u.buttonPressedStyle??{},buttonHoveredStyle:u.buttonHoveredStyle??{}})),[u.buttonHoveredStyle,u.buttonPressedStyle,u.buttonStyle,a]),h=!f&&!S;return h&&void 0===l?null:(0,x.jsx)(p().P,{ref:t,onContextMenu:s,editButtonClickProps:void 0,style:b.buttonStyle,pressedStyle:b.buttonPressedStyle,hoveredStyle:b.buttonHoveredStyle,tooltipPropertyValue:S?(0,x.jsx)(wt,{pageStore:S}):f&&d?(0,x.jsx)(wt,{collectionForLocationStore:f,collectionContextStore:d}):void 0,forceEnableButton:!0,children:h&&void 0!==l&&!m?(0,x.jsx)(l,{}):d&&f?(0,x.jsx)(Ct,{collectionContextStore:d,collectionForLocationStore:f}):S?(0,x.jsx)(ut,{blockStore:S,isInLibrary:m}):m?(0,x.jsx)(o(599806).wD,{blockStore:i}):null})}))),_t=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=Vt(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).table.text}})),[o]));return(0,x.jsx)(Pt,{...n,EmptyComponent:ve().rW})})),Tt=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=Vt(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).page.text}})),[o]));return(0,x.jsx)(Pt,{...n,EmptyComponent:ve().ao})})),Et=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=Vt(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).compact_page.text}})),[o]));return(0,x.jsx)(Pt,{...n,EmptyComponent:ve().ao})})),Rt=n.forwardRef((function(e,t){const o=Vt(e,t);return(0,x.jsx)(Pt,{...o,EmptyComponent:ve().Fe})})),Bt=n.forwardRef((function(e,t){const{showIfEmpty:o}=e,n=Vt(e,t,(0,m().F)(t,e.collectionStore,e.property,"location"));return(0,x.jsx)(Pt,{...n,EmptyComponent:o?ve().Jb:void 0})})),Mt=n.forwardRef((function(e,t){const{showIfEmpty:o}=e,n=(0,a().WS)(),r=Vt(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:n}).card.text}})),[n]));return(0,x.jsx)(Pt,{...r,EmptyComponent:o?ve().Jb:void 0})})),At=n.forwardRef((function(e,t){const o=Vt(e,t);return(0,x.jsx)(Pt,{...o})})),Lt=n.forwardRef((function(e,t){const o=Vt(e,t);return(0,x.jsx)(Pt,{...o})})),Wt=n.forwardRef((function(e,t){const o=Vt(e,t);return(0,x.jsx)(Pt,{...o})})),Ft=n.forwardRef((function(e,t){const o=Vt(e,t);return(0,x.jsx)(Pt,{...o})}));function Vt(e,t,o){const{store:n,onContextMenu:r}=e;return{ref:t,store:n,onContextMenu:r,buttonStyle:null==o?void 0:o.buttonStyle}}var Kt=()=>o(880263),zt=()=>o(399176);const Ht=n.memo((0,n.forwardRef)((function(e,t){var l,s;const{store:a,buttonStyle:u,onContextMenu:d,editButtonClickProps:f,quickActionButtons:m,EmptyComponent:b,isRightAligned:h,property:v,width:g,userExpandable:j}=e,{baseStyles:w,propertySchema:k,shouldRenderTooltip:I,collectionContextStore:C}=(0,n.useContext)(y().L8),P=k,_=(0,r().K8)((()=>{const e=a.getPropertyValue(v);return o(302322).M(e)}),[v,a]),T=(0,te().lh)({numberValue:_,numberFormat:null==P?void 0:P.number_format,numberShowAs:null==P?void 0:P.show_as}),E=(0,r().K8)((()=>(0,i().yQ)({viewType:null==C?void 0:C.getViewType(),propertySchema:P})),[P,C]),R=(0,c().IS)((()=>({buttonStyle:{...w.buttonStyle,...u,...E?{width:"inherit"}:{}},buttonPressedStyle:w.buttonPressedStyle??{},buttonHoveredStyle:w.buttonHoveredStyle??{},tokenWrapper:E?{width:"100%"}:{}})),[w.buttonHoveredStyle,w.buttonPressedStyle,w.buttonStyle,u,E]);if(void 0===_&&void 0===b)return null;const B="bar"===(null==P||null===(l=P.show_as)||void 0===l?void 0:l.type)||"ring"===(null==P||null===(s=P.show_as)||void 0===s?void 0:s.type);return(0,x.jsx)(p().P,{ref:t,style:R.buttonStyle,hoveredStyle:R.buttonHoveredStyle,pressedStyle:R.buttonPressedStyle,onContextMenu:d,editButtonClickProps:f,quickActionButtons:m,quickActionButtonsAlign:h?"left":void 0,tooltipPropertyValue:I?T:void 0,width:g,userExpandable:j,children:void 0===_&&void 0!==b?(0,x.jsx)(b,{}):B?(0,x.jsx)(ze().h,{isRightAligned:h,style:R.tokenWrapper,children:(0,x.jsx)(zt().E,{numberValue:_,isRightAligned:h,store:a,property:v,fullWidthBar:E})}):(0,x.jsx)(S().C,{isRightAligned:h,children:(0,x.jsx)(zt().E,{numberValue:_,isRightAligned:h,store:a,property:v})})})}))),Dt=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,l=(0,a().WS)(),s=Gt(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).page.text}})),[l])),u=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill"),(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})),[i,r,o]);return(0,x.jsx)(Ht,{...s,EmptyComponent:ve().ao,quickActionButtons:u})})),Ot=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,{isPhone:l}=(0,a().Y0)(),{shouldWrap:u}=(0,n.useContext)(y().L8),p=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).table.text}})),[l]),m=(0,n.useMemo)((()=>{if(!s().A.isMobile)return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill"),(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})}),[i,r,o]),S=Gt(e,t,p);return(0,x.jsx)(Ht,{...S,EmptyComponent:ve().rW,quickActionButtons:m,isRightAligned:!0,userExpandable:u})})),Qt=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,{isPhone:l}=(0,a().Y0)(),u=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).compact_page.text}})),[l]),p=(0,n.useMemo)((()=>{if(!s().A.isMobile)return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})}),[i,r,o]),y=Gt(e,t,u);return(0,x.jsx)(Ht,{...y,EmptyComponent:ve().ao,quickActionButtons:p})})),qt=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=Gt(e,t,(0,m().F)(t,e.collectionStore,e.property,"number"));return(0,x.jsx)(Ht,{...n,EmptyComponent:o?ve().Jb:void 0})})),Nt=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=(0,a().WS)(),r=Gt(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:n}).card.text}})),[n]));return(0,x.jsx)(Ht,{...r,EmptyComponent:o?ve().Jb:void 0})})),Ut=(0,n.forwardRef)((function(e,t){const o=Gt(e,t);return(0,x.jsx)(Ht,{...o})})),Jt=(0,n.forwardRef)((function(e,t){const o=Gt(e,t);return(0,x.jsx)(Ht,{...o})})),$t=(0,n.forwardRef)((function(e,t){const o=Gt(e,t);return(0,x.jsx)(Ht,{...o})})),Yt=(0,n.forwardRef)((function(e,t){const o=Gt(e,t);return(0,x.jsx)(Ht,{...o})})),Zt=(0,n.forwardRef)((function(e,t){const o=Gt(e,t);return(0,x.jsx)(Ht,{...o,EmptyComponent:ve().Fe})}));function Gt(e,t,o){const{store:n,collectionStore:r,property:i,onContextMenu:l,width:s}=e;return{ref:t,store:n,collectionStore:r,property:i,editButtonClickProps:(0,oe().QK)(e),onContextMenu:l,buttonStyle:null==o?void 0:o.buttonStyle,width:s}}var Xt=()=>o(32064),eo=(o(16280),()=>o(96330)),to=()=>o(495748),oo=()=>o(346863);function no({placeValue:e,width:t}){const{addressFirstLine:o,addressRest:r}=(0,n.useMemo)((()=>e.address?(0,eo().lS)(e.address):{addressFirstLine:"",addressRest:""}),[e.address]),i=(0,c().IS)((()=>({addressFirstLine:{fontWeight:"bold",fontSize:"14px",paddingTop:4,paddingInlineEnd:4,paddingBottom:0,paddingInlineStart:4},addressRest:{fontSize:"12px",paddingTop:0,paddingInlineEnd:4,paddingBottom:4,paddingInlineStart:4,color:M().Tj.text.secondary},container:{minWidth:t}})),[t]);return(0,x.jsxs)("div",{style:i.container,children:[(0,x.jsx)("div",{style:i.addressFirstLine,children:o}),(0,x.jsx)("div",{style:i.addressRest,children:r}),(0,x.jsx)(to().Vt,{place:e})]})}const ro=n.memo((0,n.forwardRef)(((e,t)=>{const{store:i,buttonStyle:l,onContextMenu:s,editButtonClickProps:a,quickActionButtons:u=[],EmptyComponent:d,property:f,width:m,userExpandable:b,forceBlockPropertyButtonEnable:h=!1}=e,{baseStyles:v}=(0,n.useContext)(y().L8),g=(0,r().K8)((()=>i.getPropertyValue(f)),[f,i]),j=(0,c().IS)((()=>({buttonStyle:{...v.buttonStyle,...l},buttonPressedStyle:v.buttonPressedStyle??{},buttonHoveredStyle:v.buttonHoveredStyle??{}})),[v.buttonHoveredStyle,v.buttonPressedStyle,v.buttonStyle,l]);return null!=g&&g.length||void 0!==d?(0,x.jsx)(p().P,{ref:t,style:j.buttonStyle,hoveredStyle:j.buttonHoveredStyle,pressedStyle:j.buttonPressedStyle,onContextMenu:s,editButtonClickProps:a,quickActionButtons:u,forceEnableButton:h,width:m,userExpandable:b,children:null!=g&&g.length||void 0===d?(0,x.jsx)(S().C,{children:(0,x.jsx)(o(625194).m,{textValue:g,parentStore:i})}):(0,x.jsx)(d,{})}):null}))),io=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,l=(0,a().WS)(),s=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).page.text}})),[l]),u=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(oo().b,{store:o,property:r,openOverlay:!0},"autofill"),(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})),[i,r,o]),p=xo(e,t,s);return(0,x.jsx)(ro,{...p,EmptyComponent:ve().ao,quickActionButtons:u})})),lo=(0,n.forwardRef)((function(e,t){const{store:o,property:i,surface:l}=e,{isPhone:u}=(0,a().Y0)(),p=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:u}).table.text},tooltipStyle:{backgroundColor:M().Tj.background.primary,color:M().Tj.text.primary,boxShadow:M().Tj.shadowLG}})),[u]),y=(0,r().K8)((()=>{const e=o.getPropertyValue(i);return(0,eo().eC)(e)}),[o,i]),m=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(oo().b,{store:o,property:i,openOverlay:!0},"autofill"),(0,x.jsx)(he().k,{},"comment"),s().A.isMobile?null:(0,x.jsx)(f().i,{store:o,property:i,surface:l},"copy")]})),[l,i,o]),S=xo(e,t,p);return(0,x.jsx)(R().m,{renderTooltip:()=>(0,x.jsx)(no,{placeValue:y,width:S.width}),disableTooltip:!y,render:e=>(0,x.jsx)("div",{...e,style:{width:"100%"},children:(0,x.jsx)(ro,{...S,EmptyComponent:ve().rW,quickActionButtons:m,userExpandable:!0})}),placement:"bottom",alignment:"start",style:p.tooltipStyle})})),so=n.forwardRef((function(e,t){const{propertyModule:n}=e;if(!n||n&&!(0,o(778781).NS)(n))throw new Error("PlacePropertyModule can only be used with place property modules");const i=(0,r().K8)((()=>(0,eo().eC)(e.store.getPropertyValue(e.property))),[e.store,e.property]);return(0,x.jsxs)(Le().H,{...e,ref:t,children:[(0,x.jsx)(io,{...e}),"map"===n.style&&i?(0,x.jsx)(to().Vt,{place:i}):void 0]})})),ao=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,{isPhone:l}=(0,a().Y0)(),u=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).compact_page.text,maxWidth:"300px"}})),[l]),p=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(he().k,{},"comment"),s().A.isMobile?null:(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})),[i,r,o]),y=xo(e,t,u);return(0,x.jsx)(ro,{...y,EmptyComponent:ve().ao,quickActionButtons:p,linkifyUrls:!1,disableLinks:!0})})),co=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=xo(e,t,(0,m().F)(t,e.collectionStore,e.property,"text"));return(0,x.jsx)(ro,{...n,EmptyComponent:o?ve().Jb:void 0})})),uo=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=(0,a().WS)(),r=xo(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:n}).card.text}})),[n]));return(0,x.jsx)(ro,{...r,EmptyComponent:o?ve().Jb:void 0})})),po=(0,n.forwardRef)((function(e,t){const o=xo(e,t);return(0,x.jsx)(ro,{...o})})),yo=(0,n.forwardRef)((function(e,t){const o=xo(e,t);return(0,x.jsx)(ro,{...o})})),fo=(0,n.forwardRef)((function(e,t){const o=xo(e,t);return(0,x.jsx)(ro,{...o})})),mo=(0,n.forwardRef)((function(e,t){const o=xo(e,t);return(0,x.jsx)(ro,{...o})})),So=(0,n.forwardRef)((function(e,t){const o=xo(e,t);return(0,x.jsx)(ro,{...o,EmptyComponent:ve().Fe})}));function xo(e,t,o){const{store:n,collectionStore:r,property:i,disabled:l,onContextMenu:s,width:a}=e;return{ref:t,store:n,collectionStore:r,property:i,disabled:l,editButtonClickProps:(0,oe().QK)(e),onContextMenu:s,buttonStyle:null==o?void 0:o.buttonStyle,width:a}}var bo=()=>o(213281),ho=()=>o(924476);const vo=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().jd,{...e,ref:t})})),go=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().I8,{...e,ref:t})})),jo=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().S1,{...e,ref:t})})),wo=(0,n.forwardRef)((function(e,t){const o=(0,m().F)(t,e.collectionStore,e.property,"multi_select"),n={...e,styles:o};return(0,x.jsx)(Kt().h3,{...n,ref:t})})),ko=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().nD,{...e,ref:t})})),Io=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().V6,{...e,ref:t})})),Co=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().ej,{...e,ref:t})})),Po=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().xV,{...e,ref:t})})),_o=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt().ER,{...e,ref:t})})),To=(0,n.forwardRef)((function(e,t){return(0,x.jsx)(Kt()._Z,{...e,ref:t})}));const Eo=n.memo(n.forwardRef((function(e,t){const{store:o,onContextMenu:i,property:l,disabled:s,enablePointerEventsForInteractiveTypes:a,editButtonClickProps:d,selectButtonStyle:f,checkboxButtonStyle:m,checkboxShowLabel:S,EmptyComponent:b,quickActionButtons:h,width:v,userExpandable:g}=e,{baseStyles:j,propertyFormat:w,propertySchema:k,shouldRenderTooltip:I}=(0,n.useContext)(y().L8),C=k,P=(0,Ve().Ug)(null==j?void 0:j.tokenFormat),_=(0,r().K8)((()=>o.getPropertyValue(l)),[l,o]),T=(0,n.useMemo)((()=>C?u().RZ(_,C)??"":""),[_,C]),E=(null==w?void 0:w.statusShowAs)??"select",R=(0,c().IS)((()=>({buttonStyle:{...j.buttonStyle,..."select"===E?f:m},buttonPressedStyle:j.buttonPressedStyle??{},buttonHoveredStyle:j.buttonHoveredStyle??{}})),[j.buttonHoveredStyle,j.buttonPressedStyle,j.buttonStyle,f,m,E]);return T||void 0!==b?(0,x.jsx)(p().P,{ref:t,onContextMenu:i,editButtonClickProps:d,style:R.buttonStyle,pressedStyle:R.buttonPressedStyle,hoveredStyle:R.buttonHoveredStyle,tooltipPropertyValue:I&&"checkbox"===E?T:void 0,quickActionButtons:h,width:v,userExpandable:g,children:"checkbox"===E?(0,x.jsx)(Bo,{enablePointerEventsForInteractiveTypes:a,showLabel:S,propertyName:null==C?void 0:C.name,propertyValue:_,statusValue:T,editButtonClickProps:d,containerRef:t,store:o,property:l,disabled:s}):T||void 0===b?(0,x.jsx)(Ro,{statusValue:T,tokenFormat:P,store:o,property:l,propertySchema:C,parentHasTooltip:I}):(0,x.jsx)(b,{})}):null})));function Ro(e){const{statusValue:t,store:r,parentHasTooltip:i,property:l,propertySchema:s}=e,a=(0,c().eP)(),u=(0,o(358167).v)({blockId:null==r?void 0:r.id,propertyId:l}),d=(0,Ke().s)({propertyId:l,store:r}),p=Boolean(d),y=(0,c().IS)((()=>({container:{...p||u?{...(0,Ae().sQ)(a),paddingTop:3}:{},maxWidth:"fit-content"}})),[u,a,p]),{foundOption:f,foundGroup:m}=(0,n.useMemo)((()=>{const e=(null==s?void 0:s.options)??[],o=e.find((e=>e.value===t)),n=(null==s?void 0:s.groups)??[],r=o&&n.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(o.id)}));return{options:e,foundOption:o,foundGroup:r}}),[s,t]);return f?(0,x.jsx)(ze().h,{style:y.container,className:d,children:(0,x.jsx)(o(96409).X,{type:"status",value:f.value,description:f.description,color:f.color,groupColor:null==m?void 0:m.color,shouldShowTooltip:!i})}):null}function Bo(e){const t=(0,B().tz)(),{propertyName:r,propertyValue:i,statusValue:l,showLabel:s,enablePointerEventsForInteractiveTypes:c,editButtonClickProps:d,containerRef:p,store:f,property:m,disabled:S}=e,b=(0,a().v3)(),{propertySchema:h,shouldRenderTooltip:v}=(0,n.useContext)(y().L8),g=h,j=le(f,m,S),w=(0,n.useMemo)((()=>!!g&&u().MC(i,g,t)),[g,i,t]),k=(0,n.useCallback)((async e=>{await o(581350).VE({...d,element:p&&"current"in p?(null==p?void 0:p.current)??void 0:void 0,environment:b,statusSetCheckbox:!e.altKey})}),[p,d,b]);return(0,x.jsx)(re().o,{onClick:k,propertyLabel:s?r:void 0,checked:w,enablePointerEventsForInteractiveTypes:c,tooltip:v?void 0:l,disabled:j,store:f,property:m})}const Mo=(0,n.forwardRef)((function(e,t){const{collectionStore:o,store:r,property:i}=e,l=(0,a().WS)(),{shouldWrap:s}=(0,n.useContext)(y().L8),u=(0,c().IS)((()=>({checkboxButtonStyle:{...(0,d()._Q)({isPhone:l}).table.checkbox}})),[l]),p=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:r,property:i},"workflow-autofill"),(0,x.jsx)(he().k,{},"comment")]})),[i,r]),f=Oo(e,t,u);return(0,x.jsx)(Eo,{...f,checkboxShowLabel:!1,EmptyComponent:ve().rW,collectionStore:o,quickActionButtons:p,userExpandable:s})})),Ao=(0,n.forwardRef)((function(e,t){const{collectionStore:o,store:r,property:i}=e,l=(0,a().WS)(),s=(0,c().IS)((()=>({checkboxButtonStyle:{...(0,d()._Q)({isPhone:l}).page.checkbox}})),[l]),u=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:r,property:i},"workflow-autofill"),(0,x.jsx)(he().k,{},"comment")]})),[i,r]),p=Oo(e,t,s);return(0,x.jsx)(Eo,{...p,checkboxShowLabel:!1,EmptyComponent:ve().ao,collectionStore:o,quickActionButtons:u})})),Lo=(0,n.forwardRef)((function(e,t){const o=(0,a().WS)(),n=Oo(e,t,(0,c().IS)((()=>({checkboxButtonStyle:{...(0,d()._Q)({isPhone:o}).compact_page.checkbox}})),[o]));return(0,x.jsx)(Eo,{...n,checkboxShowLabel:!1,EmptyComponent:ve().ao,quickActionButtons:(0,x.jsx)(he().k,{},"comment")})})),Wo=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=Oo(e,t,(0,m().F)(t,e.collectionStore,e.property,"status"));return(0,x.jsx)(Eo,{...n,checkboxShowLabel:!1,EmptyComponent:o?ve().Jb:void 0})})),Fo=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=(0,a().WS)(),r=Oo(e,t,(0,c().IS)((()=>({checkboxButtonStyle:{...(0,d()._Q)({isPhone:n}).card.checkbox}})),[n]));return(0,x.jsx)(Eo,{...r,checkboxShowLabel:!0,EmptyComponent:o?ve().Jb:void 0})})),Vo=(0,n.forwardRef)((function(e,t){const o=Oo(e,t);return(0,x.jsx)(Eo,{...o,checkboxShowLabel:!0})})),Ko=(0,n.forwardRef)((function(e,t){const o=Oo(e,t);return(0,x.jsx)(Eo,{...o,checkboxShowLabel:!1})})),zo=(0,n.forwardRef)((function(e,t){const o=Oo(e,t);return(0,x.jsx)(Eo,{...o,checkboxShowLabel:!1})})),Ho=(0,n.forwardRef)((function(e,t){const o=Oo(e,t);return(0,x.jsx)(Eo,{...o,checkboxShowLabel:!1})})),Do=(0,n.forwardRef)((function(e,t){const o=Oo(e,t);return(0,x.jsx)(Eo,{...o,checkboxShowLabel:!1,EmptyComponent:ve().Fe})}));function Oo(e,t,o){const{store:r,disabled:i,property:l,onContextMenu:s,enablePointerEventsForInteractiveTypes:a,width:c}=e,{propertyFormat:u}=(0,n.useContext)(y().L8),d="checkbox"===(null==u?void 0:u.statusShowAs),p=(0,oe().QK)(e,{isStatusCheckbox:d});return{ref:t,store:r,disabled:i,property:l,selectButtonStyle:null==o?void 0:o.selectButtonStyle,checkboxButtonStyle:null==o?void 0:o.checkboxButtonStyle,editButtonClickProps:p,onContextMenu:s,enablePointerEventsForInteractiveTypes:a,width:c}}const Qo=n.memo((0,n.forwardRef)(((e,t)=>{const{store:i,buttonStyle:l,onContextMenu:s,editButtonClickProps:a,quickActionButtons:u=[],EmptyComponent:d,property:f,width:m,linkifyUrls:b,disableLinks:h,userExpandable:v,clampLines:g,forceBlockPropertyButtonEnable:j=!1}=e,{baseStyles:w}=(0,n.useContext)(y().L8),k=(0,r().K8)((()=>i.getPropertyValue(f)),[f,i]),I=(0,c().IS)((()=>({buttonStyle:{...w.buttonStyle,...l},buttonPressedStyle:w.buttonPressedStyle??{},buttonHoveredStyle:w.buttonHoveredStyle??{}})),[w.buttonHoveredStyle,w.buttonPressedStyle,w.buttonStyle,l]);if((null==k||!k.length)&&void 0===d)return null;const C=Boolean(g);return(0,x.jsx)(p().P,{ref:t,style:I.buttonStyle,hoveredStyle:I.buttonHoveredStyle,pressedStyle:I.buttonPressedStyle,onContextMenu:s,editButtonClickProps:a,quickActionButtons:u,forceEnableButton:j,width:m,userExpandable:v,children:null!=k&&k.length||void 0===d?(0,x.jsx)(S().C,{children:(0,x.jsx)(o(837622).A,{textValue:k,parentStore:i,linkifyUrls:b,disableLinks:h,shouldTruncate:C,clampLines:g})}):(0,x.jsx)(d,{})})}))),qo=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,l=(0,a().WS)(),s=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).page.text}})),[l]),u=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill"),(0,x.jsx)(oo().b,{store:o,property:r,openOverlay:!0},"autofill"),(0,x.jsx)(he().k,{},"comment"),(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})),[i,r,o]),p=tn(e,t,s);return(0,x.jsx)(Qo,{...p,EmptyComponent:ve().ao,quickActionButtons:u})})),No=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,{isPhone:l}=(0,a().Y0)(),{shouldWrap:u}=(0,n.useContext)(y().L8),p=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).table.text}})),[l]),m=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne().qO,{store:o,property:r},"workflow-autofill"),(0,x.jsx)(oo().b,{store:o,property:r,openOverlay:!0},"autofill"),(0,x.jsx)(he().k,{},"comment"),s().A.isMobile?void 0:(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})),[i,r,o]),S=tn(e,t,p);return(0,x.jsx)(Qo,{...S,EmptyComponent:ve().rW,quickActionButtons:m,userExpandable:u})})),Uo=(0,n.forwardRef)((function(e,t){const{store:o,property:r,surface:i}=e,{isPhone:l}=(0,a().Y0)(),u=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:l}).compact_page.text,maxWidth:"300px"}})),[l]),p=(0,n.useMemo)((()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(he().k,{},"comment"),s().A.isMobile?void 0:(0,x.jsx)(f().i,{store:o,property:r,surface:i},"copy")]})),[i,r,o]),y=tn(e,t,u);return(0,x.jsx)(Qo,{...y,EmptyComponent:ve().ao,quickActionButtons:p,linkifyUrls:!1,disableLinks:!0})})),Jo=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=tn(e,t,(0,m().F)(t,e.collectionStore,e.property,"text"));return(0,x.jsx)(Qo,{...n,EmptyComponent:o?ve().Jb:void 0})})),$o=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=(0,a().WS)(),r=tn(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:n}).card.text}})),[n]));return(0,x.jsx)(Qo,{...r,EmptyComponent:o?ve().Jb:void 0})})),Yo=(0,n.forwardRef)((function(e,t){const o=tn(e,t);return(0,x.jsx)(Qo,{...o})})),Zo=(0,n.forwardRef)((function(e,t){const o=tn(e,t);return(0,x.jsx)(Qo,{...o})})),Go=(0,n.forwardRef)((function(e,t){const o=tn(e,t);return(0,x.jsx)(Qo,{...o})})),Xo=(0,n.forwardRef)((function(e,t){const o=tn(e,t);return(0,x.jsx)(Qo,{...o})})),en=(0,n.forwardRef)((function(e,t){const o=tn(e,t);return(0,x.jsx)(Qo,{...o,EmptyComponent:ve().Fe})}));function tn(e,t,o){const{store:n,collectionStore:r,property:i,disabled:l,onContextMenu:s,width:a}=e;return{ref:t,store:n,collectionStore:r,property:i,disabled:l,editButtonClickProps:(0,oe().QK)(e),onContextMenu:s,buttonStyle:null==o?void 0:o.buttonStyle,width:a}}o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);var on=()=>o(340498),nn=()=>o(821062);function rn(e,t){(0,o(314529).DO_NOT_USE_trackLegacy)(e,"click_block_property_url",t)}var ln=()=>o(3700),sn=()=>o(390650),an=()=>o(680288),cn=()=>o(819527),un=()=>o(590894),dn=()=>o(279115),pn=()=>o(968913);function yn(e){const{store:t}=e,r=(0,a().v3)(),i=(0,l().Ks)(),s=(0,B().tz)(),u=(0,n.useCallback)((()=>{const e=t.getBlockTitleStore();(0,o(573451).C)({store:t}),(0,o(518489).h)({environment:r,store:t}),(0,o(260850).z)({store:e}),(0,o(739041).u)(r,"list_item_edit_mode_enter",{...(0,sn().sl)(i),block_id:t.id,from:"click",view_type:"list"})}),[t,r,i]),d=(0,c().IS)((()=>({buttonStyle:{color:M().Tj.text.secondary,fill:M().Tj.text.secondary,height:20,width:26},iconStyle:{color:M().Tj.text.secondary,fill:M().Tj.text.secondary}})),[]),p=s.formatMessage({id:"collectionViewItem.edit.tooltip",defaultMessage:"Edit"});return(0,x.jsx)(R().m,{renderTooltip:()=>p,render:e=>(0,x.jsx)(o(695115).A,{icon:o(105819).pencilLineIcon,ariaLabel:p,onClick:u,hasBackground:!0,showShadow:!1,style:d.buttonStyle,iconStyle:d.iconStyle,...e})})}var fn=()=>o(604747);const mn=(0,B().YK)({untitledBlock:{defaultMessage:"Untitled",id:"collectionViewItemTitle.untitledBlock"},typeAName:{defaultMessage:"Type a name",id:"collectionViewItemTitle.itemName.placeholder"},pageWithContentTooltip:{defaultMessage:"This {type} has content",id:"collectionViewItemTitle.pageWithContentTooltip"}}),Sn=Object.freeze({property:!0}),xn=new Set(["table"]),bn=n.memo((0,n.forwardRef)((function(e,t){const{buttonStyle:i,canEdit:l,collectionStore:u,commentsIndicatorStyle:d,editButtonClickProps:f,forceMouseEntered:m,surface:S,iconActionFrom:b,iconSize:h,linkifyText:v,onContextMenu:g,onTab:j,onUntab:w,property:k,quickActionButtons:I,quickActionButtonsStyle:C,recordIconStyle:P,showIcon:_,store:T,textStyle:E,titlePropertyType:A,userExpandable:L,width:W}=e,F=(0,a().v3)(),V=(0,B().tz)(),{baseStyles:K,collectionContextStore:z,propertySchema:H}=(0,n.useContext)(y().L8),{collectionViewBlockId:D,collectionViewId:O,collectionUri:Q}=(0,r().K8)((()=>{var e,t,o;return{collectionViewId:null==z||null===(e=z.collectionViewStore())||void 0===e?void 0:e.id,collectionViewBlockId:null==z||null===(t=z.collectionViewBlockStore())||void 0===t?void 0:t.id,collectionUri:null==z||null===(o=z.collectionStore())||void 0===o?void 0:o.getFormat().app_config_uri}}),[z]),q=(0,r().K8)((()=>{if("inlineEditable"!==A)return!1;const e=un().A.state;return Boolean(e.isActive&&e.store.id===T.id)}),[T.id,A]),N=(0,n.useMemo)((()=>({type:"page_property_value_match",collectionViewBlockId:D,collectionViewId:O,propertyId:"title"})),[D,O]),{icon:U,iconStore:J,isPage:$,isEmptyPage:Y,isEmptyTitle:Z,recordTable:G,blockType:ee,hasError:oe}=(0,r().K8)((()=>{const e=T.getIconStore();return{icon:T.getIcon(),iconStore:e,isPage:T.isType("page"),isEmptyPage:T.isEmptyPage(),isEmptyTitle:T.isEmptyTitle(),recordTable:null==e?void 0:e.table,blockType:T.getType(),hasError:T.hasError()}}),[T],{useDeepEqual:!0}),ne=(0,r().K8)((()=>(0,ht().Te)(T)),[T]),re=$&&!Y&&!U,ie=(0,o(898244).cP)(k),le=(0,r().K8)((()=>{if(!ie)return v?te().UY({store:(0,o(66129).z)(T),propertySchema:(0,be().z)(H),property:k}):void 0;const e=T.getFormatStore().getKeyStore("uri").getValue(),t=e&&o(939768).Jf({str:e,allowNoProtocol:!1});return t&&(0,o(493208).e)(t,T.pointer.spaceId)}),[ie,T,v,H,k]),se=(0,n.useCallback)((()=>{if(z&&ie){const e=(0,sn().sl)(z)||{};rn(F,{...e,block_id:T.id,property:k,from:te().zP(S),is_external_title_property_id:!0})}}),[z,F,S,k,T.id,ie]),ae=(0,n.useCallback)((e=>{J&&X().createAndCommit({userAction:"TitleProperty.handleRecordIconChange",environment:F,canUndo:!0,perform:t=>{o(384944).KY({store:J,value:e,transaction:t})}})}),[F,J]),ce=(0,c().IS)((()=>{const e=xn.has(S);return{textStyle:{...K.textStyle,display:"inline",fontWeight:st().Wy.medium,...E,marginInlineEnd:s().A.isMobile?3:5},buttonStyle:{...K.buttonStyle,...i},quickActionButtonsStyle:{...C},buttonPressedStyle:{...K.buttonPressedStyle,background:"none"},buttonHoveredStyle:{...K.buttonHoveredStyle,background:"none"},recordIconStyle:{display:"inline-flex",verticalAlign:"text-top",...P},pageIconStyle:{fill:M().Tj.text.tertiary},link:{display:"inline"},subitemCountIndicator:{display:"inline-flex",alignItems:"center",verticalAlign:"text-top"},parentItemIndicator:{display:"inline-flex",alignItems:"center",verticalAlign:"text-top"},discussionIndicator:{display:"inline-flex",alignItems:"center",color:M().Tj.text.tertiary,fontSize:12,fontWeight:st().Wy.medium,verticalAlign:"text-top"},errorIcon:{display:"inline-block",verticalAlign:"text-top",marginInlineStart:1,marginInlineEnd:7,paddingBottom:4,fill:M().Tj.palette.orange[500]},content:e?{display:"flex",alignItems:"flex-start",gap:s().A.isMobile?4:1}:{display:"contents"},iconContainer:e?{flexShrink:0}:{display:"contents"},restContainer:e?{flexGrow:1,minWidth:0}:{display:"contents"}}}),[S,K.textStyle,K.buttonStyle,K.buttonPressedStyle,K.buttonHoveredStyle,E,i,C,P]),ue=(0,x.jsx)(hn,{titlePropertyType:A,store:T,environment:F,collectionContextStore:z,onTab:j,onUntab:w,textStyle:ce.textStyle,memoizedInPageFindTextProp:N,property:k,isEditing:q}),de=(0,n.useMemo)((()=>({collection_id:u.id,recordTable:G,source:b,block_type:ee})),[u.id,G,b,ee]),pe=(0,n.useMemo)((()=>"never"!==_&&(("table"!==S||!Z||!Y||void 0!==U)&&("always"===_||void 0!==U||!Y))),[_,S,Z,Y,U]),ye=(0,r().K8)((()=>z&&(0,ln().xC)({collectionContextStore:z,blockStore:T})),[z,T]),fe=(0,r().K8)((()=>z&&(0,ln().Kk)({collectionContextStore:z,blockStore:T})),[z,T]),me=(0,n.useMemo)((()=>{if(oe)return(0,x.jsx)(pt().I,{icon:o(175882).exclamationMarkTriangleSmallIcon,size:"sm",style:ce.errorIcon});if(!pe)return null;let e;return e=$&&l?(0,x.jsx)(ht().B6,{disabled:!1,icon:U,iconRecordCategory:ne,isEmptyPage:Y,size:h,style:ce.recordIconStyle,pageIconStyle:ce.pageIconStyle,store:T,bucket:"secure",onChange:ae,iconLoggingData:de,isInCollectionView:!0}):(0,x.jsx)(ht().B6,{disabled:!0,icon:U,iconRecordCategory:ne,isEmptyPage:Y,size:h,style:ce.recordIconStyle,pageIconStyle:ce.pageIconStyle,isInCollectionView:!0,store:T}),re?(0,x.jsx)(R().m,{renderTooltip:()=>V.formatMessage(mn.pageWithContentTooltip,{type:(0,o(634292).$O)(Q)}),render:t=>(0,x.jsx)("div",{...t,children:e})}):e}),[T,oe,pe,l,U,ne,$,Y,h,ce.recordIconStyle,ce.errorIcon,ce.pageIconStyle,ae,de,V,Q,re]);return(0,x.jsx)(p().P,{ref:t,editButtonClickProps:f,onContextMenu:g,style:ce.buttonStyle,pressedStyle:ce.buttonPressedStyle,hoveredStyle:ce.buttonHoveredStyle,quickActionButtons:I,quickActionButtonsStyle:ce.quickActionButtonsStyle,quickActionButtonsForceVisible:s().A.isMobile?void 0:m,tooltipHide:!0,userExpandable:L,children:(0,x.jsxs)("div",{style:ce.content,children:[(0,x.jsx)("div",{style:ce.iconContainer,children:me}),(0,x.jsxs)("div",{style:ce.restContainer,children:[!q&&le?(0,x.jsx)(o(620896).A,{href:le,external:ie,onClick:se,style:ce.link,children:ue}):ue,void 0!==z&&ye?(0,x.jsx)("span",{style:ce.parentItemIndicator,children:(0,x.jsx)(o(27542).n,{blockStore:T,collectionContextStore:z,columnWidth:W})}):null,void 0!==z&&fe?(0,x.jsx)("span",{style:ce.subitemCountIndicator,children:(0,x.jsx)(o(752773).W,{blockStore:T,collectionContextStore:z})}):null,(0,x.jsx)(o(988662).g,{store:T,iconStyle:ce.discussionIndicator,buttonStyle:d})]})]})})})),nn().A),hn=n.memo((function(e){const{titlePropertyType:t,store:n,environment:r,collectionContextStore:i,onTab:l,onUntab:s,textStyle:a,memoizedInPageFindTextProp:c,property:u,isEditing:d}=e;switch(t){case"inlineEditable":return(0,x.jsx)(vn,{store:n,environment:r,collectionContextStore:i,onTab:l,onUntab:s,textStyle:a,memoizedInPageFindTextProp:c,isEditing:d});case"hidePlaceholderText":return(0,x.jsx)(gn,{store:n,collectionContextStore:i,textStyle:a,property:u,memoizedInPageFindTextProp:c,environment:r});case"showPlaceholderAsTitle":return(0,x.jsx)(o(16006).A,{style:a,store:n});default:(0,A().HB)(t)}}),nn().A),vn=n.memo((function(e){const{store:t,environment:i,collectionContextStore:l,onTab:s,onUntab:a,textStyle:c,memoizedInPageFindTextProp:u,isEditing:d}=e,p=(0,B().tz)(),y=(0,r().K8)((()=>(0,an().yT)(t)),[t]),f=(0,n.useCallback)((()=>{un().A.setState({isActive:!1}),(0,o(755125).clear)({environment:i}),(0,o(970501).L)({environment:i,store:t})}),[t,i]),m=(0,n.useCallback)((e=>{e&&"key"in e&&"Enter"===e.key||(l&&(0,Z().E)({environment:i,collectionContextStore:l,block_id:t.id,property:"title",property_type:"text",from:"list"}),(0,o(714574).P)({store:t}))}),[i,t,l]),S=(0,n.useCallback)((e=>{e.target.scrollLeft=0}),[]),b=(0,r().K8)((()=>{var e;return d?p.formatMessage(mn.typeAName):(null===(e=t.getModel())||void 0===e?void 0:e.getEmptyTitlePlaceholder({getRecordModel:t.getRecordModel,intl:p,userTimeZone:(0,yt().P)()}))||p.formatMessage(mn.untitledBlock)}),[d,t,p]);return(0,x.jsx)(o(405623).A,{store:y,disabled:!d,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,disableShiftEnter:!0,onEnter:f,onEsc:f,onTab:s,onUntab:a,onChange:m,onBlur:S,placeholder:b,style:c,disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:u,disabledMentionTypes:Sn})}),nn().A),gn=n.memo((function(e){const{store:t,collectionContextStore:n,textStyle:i,property:l,memoizedInPageFindTextProp:s,environment:a}=e,u=(0,c().DP)(),d=(0,r().K8)((()=>{if(n){const e=n.searchQueryStore.state;return e.length>0?e:void 0}}),[n]),p=(0,r().K8)((()=>dn().qu.state??d),[d]),y=(0,r().K8)((()=>{const e=dn().wb.state;return(0,o(366437).wc)(e)&&e.id===t.id?e:void 0}),[t.id]),f=(0,r().K8)((()=>{var e;return(0,o(832189).e)({entries:null===(e=o(428257).l.state)||void 0===e?void 0:e.entries,pointer:t.pointer})}),[t.pointer]),m=(0,r().K8)((()=>{var e;if(f)return f;let o=null===(e=t.getTitleStore())||void 0===e?void 0:e.getValue();return t.isType("external_object_instance_page")&&(o=t.getPropertyValue(l)),p&&p.length>0&&o&&(o=vt().nu({textValue:o,blockId:t.id,textProps:s,find:p,currentFocusedResult:y,store:t})),o}),[f,y,s,l,p,t],{useDeepEqual:!0}),S=(0,r().K8)((()=>vt().S5({environment:a,textValue:m&&{value:m,spaceId:(0,o(161479).e)(t.pointer.spaceId)},parentStore:t,disableHover:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!f,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!0,disabled:!0,theme:u,emojiType:(0,o(712030).FN)(a),katex:a.KatexStore.getKatex(),formulaValueTypes:[]})),[a,t,m,f,u],{silenceRerenderDefender:!0});return(0,x.jsx)("span",{style:i,children:S})}),nn().A),jn=(0,n.forwardRef)((function(e,t){const{store:i,handleOpenPeekPage:l,width:u}=e,p=(0,a().v3)(),{isPhone:f}=(0,a().Y0)(),m=(0,o(59226).X)("title_property_peek_button_redesign"),{collectionContextStore:S,canEdit:b,shouldWrap:h}=(0,n.useContext)(y().L8),v=(0,r().K8)((()=>(null==S?void 0:S.isInLibraryBlock())??!1),[S]),g=(0,r().K8)((()=>(0,pn().Wi)(p,i.id)),[p,i]),j=(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:f}).table.text},recordIconStyle:{height:on().Ev.lg,width:on().Ev.lg,marginTop:-2,marginInlineEnd:3,marginBottom:0,marginInlineStart:-2},dbCommentButton:{position:"relative",top:2,marginTop:-2.8}})),[f]),w=(0,r().K8)((()=>(null==S?void 0:S.shouldShowPageIcon())??!0),[S]),k=(!m||!s().A.isMobile)&&(s().A.isMobile||void 0===u||u>100),I=!(!m||!s().A.isMobile)||!s().A.isMobile,C=(0,n.useMemo)((()=>g?void 0:(0,x.jsx)(fn().f,{handleOpenPeekPage:l,store:i,showLabel:k,showIcon:I})),[l,i,g,k,I]),P=In(e,t,j);return(0,x.jsx)(bn,{...P,iconActionFrom:"collection_table_view",showIcon:w?"always":"never",iconSize:20,titlePropertyType:v?"showPlaceholderAsTitle":"hidePlaceholderText",quickActionButtons:C,linkifyText:!b,commentsIndicatorStyle:j.dbCommentButton,userExpandable:h,canEdit:b})})),wn=(0,n.forwardRef)((function(e,t){const{store:i}=e,{isPhone:l}=(0,a().Y0)(),u=(0,a().v3)(),{canEdit:p,collectionContextStore:f}=(0,n.useContext)(y().L8),S=(0,r().K8)((()=>{const e=un().A.state;return Boolean(e.isActive&&e.store.id===i.id)}),[i]),b=(0,r().K8)((()=>!!f&&f.isInHomeWidgetStore.state),[f]),h=(0,r().K8)((()=>(0,pn().Wi)(u,i.id)),[u,i]),v=(0,r().K8)((()=>(null==f?void 0:f.shouldShowPageIcon())??!0),[f]),g=(0,n.useMemo)((()=>!s().A.isMobile&&!h&&(p&&!S?(0,x.jsx)(yn,{store:i}):(0,x.jsx)(fn().f,{store:i,showLabel:!1,showIcon:!0}))),[S,p,i,h]),j=(0,c().IS)((()=>({buttonStyle:{marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:b?o(665579).VQ/2:void 0,flexGrow:1,flexShrink:1,flexBasis:"auto",maxWidth:void 0,minWidth:l?void 0:m().X},textStyle:{fontSize:l?d().hN:d().Mi,whiteSpace:S?"pre":"nowrap",pointerEvents:S?void 0:"none",cursor:S?"text":void 0,width:"auto",textOverflow:S?void 0:"ellipsis"},recordIconStyle:{marginInlineEnd:cn().mA,height:b?on().Ev.sm:on().Ev.lg,width:b?on().Ev.sm:on().Ev.lg},actionButton:{marginInlineStart:10,marginInlineEnd:1,order:3}})),[S,b,l]),w=In(e,t,j),k=(0,m().F)(t,e.collectionStore,e.property,"title");return(0,x.jsx)(bn,{...w,iconActionFrom:"collection_list_view",showIcon:v?"always":"never",iconSize:b?16:cn().kG,editButtonClickProps:void 0,quickActionButtonsStyle:j.actionButton,quickActionButtons:g,titlePropertyType:"inlineEditable",canEdit:p,textStyle:{...j.textStyle,...k.buttonStyle}})})),kn=(0,n.forwardRef)((function(e,t){o(165358).log({level:"error",from:"BlockPropertyValue",type:"BlockPropertyValue.InvalidTitlePropertyFormat"});const r=In(e,t),{canEdit:i}=(0,n.useContext)(y().L8);return(0,x.jsx)(bn,{...r,iconActionFrom:"collection_table_view",showIcon:"always",iconSize:20,titlePropertyType:"hidePlaceholderText",canEdit:i})}));function In(e,t,o){const{collectionStore:n,disabled:r,forceMouseEntered:i,surface:l,onContextMenu:s,onTab:a,onUntab:c,property:u,store:d,width:p}=e;return{ref:t,store:d,collectionStore:n,property:u,disabled:r,editButtonClickProps:(0,oe().QK)(e),onContextMenu:s,buttonStyle:null==o?void 0:o.buttonStyle,textStyle:null==o?void 0:o.textStyle,recordIconStyle:null==o?void 0:o.recordIconStyle,quickActionButtonsStyle:null==o?void 0:o.quickActionButtonsStyle,surface:l,onTab:a,onUntab:c,forceMouseEntered:i,width:p}}var Cn=()=>o(931075),Pn=()=>o(730240),_n=()=>o(824862),Tn=()=>o(798880),En=()=>o(53528),Rn=()=>o(427636),Bn=()=>o(994006);function Mn(e){return(0,x.jsx)("div",{style:s().A.isMobile?{padding:"12px 20px",fontSize:14}:{fontSize:12,display:"flex",alignItems:"center"},children:(0,x.jsx)(An,{...e})})}function An(e){const{verificationState:t,blockStore:o}=e,n=(0,B().tz)();switch(t.type){case"none":return null;case"verified":return t.isIndefinite?(0,x.jsx)(B().sA,{defaultMessage:"Verified by {user} on {date}",id:"VerificationSummary.verifiedIndefinitely",values:{user:(0,x.jsx)(Ln,{actorPointer:t.actorPointer,blockStore:o}),date:(0,En().OH)({dateTime:t.startDateTime,intl:n})}}):(0,x.jsx)(B().sA,{defaultMessage:"Verified by {user} from {dateTimeRange}",id:"VerificationSummary.verified",values:{user:(0,x.jsx)(Ln,{actorPointer:t.actorPointer,blockStore:o}),dateTimeRange:(0,En().do)({luxonRange:t.dateTimeRange,intl:n})}});case"expired":return(0,x.jsx)(B().sA,{defaultMessage:"Last verified by {user} from {dateTimeRange}",id:"VerificationSummary.verificationExpired",values:{user:(0,x.jsx)(Ln,{actorPointer:t.actorPointer,blockStore:o}),dateTimeRange:(0,En().do)({luxonRange:t.dateTimeRange,intl:n})}});case"archived":return(0,x.jsx)(B().sA,{defaultMessage:"Archived by {user} on {date}",id:"VerificationSummary.archivedIndefinitely",values:{user:(0,x.jsx)(Ln,{actorPointer:t.actorPointer,blockStore:o}),date:(0,En().OH)({dateTime:t.startDateTime,intl:n})}});default:(0,A().HB)(t)}}function Ln(e){const{actorPointer:t,blockStore:o}=e,n=(0,r().K8)((()=>(0,Pn().JQ)({parentStore:o,pointer:t})),[o,t]),i={display:"flex",marginInlineStart:4,marginInlineEnd:4};return n.table===Tn().oo?(0,x.jsx)(Bn().A,{userStore:n,inline:!0,style:i,avatarSize:16,avatarMarginRight:4,hasPersonHoverCard:!1}):n.table===_n().GP?(0,x.jsx)(Rn().A,{botStore:n,style:i,avatarSize:16}):void(0,A().HB)(n)}const Wn=n.memo(n.forwardRef((function(e,t){var i;const{property:l,store:s,collectionStore:a,buttonStyle:u,editButtonClickProps:d,EmptyComponent:f}=e,{canEdit:m,propertySchema:S,baseStyles:b,collectionSchemaStore:h}=(0,n.useContext)(y().L8),v=S,g=(0,r().K8)((()=>{const e=h.getState();return!(!v||!e)&&an().E5(v,s,e)}),[v,h,s]),j=(0,r().K8)((()=>{var e;if(a.isPageTreeCollection())return!0;const t=null==s||null===(e=s.getSpaceStore())||void 0===e?void 0:e.getModel();return!!t&&(0,o(470020).X)(t)}),[a,s]),w=!m||!g||!j,k=(0,c().IS)((()=>({buttonStyle:{...b.buttonStyle,...u,cursor:w?"text":"pointer"},buttonPressedStyle:b.buttonPressedStyle??{},buttonHoveredStyle:b.buttonHoveredStyle??{}})),[b.buttonHoveredStyle,b.buttonPressedStyle,b.buttonStyle,u,w]),I=(0,r().K8)((()=>{const e=s.getPropertyValue(l);return(0,Cn().B2)((0,Cn().U1)(e))}),[l,s]),C=(0,n.useMemo)((()=>{if("none"!==I.type)return(0,x.jsx)(Mn,{verificationState:I,blockStore:s})}),[s,I]),P=(0,r().K8)((()=>{var e;const t=!g||!j,o=h.getState();if(!t||!o)return;if(!j)return(0,x.jsx)(B().sA,{defaultMessage:"Upgrade plan to edit verification",id:"VerificationPropertyButton.tooltip.nonWikiVerificationRestrictedToBusinessTier"});const n=null==v?void 0:v.verifier_property,r=n?null===(e=o[n])||void 0===e?void 0:e.name:void 0;return(0,x.jsx)(Fn,{verifierPropertyName:r})}),[g,h,j,null==v?void 0:v.verifier_property]),_="none"===I.type;return _&&void 0===f?null:(0,x.jsx)(p().P,{ref:t,editButtonClickProps:w?void 0:d,style:k.buttonStyle,hoveredStyle:k.buttonHoveredStyle,pressedStyle:k.buttonPressedStyle,tooltipPropertyValue:C,tooltipPropertyCaption:P,children:_&&void 0!==f?(0,x.jsx)(f,{}):(0,x.jsx)(o(553748).r,{verificationState:I,fontSize:null===(i=b.buttonStyle)||void 0===i?void 0:i.fontSize})})})));function Fn(e){const{verifierPropertyName:t}=e;return t?(0,x.jsx)(B().sA,{defaultMessage:"Only people listed in {verifierPropertyName} can verify this page",id:"VerificationPropertyButton.tooltip.editRestrictedToVerifier",values:{verifierPropertyName:(0,x.jsx)("span",{style:{fontWeight:st().Wy.bold},children:t})}}):(0,x.jsx)(B().sA,{defaultMessage:"Only page owners can verify this page",id:"VerificationPropertyButton.tooltip.editRestrictedToOwner"})}const Vn=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=Jn(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).table.text}})),[o]));return(0,x.jsx)(Wn,{...n,EmptyComponent:ve().rW})})),Kn=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=Jn(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).page.text}})),[o]));return(0,x.jsx)(Wn,{...n,EmptyComponent:ve().ao})})),zn=n.forwardRef((function(e,t){const o=(0,a().WS)(),n=Jn(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:o}).compact_page.text}})),[o]));return(0,x.jsx)(Wn,{...n,EmptyComponent:ve().ao})})),Hn=n.forwardRef((function(e,t){const o=Jn(e,t);return(0,x.jsx)(Wn,{...o,EmptyComponent:ve().Fe})})),Dn=n.forwardRef((function(e,t){const{collectionStore:o,store:i,showIfEmpty:l}=e,{propertySchema:s}=(0,n.useContext)(y().L8),a=s,c=(0,r().K8)((()=>o.getSchema()),[o]),u=(0,r().K8)((()=>!!a&&an().E5(a,i,c)),[a,c,i]),d=Jn(e,t,(0,m().F)(t,e.collectionStore,e.property,"verification"));return(0,x.jsx)(Wn,{...d,EmptyComponent:l&&u?ve().Jb:void 0})})),On=n.forwardRef((function(e,t){const{collectionStore:o,store:i,showIfEmpty:l}=e,{propertySchema:s}=(0,n.useContext)(y().L8),u=s,p=(0,r().K8)((()=>o.getSchema()),[o]),f=(0,r().K8)((()=>!!u&&an().E5(u,i,p)),[u,p,i]),m=(0,a().WS)(),S=Jn(e,t,(0,c().IS)((()=>({buttonStyle:{...(0,d()._Q)({isPhone:m}).card.text}})),[m]));return(0,x.jsx)(Wn,{...S,EmptyComponent:l&&f?ve().Jb:void 0})})),Qn=n.forwardRef((function(e,t){const o=Jn(e,t);return(0,x.jsx)(Wn,{...o})})),qn=n.forwardRef((function(e,t){const o=Jn(e,t);return(0,x.jsx)(Wn,{...o})})),Nn=n.forwardRef((function(e,t){const o=Jn(e,t);return(0,x.jsx)(Wn,{...o})})),Un=n.forwardRef((function(e,t){const o=Jn(e,t);return(0,x.jsx)(Wn,{...o})}));function Jn(e,t,o){const{store:n,collectionStore:r,property:i,onClick:l,onContextMenu:s}=e;return{ref:t,store:n,collectionStore:r,property:i,editButtonClickProps:(0,oe().QK)(e),onClick:l,onContextMenu:s,buttonStyle:null==o?void 0:o.buttonStyle}}const $n=n.memo(n.forwardRef((function(e,t){const{property:o,surface:n,propertyType:r,innerProps:i}=e;if(!r)return null;const l=Yn[n][r];return l?(0,x.jsx)(l,{ref:t,...i,property:o,surface:n}):null}))),Yn={table:{checkbox:se,created_by:Xt().JJ,created_time:Me().wW,date:Me().wW,email:je,file:Oe,formula:tt().GF,last_edited_by:Xt().JJ,last_edited_time:Me().wW,last_visited_time:Me().wW,location:_t,multi_select:Kt().jd,number:Ot,person:Xt().JJ,phone_number:je,relation:bo().Kr,rollup:ho().gN,select:vo,status:Mo,text:No,title:jn,url:je,verification:Vn,auto_increment_id:v,button:K,place:lo},calendar:{checkbox:pe,created_by:Xt().Jd,created_time:Me().y9,date:Me().y9,email:Pe,file:$e,formula:tt().G$,last_edited_by:Xt().Jd,last_edited_time:Me().y9,last_visited_time:Me().y9,location:At,multi_select:Kt().V6,number:Ut,person:Xt().Jd,phone_number:Pe,relation:bo().eH,rollup:ho()._s,select:Io,status:Vo,text:Yo,title:kn,url:Pe,verification:Qn,auto_increment_id:I,button:q,place:po},list:{checkbox:ue,created_by:Xt().VW,created_time:Me().g$,date:Me().g$,email:Ie,file:Ue,formula:tt().A7,last_edited_by:Xt().VW,last_edited_time:Me().g$,last_visited_time:Me().g$,location:Bt,multi_select:Kt().h3,number:qt,person:Xt().VW,phone_number:Ie,relation:bo().eM,rollup:ho().Q4,select:wo,status:Wo,text:Jo,title:wn,url:Ie,verification:Dn,auto_increment_id:w,button:O,place:co},board:{checkbox:de,created_by:Xt().DC,created_time:Me().Um,date:Me().Um,email:Ce,file:Je,formula:tt().sK,last_edited_by:Xt().DC,last_edited_time:Me().Um,last_visited_time:Me().Um,location:Mt,multi_select:Kt().nD,number:Nt,person:Xt().DC,phone_number:Ce,relation:bo().ki,rollup:ho().aG,select:ko,status:Fo,text:$o,title:kn,url:Ce,verification:On,auto_increment_id:k,button:Q,place:uo},gallery:{checkbox:de,created_by:Xt().DC,created_time:Me().Um,date:Me().Um,email:Ce,file:Je,formula:tt().sK,last_edited_by:Xt().DC,last_edited_time:Me().Um,last_visited_time:Me().Um,location:Mt,multi_select:Kt().nD,number:Nt,person:Xt().DC,phone_number:Ce,relation:bo().ki,rollup:ho().aG,select:ko,status:Fo,text:$o,title:kn,url:Ce,verification:On,auto_increment_id:k,button:Q,place:uo},timeline:{checkbox:ye,created_by:Xt().cE,created_time:Me().vy,date:Me().vy,email:_e,file:Ye,formula:tt().Rm,last_edited_by:Xt().cE,last_edited_time:Me().vy,last_visited_time:Me().vy,location:Lt,multi_select:Kt().ej,number:Jt,person:Xt().cE,phone_number:_e,relation:bo().DE,rollup:ho().TN,select:Co,status:Ko,text:Zo,title:kn,url:_e,verification:qn,auto_increment_id:C,button:N,place:yo},page:{checkbox:ae,created_by:Xt().e7,created_time:Me().zI,date:Me().zI,email:we,file:Qe,formula:tt().lS,last_edited_by:Xt().e7,last_edited_time:Me().zI,last_visited_time:Me().zI,location:Tt,multi_select:Kt().I8,number:Dt,person:Xt().e7,phone_number:we,relation:bo().hF,rollup:ho().p0,select:go,status:Ao,text:qo,title:kn,url:we,verification:Kn,auto_increment_id:h,button:z,place:io},compact_page:{checkbox:ce,created_by:Xt()._R,created_time:Me().v,date:Me().v,email:ke,file:qe,formula:tt().HZ,last_edited_by:Xt()._R,last_edited_time:Me().v,last_visited_time:Me().v,location:Et,multi_select:Kt().S1,number:Qt,person:Xt()._R,phone_number:ke,relation:bo().$s,rollup:ho().Pv,select:jo,status:Lo,text:Uo,title:kn,url:ke,verification:zn,auto_increment_id:g,button:H,place:ao},relation:{checkbox:fe,created_by:Xt().L$,created_time:Me().Qz,date:Me().Qz,email:Te,file:Ze,formula:tt().s3,last_edited_by:Xt().L$,last_edited_time:Me().Qz,last_visited_time:Me().Qz,location:Wt,multi_select:Kt().xV,number:$t,person:Xt().L$,phone_number:Te,relation:bo().I5,rollup:ho().wM,select:Po,status:zo,text:Go,title:kn,url:Te,verification:Nn,auto_increment_id:P,button:U,place:fo},relation_section:{checkbox:me,created_by:Xt().K2,created_time:Me().RM,date:Me().RM,email:Ee,file:Ge,formula:tt().VD,last_edited_by:Xt().K2,last_edited_time:Me().RM,last_visited_time:Me().RM,location:Ft,multi_select:Kt().ER,number:Yt,person:Xt().K2,phone_number:Ee,relation:bo().$$,rollup:ho().N$,select:_o,status:Ho,text:Xo,title:kn,url:Ee,verification:Un,auto_increment_id:_,button:J,place:mo},mini:{checkbox:Se,created_by:Xt().K1,created_time:Me().BP,date:Me().BP,email:Re,file:Ne,formula:tt().pe,last_edited_by:Xt().K1,last_edited_time:Me().BP,last_visited_time:Me().BP,location:Rt,multi_select:Kt()._Z,number:Zt,person:Xt().K1,phone_number:Re,relation:bo().F1,rollup:ho().Xh,select:To,status:Do,text:en,title:kn,url:Re,verification:Hn,auto_increment_id:j,button:D,place:So},property_module:{checkbox:ae,created_by:Xt().oN,created_time:Me().zI,date:Me().zI,email:we,file:Xe,formula:tt().lS,last_edited_by:Xt().oN,last_edited_time:Me().zI,last_visited_time:Me().zI,location:Tt,multi_select:Kt().I8,number:Dt,person:Xt().oN,phone_number:we,relation:bo().bn,rollup:ho().p0,select:go,status:Ao,text:qo,title:kn,url:we,verification:Kn,auto_increment_id:h,button:z,place:so},feed:{checkbox:ue,created_by:Xt().VW,created_time:Me().g$,date:Me().g$,email:Ie,file:Ue,formula:tt().A7,last_edited_by:Xt().VW,last_edited_time:Me().g$,last_visited_time:Me().g$,location:Bt,multi_select:Kt().h3,number:qt,person:Xt().VW,phone_number:Ie,relation:bo().eM,rollup:ho().Q4,select:wo,status:Wo,text:Jo,title:wn,url:Ie,verification:Dn,auto_increment_id:w,button:O,place:co}},Zn=n.memo((function(e){const{property:t,collectionStore:s,surface:a,formDataStore:c,onTab:u,onUntab:d,onEnter:p,onEsc:f,onBgClick:m,onOpenProperty:S,store:b}=e,h=(0,i().yo)({collectionStore:s,property:t}),v=function(e,t,o){const n=(0,l().Ks)();return(0,r().K8)((()=>{var r;const i=e.getSchema();return(null==t||null===(r=t.getFormState())||void 0===r||null===(r=r.collectionSchema)||void 0===r?void 0:r[o])??i[o]??(null==n?void 0:n.normalizedSchemaStore.state[o])}),[n,t,e,o],{debugName:"usePropertySchema",useDeepEqual:!0})}(s,c,h),g=(0,n.useContext)(o(259985).U),j=(0,n.useRef)(null);return(0,o(790748).b)(o(57618).A,(()=>({getNode:()=>{const{current:e}=j;return e?"getNode"in e?e.getNode():e:null},props:{onTab:u,onUntab:d,onEnter:p,onEsc:f,onBgClick:m,onOpenProperty:S,property:h,surface:a,store:b},getScrollerContext:()=>g})),[g,u,d,p,f,m,S,h,a,b]),null!=v&&v.type?(0,x.jsx)(y().qN,{innerProps:e,property:h,unmappedProperty:t,propertySchema:v,containerRef:j,children:(0,o(515872).J)(a)?(0,x.jsx)(o(595465).T,{ref:j,innerProps:e,surface:a,property:h,propertyType:null==v?void 0:v.type}):(0,x.jsx)($n,{ref:j,innerProps:e,surface:a,property:h,propertyType:null==v?void 0:v.type})}):null}))},430042:(e,t,o)=>{o.d(t,{R:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"2.61 3.05 9.98 9.9",directional:!0,svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8.002 3.238a.625.625 0 0 0-.884 0l-4.32 4.32a.625.625 0 0 0 0 .884l4.32 4.32a.625.625 0 0 0 .884-.884L4.124 8l3.878-3.878a.625.625 0 0 0 0-.884"}),(0,n.jsx)("path",{d:"M12.402 3.238a.625.625 0 0 0-.884 0l-4.32 4.32a.625.625 0 0 0 0 .884l4.32 4.32a.625.625 0 0 0 .884-.884L8.524 8l3.878-3.878a.625.625 0 0 0 0-.884"})]})},i=(0,o(340498).wt)("arrowChevronDoubleBackwardSmall",r,"small")},477660:(e,t,o)=>{function n(e){switch(null==e?void 0:e.type){case"url":case"email":case"phone_number":return e;default:return}}o.d(t,{z:()=>n})},511296:(e,t,o)=>{o.d(t,{T:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.03 0.85 9.94 14.3",svg:(0,o(474848).jsx)("path",{d:"M7.47 1.07a.75.75 0 0 1 1.06 0l.003.002L12.73 5.27a.75.75 0 1 1-1.06 1.06L8 2.66 4.33 6.33a.75.75 0 1 1-1.06-1.06zm0 13.86-4.2-4.2a.75.75 0 0 1 1.06-1.06L8 13.34l3.67-3.67a.75.75 0 0 1 1.06 1.06l-4.195 4.195-.005.005a.75.75 0 0 1-1.046.014"})},r=(0,o(340498).wt)("arrowChevronDoubleUpAndDownFillSmall",n,"fillSmall")},563692:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,xMarkFillSmallIcon:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.03 3.03 9.94 9.94",svg:(0,o(474848).jsx)("path",{d:"M12.73 4.33a.75.75 0 1 0-1.06-1.06L8 6.94 4.33 3.27a.75.75 0 1 0-1.06 1.06L6.94 8l-3.67 3.67a.75.75 0 1 0 1.06 1.06L8 9.06l3.67 3.67a.75.75 0 0 0 1.06-1.06L9.06 8z"})},r=(0,o(340498).wt)("xMarkFillSmall",n,"fillSmall")},573451:(e,t,o)=>{o.d(t,{C:()=>r});var n=()=>o(590894);function r(e){const{store:t,transient:o}=e;n().A.setState({isActive:!0,store:t,transient:Boolean(o)})}},595465:(e,t,o)=>{o.d(t,{T:()=>i,m:()=>r});var n=()=>o(79926);const r=new(n().O2)("formPropertyRenderer",(()=>Promise.all([o.e(71562),o.e(38293),o.e(59111)]).then(o.bind(o,718499)))),i=(0,n().jQ)(r,(e=>e.default))},604747:(e,t,o)=>{o.d(t,{f:()=>_});var n=o(296540),r=()=>o(907258),i=()=>o(59226),l=()=>o(726637),s=()=>o(312788),a=()=>o(402014),c=()=>o(484714),u=()=>o(590526),d=()=>o(401497),p=()=>o(406094),y=()=>o(26697),f=()=>o(584262),m=()=>o(662984),S=()=>o(69708),x=()=>o(100622),b=()=>o(284371),h=()=>o(66129),v=()=>o(908201),g=()=>o(999140),j=()=>o(492414),w=()=>o(40524),k=()=>o(330297),I=()=>o(468882),C=o(474848);const P=(0,S().YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"}});function _(e){const t=(0,S().tz)(),{navigate:o}=(0,n.useContext)(s().E),{store:_,handleOpenPeekPage:T,showLabel:E,showIcon:R}=e,B=(0,c().v3)(),M=(0,v().Ks)(),A=(0,u().K8)((()=>{const e=void 0!==M?g().hH(M):"full_page";return(0,I().lA)(e,!1)}),[M]),L=(0,n.useCallback)((()=>(0,j().Ef)({environment:B,updates:{store:_,fullyQualified:!0,pageVisitSource:f().y8.LinkInPage}})),[B,_]),W=(0,n.useCallback)((()=>{const{mainEditorCurrentBlockStore:e}=r().default.state;return g().wy({environment:B,store:(0,h().z)(_),mainEditorCurrentBlockStore:e,collectionContextStore:M,fullyQualified:!1})}),[B,M,_]),F=(0,n.useCallback)((e=>{if(e.metaKey||e.ctrlKey)o({environment:B,url:L(),openInNew:"tab"});else{const e=l().A.isMobile?L():W();if(!e)return;null==T||T(),o({environment:B,url:e})}}),[B,W,L,T,o]),V=(0,n.useCallback)((e=>{1===e.button&&o({environment:B,url:L(),openInNew:"tab"})}),[B,L,o]),K=(0,n.useCallback)((e=>{(0,a().SQ)(e,a().y$.EditorMouseDown,(()=>{e.preventDefault()}))}),[]),{startDwell:z,stopDwell:H}=(0,k().C)(w().T.short),D=(0,n.useCallback)((()=>z(B.currentUser.id,_.id)),[z,B.currentUser.id,_.id]),O=(0,n.useCallback)((()=>H()),[H]),Q=(0,i().X)("title_property_peek_button_redesign"),q=(0,d().IS)((()=>({buttonStyle:{color:x().Tj.text.secondary,fill:x().Tj.text.secondary,fontFamily:b().Tf.sans,...!E&&{width:26},background:x().Tj.whiteButtonBackground,border:void 0,fontSize:12,fontWeight:b().Wy.medium,textTransform:"uppercase",letterSpacing:.5,borderRadius:Q&&l().A.isMobile?"50%":4,height:Q&&l().A.isMobile?28:20,width:Q&&l().A.isMobile?28:void 0,display:"flex",paddingInlineStart:4,paddingInlineEnd:4},buttonHoveredStyle:{background:x().Tj.whiteButtonHoveredBackground},buttonPressedStyle:{background:x().Tj.whiteButtonPressedBackground}})),[E,Q]),N=(0,n.useCallback)((()=>A.tooltip),[A.tooltip]),U=n.useMemo((()=>R?Q&&l().A.isMobile?{icon:m().arrowExpandDiagonalBottomLeftToTopRightSmallIcon,size:"sm",colorVariant:"tertiary"}:{icon:A.icon,size:"default",colorVariant:"secondary"}:void 0),[Q,A.icon,R]),J=(0,n.useCallback)((e=>(0,C.jsx)("div",{onAuxClick:V,onMouseDown:K,onMouseEnter:D,onMouseLeave:O,role:"button",tabIndex:0,children:(0,C.jsx)(p().A,{onClick:F,iconLeading:U,ariaLabel:A.tooltip,size:"sm",style:q.buttonStyle,hoveredStyle:q.buttonHoveredStyle,pressedStyle:q.buttonPressedStyle,...e,children:E?t.formatMessage(P.openAsPageTitle):void 0})})),[V,K,D,O,F,U,A.tooltip,q.buttonStyle,q.buttonHoveredStyle,q.buttonPressedStyle,E,t]);return(0,C.jsx)(y().m,{renderTooltip:N,render:J})}},625194:(e,t,o)=>{o.d(t,{m:()=>l});var n=o(296540),r=()=>o(96330),i=o(474848);const l=n.memo((function(e){const{textValue:t}=e,o=(0,n.useMemo)((()=>(0,r().X1)((0,r().eC)(t))),[t]);return(0,i.jsx)("span",{children:o})}))},650632:(e,t,o)=>{o.d(t,{BP:()=>B,Qz:()=>E,RM:()=>R,Um:()=>P,g$:()=>C,nr:()=>j,v:()=>I,vy:()=>T,wW:()=>k,y9:()=>_,zI:()=>w});var n=o(296540),r=()=>o(726637),i=()=>o(484714),l=()=>o(590526),s=()=>o(401497),a=()=>o(273648),c=()=>o(187696),u=()=>o(604995),d=()=>o(416504),p=()=>o(559653),y=()=>o(968021),f=()=>o(802229),m=()=>o(564883),S=()=>o(971003),x=()=>o(153364),b=()=>o(513996),h=()=>o(712354),v=o(474848);const g=n.memo((0,n.forwardRef)((function(e,t){const{store:r,onContextMenu:a,editButtonClickProps:c,quickActionButtons:u,EmptyComponent:d,buttonStyle:p,property:y,width:m,formQuestionStore:x,userExpandable:b}=e,{baseStyles:h,propertySchema:g,propertyFormat:w}=(0,n.useContext)(S().L8),k=(0,f().DZ)(r,y,g),I=(0,i().v3)(),C=(0,l().K8)((()=>r.isInLibraryBlock()),[r]),P=g,_=j(r,null==P?void 0:P.type,y,I.currentUser.id),T=(0,s().IS)((()=>({buttonStyle:{...h.buttonStyle,...p},buttonPressedStyle:h.buttonPressedStyle??{},buttonHoveredStyle:h.buttonHoveredStyle??{}})),[h.buttonHoveredStyle,h.buttonPressedStyle,h.buttonStyle,p]);if(!_&&void 0===d&&void 0===k)return null;let E;if(k)E=(0,v.jsx)(o(877750).e,{templateVariableType:k.templateVariable});else if(_||void 0===d){const e=(null==w?void 0:w.date_format)??(null==P?void 0:P.date_format),t=(null==w?void 0:w.time_format)??(null==P?void 0:P.time_format),n=C&&("last_edited_time"===(null==P?void 0:P.type)||"created_time"===(null==P?void 0:P.type));E=(0,v.jsx)(o(431616).C,{children:(0,v.jsx)(o(586117).b,{dateValue:_,dateFormat:e,timeFormat:t,store:r,property:y,formatWithUltraCompactRelativeFormat:n})})}else E=(0,v.jsx)(d,{});return(0,v.jsx)(o(381176).P,{ref:t,style:T.buttonStyle,hoveredStyle:T.buttonHoveredStyle,pressedStyle:T.buttonPressedStyle,onContextMenu:a,editButtonClickProps:c,quickActionButtons:u,width:m,formQuestionStore:x,userExpandable:b,children:E})})));function j(e,t,o,n){return(0,l().K8)((()=>{switch(t){case"created_time":const t=e.getCreatedTime();return t?u().KQ(t,(0,d().P)()):void 0;case"last_edited_time":const r=e.getLastEditedTime();return r?u().KQ(r,(0,d().P)()):void 0;case"last_visited_time":if(!n)return;const i=a()._.createChildStore(e,{table:p().F9,id:(0,p().$5)({parent_id:e.id,user_id:n}),spaceId:e.getSpaceId()}).getVisitedAt();return i?u().KQ(i,(0,d().P)()):void 0;default:const l=e.getPropertyValue(o);return(0,c().b)(l)}}),[o,e,t,n])}const w=(0,n.forwardRef)((function(e,t){const{store:o,property:l,surface:a}=e,{isPhone:c}=(0,i().Y0)(),u=(0,s().IS)((()=>({buttonStyle:{...(0,y()._Q)({isPhone:c}).page.text}})),[c]),d=(0,n.useMemo)((()=>{if(!r().A.isMobile)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m().qO,{store:o,property:l},"workflow-autofill"),(0,v.jsx)(x().k,{},"comment"),(0,v.jsx)(b().i,{store:o,property:l,surface:a},"copy")]})}),[a,l,o]),p=M(e,t,u);return(0,v.jsx)(g,{...p,EmptyComponent:h().ao,quickActionButtons:d})})),k=(0,n.forwardRef)((function(e,t){const{store:o,property:l,surface:a}=e,{isPhone:c}=(0,i().Y0)(),{shouldWrap:u}=(0,n.useContext)(S().L8),d=(0,s().IS)((()=>({buttonStyle:{...(0,y()._Q)({isPhone:c}).table.text}})),[c]),p=(0,n.useMemo)((()=>{if(!r().A.isMobile)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m().qO,{store:o,property:l},"workflow-autofill"),(0,v.jsx)(x().k,{},"comment"),(0,v.jsx)(b().i,{store:o,property:l,surface:a},"copy")]})}),[a,l,o]),f=M(e,t,d);return(0,v.jsx)(g,{...f,EmptyComponent:h().rW,quickActionButtons:p,userExpandable:u})})),I=(0,n.forwardRef)((function(e,t){const{store:o,property:l,surface:a}=e,{isPhone:c}=(0,i().Y0)(),u=(0,s().IS)((()=>({buttonStyle:{...(0,y()._Q)({isPhone:c}).compact_page.text}})),[c]),d=(0,n.useMemo)((()=>{if(!r().A.isMobile)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x().k,{},"comment"),(0,v.jsx)(b().i,{store:o,property:l,surface:a},"copy")]})}),[a,l,o]),p=M(e,t,u);return(0,v.jsx)(g,{...p,EmptyComponent:h().ao,quickActionButtons:d})})),C=(0,n.forwardRef)((function(e,t){const{showIfEmpty:n}=e,r=M(e,t,(0,o(999943).F)(t,e.collectionStore,e.property,"date"));return(0,v.jsx)(g,{...r,EmptyComponent:n?h().Jb:void 0})})),P=(0,n.forwardRef)((function(e,t){const{showIfEmpty:o}=e,n=(0,i().WS)(),r=M(e,t,(0,s().IS)((()=>({buttonStyle:{...(0,y()._Q)({isPhone:n}).card.text}})),[n]));return(0,v.jsx)(g,{...r,EmptyComponent:o?h().Jb:void 0})})),_=(0,n.forwardRef)((function(e,t){const o=M(e,t);return(0,v.jsx)(g,{...o})})),T=(0,n.forwardRef)((function(e,t){const o=M(e,t);return(0,v.jsx)(g,{...o})})),E=(0,n.forwardRef)((function(e,t){const o=M(e,t);return(0,v.jsx)(g,{...o})})),R=(0,n.forwardRef)((function(e,t){const o=M(e,t);return(0,v.jsx)(g,{...o})})),B=(0,n.forwardRef)((function(e,t){const o=M(e,t);return(0,v.jsx)(g,{...o,EmptyComponent:h().Fe})}));function M(e,t,o){const{store:n,collectionStore:r,property:i,onContextMenu:l,width:s}=e;return{ref:t,store:n,collectionStore:r,property:i,editButtonClickProps:(0,f().QK)(e),onContextMenu:l,buttonStyle:null==o?void 0:o.buttonStyle,width:s}}},662984:(e,t,o)=>{o.r(t),o.d(t,{arrowExpandDiagonalBottomLeftToTopRightSmallIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.46 2.46 11.08 11.08",svg:(0,o(474848).jsx)("path",{d:"M8.912 2.463a.625.625 0 1 0 0 1.25h2.491L8.358 6.758a.625.625 0 1 0 .884.884l3.045-3.045v2.49a.625.625 0 1 0 1.25 0v-4a.625.625 0 0 0-.625-.624zM7.64 8.36a.625.625 0 0 0-.885 0l-3.042 3.043V8.912a.625.625 0 1 0-1.25 0v4c0 .345.28.625.625.625h4a.625.625 0 0 0 0-1.25H4.597l3.042-3.043a.625.625 0 0 0 0-.883"})},r=(0,o(340498).wt)("arrowExpandDiagonalBottomLeftToTopRightSmall",n,"small")},714574:(e,t,o)=>{o.d(t,{P:()=>r});var n=()=>o(308195);function r(e){const{store:t}=e;"new"===n().A.state.editMode&&n().A.state.store.id===t.id&&n().A.reset()}},739041:(e,t,o)=>{o.d(t,{u:()=>r});var n=()=>o(314529);function r(e,t,o){(0,n().DO_NOT_USE_trackLegacy)(e,t,o)}},752773:(e,t,o)=>{o.d(t,{W:()=>f});o(296540);var n=()=>o(590526),r=()=>o(401497),i=()=>o(807449),l=()=>o(493552),s=()=>o(26697),a=()=>o(898244),c=()=>o(251846),u=()=>o(69708),d=()=>o(999140),p=()=>o(3700),y=o(474848);function f({blockStore:e,collectionContextStore:t,wrapperStyle:o}){const f=(0,n().O$)(t.currentSubitemFormatStoreForCollectionStore),m=(0,n().K8)((()=>(0,d().Dj)({store:e,collectionContextStore:t})),[t,e]),S=(0,n().K8)((()=>{if(!f||!m)return;const e=m.getSchema()[f.property];return void 0!==e&&(0,a().nC)(e)?e:void 0}),[m,f]),x=(0,r().IS)((()=>({wrapper:{display:"inline-flex",alignItems:"center",gap:2,verticalAlign:" text-top",paddingInlineEnd:8,...o}})),[o]),b=(0,n().K8)((()=>f&&S?(0,p().rt)({store:e,subitemFormat:f,propertySchema:S}).length:0),[e,f,S]);return(0,n().K8)((()=>(0,p().Kk)({collectionContextStore:t,blockStore:e})),[t,e])&&0!==b?(0,y.jsx)(s().m,{renderTooltip:()=>(0,y.jsx)(u().sA,{id:"subitemCountIndicator.tooltip",defaultMessage:"{count, plural, one {# sub-item} other {# sub-items}}",values:{count:b}}),render:e=>(0,y.jsxs)("span",{...e,style:x.wrapper,children:[(0,y.jsx)(i().I,{icon:c().F,size:"sm",colorVariant:"secondary"}),(0,y.jsx)(l().D,{colorVariant:"tertiary",styleKey:"bodySmMedium",children:b})]})}):null}},843787:(e,t,o)=>{o.d(t,{JK:()=>i});var n=()=>o(79926);const r={EdgeManagerContext:new(n().O2)("EdgeManagerContext",(()=>Promise.all([o.e(75134),o.e(64756),o.e(42510)]).then(o.bind(o,566563)))),RelationPropertyWithEdges:new(n().O2)("RelationPropertyWithEdges",(()=>Promise.all([o.e(75134),o.e(64756),o.e(71003),o.e(68395),o.e(51696),o.e(82202),o.e(91562)]).then(o.bind(o,39931)))),RelationPropertyOverlayWithEdges:new(n().O2)("RelationPropertyOverlayWithEdges",(()=>Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(62475),o.e(3151),o.e(98629),o.e(64756),o.e(18113),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(11676),o.e(94522),o.e(38293),o.e(63515),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(6769),o.e(64242),o.e(39986),o.e(47160),o.e(76677),o.e(68609),o.e(15553),o.e(77345),o.e(79340),o.e(42056),o.e(3261),o.e(54219),o.e(68395),o.e(96654),o.e(68643),o.e(27083),o.e(96385),o.e(82202),o.e(33490)]).then(o.bind(o,406851))))},i=((0,n()._h)(r.EdgeManagerContext,(e=>e.EdgeManagerProvider)),(0,n().jQ)(r.RelationPropertyWithEdges,(e=>e.RelationPropertyWithEdges)),(0,n().jQ)(r.RelationPropertyOverlayWithEdges,(e=>e.RelationPropertyRendererWithEdges)))},880263:(e,t,o)=>{o.d(t,{Dd:()=>_,ER:()=>C,I8:()=>h,S1:()=>v,V6:()=>w,_Z:()=>P,ej:()=>k,h3:()=>g,jd:()=>b,nD:()=>j,xV:()=>I,zg:()=>S});o(581454);var n=o(296540),r=()=>o(590526),i=()=>o(401497),l=()=>o(713998),s=()=>o(802229),a=()=>o(564883),c=()=>o(346863),u=()=>o(971003),d=()=>o(153364),p=()=>o(712354),y=()=>o(96409),f=o(474848);const m=[],S=n.memo((0,n.forwardRef)((function(e,t){const{buttonStyle:s,editButtonClickProps:a,property:c,EmptyComponent:d,onContextMenu:p,tokenLimit:y,tokenLimitThreshold:S,store:b,quickActionButtons:h,width:v,limitTokensToSingleTruncatedLine:g,userExpandable:j,formQuestionStore:w,collectionSchema:k,generateButtonStyles:I}=e,{propertySchema:C,baseStyles:P,shouldRenderTooltip:_}=(0,n.useContext)(u().L8),T=(0,o(496645).Ug)(null==P?void 0:P.tokenFormat),E=C,R=(null==E?void 0:E.options)??m,B=null==E?void 0:E.type,M=(0,r().K8)((()=>b.getPropertyValue(c)),[b,c]),[A,L]=(0,n.useMemo)((()=>{let e=[];if("select"===B){const t=l().fF(M,R);e=t?[t]:[]}else e=l().J4(M,R);w&&(e=e.map((e=>({...e,color:"default"}))));const t=void 0!==y,o=void 0===S||e.length>=S,n=t&&o;return[n?e.slice(0,y):e,n?e.slice(y):[]]}),[B,y,S,M,R,w]),W=void 0!==w&&A.length>0,F=(0,i().IS)((()=>({buttonStyle:{...P.buttonStyle,...s,...(null==I?void 0:I(0===A.length))||{}},buttonPressedStyle:P.buttonPressedStyle??{},buttonHoveredStyle:P.buttonHoveredStyle??{},overflowIndicator:{marginInlineEnd:4,color:o(100622).Tj.text.secondary},tooltip:{padding:8},remainderPropertiesContainer:{display:"flex",flexWrap:"wrap",fontWeight:"normal",width:"max-content",maxWidth:"240px",gap:4},selectToken:{margin:0},tokenContainer:g?{display:"flex",flexWrap:"nowrap",...o(284371).RC}:{alignItems:"center"},moreToken:{margin:0,...g?{flexShrink:0}:{}},propertyValuesWrapper:{width:"100%",display:W?"inline-flex":void 0,justifyContent:"space-between",alignItems:"center"},chevronIcon:{marginInlineEnd:-4,flexShrink:0}})),[P.buttonHoveredStyle,P.buttonPressedStyle,P.buttonStyle,s,I,g,A.length,W]);return null!=A&&A.length||void 0!==d?(0,f.jsx)(o(381176).P,{ref:t,editButtonClickProps:a,onContextMenu:p,style:F.buttonStyle,hoveredStyle:F.buttonHoveredStyle,pressedStyle:F.buttonPressedStyle,quickActionButtons:h,width:v,userExpandable:j,formQuestionStore:w,collectionSchema:k,children:null!=A&&A.length||void 0===d?(0,f.jsxs)("div",{style:F.propertyValuesWrapper,children:[(0,f.jsx)(x,{shownOptions:A,hiddenOptions:L,tokenLimit:y,tokenFormat:T,styles:F,store:b,property:c,parentHasTooltip:_}),W?(0,f.jsx)("div",{style:F.chevronIcon,children:(0,f.jsx)(o(807449).I,{icon:o(511296).T,size:"sm",colorVariant:"tertiary"})}):null]}):(0,f.jsx)(d,{})}):null})));function x({shownOptions:e,hiddenOptions:t,tokenLimit:n,styles:r,tokenFormat:l,store:s,property:a,parentHasTooltip:c}){const u=(0,i().eP)(),d=(0,o(358167).v)({blockId:null==s?void 0:s.id,propertyId:a}),p=(0,o(213828).s)({propertyId:a,store:s}),m=Boolean(p),S=(0,i().IS)((()=>{const e=m||d?{...(0,o(924703).sQ)(u),paddingTop:4,paddingBottom:4,flexWrap:"wrap",lineHeight:2,display:"inline"}:{},t=m||d?{marginInlineStart:3,marginInlineEnd:3,maxWidth:"fit-content",display:"inline-flex"}:{};return{tokenContainer:{...e,...r.tokenContainer},selectTokenHighlightStyle:t}}),[d,r.tokenContainer,u,m]);return(0,f.jsxs)(o(586295).h,{style:S.tokenContainer,className:p,children:[e.map((e=>(0,f.jsx)(y().X,{type:"select",value:e.value,description:e.description,color:e.color,shouldShrink:Boolean(n),style:S.selectTokenHighlightStyle,shouldShowTooltip:!c},e.id))),t.length>0?(0,f.jsx)(o(26697).m,{style:r.tooltip,renderTooltip:()=>(0,f.jsx)("div",{style:r.remainderPropertiesContainer,children:t.map((e=>(0,f.jsx)(y().X,{type:"select",value:e.value,color:e.color,shouldShrink:!1},e.id)))}),isLightBackground:!0,textWrap:!0,alignment:"center",placement:"bottom",render:e=>(0,f.jsx)("div",{...e,children:(0,f.jsx)(o(795354).A,{count:t.length,format:l,fixedHeight:!1,style:r.moreToken,isCompact:!0})})}):void 0]})}const b=(0,n.forwardRef)((function(e,t){const{store:o,property:r}=e,{shouldWrap:i}=(0,n.useContext)(u().L8),l=(0,n.useMemo)((()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a().qO,{store:o,property:r},"workflow-autofill"),(0,f.jsx)(c().b,{store:o,property:r,openOverlay:!0},"autofill"),(0,f.jsx)(d().k,{},"comment")]})),[r,o]),s=_(e,t);return(0,f.jsx)(S,{...s,EmptyComponent:p().rW,quickActionButtons:l,userExpandable:i})})),h=(0,n.forwardRef)((function(e,t){const o=_(e,t),{store:r,property:i}=e,l=(0,n.useMemo)((()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a().qO,{store:r,property:i},"workflow-autofill"),(0,f.jsx)(c().b,{store:r,property:i,openOverlay:!0},"autofill"),(0,f.jsx)(d().k,{},"comment")]})),[i,r]);return(0,f.jsx)(S,{...o,EmptyComponent:p().ao,quickActionButtons:l})})),v=(0,n.forwardRef)((function(e,t){const o=_(e,t),{store:r,property:i}=e,l=(0,n.useMemo)((()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c().b,{store:r,property:i,openOverlay:!0},"autofill"),(0,f.jsx)(d().k,{},"comment")]})),[i,r]);return(0,f.jsx)(S,{...o,EmptyComponent:p().ao,tokenLimit:1,quickActionButtons:l,limitTokensToSingleTruncatedLine:!0})})),g=(0,n.forwardRef)((function(e,t){const{showIfEmpty:n}=e,r=_(e,t,(0,o(999943).F)(t,e.collectionStore,e.property,"multi_select"));return(0,f.jsx)(S,{...r,EmptyComponent:n?p().Jb:void 0})})),j=(0,n.forwardRef)((function(e,t){const{showIfEmpty:n}=e,i=_(e,t),{tokenLimit:l,tokenLimitThreshold:s}=(0,r().K8)((()=>(0,o(354032).fr)(e.collectionViewStore)),[e.collectionViewStore]);return(0,f.jsx)(S,{...i,EmptyComponent:n?p().Jb:void 0,tokenLimit:l,tokenLimitThreshold:s})})),w=(0,n.forwardRef)((function(e,t){const o=_(e,t);return(0,f.jsx)(S,{...o})})),k=(0,n.forwardRef)((function(e,t){const o=_(e,t);return(0,f.jsx)(S,{...o})})),I=(0,n.forwardRef)((function(e,t){const o=_(e,t);return(0,f.jsx)(S,{...o})})),C=(0,n.forwardRef)((function(e,t){const o=_(e,t);return(0,f.jsx)(S,{...o})})),P=(0,n.forwardRef)((function(e,t){const o=_(e,t);return(0,f.jsx)(S,{...o,EmptyComponent:p().Fe,tokenLimit:1})}));function _(e,t,o){const{store:n,collectionStore:r,property:i,onContextMenu:l,width:a}=e;return{ref:t,store:n,collectionStore:r,property:i,editButtonClickProps:(0,s().QK)(e),onContextMenu:l,buttonStyle:null==o?void 0:o.buttonStyle,width:a}}},913687:(e,t,o)=>{o.d(t,{A:()=>n});const n=(0,o(69708).YK)({inputPlaceholder:{defaultMessage:"Property name",id:"database.viewSettings.propertyTab.propertyName"},autofillOffLabel:{defaultMessage:"Off",id:"database.viewSettings.propertyTab.autofillOffLabel"},autofillOnLabel:{defaultMessage:"On",id:"database.viewSettings.propertyTab.autofillOnLabel"},keptUpToDateWithNotionAITooltip:{defaultMessage:"Auto-updated by AI",id:"database.tableHeaderCell.tooltipAiAutofillDescription"},buttonPropertyErrorTooltip:{defaultMessage:"Button property has an error",id:"database.tableHeaderCell.tooltipButtonPropertyError"},offlineWarningFormula:{id:"database.tableHeaderCell.offlineWarning.formula",defaultMessage:"Formula results may not be accurate when offline"},offlineWarningAutoUpdate:{id:"database.tableHeaderCell.offlineWarning.autoUpdate",defaultMessage:"Content will not auto-update when offline"},usersAndGroups:{defaultMessage:"Users and groups",id:"database.personProperty.notifications.usersAndGroups"},usersOnly:{defaultMessage:"Users only",id:"database.personProperty.notifications.usersOnly"},none:{defaultMessage:"None",id:"database.personProperty.notifications.none"},itemNameSingular:{defaultMessage:"Singular",id:"database.viewSettings.propertyTab.itemName.singular"},itemNamePlural:{defaultMessage:"Plural",id:"database.viewSettings.propertyTab.itemName.plural"}})},921123:(e,t,o)=>{o.r(t),o.d(t,{archiveBoxFillIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,o(474848).jsx)("path",{d:"M3.125 4.25c0-.621.504-1.125 1.125-1.125h11.5c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125H4.25A1.125 1.125 0 0 1 3.125 5.75zm1 3.875h11.75v7.625c0 .621-.504 1.125-1.125 1.125h-9.5a1.125 1.125 0 0 1-1.125-1.125zM8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25z"})},r=(0,o(340498).wt)("archiveBoxFill",n,"fill")},988662:(e,t,o)=>{o.d(t,{g:()=>S});var n=o(296540),r=()=>o(484714),i=()=>o(590526),l=()=>o(401497),s=()=>o(807449),a=()=>o(631524),c=()=>o(575287),u=()=>o(340498),d=()=>o(100622),p=()=>o(182641),y=()=>o(299545),f=()=>o(372154),m=o(474848);function S({store:e,iconStyle:t,size:o,buttonStyle:S}){const x=(0,r().v3)(),b=(0,n.useRef)(null),h=(0,i().K8)((()=>y().oC(e,{recursivelyLoadAllDiscussions:!1})),[e]),{menuOpen:v,menuStoreId:g}=(0,i().K8)((()=>{const e=f().A.state.open;return{menuOpen:e,menuStoreId:e?f().A.state.blockStore.id:void 0}}),[]),j=(0,n.useCallback)((()=>{var t;v&&g===e.id?p().xl():(p().xl(),p().B4({environment:x,blockStore:e,shouldFocusDiscussion:!0,analyticsFrom:"db_page_comments",rect:null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect(),recursivelyLoadAllDiscussions:!1}))}),[v,g,x,e]),w=(0,l().IS)((()=>({iconStyle:{fill:d().Tj.icon.secondary}})),[]);return 0===h?null:(0,m.jsx)(a().p,{"aria-label":"Open comments",ref:b,size:"xs",style:S,onClick:j,children:(0,m.jsxs)("div",{style:t,children:[(0,m.jsx)(s().I,{icon:c()._,size:o??u().Ev.sm,style:{marginInlineEnd:3,fill:w.iconStyle.fill}}),h]})})}},989184:(e,t,o)=>{o.d(t,{Z:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.85 1.57 9.98 12.06",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M7.442 1.758a.625.625 0 0 0-.884 0l-3.52 3.52a.625.625 0 1 0 .884.884l2.453-2.453V11.8c0 1.008.817 1.825 1.825 1.825h4a.625.625 0 1 0 0-1.25h-4a.575.575 0 0 1-.575-.575V3.709l2.453 2.453a.625.625 0 0 0 .884-.884z"})},r=(0,o(340498).wt)("arrowTurnLeftUpSmall",n,"small")}}]);