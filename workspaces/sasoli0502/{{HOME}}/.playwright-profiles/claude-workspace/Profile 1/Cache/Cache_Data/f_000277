"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[31478,32626,48486,97651,99171],{18726:(e,t,o)=>{o.d(t,{C:()=>T});o(944114);var a=o(296540),n=()=>o(726637),r=()=>o(484714),i=()=>o(590526),s=()=>o(401497),l=()=>o(250910),c=()=>o(807449),d=()=>o(695115),u=()=>o(546926),p=()=>o(26697),g=()=>o(302501),m=()=>o(890492),f=()=>o(81068),v=()=>o(663639),h=()=>o(736847),b=()=>o(589407),y=()=>o(126617),S=()=>o(69708),x=()=>o(100622),M=()=>o(534177),_=()=>o(848259),w=()=>o(279922),k=()=>o(12591),j=()=>o(900652),I=()=>o(371015),A=()=>o(212326),C=o(474848);function T({sizeVariant:e="default"}){const t=(0,S().tz)(),o="small"===e?y().ellipsisSmallIcon:b().ellipsisIcon,a=(0,i().K8)((()=>{const e=A().dl(),{currentTab:t,isCurrentTabEmpty:o}=w().Ay.state;if("all_updates"===e||"archived_only"===e||"mentions"!==t||o)return;const{containsUnreadNotifications:a,containsBothReadAndUnreadNotifications:n}=w().Ay.state;return{containsUnreadNotifications:a,containsBothReadAndUnreadNotifications:n,showOnlyUnreadNotifications:"unread_only"===e}}),[]),r=(0,j().zg)(n().A.isMobile?"default":e),c=(0,s().IS)((()=>({button:n().A.isMobile?{height:30,width:30}:r.button,popup:{...n().A.isMobile&&{borderStartStartRadius:12,borderStartEndRadius:12,overflow:"hidden"}},ellipsisIcon:{...r.icon,...n().A.isMobile&&{fill:x().Tj.icon.primary}}})),[r]);if(!a)return null;const u=t.formatMessage({defaultMessage:"More actions",id:"inbox.ellipsisButton.tooltip"});return(0,C.jsx)(l().A,{style:c.popup,popupType:n().A.isMobile?l().z.SlideUp:l().z.Popup,renderOrigin:({onClick:e})=>(0,C.jsx)(p().m,{renderTooltip:()=>u,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:a=>(0,C.jsx)(d().A,{ariaLabel:t.formatMessage(z.moreActionsButtonAriaLabel),icon:o,iconStyle:c.ellipsisIcon,style:c.button,onClick:e,...a})}),render:e=>(0,C.jsx)(B,{...a,closePopup:e.close}),alignmentToOrigin:"start",originGap:2})}function B(e){const{containsUnreadNotifications:t,containsBothReadAndUnreadNotifications:o,showOnlyUnreadNotifications:i,closePopup:s}=e,l=(0,r().v3)(),c=(0,r().Y0)(),d=["markAllAsRead"];i?d.push("archiveUnread"):(d.push("archiveAll"),o&&d.push("archiveRead"));const p=(0,a.useCallback)((()=>{_().cZ(l),I().hY(l)}),[l]),f=(0,a.useCallback)((e=>{let t="none";"archiveAll"===e?t="none":"archiveUnread"===e?t="unread":"archiveRead"===e&&(t="read"),_().xd(l,{readFilter:t}),I().Sy(l,"mentions",t)}),[l]),b=(0,k().C)();return(0,C.jsx)(m().A,{menuType:u().gu.Popup,height:c.isTablet?"100%":n().A.isMobile?"50vh":void 0,maxWidth:n().A.isMobile?"100vw":void 0,maxHeight:c.isTablet?"100%":void 0,header:n().A.isMobile?(0,C.jsx)(g().A,{style:b.header,isSmall:!n().A.isMobile,isSecondaryColor:!n().A.isMobile,children:(0,C.jsx)(S().sA,{id:"inbox.moreActionsMenu.header",defaultMessage:"Actions"})}):void 0,minWidth:250,scrollerStyle:b.menuScroller,children:(0,C.jsx)(v().A,{type:v().O.Vertical,sections:[{key:"inbox global actions",render:e=>(0,C.jsx)(h().A,{...e,topBorder:0!==e.index,style:b.sectionMenuItem}),items:d.map(((e,o)=>({key:e,render:a=>{const r=o===d.length-1,i=n().A.isMobile&&r;return"archiveAll"===e||"archiveRead"===e||"archiveUnread"===e?(0,C.jsx)(D,{...a,archiveActionType:e,showTransparentButtonMenuItemDivider:i}):"markAllAsRead"===e?(0,C.jsx)(R,{...a,showTransparentButtonMenuItemDivider:i,containsUnreadNotifications:t}):void(0,M().HB)(e)},action:()=>{s(),"archiveAll"===e||"archiveUnread"===e||"archiveRead"===e?f(e):"markAllAsRead"===e?p():(0,M().HB)(e)}})))}],initialFocus:void 0,onAccept:()=>s()})})}const R=a.forwardRef(((e,t)=>{const{containsUnreadNotifications:a,showTransparentButtonMenuItemDivider:n,...r}=e,s=(0,i().K8)((()=>o(179534).A.getUnreadCountForSidebarSpace().mentions>0),[]),l=!(a||s),d=(0,k().C)();return(0,C.jsx)(p().m,{placement:"left",disableTooltip:!l,renderTooltip:()=>(0,C.jsx)(S().sA,{defaultMessage:"All notifications have been marked as read.",id:"updatesModal.spaceUpdatesTab.markAllReadButton.disabledTooltip"}),render:e=>(0,C.jsx)(f().A,{...(0,o(383036).A)(r,e),ref:t,icon:(0,C.jsx)(c().I,{icon:o(29037).checkmarkIcon,style:d.icon}),title:(0,C.jsx)(S().sA,{defaultMessage:"Mark all as read",id:"updatesModal.spaceUpdates.mentionsTab.markAllReadButtonTitle"}),titleStyle:d.title,disabled:l,disabledFeedback:l,style:{...d.buttonMenuItem,...n&&d.transparentButtonMenuItemBorder}})})}));R.displayName="InboxMarkReadButtonMenuItem";const D=a.forwardRef(((e,t)=>{const{archiveActionType:a,showTransparentButtonMenuItemDivider:n,...r}=e,i=(0,k().C)(),s="archiveRead"===a;return(0,C.jsx)(f().A,{...r,ref:t,icon:s?(0,C.jsx)(c().I,{icon:o(961265).r,style:i.icon}):(0,C.jsx)(c().I,{icon:o(934999).archiveBoxIcon,style:i.icon}),title:(()=>{switch(a){case"archiveAll":return(0,C.jsx)(S().sA,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdatesTab.archiveAll.tooltip"});case"archiveUnread":return(0,C.jsx)(S().sA,{defaultMessage:"Archive unread",id:"updatesModal.spaceUpdatesTab.archiveUnread.tooltip"});case"archiveRead":return(0,C.jsx)(S().sA,{defaultMessage:"Archive read",id:"updatesModal.spaceUpdatesTab.archiveRead.tooltip"});default:(0,M().HB)(a)}})(),titleStyle:i.title,style:{...i.buttonMenuItem,...n&&i.transparentButtonMenuItemBorder}})}));D.displayName="InboxArchiveButtonMenuItem";const z=(0,S().YK)({moreActionsButtonAriaLabel:{defaultMessage:"More actions",id:"inbox.button.moreActionsButtonAriaLabel"}})},22634:(e,t,o)=>{o.d(t,{O:()=>r});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"4.42 3.97 12.16 12.06",directional:!0,svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m5.492 4.158 5.4 5.4a.625.625 0 0 1 0 .884l-5.4 5.4a.625.625 0 1 1-.884-.884L9.566 10 4.608 5.042a.625.625 0 1 1 .884-.884"}),(0,a.jsx)("path",{d:"m16.392 10.442-5.4 5.4a.625.625 0 0 1-.884-.884L15.066 10l-4.958-4.958a.625.625 0 0 1 .884-.884l5.4 5.4a.625.625 0 0 1 0 .884"})]})},r=(0,o(340498).wt)("arrowChevronDoubleForward",n,"default")},24126:(e,t,o)=>{o.d(t,{c:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,o(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},n=(0,o(340498).wt)("beaker",a,"default")},59110:(e,t,o)=>{o.r(t),o.d(t,{loadLocalSubtree:()=>x});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949);var a=()=>o(726637),n=()=>o(700500),r=()=>o(175482),i=()=>o(777447),s=()=>o(792071),l=()=>o(976618),c=()=>o(388821),d=()=>o(277153),u=()=>o(912720),p=()=>o(199378),g=()=>o(179034),m=()=>o(519831),f=()=>o(869558),v=()=>o(37165),h=()=>o(144081),b=()=>o(743246),y=()=>o(201980),S=()=>o(534177);function x(e){const{environment:t,blockId:o,inMemoryRecordCache:a,options:n}=e,r=t.currentUser.id,i=c().RecordMap.create(),s=new Set,l=[{pointer:{table:g().ev,id:o},parentId:"doesn't matter"}];for(;l.length>0;){const e=l.shift();if(!e)continue;if(s.has(e.pointer.id))continue;const t=o===e.pointer.id,c=M({pointer:e.pointer,recordMap:i,inMemoryRecordCache:a,currentUserId:r,cursors:l,cursor:e,options:n,isRootRequest:t});if(c)return c;s.add(e.pointer.id)}return{type:"success",recordMap:i}}function M(e){const{pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w,isRootRequest:k}=e;let j;return(0,d().Yt)(t,g().ev)?j=function(e){var t,o,l,c;const{pointer:d,recordMap:p,inMemoryRecordCache:m,currentUserId:v,cursors:h,cursor:x,options:M,isRootRequest:_}=e,w=m.getRecord({pointer:d,userId:v}),k=null==w?void 0:w.value;if(!k)return M.requireFullSubtree?{type:"error",reason:"missing_record",pointer:d}:void 0;const j=M.excludeCrdtData?r().ir(k):k;if(M.includeLegacyTransclusionBlockValues){if(!_&&j.parent_id!==x.parentId&&!x.isBlockContentChild)return}else if(!_&&j.parent_id!==x.parentId)return;if(j.type===n().xd.externalObjectInstance&&!M.allowCopyExternalObjectInstances)return{type:"error",reason:"encountered_external_object_instance",pointer:d};if(p.setValue(d,j),!M.skipNavigableChildren){const e=s().Bj6.fromBlock(j).getCollectionPointers();for(const t of e){const e=m.getRecord({pointer:t,userId:v});var I,A;if(e)(null===(I=e.value)||void 0===I?void 0:I.parent_table)===g().ev&&(null===(A=e.value)||void 0===A?void 0:A.parent_id)===j.id&&h.push({pointer:t,parentId:j.id});else if(M.requireFullSubtree)return{type:"error",reason:"missing_record",pointer:t}}if(j.view_ids)for(const t of j.view_ids)h.push({pointer:{table:f().Gy,id:t,spaceId:j.space_id},parentId:j.id})}if(!(M.skipBlockContent||M.skipTransclusionContainerChildren&&"transclusion_container"===j.type||M.skipNavigableChildren&&(0,n().$I)(j.type))){const e=s().Bj6.fromBlock(j).getRenderableContentIds();for(const t of e)h.push({pointer:{table:g().ev,id:t},parentId:j.id,isBlockContentChild:!0})}const C=s().Bj6.fromBlock(j).getNonContentChildren();for(const a of C)h.push({pointer:{table:g().ev,id:a},parentId:j.id,isBlockContentChild:!0});if(j.type===n().xd.externalObjectInstance){var T,B;const e=(null===(T=j.format)||void 0===T?void 0:T.related_external_object_uris_to_instance_ids)&&Object.values(null===(B=j.format)||void 0===B?void 0:B.related_external_object_uris_to_instance_ids)||[];for(const t of e)h.push({pointer:{table:g().ev,id:t,spaceId:j.space_id},parentId:j.id})}if(!M.skipNavigableChildren&&j.properties){const e=Object.values(j.properties).filter(S().O9);for(const t of e)for(const e of t)for(const t of y().uPN(e)){if(y().jIt(t)){const e=y().v55(t);h.push({pointer:{table:g().ev,id:e},parentId:j.id})}if(y().sh$(t)){const e=y().cQR(t),o=(0,i().lX)({url:e,baseUrl:a().A.domainBaseUrl,publicDomainName:a().A.publicDomainName});o&&h.push({pointer:{table:g().ev,id:o},parentId:j.id})}if(y().N53(t)){const e=y().T$c(t);e&&h.push({pointer:{table:g().ev,id:e,spaceId:j.space_id},parentId:j.id})}}}"form"===j.type&&null!==(t=j.format)&&void 0!==t&&t.form_layout_pointer&&h.push({pointer:j.format.form_layout_pointer,parentId:j.id});null!==(o=j.format)&&void 0!==o&&o.automation_id&&h.push({pointer:{table:u().yB,id:j.format.automation_id,spaceId:j.space_id},parentId:j.id});null!==(l=j.format)&&void 0!==l&&l.workflow_id&&h.push({pointer:{table:b().C0,id:j.format.workflow_id,spaceId:j.space_id},parentId:j.id});null!==(c=j.format)&&void 0!==c&&c.ai_instructions_page_pointer&&h.push({pointer:j.format.ai_instructions_page_pointer,parentId:j.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w,isRootRequest:k}):(0,d().Yt)(t,m().Vl)?j=function(e){var t,o;const{pointer:a,recordMap:n,inMemoryRecordCache:r,currentUserId:i,cursors:s,cursor:l,options:c}=e;if(!c.allowCopyCollections)return{type:"error",reason:"encountered_collection",pointer:a};const d=r.getRecord({pointer:a,userId:i});if(null==d||!d.value)return c.requireFullSubtree?{type:"error",reason:"missing_record",pointer:a}:void 0;if(d.value.parent_id!==l.parentId)return;const p=d.value;n.setValue(a,p),r.forEachRecord(i,(({model:e})=>{e.table===g().ev&&e&&e.parent_id===a.id&&e.alive&&s.push({pointer:e.pointer,parentId:a.id})}));const m=(null===(t=p.format)||void 0===t?void 0:t.automation_ids)??[];for(const g of m)s.push({pointer:{table:u().yB,id:g,spaceId:p.space_id},parentId:p.id});p.schema&&Object.values(p.schema).forEach((e=>{e&&"button"===e.type&&e.automation_id&&s.push({pointer:{id:e.automation_id,spaceId:p.space_id,table:u().yB},parentId:p.id})}));null!==(o=p.format)&&void 0!==o&&o.layout_pointer&&s.push({pointer:p.format.layout_pointer,parentId:p.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w}):(0,d().Yt)(t,f().Gy)?j=function(e){var t,o;const{pointer:a,recordMap:n,inMemoryRecordCache:r,currentUserId:i,cursors:s,cursor:l,options:c}=e,d=r.getRecord({pointer:a,userId:i});if(null==d||!d.value)return c.requireFullSubtree?{type:"error",reason:"missing_record",pointer:a}:void 0;if(d.value.parent_id!==l.parentId)return;"form_editor"===d.value.type&&null!==(t=d.value.format)&&void 0!==t&&t.form_block_pointer&&s.push({pointer:d.value.format.form_block_pointer,parentId:d.value.id});null!==(o=d.value.format)&&void 0!==o&&o.dashboard_layout_pointer&&s.push({pointer:d.value.format.dashboard_layout_pointer,parentId:d.value.id});n.setValue(a,d.value)}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w}):(0,d().Yt)(t,u().yB)?j=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:a,currentUserId:n,cursors:r,cursor:i,options:s}=e,l=a.getRecord({pointer:t,userId:n});if(null==l||!l.value)return s.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;if(l.value.parent_id!==i.parentId)return;o.setValue(t,l.value);for(const c of l.value.action_ids??[])r.push({pointer:{table:p().SC,id:c,spaceId:l.value.space_id},parentId:l.value.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w}):(0,d().Yt)(t,p().SC)?j=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:a,currentUserId:n,cursors:r,cursor:i,options:s}=e,l=a.getRecord({pointer:t,userId:n});if(null==l||!l.value)return s.requireFullSubtree?{type:"error",reason:"missing_record",pointer:i.pointer}:void 0;if(l.value.parent_id!==i.parentId)return;o.setValue(t,l.value);for(const c of l.value.blocks??[])r.push({pointer:{table:g().ev,id:c,spaceId:l.value.space_id},parentId:l.value.id})}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w}):(0,d().Yt)(t,b().C0)?j=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:a,currentUserId:n,cursor:r,options:i}=e,s=a.getRecord({pointer:t,userId:n});if(null==s||!s.value)return i.requireFullSubtree?{type:"error",reason:"missing_record",pointer:r.pointer}:void 0;if(s.value.parent_id!==r.parentId)return;o.setValue(t,s.value)}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursor:_,options:w}):(0,d().Yt)(t,h().zx)?j=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:a,currentUserId:n,cursors:r,options:i}=e,c=a.getRecord({pointer:t,userId:n}),d=null==c?void 0:c.value;if(!d)return i.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;o.setValue(t,d);const u=s().Bj6.fromValue(h().zx,d);for(const s of u.getBlockChildrenPointers())r.push({pointer:s,parentId:t.id});const p=e=>{const o={id:e.collection_view_id,table:f().Gy,spaceId:d.space_id};return r.push({pointer:o,parentId:t.id}),e};(0,l().E)(d.modules,(e=>{if("formQuestion"===e.type){const o={id:e.formQuestionId,table:v().lo,spaceId:d.space_id};r.push({pointer:o,parentId:t.id})}else if("view"===e.type)p(e);else if("row"===e.type)for(const t of e.modules)"view"===t.type&&p(t)}))}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w}):(0,d().Yt)(t,v().lo)&&(j=function(e){const{pointer:t,recordMap:o,inMemoryRecordCache:a,currentUserId:n,options:r}=e,i=a.getRecord({pointer:t,userId:n});if(null==i||!i.value)return r.requireFullSubtree?{type:"error",reason:"missing_record",pointer:t}:void 0;o.setValue(t,i.value)}({pointer:t,recordMap:o,inMemoryRecordCache:c,currentUserId:x,cursors:M,cursor:_,options:w})),j}},90932:(e,t,o)=>{o.d(t,{E:()=>r});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"4.45 2.17 11.09 15.43",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M10 2.175A2.875 2.875 0 0 0 7.125 5.05v3.6a2.875 2.875 0 1 0 5.75 0v-3.6A2.875 2.875 0 0 0 10 2.175M8.375 5.05a1.625 1.625 0 0 1 3.25 0v3.6a1.625 1.625 0 1 1-3.25 0z"}),(0,a.jsx)("path",{d:"M5.604 10.891a.625.625 0 1 0-1.028.71 6.58 6.58 0 0 0 4.799 2.82v1.929H5.95a.625.625 0 1 0 0 1.25h8.1a.625.625 0 0 0 0-1.25h-3.425v-1.93a6.58 6.58 0 0 0 4.799-2.818.625.625 0 1 0-1.029-.71 5.33 5.33 0 0 1-4.393 2.308h-.004a5.33 5.33 0 0 1-4.394-2.309"})]})},r=(0,o(340498).wt)("microphone",n,"default")},112282:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightUpIcon:()=>n,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.37 12.06 15.26",svg:(0,o(474848).jsx)("path",{d:"M9.792 2.41a.6.6 0 0 0-.234.148l-5.4 5.4a.625.625 0 1 0 .884.884l4.333-4.333V17a.625.625 0 1 0 1.25 0V4.509l4.333 4.333a.625.625 0 1 0 .884-.884l-5.4-5.4a.62.62 0 0 0-.65-.147"})},n=(0,o(340498).wt)("arrowStraightUp",a,"default")},147294:(e,t,o)=>{o.d(t,{Ee:()=>f,J1:()=>u,oG:()=>p});o(296540);var a=()=>o(907258),n=()=>o(59226),r=()=>o(590526),i=()=>o(401497),s=()=>o(970236),l=()=>o(69708),c=o(474848);const d={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5},personal_home_sidebar_item:{launchDateMs:17470944e5,expiryDateMs:175392e7},collection_property_reminder:{launchDateMs:1751958e6,expiryDateMs:17552628e5},get_notified_onboarding_tooltip:{launchDateMs:17520228e5,expiryDateMs:17591904e5},conditional_color_feature:{launchDateMs:17537472e5,expiryDateMs:17563392e5},web_clipper_new_tab_settings:{launchDateMs:17471808e5,expiryDateMs:18149184e5},my_meetings:{launchDateMs:17578944e5,expiryDateMs:17657568e5},workspace_connections_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5},external_agents_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5},permissions_tab:{launchDateMs:17578944e5,expiryDateMs:18149184e5}};function u({style:e}){const t=(0,i().IS)((()=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...e}})),[e]);return(0,c.jsx)(s().E,{color:"blue",style:t.badge,content:(0,c.jsx)(l().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){return(0,r().K8)((()=>{const{launchDateMs:t,expiryDateMs:o}=d[e],{currentUserSettingsStore:n}=a().default.state;if(n&&n.isReady()){var r;const e=null===(r=n.getSettings())||void 0===r?void 0:r.signup_time;if(e&&e>t)return!1}return Date.now()<=o}),[e])}function g({style:e,newBadgeKey:t}){return p(t)?(0,c.jsx)(u,{style:e}):null}function m({style:e,newBadgeKey:t}){return(0,n().X)(t)?(0,c.jsx)(u,{style:e}):null}function f(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,c.jsx)(m,{...e}):(0,c.jsx)(g,{...e})}},158115:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleRightFillSmallIcon:()=>n,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"5.54 2.94 5.81 10.11",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M11.13 8.53a.75.75 0 0 0 0-1.06L6.81 3.15a.75.75 0 0 0-1.06 1.06L9.54 8l-3.79 3.79a.75.75 0 0 0 1.06 1.06z"})},n=(0,o(340498).wt)("arrowChevronSingleRightFillSmall",a,"fillSmall")},173783:(e,t,o)=>{o.d(t,{A:()=>s});o(296540);var a=()=>o(807449),n=()=>o(888867),r=()=>o(497577),i=o(474848);function s(e){const t=(0,r().E)(e);return(0,i.jsx)("div",{style:t.iconContainer,children:(0,i.jsx)(a().I,{icon:n().s,size:t.icon.width,colorVariant:"secondary"})})}},174422:(e,t,o)=>{o.d(t,{A:()=>T});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);var a=o(296540),n=()=>o(484714),r=()=>o(590526),i=()=>o(86159),s=()=>o(69708),l=()=>o(100622),c=()=>o(209199),d=()=>o(496603),u=()=>o(534177),p=()=>o(720665),g=()=>o(661920),m=()=>o(35392),f=()=>o(747100),v=()=>o(822789),h=()=>o(770906),b=()=>o(900652),y=()=>o(941463),S=()=>o(441199),x=()=>o(440024),M=()=>o(712505),_=()=>o(869562),w=()=>o(644914),k=()=>o(749687),j=()=>o(737230),I=o(474848);const A=new Set(["page","secondary_sidebar"]),C=600;const T=function({type:e,sidebarRef:t}){const l=(0,s().tz)(),p=(0,n().v3)(),[g,m]=(0,o(819121).A)(),f=(0,a.useRef)(null),v=(0,o(93583).A)(g,f),h=(0,a.useRef)(!1),b=(0,a.useCallback)((()=>function(e){z({isResizing:!1},e)}(e)),[e]),S=(0,a.useCallback)((()=>function(e,t,o,a){o.current||U(t,e);z({isResizing:!1},t)}(p,e,h)),[p,e]),M=(0,a.useCallback)((o=>{if(t.current)return function(e,t,o,a,n){switch(i().clear(t),n.current=!0,a){case"page":_().setWidth({width:P(e.currentX,o,a),environment:t});break;case"update":_().setUpdateWidth({width:P(e.currentX,o,a),environment:t});break;case"peek":_().setPeekWidth({width:P(e.currentX,o,a),environment:t});break;case"secondary_sidebar":y().Ay.setWidth(P(e.currentX,o,a));break;default:(0,u().HB)(a)}}(o,p,t.current,e,h)}),[p,e,t]),j=(0,a.useCallback)((()=>function(e,t,o){(0,x().I)({environment:e}),o.current=!1,z({...k().sidebarResizingStore.state,isResizing:!0},t)}(p,e,h)),[p,e]),{device:C}=p,T=(0,r().O$)(o(230062).A),E=(0,r().K8)((()=>({cursor:"col-resize",height:"100%",width:12})),[e]),N=(0,r().K8)((()=>function(e,t){const o=(0,w().KB)(t),a="peek"===e||"update"===e;return{position:"absolute",insetInlineStart:a?0:void 0,insetInlineEnd:a?void 0:0,width:1,flexGrow:0,zIndex:"peek"===e?109:1,top:o?0:-1,bottom:o?0:-1,pointerEvents:"auto",backfaceVisibility:"hidden"}}(e,p)),[e,p]),V=(0,r().K8)((()=>{const t=D(e),o=function(e,t){const o=R(e),a=B(e);if(a===o)return 0;return(t-a)/(o-a)}(e,t);return o}),[e]),O=(0,a.useRef)(!1),[H,K]=(0,a.useState)(null);function W(e){K(e.clientY)}const Y=(0,a.useCallback)((()=>{z({isResizerHovered:O.current||m},e)}),[m,e]);function $(){O.current=!0,Y()}function G(){O.current=!1,Y()}(0,a.useEffect)((()=>{Y()}),[m,Y]);const q=(0,a.useCallback)((()=>{t.current&&F(10,t.current,e,p)}),[e,p,t]),X=(0,a.useCallback)((()=>{t.current&&F(-10,t.current,e,p)}),[e,p,t]),Q=(0,c().A1)()&&!A.has(e)||!(0,c().A1)()&&A.has(e)?"left":"right",J="left"===Q?X:q,Z="left"===Q?q:X,ee=(0,a.useCallback)((()=>{U(e,p)}),[e,p]);return T||C.isChromebook?null:(0,I.jsx)(o(782482).N,{capture:m,debugName:"SidebarResizer",onLeft:J,onRight:Z,onUp:d().D_,onDown:d().D_,onTab:d().D_,onUntab:d().D_,onEnter:ee,children:(0,I.jsx)(o(26697).m,{renderTooltip:()=>(0,I.jsx)(L,{type:e}),delayThreshold:0,originRectTransform:e=>H?new DOMRect(e.left,H,0,0):e,placement:"page"===e||"secondary_sidebar"===e?"right":"left",originGap:10,render:e=>(0,I.jsx)("div",{style:N,...(0,o(383036).A)(e,{onMouseMove:$,onMouseLeave:G,onMouseEnter:W}),children:(0,I.jsx)(o(222321).A,{onDraggableDragStart:j,onDraggableDragMove:M,onDraggableDragEnd:S,onDraggableDragCancel:b,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,I.jsx)("div",{ref:v,role:"separator",tabIndex:0,"aria-label":l.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*V),"aria-valuemin":0,"aria-valuemax":100,style:E,...e})})})})})};function B(e){switch(e){case"page":return(0,v().hw)()?k().SLIPPERY_SLOPE_SIDEBAR_MIN_WIDTH:k().SIDEBAR_MIN_WIDTH;case"update":return j().Iz;case"peek":return M().SIDEPEEK_MIN_WIDTH;case"secondary_sidebar":return y().WR;default:(0,u().HB)(e)}}function R(e){switch(e){case"page":return(0,v().hw)()?C:480;case"secondary_sidebar":return y().y8;case"update":return w().aL;case"peek":return(0,f().QX)();default:(0,u().HB)(e)}}function D(e){switch(e){case"page":return k().sidebarWidthStore.state;case"secondary_sidebar":const t=k().sidebarExpandedStore.state,o=b().n5();return t?k().sidebarWidthStore.state+o:o;case"update":return j().Ay.state.width;case"peek":return M().default.state.preferredSidePeekWidth;default:(0,u().HB)(e)}}function z(e,t){switch(t){case"page":k().sidebarResizingStore.update((t=>({...t,...e})));break;case"update":j().Ay.update((t=>({...t,...e})));break;case"secondary_sidebar":S().default.update((t=>({...t,...e})));break;case"peek":break;default:(0,u().HB)(t)}}function E(e,t){const o=R(t),a=B(t);return(0,p().qE)(e,a,o)}function P(e,t,o){let a;const n=(0,c().A1)();switch(o){case"page":a=n?window.innerWidth-e:e;break;case"secondary_sidebar":const r=k().sidebarExpandedStore.state?k().sidebarWidthStore.state:0;a=n?window.innerWidth-e-r:e-r;break;case"peek":case"update":const i=t.getBoundingClientRect();a=n?e-i.left:i.right-e;break;default:(0,u().HB)(o)}return E(a,o)}function L({type:e}){const t=(0,n().v3)(),o=(0,r().K8)((()=>function(e,t){switch(e){case"page":return(0,w().KB)(t);case"update":return(0,w().Nk)(t);case"peek":return M().default.state.open;case"secondary_sidebar":return S().default.isOpen();default:(0,u().HB)(e)}}(e,t)),[e,t]),a=l().Tj.text.inverseSecondary,i=(0,I.jsx)(m().A,{name:"toggleSidebar"}),c=e=>(0,I.jsx)("span",{style:{color:a},children:e});let d;if(o)switch(e){case"secondary_sidebar":case"update":d=(0,I.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage.noShortcut",values:{invertedcolor:c,keyboardShortcut:i}});break;default:d=(0,I.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage",values:{invertedcolor:c,keyboardShortcut:i}})}else d=(0,I.jsx)(s().sA,{defaultMessage:"Lock open <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.lockMessage",values:{invertedcolor:c,keyboardShortcut:i}});return(0,I.jsxs)(I.Fragment,{children:[d?(0,I.jsxs)(I.Fragment,{children:[d,(0,I.jsx)("br",{})]}):null,(0,I.jsx)(s().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"sidebarResizer.tooltip.resizeMessage",values:{invertedcolor:c,keyboardShortcut:i}})]})}function U(e,t){switch(e){case"page":_().setExpand({environment:t,isExpanded:!k().sidebarExpandedStore.state,from:"sidebar_resizer",saveDetailsSidebarPreference:!0}),k().sidebarOpenStore.setState(!1);break;case"update":_().setUpdateExpand({environment:t,isExpanded:!(0,w().Nk)(t),from:"drag",saveDetailsSidebarPreference:!0});break;case"peek":g().VN({environment:t,from:"resizer_click"});break;case"secondary_sidebar":h().VI({environment:t});break;default:(0,u().HB)(e)}}function F(e,t,o,a){const n=D(o)+e;switch(o){case"page":_().setWidth({width:E(n,o),environment:a});break;case"update":_().setUpdateWidth({width:E(n,o),environment:a});break;case"peek":_().setPeekWidth({width:E(n,o),environment:a});break;case"secondary_sidebar":const e=k().sidebarExpandedStore.state?k().sidebarWidthStore.state:0;y().Ay.setWidth(E(n-e,o));break;default:(0,u().HB)(o)}}},175882:(e,t,o)=>{o.r(t),o.d(t,{exclamationMarkTriangleSmallIcon:()=>r,iconDefinition:()=>n});o(296540);var a=o(474848);const n={viewBox:"0 0 16 16",fittedViewBox:"1.49 1.87 13.01 11.75",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M7.9 5.281a.625.625 0 0 0-.625.625v2.5a.625.625 0 0 0 1.25 0v-2.5a.625.625 0 0 0-.625-.625m0 4.7a.725.725 0 1 0 0 1.45.725.725 0 0 0 0-1.45"}),(0,a.jsx)("path",{d:"M9.58 2.788c-.702-1.217-2.458-1.217-3.16 0l-4.677 8.1c-.702 1.216.176 2.737 1.58 2.737h9.354c1.405 0 2.283-1.52 1.58-2.738zm-2.078.625a.575.575 0 0 1 .996 0l4.677 8.1a.575.575 0 0 1-.498.862H3.324a.575.575 0 0 1-.498-.863z"})]})},r=(0,o(340498).wt)("exclamationMarkTriangleSmall",n,"small")},198123:(e,t,o)=>{o.d(t,{V:()=>a});o(898992),o(581454),o(908872);const a=new(o(607780).n)(((e,{spaceId:t,searchQuery:o="no-search-query"})=>`${e.currentUser.id}:${t}:${o}`),(async(e,t)=>{const{spaceId:a,searchQuery:n}=t,r=await e.api.callApi({eventName:"getCustomAgents",environment:e,data:{spaceId:a,filter:"all",searchQuery:n||void 0,includeDeleted:!0}});if("success"===r.type){const n=r.data.agentIds.map((t=>new(o(350013).N)(e,{table:o(743246).C0,id:t,spaceId:a}))),i=r.data.mostRecentTranscripts.reduce(((t,n)=>(t[n.parent_id]=new(o(463086).E)(e,{table:o(234459).To,id:n.id,spaceId:a}),t)),{}),s=[{key:(0,o(921997).o1)(t),version:-1}];return{value:{agents:n,mostRecentThreads:i},dependencies:r.data.dependencies??s}}}))},205809:(e,t,o)=>{o.d(t,{K:()=>de});var a=o(296540),n=()=>o(564884),r=()=>o(907258),i=()=>o(59226),s=()=>o(312788),l=()=>o(381175),c=()=>o(484714),d=()=>o(590526),u=()=>o(401497),p=()=>o(79926),g=()=>o(699143),m=()=>o(250910),f=()=>o(807449),v=()=>o(695115),h=()=>o(546926),b=()=>o(26697),y=()=>o(890492),S=()=>o(81068),x=()=>o(663639),M=()=>o(736847),_=()=>o(584262),w=()=>o(529099),k=()=>o(383567),j=()=>o(324254),I=()=>o(107620),A=()=>o(282110),C=()=>o(859384),T=()=>o(90932),B=()=>o(619403),R=()=>o(177148),D=()=>o(585608),z=()=>o(357927),E=()=>o(300755),P=()=>o(421559),L=()=>o(551171),U=()=>o(340498),F=()=>o(206267),N=()=>o(955104),V=()=>o(69708),O=()=>o(100622),H=()=>o(153094),K=()=>o(981475),W=()=>o(35392),Y=()=>o(619553),$=()=>o(854513),G=()=>o(192359),q=()=>o(512726),X=()=>o(789370),Q=()=>o(47373),J=()=>o(492414),Z=()=>o(272509),ee=()=>o(38554),te=()=>o(1130),oe=()=>o(310526),ae=()=>o(356204),ne=()=>o(563615),re=()=>o(222800),ie=()=>o(599412),se=()=>o(749687),le=o(474848);const ce=(0,V().YK)({moreOptionsTooltip:{id:"sidebar.createPageButton.moreOptions",defaultMessage:"More options"},moreOptionsSecondaryTooltip:{id:"sidebar.createPageButton.moreOptionsSecondary",defaultMessage:"Pick a type"},newTooltip:{id:"sidebar.createPageButton.newTooltip",defaultMessage:"New..."}});function de({from:e,onClick:t,iconStyle:o}){const de=(0,c().v3)(),ue=(0,V().tz)(),pe=(0,d().O$)(r().AppStoreSidebarSpaceStore),ge=(0,a.useRef)(null),{currentUserRootStore:me,currentUserStore:fe}=(0,d().K8)((()=>({currentUserRootStore:r().default.state.currentUserRootStore,currentUserStore:r().default.state.currentUserStore})),[]),ve=(0,d().K8)((()=>(0,Z().I)(pe)),[pe]),he=(0,p().fJ)($().$),be=(0,p().fJ)(H().BC),{navigate:ye}=(0,a.useContext)(s().E),Se=(0,d().O$)(r().AppStoreSidebarSpaceViewStore),xe=(0,d().K8)((()=>(0,Q().i3)({spaceStore:pe,spaceViewStore:Se,userRootStore:me,currentUserStore:fe})),[pe,me,fe,Se]),Me=(0,i().X)("sidebar_add_new_pages_to_bottom"),_e=(0,ee().U)(),we=(0,d().K8)((()=>(0,X().x)()),[]),ke=(0,G().p8)(),je=(0,a.useCallback)((()=>{(0,n().u)({environment:de,event:{eventName:"open_sidebar_new_page_menu",eventProperties:{from:e}}})}),[de,e]),Ie=(0,a.useCallback)((()=>{const e=de.RouterStore.state.route;"chat"!==e.name&&"ai"!==e.name&&K().globalChatPanelRuntimeStore.setState({...K().globalChatPanelRuntimeStore.state,fullPageChatSourceUrl:window.location.href}),ye({environment:de,url:"/ai"}),t&&t()}),[de,ye,t]);(0,a.useEffect)((()=>{const e=()=>{se().sidebarAnimatingStore.state&&ge.current&&ge.current.setOpen(!1)};return se().sidebarAnimatingStore.addListener(e),()=>{se().sidebarAnimatingStore.removeListener(e)}}),[]);const Ae=(0,u().IS)((()=>({shortcutLabel:{color:O().Tj.text.inverseSecondary},slipperySlopeHovered:{background:O().Tj.gray.background.secondaryTranslucent},button:{width:"fit-content",height:28,borderRadius:4},icon:{width:U().Ev.lg,height:U().Ev.lg,fill:O().Tj.text.primary,...o},iconDisabled:{opacity:.4},hovered:{background:O().Tj.sidebarItemSelectedBackground},splitButtonContainer:{display:"flex",alignItems:"center"},mainButton:{width:28,height:28,borderRadius:4},chevronButton:{width:16,height:28,borderRadius:4},chevronIcon:{width:U().Ev.xs,height:U().Ev.xs,fill:O().Tj.icon.secondary},secondaryTooltip:{color:O().Tj.text.inverseSecondary}})),[o]),Ce=(0,d().K8)((()=>(0,ae().w)(Se)),[Se]),Te=(0,Q().ke)(),{canCreate:Be}=(0,re().V)();if("sidebar_new_page_button"===e&&xe&&(ve||Ce))return(0,le.jsx)(v().A,{icon:C().M,ariaLabel:ue.formatMessage(ie().e.label),onClick:()=>{q().A.open()},style:Ae.button,iconStyle:{...Ae.icon,...Ae.iconDisabled}});const Re=async o=>{const a=(0,oe().U)(Se);if(ve&&!a)te().createOrJoinSpace(de,"sidebar_switcher");else{if(pe){const t=(0,l().V)(o),a=await(0,ie().M)({environment:de,from:e,event:o,navigateOnCreate:!t,prependPrivatePage:!Me});if(t&&a){const e=(0,J().Ay)({store:a,pageVisitSource:_().y8.SidebarQuickAdd});de.device.isElectron?(0,Y().B)({makeTabActive:!0,url:e,position:"end",openInNew:t,isNewPage:!0,environment:de}):ye({environment:de,url:e,openInNew:t})}"sidebar_private_pane"===e&&N().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}t&&t()}},De=[{key:"new_page",action:async({event:e})=>{await Re(e)},render:e=>(0,le.jsx)(S().A,{...e,title:ue.formatMessage({id:"sidebar.createPageButton.page",defaultMessage:"Page"}),icon:_e?(0,le.jsx)(f().I,{icon:R().Y}):(0,le.jsx)(f().I,{icon:B().pageFillIcon,colorPalette:"blue",colorVariant:"accentPrimary"})})},..._e?[{key:"ai_chat",action:Ie,render:e=>(0,le.jsx)(S().A,{...e,title:ue.formatMessage({id:"sidebar.createPageButton.chat",defaultMessage:"Chat"}),icon:_e?(0,le.jsx)(f().I,{icon:I().y}):(0,le.jsx)(f().I,{icon:A().B,colorPalette:"purple",colorVariant:"accentPrimary"})})}]:[],...we?[{key:"meeting_note",action:()=>{if(ve)return void te().createOrJoinSpace(de,"sidebar_switcher");if("resolved"!==he.status)return;const{createAndNavigateToTranscriptionBlock:o}=he.value;o({environment:de,from:e,title:"none"})&&"sidebar_private_pane"===e&&N().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}}),t&&t()},render:e=>(0,le.jsx)(S().A,{...e,title:ue.formatMessage(ke),icon:_e?(0,le.jsx)(f().I,{icon:T().E}):(0,le.jsx)(f().I,{icon:D().$,colorPalette:"red",colorVariant:"accentPrimary"}),loading:"pending"===he.status,..."resolved"!==he.status?{disabled:!0,disabledFeedback:!0}:{}})}]:[],{key:"new_database",action:({event:e})=>{if(ve&&!Ce)return void te().createOrJoinSpace(de,"sidebar_switcher");if("resolved"!==be.status)return;const{createNewDatabase:t}=be.value;t(de)},render:e=>(0,le.jsx)(S().A,{...e,title:ue.formatMessage({id:"sidebar.createPageButton.database",defaultMessage:"Database"}),icon:_e?(0,le.jsx)(f().I,{icon:P().T}):(0,le.jsx)(f().I,{icon:L().C,colorPalette:"orange",colorVariant:"accentPrimary"}),loading:"pending"===be.status,..."resolved"!==be.status?{disabled:!0,disabledFeedback:!0}:{}})},...Te&&Be?[{key:"new_custom_agent",action:async()=>{const e=await ne().WorkflowDeps.agentActions.load(),t=F().JW();await e.showCreationModal({analytics:{flowId:t,origin:"top_level_create_page_menu"}})},render:e=>(0,le.jsx)(S().A,{...e,title:ue.formatMessage({id:"sidebar.createPageButton.customAgent",defaultMessage:"Custom Agent"}),icon:_e?(0,le.jsx)(f().I,{icon:w().aiFaceIcon}):(0,le.jsx)(f().I,{icon:k().F})})}]:[],{key:"browse_templates",action:()=>{ye({environment:de,url:"/marketplace"})},render:e=>(0,le.jsx)(S().A,{...e,title:ue.formatMessage({id:"sidebar.createPageButton.browseTemplates",defaultMessage:"Templates"}),icon:_e?(0,le.jsx)(f().I,{icon:z().templatesIcon}):(0,le.jsx)(f().I,{icon:E().templatesFillIcon,colorVariant:"secondary"})})}],ze=De.findIndex((e=>"browse_templates"===e.key)),Ee=_e?[{key:"create_page_options",render:e=>(0,le.jsx)(M().A,{...e}),items:De}]:[{key:"create_page_options",render:e=>(0,le.jsx)(M().A,{...e}),items:De.slice(0,ze)},{key:"templates_section",render:e=>(0,le.jsx)(M().A,{...e,topBorder:!0}),items:De.slice(ze)}],Pe=e=>(0,le.jsx)(y().A,{menuType:h().gu.Popup,width:_e?175:200,children:(0,le.jsx)(x().A,{type:x().O.Vertical,sections:Ee,initialFocus:0,onAccept:()=>{e.close()}})});if(_e){const e=(0,le.jsxs)(g().Y1,{align:"center",gap:6,direction:"horizontal",children:[(0,le.jsx)("span",{children:ue.formatMessage(ce.newTooltip)}),de.device.isNative?(0,le.jsx)(W().A,{style:Ae.shortcutLabel,name:"newPage"}):null]});return(0,le.jsx)(m().A,{ref:ge,popupType:m().z.Popup,placementToOrigin:"bottom",alignmentToOrigin:"start",originGap:5,originRectTransform:e=>new DOMRect(e.x-6,e.y,e.width,e.height),onClick:je,renderOrigin:t=>(0,le.jsx)(b().m,{renderTooltip:()=>e,placement:"bottom",render:e=>(0,le.jsx)(v().A,{...e,...t,icon:C().M,ariaLabel:ue.formatMessage(ie().e.label),size:"lg",shape:"pill",iconStyle:Ae.icon,hoveredStyle:Ae.slipperySlopeHovered})}),render:Pe})}return(0,le.jsxs)("div",{style:Ae.splitButtonContainer,children:[(0,le.jsx)(b().m,{renderTooltip:()=>(0,le.jsxs)(le.Fragment,{children:[ue.formatMessage(ie().e.tooltip),de.device.isNative?(0,le.jsx)("div",{children:(0,le.jsx)(W().A,{style:Ae.shortcutLabel,name:"newPage"})}):void 0]}),originGap:6,placement:"right",render:e=>(0,le.jsx)(v().A,{...e,icon:C().M,ariaLabel:ue.formatMessage(ie().e.label),onClick:Re,style:Ae.mainButton,iconStyle:Ae.icon,hoveredStyle:Ae.hovered})}),(0,le.jsx)(m().A,{ref:ge,popupType:m().z.Popup,placementToOrigin:"bottom",originGap:6,originRectTransform:e=>new DOMRect(e.x-37,e.y,e.width,e.height),onClick:je,renderOrigin:e=>(0,le.jsx)(b().m,{renderTooltip:()=>(0,le.jsxs)("div",{children:[ue.formatMessage(ce.moreOptionsTooltip),(0,le.jsx)("div",{style:Ae.secondaryTooltip,children:ue.formatMessage(ce.moreOptionsSecondaryTooltip)})]}),originGap:6,placement:"right",render:t=>(0,le.jsx)(v().A,{...t,...e,icon:j().arrowChevronSingleDownSmallIcon,ariaLabel:ue.formatMessage(ce.moreOptionsTooltip),style:Ae.chevronButton,iconStyle:Ae.chevronIcon,hoveredStyle:Ae.hovered})}),render:Pe})]})}},222800:(e,t,o)=>{o.d(t,{$:()=>v,V:()=>f});o(581454);var a=()=>o(106702),n=()=>o(920198),r=()=>o(230711),i=()=>o(59226),s=()=>o(484714),l=()=>o(590526),c=()=>o(290247),d=()=>o(499172),u=()=>o(69708),p=()=>o(496603),g=()=>o(169626);const m=(0,u().YK)({permissionDeniedTooltip:{id:"permissions.agentCreation.denied",defaultMessage:"Contact a workspace owner to create agents"}});function f(){const e=(0,n().L)(),t=(0,a().$)(),o=(0,s().v3)(),u=(0,i().X)("agent_creation_permissions");return(0,l().K8)((()=>{if(!u)return{canCreate:!0};const a=null==e?void 0:e.getModel(),n=null==a?void 0:a.getSettings();if(!(e&&t&&a&&n))return{canCreate:!1,reason:"feature_disabled"};const i=(0,r().dp)(e,t.id).getMembershipTypeAsRoleOrNone(),s=c()._.getSpacePermissionGroupIds({userId:o.currentUser.id,spaceId:e.id}),l=(0,p().oE)(Array.from(s).map((e=>{const t=g().h.getGroup(e);if(t){const e=t.getSettings();return{settings:e?{can_create_custom_agents:e.can_create_custom_agents}:void 0}}}))),m={policy:n.custom_agent_creation_policy,userRole:i&&"none"!==i?i:void 0,userPermissionGroups:l};return(0,d().K)(m)}),[e,t,u,o])}function v(){const e=f(),t=(0,u().tz)().formatMessage(m.permissionDeniedTooltip);return{canCreate:e.canCreate,reason:e.reason,tooltipMessage:t}}},282110:(e,t,o)=>{o.d(t,{B:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.81 2.89 16.38 15.08",svg:(0,o(474848).jsx)("path",{d:"M10.441 2.907c4.513.182 7.747 3.144 7.748 6.947 0 3.802-3.235 6.765-7.748 6.947l-.44.009c-.88 0-1.711-.106-2.484-.3-1.35 1.023-2.986 1.62-4.827 1.428a.626.626 0 0 1-.406-1.033c.712-.817 1.096-1.737 1.284-2.641-1.115-1.198-1.756-2.734-1.756-4.41 0-3.926 3.448-6.956 8.189-6.956z"})},n=(0,o(340498).wt)("chatBubbleFill",a,"fill")},299177:(e,t,o)=>{o.d(t,{A:()=>r});class a extends(()=>o(757695))().Store{getInitialState(){return{}}}const n=new a;o(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",n);const r=n},300755:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,templatesFillIcon:()=>r});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.71 3.25 14.58 13.51",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m14.636 8.765 1.003 1.737a.93.93 0 0 0 .355-.73v-5.59a.934.934 0 0 0-.932-.932H9.239a.934.934 0 0 0-.932.932v5.6c0 .502.41.921.923.921h.752L11.1 8.765q.048-.083.109-.155a2.035 2.035 0 0 1 3.425.152z"}),(0,a.jsx)("path",{d:"M9.347 11.803H9.23a2.024 2.024 0 0 1-2.022-2.022V6.284a4.195 4.195 0 1 0 .538 8.295zm2.706-2.488L8.57 15.353a.931.931 0 0 0 .81 1.397h6.978a.934.934 0 0 0 .811-1.398l-3.484-6.037a.936.936 0 0 0-1.622 0z"})]})},r=(0,o(340498).wt)("templatesFill",n,"fill")},306474:(e,t,o)=>{o.d(t,{Q:()=>ke});o(944114);var a=o(296540),n=()=>o(664594),r=()=>o(920198),i=()=>o(907258),s=()=>o(484714),l=()=>o(590526),c=()=>o(401497),d=()=>o(75435),u=()=>o(882722),p=()=>o(631524),g=()=>o(26697),m=()=>o(863330),f=()=>o(206267),v=()=>o(706021),h=()=>o(69708),b=()=>o(100622),y=()=>o(534177),S=()=>o(284371),x=()=>o(695115),M=()=>o(617668),_=()=>o(140992),w=()=>o(36951),k=()=>o(166442),j=()=>o(770160),I=()=>o(900652),A=()=>o(150984),C=o(474848);const T=(0,h().YK)({newChatPlusIcon:{id:"assistantFullPageChat.newChat.ariaLabel",defaultMessage:"New AI chat"}});function B(){const e=(0,h().tz)(),t=(0,s().v3)(),o=I().zg(),a=(0,j().useThreadStoreFromCurrentRoute)();return(0,C.jsx)(g().m,{renderTooltip:()=>e.formatMessage(T.newChatPlusIcon),render:n=>(0,C.jsx)(x().A,{...n,icon:M().plusIcon,iconStyle:o.icon,style:o.button,ariaLabel:e.formatMessage(T.newChatPlusIcon),onClick:()=>{!function(e){const{environment:t,currentThreadStore:o}=e;(0,A().performSecondarySidebarAction)({environment:t,action:()=>{(0,_().Wq)({environment:t,clientStore:k().defaultClientAIChatStore}),(0,w().VK)({environment:t,oldThreadStore:o,newThreadStore:void 0})}})}({environment:t,currentThreadStore:a})}})})}var R=()=>o(18726),D=()=>o(920546),z=()=>o(885247),E=()=>o(205809),P=()=>o(528093),L=()=>o(704658),U=()=>o(860048),F=()=>o(563615),N=()=>o(222800),V=()=>o(660001),O=()=>o(333636),H=()=>o(770906),K=()=>o(465960);const W=(0,h().YK)({newTeamPlusIcon:{id:"sidebarTeamBrowser.newTeam.button",defaultMessage:"New teamspace"}});function Y(){const e=(0,h().tz)(),t=I().zg(),o=(0,a.useCallback)((()=>K().vn("team_browser")),[]);return(0,C.jsx)(g().m,{renderTooltip:()=>e.formatMessage(W.newTeamPlusIcon),render:a=>(0,C.jsx)(x().A,{...a,icon:M().plusIcon,iconStyle:t.icon,style:t.button,ariaLabel:e.formatMessage(W.newTeamPlusIcon),onClick:o})})}var $=()=>o(130119),G=()=>o(644914);const q=30;function X(e){const t=(0,s().v3)(),o=(0,s().Y0)(),{isElectron:a}=o,n=(0,l().O$)(d().b),r=(0,l().K8)((()=>(0,G().KB)(t)),[t]),i=!n&&!r&&a,u=(0,c().IS)((()=>({container:{...(0,$().g)({drag:!0}),flexShrink:0,height:q,width:"100%"}})),[]);return i?(0,C.jsx)("div",{style:u.container}):null}var Q=()=>o(923415),J=()=>o(371513),Z=()=>o(35392),ee=()=>o(869562);function te(e){const{style:t}=e,o=(0,s().v3)(),a=(0,h().tz)(),n=(0,l().O$)(d().b),{isTablet:r}=(0,s().Y0)(),i=(0,l().K8)((()=>!(0,G().KB)(o)&&!n),[o,n]),p=(0,I().zg)(),m=(0,c().IS)((()=>({button:{...p.button,...t,marginInlineStart:-7},keyboardShortcut:{color:b().Tj.text.inverseSecondary}})),[p,t]),f=a.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return i?(0,C.jsx)(g().m,{renderTooltip:()=>(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{children:f}),(0,C.jsx)(Z().A,{style:m.keyboardShortcut,name:"toggleSidebar"})]}),placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:e=>(0,C.jsx)(x().A,{ariaLabel:f,icon:r?J().b:Q().S,iconStyle:p.icon,style:m.button,onClick:()=>ee().setExpand({environment:o,isExpanded:!0,from:"topbar_sidebar_button",saveDetailsSidebarPreference:!0}),className:u().l5X,...e})}):null}var oe=()=>o(756117),ae=()=>o(387964),ne=()=>o(22634),re=()=>o(899963),ie=()=>o(279922),se=()=>o(371015),le=()=>o(212326),ce=()=>o(441199);function de(e){const{type:t}=e,o=(0,s().v3)(),{peekModeTooltipMessage:n,panelModeTooltipMessage:r}=function(e){const t=(0,h().tz)(),o={peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockInbox.tooltip",defaultMessage:"Lock inbox pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeInbox.tooltip",defaultMessage:"Close inbox pane"})};switch(e){case"inbox":case"none":return o;case"assistant":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockChatHistory.tooltip",defaultMessage:"Lock chat history open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeChatHistory.tooltip",defaultMessage:"Close chat history"})};case"private_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockPrivate.tooltip",defaultMessage:"Lock private pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closePrivate.tooltip",defaultMessage:"Close private pane"})};case"shared_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockShared.tooltip",defaultMessage:"Lock shared pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeShared.tooltip",defaultMessage:"Close shared pane"})};case"favorites_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockFavorites.tooltip",defaultMessage:"Lock favorites pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeFavorites.tooltip",defaultMessage:"Close favorites pane"})};case"teams":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockTeams.tooltip",defaultMessage:"Lock teamspaces pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeTeams.tooltip",defaultMessage:"Close teamspaces pane"})};case"agents":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockAgents.tooltip",defaultMessage:"Lock agents pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeAgents.tooltip",defaultMessage:"Close agents pane"})};default:(0,y().HB)(e)}}(t),i=(0,l().K8)((()=>ce().default.state.isMouseEntered),[]),d=(0,a.useCallback)((()=>{const e=H().oe();switch("peek"===e&&H().VI({environment:o}),t){case"inbox":const a={tab:(0,le().dl)(),unread_notifications_count:se().j0(),sessionId:ie().Ay.state.sessionId,...(0,G().hX)({environment:o})};return void re().x7(o,{view_type:e,section:t,...a});case"private_pages":case"shared_pages":case"favorites_pages":case"assistant":case"teams":case"agents":return void re().x7(o,{view_type:e,section:t,...(0,G().hX)({environment:o})});case"none":return;default:(0,y().HB)(t)}}),[o,t]),u=(0,l().K8)((()=>ce().default.state.mode),[]),p=I().zg(),m=(0,c().IS)((()=>({icon:{transform:"rotate(180deg)",...p.icon}})),[p]),f="peek"===u?n:r,v="panel"===u?ne().O:ae().S;return(0,C.jsx)(g().m,{renderTooltip:()=>f,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:e=>(0,C.jsx)(oe().A,{tag:x().A,animate:{opacity:i?1:0},ariaLabel:f,onClick:d,icon:v,iconStyle:m.icon,style:p.button,...e})})}var ue=()=>o(250910),pe=()=>o(582684),ge=()=>o(340498),me=()=>o(792485),fe=()=>o(546926),ve=()=>o(302501),he=()=>o(890492),be=()=>o(736847),ye=()=>o(636714),Se=()=>o(267271),xe=()=>o(541146);function Me(e){const{type:t,spaceViewStore:o,onClick:a}=e,n=(0,s().v3)(),r=(0,me().S)(),i=(0,c().IS)((()=>({header:{display:"flex",alignItems:"center",paddingInlineStart:16,paddingInlineEnd:16,paddingTop:10,fontSize:12,lineHeight:"16px",fontWeight:S().Wy.semibold,color:b().Tj.text.secondary}})),[]),l=(0,xe().useSortActions)({type:t,spaceViewStore:o,onSelect:a,outlinerLocation:"pane"}),d=[(0,Se().gy)({key:"sort",render:e=>(0,C.jsx)(be().A,{...e}),actions:l})];return(0,C.jsxs)(he().A,{menuType:fe().gu.Popup,children:[(0,C.jsx)(ve().A,{style:i.header,children:(0,C.jsx)(h().sA,{id:"secondarySidebar.sortMenu.headerLabel",defaultMessage:"Sort"})}),(0,C.jsx)(ye().A,{context:{blocks:[],environment:n,publicEditMode:void 0,analyticsFrom:"sidebar_sort_menu",pageContext:r},sections:d,initialFocus:void 0})]})}const _e=(0,h().YK)({favorites:{defaultMessage:"Sort favorite pages",id:"secondarySidebar.sortButton.tooltip.favorites"},teamspaces:{defaultMessage:"Sort teamspace pages",id:"secondarySidebar.sortButton.tooltip.teamspaces"},shared:{defaultMessage:"Sort shared pages",id:"secondarySidebar.sortButton.tooltip.shared"},private:{defaultMessage:"Sort private pages",id:"secondarySidebar.sortButton.tooltip.private"},workspace:{defaultMessage:"Sort workspace pages",id:"secondarySidebar.sortButton.tooltip.workspace"},agents:{defaultMessage:"Sort agents",id:"secondarySidebar.sortButton.tooltip.agents"},notion_apps:{defaultMessage:"Sort apps",id:"secondarySidebar.sortButton.tooltip.notionApps"},meetings_today:{defaultMessage:"Sort meetings",id:"secondarySidebar.sortButton.tooltip.meetingsToday"},myMeetings:{defaultMessage:"Sort meetings",id:"secondarySidebar.sortButton.tooltip.myMeetings"},recents:{defaultMessage:"Sort recent pages",id:"secondarySidebar.sortButton.tooltip.recents"}});function we({type:e}){const t=(0,h().tz)(),o=(0,l().O$)(i().AppStoreSidebarSpaceViewStore),a=(0,I().zg)(),n=(0,c().IS)((()=>({icon:{fill:b().Tj.icon.secondary,width:ge().Ev.lg,height:ge().Ev.lg}})),[]);if(!o)return(0,C.jsx)(C.Fragment,{});const r=t.formatMessage(_e[e]);return(0,C.jsx)(ue().A,{popupType:ue().z.Popup,renderOrigin:({onClick:e})=>(0,C.jsx)(g().m,{renderTooltip:()=>r,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:t=>(0,C.jsx)(x().A,{ariaLabel:r,icon:pe().arrowUpDownIcon,iconStyle:n.icon,onClick:e,style:a.button,...t})}),render:t=>(0,C.jsx)(Me,{onClick:t.close,type:e,spaceViewStore:o}),alignmentToOrigin:"start",originGap:2})}function ke(e){const{type:t,titleId:o}=e,n=(0,s().v3)(),{isElectron:r,isTablet:p}=(0,s().Y0)(),g=(0,l().O$)(d().b),m=r&&!g,f=(0,c().IS)((()=>({container:{display:"flex",flexDirection:"column"},header:{paddingTop:p?32:8,paddingInlineStart:16,paddingInlineEnd:10,paddingBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},title:{display:"flex",alignItems:"center",gap:4,fontSize:p?16:14,fontWeight:S().Wy.medium},titleText:{font:"inherit",margin:0,display:"flex",gap:4},actions:{display:"flex",alignItems:"center",gap:4},createPageButtonIcon:{fill:b().Tj.icon.secondary}})),[p]),v=(0,a.useCallback)((()=>{"peek"===ce().default.state.mode&&(0,H().VI)({environment:n})}),[n]),h=(0,l().K8)((()=>{const{sidebarSpaceStore:e}=i().default.state;return!!e&&(0,U().sx)({environment:n,spaceStore:e})}),[n]),x=[];switch(t){case"inbox":p||x.push((0,C.jsx)(de,{type:t},"mode_toggle")),x.push((0,C.jsx)(D().F,{},"inbox_filter"),(0,C.jsx)(R().C,{},"inbox_ellipsis"));break;case"private_pages":p||x.push((0,C.jsx)(de,{type:t},"mode_toggle")),x.push((0,C.jsx)(we,{type:"private"},"sort"),(0,C.jsx)(E().K,{from:"sidebar_private_pane",onClick:v,iconStyle:f.createPageButtonIcon},"create_page"));break;case"shared_pages":p||x.push((0,C.jsx)(de,{type:t},"mode_toggle")),x.push((0,C.jsx)(we,{type:"shared"},"sort"));break;case"favorites_pages":p||x.push((0,C.jsx)(de,{type:t},"mode_toggle"));break;case"assistant":p||x.push((0,C.jsx)(de,{type:t},"mode_toggle")),x.push((0,C.jsx)(B,{},"add_chat"));break;case"teams":p||x.push((0,C.jsx)(de,{type:t},"mode_toggle")),h&&x.push((0,C.jsx)(Y,{},"add_team"));break;case"agents":p||x.push((0,C.jsx)(de,{type:t},"mode_toggle")),x.push((0,C.jsx)(Ie,{},"new_agent"));break;case"none":break;default:(0,y().HB)(t)}return(0,C.jsxs)("div",{className:m?u().sbV:void 0,style:f.container,children:[(0,C.jsx)(X,{type:t}),(0,C.jsxs)("div",{style:f.header,children:[(0,C.jsxs)("div",{style:f.title,children:[(0,C.jsx)(te,{}),(0,C.jsxs)("h2",{style:f.titleText,id:o,children:[(0,C.jsx)(je,{type:t}),"agents"===t?(0,C.jsx)(Ae,{}):void 0]})]}),(0,C.jsx)("div",{style:f.actions,children:x})]})]})}function je(e){const{type:t}=e;switch(t){case"inbox":return(0,C.jsx)(z().R,{});case"private_pages":return(0,C.jsx)(h().sA,{id:"secondarySidebarHeader.title.privatePages",defaultMessage:"Private"});case"shared_pages":return(0,C.jsx)(h().sA,{id:"secondarySidebarHeader.title.sharedPages",defaultMessage:"Shared"});case"favorites_pages":return(0,C.jsx)(h().sA,{id:"secondarySidebarHeader.title.favoritesPages",defaultMessage:"Favorites"});case"assistant":return(0,C.jsx)(h().sA,{id:"secondarySidebarHeader.title.assistantChatHistory",defaultMessage:"Chat history"});case"teams":return(0,C.jsx)(h().sA,{defaultMessage:"All teamspaces",id:"sidebarTeamBrowserHeader.title"});case"agents":return(0,C.jsx)("div",{style:{display:"flex",alignItems:"center",gap:8},children:(0,C.jsx)(h().sA,{id:"secondarySidebarHeader.title.agents",defaultMessage:"Agents"})});case"none":return null;default:(0,y().HB)(t)}}function Ie(){const e=(0,h().tz)(),t=(0,I().zg)(),{canCreate:o,tooltipMessage:n}=(0,N().$)(),r=(0,c().IS)((()=>({button:{...t.button,width:"auto"}})),[t]),i=(0,a.useCallback)((async()=>{const e=await F().WorkflowDeps.agentActions.load(),t=f().JW();await e.showCreationModal({analytics:{flowId:t,origin:"secondary_sidebar_new_agent"}})}),[]),{handleClick:s,shouldHide:l}=(0,V().U)({action:i,source:"custom_agents_sidebar"}),d=e.formatMessage({id:"agents.topbar.newAgent",defaultMessage:"Create new agent"}),u=!o;return l?null:(0,C.jsx)(g().m,{disableTooltip:!u,renderTooltip:()=>n,render:e=>(0,C.jsx)(p().p,{...e,iconLeading:{icon:m().plusSmallIcon,size:"xs"},onClick:s,ariaLabel:d,colorPalette:"gray",style:r.button,disabled:u,disabledFeedback:!0,children:(0,C.jsx)(h().sA,{id:"agents.topbar.newAgentButton.label",defaultMessage:"New agent"})})})}function Ae(){const e=(0,n().T)(),t=(0,r().L)(),o=(0,O().H)(),a=(0,P()._)({name:"custom_agents",spaceId:null==t?void 0:t.id,userId:e}),i=null==a?void 0:a.upsell;return o&&(0,v().Pd)(a)&&i&&"none"!==i.type?(0,C.jsx)(L().UpgradeButton,{display:"text",size:"small",source:"custom_agents_sidebar",upsell:i,spaceStore:t,customMessages:{eligible_to_purchase:Ce.upgrade,eligible_for_trial:Ce.upgrade,sales_eligible:Ce.request,sales_assisted:Ce.request,eligible_to_request:Ce.request,request_pending:Ce.pending,not_eligible:Ce.request}}):null}const Ce=(0,h().YK)({upgrade:{id:"secondarySidebarHeader.upgradeButton.upgrade",defaultMessage:"<highlight>Upgrade</highlight>"},request:{id:"secondarySidebarHeader.upgradeButton.request",defaultMessage:"<highlight>Request</highlight>"},pending:{id:"secondarySidebarHeader.upgradeButton.pending",defaultMessage:"<highlight>Requested</highlight>"}})},333636:(e,t,o)=>{o.d(t,{H:()=>s});o(898992),o(737550);var a=()=>o(920198),n=()=>o(484714),r=()=>o(590526),i=()=>o(198123);function s(){const e=(0,n().v3)(),t=(0,a().L)();return(0,r().K8)((()=>{var o;if(!t)return!1;const a=null===(o=i().V.getData(e,{spaceId:t.id}))||void 0===o?void 0:o.agents;return!!a&&a.some((e=>e.isDefined()&&!1!==e.getAlive()))}),[e,t])}},344417:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>a,magnifyingGlassSmallIcon:()=>n});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"1.97 1.97 12.46 12.46",svg:(0,o(474848).jsx)("path",{d:"M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"})},n=(0,o(340498).wt)("magnifyingGlassSmall",a,"small")},371513:(e,t,o)=>{o.d(t,{b:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.62 3.62 16.75 12.75",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M16.25 3.625c1.174 0 2.125.951 2.125 2.125v8.5a2.125 2.125 0 0 1-2.125 2.125H3.75a2.125 2.125 0 0 1-2.125-2.125v-8.5c0-1.174.951-2.125 2.125-2.125zm-12.5 1.25a.875.875 0 0 0-.875.875v8.5c0 .483.392.875.875.875h2.7V4.875zm3.8 10.25h8.7a.875.875 0 0 0 .875-.875v-8.5a.875.875 0 0 0-.875-.875h-8.7z"})},n=(0,o(340498).wt)("sidebarLeft",a,"default")},383567:(e,t,o)=>{o.d(t,{F:()=>r});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"3.26 1.98 16.32 17.52",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M15.825 12a3.75 3.75 0 1 1-.001 7.501 3.75 3.75 0 0 1 0-7.501m0 1.325a.55.55 0 0 0-.55.55V15.2H13.95a.55.55 0 0 0-.001 1.1h1.326v1.325a.55.55 0 0 0 1.1 0V16.3h1.324a.55.55 0 0 0 0-1.1h-1.325v-1.325a.55.55 0 0 0-.55-.55M9.702 5.022a3.918 3.918 0 0 1 6.742.036.626.626 0 0 1-1.08.63 2.667 2.667 0 0 0-4.59-.023L5.376 14.68l4.19.678a.626.626 0 0 1-.2 1.235l-5.1-.827a.625.625 0 0 1-.437-.938z"}),(0,a.jsx)("path",{d:"M10.912 8.094a1.178 1.178 0 1 1 2.326.377 1.178 1.178 0 0 1-2.326-.377M4.7 7.087a1.178 1.178 0 1 1 2.327.377A1.178 1.178 0 0 1 4.7 7.087M3.488 2.985a3.92 3.92 0 0 1 5.572.357.625.625 0 0 1-.944.818 2.67 2.67 0 0 0-3.796-.243.625.625 0 1 1-.832-.932"})]})},r=(0,o(340498).wt)("aiFacePlus",n,"default")},387964:(e,t,o)=>{o.d(t,{S:()=>r});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"3.42 3.97 12.16 12.06",directional:!0,svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,a.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,o(340498).wt)("arrowChevronDoubleBackward",n,"default")},404905:(e,t,o)=>{o.d(t,{j:()=>c});var a=o(296540),n=()=>o(484714),r=()=>o(401497),i=()=>o(284371),s=()=>o(26697);var l=o(474848);function c(e){const{children:t,style:o,overlayContainerZIndex:c,placement:d="bottom",tooltipStyle:u}=e,{isSafari:p}=(0,n().Y0)(),g=(0,a.useRef)(null),m=function(e){const[t,o]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const a="ResizeObserver"in window?new ResizeObserver((([e])=>{o(e.target.scrollWidth>e.target.clientWidth)})):void 0;return null==a||a.observe(t),()=>null==a?void 0:a.unobserve(t)}),[]),t}(g),f=(0,r().IS)((()=>({overflowText:{...i().RC,...o}})),[o]);return(0,l.jsx)(s().m,{delayThreshold:500,placement:d,textWrap:!0,style:u,overlayContainerZIndex:c,forceVisibleState:!(p||!m)&&void 0,renderTooltip:()=>m?t:void 0,render:e=>(0,l.jsx)("div",{ref:g,style:f.overflowText,...e,children:t})})}},427636:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var a=()=>o(100622),n=o(474848);const r=function(e){const{botStore:t,avatarSize:r,shouldShowBadge:i,style:s,inline:l}=e,c=(0,o(69708).tz)(),d=(0,o(484714).Y0)(),u=(0,o(590526).K8)((()=>null==t?void 0:t.getDisplayName(c)),[t,c]),{outerStyle:p,avatarWrapStyle:g,badgeStyle:m}=(0,o(401497).IS)((()=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...s},avatarWrapStyle:l?{width:"none",minHeight:"none",marginInlineEnd:6}:{marginInlineEnd:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:a().Tj.text.secondary,background:a().Tj.legacyDefaultSelectColor,fontSize:o(726637).A.isMobile?11:9,lineHeight:d.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginInlineStart:8,marginTop:1}})),[s,l,d]);return(0,n.jsxs)("div",{style:p,children:[(0,n.jsx)("div",{style:g,children:(0,n.jsx)(o(256863).A,{botStore:t,size:r})}),(0,n.jsx)("div",{style:{...o(284371).RC},children:u}),i?(0,n.jsx)("div",{style:m,children:"Bot"}):void 0]})}},448693:(e,t,o)=>{o.d(t,{Ay:()=>y,t_:()=>S,v7:()=>x});o(296540);var a=()=>o(484714),n=()=>o(590526),r=()=>o(457205),i=()=>o(849255),s=()=>o(764880),l=()=>o(784892),c=()=>o(534177),d=()=>o(883701),u=()=>o(427636),p=()=>o(256863),g=()=>o(848401),m=()=>o(994006),f=()=>o(453697),v=o(474848);function h(e){const t=(0,a().v3)(),{actor:o,format:s,hasTooltip:h,tooltipHeader:y,hasPersonHoverCard:S,spaceStore:x}=e,M=(0,n().K8)((()=>{const e=o.asActor;if(e)return(0,d().J)(t,e)}),[o,t]);return(0,v.jsx)(g().Ay,{...e,renderAvatar:e=>{if(M)return M instanceof r().v?s===l().NY.Inline?(0,v.jsx)(p().A,{botStore:M,size:e,style:b}):(0,v.jsx)(u().A,{botStore:M,avatarSize:e,inline:!0,style:b}):M instanceof i().L?s===l().NY.Inline?(0,v.jsx)(f().A,{userStore:M,size:e,avatarShouldShowShadow:!1,hasTooltip:h??!0,style:b,tooltipHeader:y,hasPersonHoverCard:S}):(0,v.jsx)(m().A,{userStore:M,avatarSize:e,inline:!0,hasTooltip:h,hasPersonHoverCard:S,style:b,tooltipHeader:y,spaceStore:x}):void(0,c().HB)(M)}})}const b={minWidth:0};h.Format=l().NY;const y=h;function S(e){const{userValue:t,...o}=e,a=(0,s().MR)(t);return(0,v.jsx)(h,{actor:a,...o})}function x(e){const{botValue:t,...o}=e;return(0,v.jsx)(h,{actor:(0,s().oC)(t),hasPersonHoverCard:!1,...o})}S.Format=g().mI,x.Format=g().mI},460957:(e,t,o)=>{o.d(t,{E:()=>i});o(581454);var a=()=>o(201980),n=()=>o(718957),r=()=>o(29554);function i(e){const{multiSelection:t}=e;return(0,n().$W)(t).map((({store:e,selection:t})=>{const o=(0,a().RQ)(e.getValue()),n=(0,a().xbM)(o,t),{tokensInsideRange:i}=(0,a().AI5)(o,n.startIndex,n.endIndex);return(0,r().r4)(i,e)})).join("\n\n")}},497577:(e,t,o)=>{o.d(t,{E:()=>r});var a=()=>o(401497),n=()=>o(100622);function r(e){const{size:t,style:o}=e;return(0,a().IS)((()=>({icon:{width:.6*t,height:.6*t,fill:n().Tj.text.secondary},iconContainer:{width:t,height:t,borderRadius:"100%",background:n().Tj.border.secondaryTranslucent,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...o}})),[t,o])}},529099:(e,t,o)=>{o.r(t),o.d(t,{aiFaceIcon:()=>r,iconDefinition:()=>n});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"4.13 2.52 13.27 14.61",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M12.758 9.976a1.178 1.178 0 1 0 .377-2.326 1.178 1.178 0 0 0-.377 2.326M6.547 8.97a1.178 1.178 0 1 0 .377-2.327 1.178 1.178 0 0 0-.377 2.326"}),(0,a.jsx)("path",{d:"M10.573 5.554a3.917 3.917 0 0 1 6.743.035.625.625 0 1 1-1.08.63 2.667 2.667 0 0 0-4.591-.023l-5.398 9.015 4.192.68a.625.625 0 0 1-.2 1.233l-5.102-.827a.625.625 0 0 1-.436-.938zM4.36 3.517a3.92 3.92 0 0 1 5.572.356.625.625 0 1 1-.945.818 2.67 2.67 0 0 0-3.795-.243.625.625 0 1 1-.833-.931"})]})},r=(0,o(340498).wt)("aiFace",n,"default")},541146:(e,t,o)=>{o.r(t),o.d(t,{OutlinerDropdownMenuButton:()=>ce,useSortActions:()=>fe});o(898992),o(354520),o(803949),o(581454);var a=o(296540),n=()=>o(564884),r=()=>o(907258),i=()=>o(755531),s=()=>o(59226),l=()=>o(248140),c=()=>o(726637),d=()=>o(484714),u=()=>o(792485),p=()=>o(590526),g=()=>o(401497),m=()=>o(440375),f=()=>o(718827),v=()=>o(250910),h=()=>o(807449),b=()=>o(546926),y=()=>o(890492),S=()=>o(736847),x=()=>o(582684),M=()=>o(349679),_=()=>o(126617),w=()=>o(212727),k=()=>o(813197),j=()=>o(617668),I=()=>o(946065),A=()=>o(955104),C=()=>o(69708),T=()=>o(100622),B=()=>o(534177),R=()=>o(636714),D=()=>o(12956),z=()=>o(267271),E=()=>o(899963),P=()=>o(439549),L=()=>o(664713),U=()=>o(396301),F=()=>o(288157),N=()=>o(644914),V=()=>o(655923),O=()=>o(112282),H=()=>o(384944),K=()=>o(575143),W=()=>o(47373),Y=()=>o(244828),$=()=>o(923455),G=o(474848);const q=(0,C().YK)({move:{id:"useMoveSidebarAction.title.moveSection",defaultMessage:"Move section"},moveUp:{id:"useMoveSidebarAction.option.moveUp",defaultMessage:"Move up"},moveDown:{id:"useMoveSidebarAction.option.moveDown",defaultMessage:"Move down"}});var X=()=>o(226627),Q=()=>o(484392),J=()=>o(599813),Z=()=>o(804666),ee=()=>o(76726),te=()=>o(229508),oe=()=>o(465031);const ae=(0,C().YK)({removeFromSidebar:{id:"useRemoveSidebarSectionAction.removeFromSidebar",defaultMessage:"Remove from sidebar"},removeFromSidebarCaption:{id:"useRemoveSidebarSectionAction.removeFromSidebar.caption",defaultMessage:"You can always access all {sectionName} pages in the Library"},removeFromSidebarCaptionPrivate:{id:"useRemoveSidebarSectionAction.removeFromSidebar.caption.private",defaultMessage:"You can always access all Private pages in the Library"},removeFromSidebarCaptionShared:{id:"useRemoveSidebarSectionAction.removeFromSidebar.caption.shared",defaultMessage:"You can always access all Shared pages in the Library"},removeFromSidebarCaptionFavorites:{id:"useRemoveSidebarSectionAction.removeFromSidebar.caption.favorites",defaultMessage:"You can always access all Favorited pages in the Library"},removeFromSidebarCaptionNotionApps:{id:"useRemoveSidebarSectionAction.removeFromSidebar.caption.notionApps",defaultMessage:"You can manage Notion apps from settings at any time."}});function ne(e,t){switch(t){case"private":return e.formatMessage(ae.removeFromSidebarCaptionPrivate);case"shared":return e.formatMessage(ae.removeFromSidebarCaptionShared);case"favorites":return e.formatMessage(ae.removeFromSidebarCaptionFavorites);case"myMeetings":return e.formatMessage(ae.removeFromSidebarCaption,{sectionName:"Meetings"});default:return e.formatMessage(ae.removeFromSidebarCaption,{sectionName:(0,Q().A)(t)})}}var re=()=>o(852678),ie=()=>o(465960),se=()=>o(860048);const le=(0,C().YK)({manual:{id:"outlinerDropdownMenuButton.sort.manual",defaultMessage:"Manual"},lastEdited:{id:"outlinerDropdownMenuButton.sort.lastEdited",defaultMessage:"Last edited"}});function ce(e){const{type:t,spaceViewStore:o}=e,r=(0,d().v3)(),i=(0,g().IS)((()=>({button:{display:"flex",alignItems:"center",justifyContent:"center",height:20,width:20,borderRadius:4}})),[]),s=(0,a.useCallback)((()=>{re().A.setState({open:!0}),function(e,t){const{outliner_type:o}=t;(0,n().u)({environment:e,event:{eventName:"open_outliner_section_menu",eventProperties:{outliner_type:o,...(0,N().hX)({environment:e})}}})}(r,{outliner_type:U().BP[t]})}),[r,t]),l=(0,a.useCallback)((()=>{re().A.setState({open:!1})}),[]),u=(0,C().tz)().formatMessage({id:"outlinerDropdownMenuButton.ariaLabel",defaultMessage:"Open menu"});return o?(0,G.jsx)(v().A,{popupType:v().z.Popup,alignmentToOrigin:"start",renderOrigin:e=>(0,G.jsx)(f().Ay,{style:i.button,ariaLabel:u,...e,children:(0,G.jsx)(h().I,{icon:_().ellipsisSmallIcon,size:"sm",colorVariant:c().A.isMobile?"tertiary":"secondary"})}),onClick:s,onClose:l,render:e=>(0,G.jsx)(me,{type:t,spaceViewStore:o,onClose:()=>{e.close()}}),originGap:2}):null}const de=(0,C().YK)({sort:{id:"outlinerDropdownMenu.sort",defaultMessage:"Sort"},truncationLimit:{id:"outlinerDropdownMenu.truncationLimit",defaultMessage:"Show"},addTeam:{id:"outlinerDropdownMenu.addTeam",defaultMessage:"New teamspace"}}),ue=(0,C().YK)({label:{id:"outlinerDropdownMenu.setupExperience.label",defaultMessage:"Setup experience [dev]"},production:{id:"outlinerDropdownMenu.setupExperience.production",defaultMessage:" Production"},productionDescription:{id:"outlinerDropdownMenu.setupExperience.productionDescription",defaultMessage:"Current custom agent setup experience for production users."},development:{id:"outlinerDropdownMenu.setupExperience.development",defaultMessage:" Development"},developmentDescription:{id:"outlinerDropdownMenu.setupExperience.developmentDescription",defaultMessage:"Work in progress experience that flippy (chat side-by-side with custom agent settings) and custom agent self-setup and testing."},wildWest:{id:"outlinerDropdownMenu.setupExperience.wildWest",defaultMessage:" Wild west"},wildWestDescription:{id:"outlinerDropdownMenu.setupExperience.wildWestDescription",defaultMessage:"Flippy UX and self-setup using Agent 2.0."}}),pe=["production","development","wild_west"],ge={production:{custom_agent_flippy_layout:!1,agent_script_agent:!1,agent_script_agent_advanced:!1,custom_agent_setup_mode_tool:!1},development:{custom_agent_flippy_layout:!0,agent_script_agent:!1,agent_script_agent_advanced:!1,custom_agent_setup_mode_tool:!0},wild_west:{custom_agent_flippy_layout:!0,custom_agent_setup_mode_tool:!1,agent_script_agent:!0,agent_script_agent_advanced:!1}};function me(e){const{type:t,spaceViewStore:o,onClose:n}=e,i=(0,d().v3)(),c=(0,p().O$)(r().AppStoreCurrentUserSettingsStore),f=(0,C().tz)(),v=(0,g().IS)((()=>({rightText:{fontSize:12,color:T().Tj.text.secondary}})),[]),_=(0,p().K8)((()=>(0,U().RQ)({spaceViewStore:o,type:t,userSettingsStore:c})),[o,t,c]),L=_.sortOption,N=_.truncationLimit,Q="shared"===t,re=(0,F().wu)(),ce=(0,F().Km)(),me=Q||"private"===t||"teamspaces"===t||"agents"===t||"meetings_today"===t||"myMeetings"===t||"favorites"===t&&re||"recents"===t&&ce,he="private"===t||"shared"===t,be=!(0,p().O$)(m().l),ye=(0,p().K8)((()=>{const{sidebarSpaceStore:e}=r().default.state;return!!e&&(0,se().sx)({environment:i,spaceStore:e})}),[i]),Se=be&&"teamspaces"===t&&ye,xe=fe({type:t,onSelect:n,spaceViewStore:o,outlinerLocation:"sidebar"}),Me=function(e){const{type:t,spaceViewStore:o,onSelect:a,enableLibrarySidebarSections:n}=e,i=(0,p().O$)(r().AppStoreCurrentUserSettingsStore),s=(0,d().v3)(),l=(0,g().IS)((()=>({right:{width:16}})),[]),c=(0,p().K8)((()=>(0,U().RQ)({type:t,spaceViewStore:o,userSettingsStore:i}).truncationLimit),[t,o,i]),u="recents"===t?I().AQ.filter((e=>e!==I().xz)):I().AQ;return u.map((e=>(0,z().Ls)({key:e.toString(),displayName:void 0,analyticsName:e.toString(),validators:[],closeParentMenu:!0,action:()=>{Y().createAndCommit({userAction:"OutlinerDropdownMenuButton.setTruncationLimit",environment:s,canUndo:!0,perform:a=>{P().c2({environment:s,transaction:a,spaceViewStore:o,update:{type:"truncationLimit",value:e},sectionType:t})}}),A().u4({name:"update_sidebar_section_option",args:{option:"show",type:t}}),E().nT(s,{outliner_type:U().BP[t],option:e,before_option:c,are_library_sidebar_sections_enabled:n}),a()},render:t=>(0,G.jsx)(K().A,{...t,title:(0,G.jsx)(ve,{limit:e,withItems:!0}),right:c===e&&(0,G.jsx)(h().I,{icon:M().checkmarkSmallIcon,size:"sm"}),rightStyle:l.right})})))}({type:t,onSelect:n,spaceViewStore:o,enableLibrarySidebarSections:re}),_e=function(e){const{onSelect:t}=e,o=(0,s().X)("custom_agent_flippy_layout"),n=(0,s().X)("agent_script_agent"),r=(0,s().X)("agent_script_agent_advanced"),i=(0,s().X)("custom_agent_setup_mode_tool"),c=(0,C().tz)(),d=(0,a.useMemo)((()=>{for(const e of pe){const{custom_agent_flippy_layout:t,agent_script_agent:a,custom_agent_setup_mode_tool:s,agent_script_agent_advanced:l}=ge[e];if(t===o&&a===n&&s===i&&l===r)return e}}),[o,n,i,r]),u=(0,g().IS)((()=>({right:{width:16}})),[]),p=(0,a.useCallback)((e=>{switch(e){case"production":return c.formatMessage(ue.production);case"development":return c.formatMessage(ue.development);case"wild_west":return c.formatMessage(ue.wildWest);default:return(0,B().HB)(e)}}),[c]),m=(0,a.useCallback)((e=>{switch(e){case"production":return c.formatMessage(ue.productionDescription);case"development":return c.formatMessage(ue.developmentDescription);case"wild_west":return c.formatMessage(ue.wildWestDescription);default:return(0,B().HB)(e)}}),[c]);return pe.map((e=>(0,z().Ls)({key:e,displayName:void 0,analyticsName:e,validators:[],closeParentMenu:!0,action:()=>{(0,B().WP)(ge[e]).forEach((([e,t])=>{l().A.updateLocalOverrideGate(e,t)})),t()},render:t=>(0,G.jsx)(K().A,{...t,title:p(e),caption:m(e),shouldWrapCaption:!0,right:d===e&&(0,G.jsx)(h().I,{icon:M().checkmarkSmallIcon,size:"sm"}),rightStyle:u.right})})))}({onSelect:n}),we="agents"===t&&!1,ke=function(e){const{type:t,onSelect:o}=e,a=(0,p().O$)(r().AppStoreSidebarSpaceStore),n=(0,p().O$)(r().AppStoreSidebarSpaceViewStore),{currentUserRootStore:i,currentUserStore:s}=(0,p().K8)((()=>({currentUserRootStore:r().default.state.currentUserRootStore,currentUserStore:r().default.state.currentUserStore})),[]),l=(0,C().tz)(),c=(0,$().Rx)(),d=(null==c?void 0:c.sidebarOrder)??[],u=(0,p().K8)((()=>(0,W().i3)({spaceStore:a,spaceViewStore:n,userRootStore:i,currentUserStore:s})),[a,i,s,n]),g=(0,U().KP)({sidebarOrder:d,sidebarState:c,showLockedSidebar:u});if(!n)return[];const m=g.indexOf(t),f=0===m,v=m===g.length-1,h=(null==c?void 0:c.shownSidebarSectionCount)??0;return["moveUp","moveDown"].map((e=>{const a=q[e];return(0,z().Ls)({key:e,displayName:void 0,analyticsName:a.defaultMessage,validators:[()=>h>1],closeParentMenu:!0,action:({environment:a})=>{const r=function({sidebarSection:e,selectedMoveOption:t,sidebarOrder:o,visibleSidebarOrder:a}){const n=[...o],r=o.indexOf(e),i=a.indexOf(e);if("moveUp"===t&&i>0){const t=a[i-1];n[o.indexOf(t)]=e,n[r]=t}if("moveDown"===t&&i<a.length-1){const t=a[i+1];n[o.indexOf(t)]=e,n[r]=t}return n}({sidebarSection:t,selectedMoveOption:e,sidebarOrder:d,visibleSidebarOrder:g});Y().createAndCommit({userAction:`useMoveSidebarAction.${e}`,environment:a,canUndo:!0,perform:e=>{H().zv({store:n,data:{sidebar_order:r},transaction:e})}}),E().ub(a,{section:t,previous_order:d,new_order:r,from:"outliner_section_menu"}),o()},render:t=>{const o="moveUp"===e&&f||"moveDown"===e&&v,n="moveUp"===e?O().arrowStraightUpIcon:V().arrowStraightDownIcon;return(0,G.jsx)(K().A,{...t,disabled:o,disabledFeedback:o,title:l.formatMessage(a),svg:n})}})}))}({type:t,onSelect:n}),je=function(e){const{type:t,onSelect:o}=e,a=(0,d().v3)(),n=(0,te().a)(),r=(0,C().tz)(),i=(0,F().wu)(),s=(0,p().K8)((()=>{var e;if(!i)return;if(!((0,Z().a0)(t)||"teamspaces"===t&&(0,F().a1)()))return;const o=X().L.fromSpaceViewStore(null==n||null===(e=n.getSpaceStore())||void 0===e?void 0:e.getSpaceIdCreator(),n,t);return null!=o&&o.isDefined()?o:void 0}),[i,n,t]),l=(0,p().K8)((()=>null==s?void 0:s.getSectionType()),[s]);if("notion_apps"===t){const e=ae.removeFromSidebar;return[(0,z().Ls)({key:"removeFromSidebar",displayName:e,analyticsName:e.defaultMessage,validators:[],closeParentMenu:!0,action:()=>{oe().nQ(a),o()},render:t=>(0,G.jsx)(K().A,{...t,shouldWrapCaption:!0,title:r.formatMessage(e),caption:r.formatMessage(ae.removeFromSidebarCaptionNotionApps),svg:J().xMarkIcon})})]}if(!s||!l)return[];const c=ae.removeFromSidebar;return[(0,z().Ls)({key:"removeFromSidebar",displayName:c,analyticsName:c.defaultMessage,validators:[],closeParentMenu:!0,action:()=>{(0,ee().rx)({environment:a,eventProperties:{visibility_after_change:"hidden",section_type:l,from:"outliner_section_menu"}}),Y().createAndCommit({userAction:"useRemoveSidebarSectionAction.removeFromSidebar",environment:a,canUndo:!0,perform:e=>{const t=s.getPropertiesStore().getKeyStore("hidden");H().KY({transaction:e,store:t,value:!0})}}),o()},render:e=>(0,G.jsx)(K().A,{...e,shouldWrapCaption:!0,title:r.formatMessage(c),caption:ne(r,t),svg:J().xMarkIcon})})]}({type:t,onSelect:n}),Ie=he||me||ke.length>0,Ae=[(0,D().u)({key:"sort",displayName:de.sort,analyticsName:de.sort.defaultMessage,validators:[()=>he],svg:x().arrowUpDownIcon,right:f.formatMessage(le[L]),rightStyle:v.rightText,subActions:()=>[(0,z().gy)({key:"sort",render:e=>(0,G.jsx)(S().A,{...e}),actions:xe})]}),(0,D().u)({key:"truncationLimit",displayName:de.truncationLimit,analyticsName:de.truncationLimit.defaultMessage,validators:[()=>me],svg:k().L,right:(0,G.jsx)(ve,{limit:N}),rightStyle:v.rightText,subActions:()=>[(0,z().gy)({key:"truncationLimit",render:e=>(0,G.jsx)(S().A,{...e}),actions:Me})]}),...ke,(0,D().u)({key:"setupExperience",displayName:ue.label,analyticsName:ue.label.defaultMessage,validators:[()=>we],svg:w().gearIcon,width:420,subActions:()=>[(0,z().gy)({key:"setupExperience",render:e=>(0,G.jsx)(S().A,{...e}),actions:_e})]})],Ce=[(0,z().gy)({key:"all",render:e=>(0,G.jsx)(S().A,{...e}),actions:Ae}),(0,z().gy)({key:"removeFromSidebar",render:e=>(0,G.jsx)(S().A,{...e,topBorder:Ie,topBorderExtendToEdge:Ie}),actions:je}),(0,z().gy)({key:"addTeam",render:e=>(0,G.jsx)(S().A,{...e}),actions:[(0,z().Ls)({key:"addTeam",displayName:de.addTeam,analyticsName:de.addTeam.defaultMessage,validators:[()=>Se],svg:j().plusIcon,closeParentMenu:!0,action:()=>{(0,ie().vn)("sidebar_team_section"),n()}})]})],Te=(0,u().S)();return(0,G.jsx)(y().A,{menuType:b().gu.Popup,minWidth:220,children:(0,G.jsx)(R().A,{context:{blocks:[],environment:i,publicEditMode:void 0,pageContext:Te},sections:Ce,initialFocus:void 0})})}function fe(e){const{type:t,spaceViewStore:o,onSelect:a,outlinerLocation:n}=e,l=(0,d().v3)(),c=(0,C().tz)(),{sidebarSpaceStore:u,currentUserSettingsStore:m}=(0,p().K8)((()=>({sidebarSpaceStore:(0,i().S)(),currentUserSettingsStore:r().default.state.currentUserSettingsStore})),[]),f=l.currentUser.id,v=(0,s().X)("sidebar_add_new_pages_to_bottom"),b=(0,p().K8)((()=>(0,U().RQ)({type:t,spaceViewStore:o,userSettingsStore:m}).sortOption),[t,o,m]),y=(0,g().IS)((()=>({right:{width:16}})),[]);return["manual","lastEdited"].map((e=>{const r=le[e];return(0,z().Ls)({key:e,displayName:void 0,analyticsName:r.defaultMessage,validators:[],closeParentMenu:!0,action:async()=>{Y().createAndCommit({userAction:"OutlinerDropdownMenuButton.setSortOption",environment:l,canUndo:!0,perform:a=>{P().c2({environment:l,transaction:a,spaceViewStore:o,update:{type:"sortOption",value:e},sectionType:t})}}),"manual"===e&&"shared"===t&&!v&&f&&u&&await L().Z({environment:l,spaceId:u.id,userId:f}),A().u4({name:"update_sidebar_section_option",args:{option:"sort",type:t}}),E().Rf(l,{outliner_type:U().BP[t],outliner_location:n,option:e}),a()},render:t=>(0,G.jsx)(K().A,{...t,title:c.formatMessage(r),right:b===e&&(0,G.jsx)(h().I,{icon:M().checkmarkSmallIcon,size:"sm"}),rightStyle:y.right})})}))}function ve(e){const{withItems:t}=e,o=(0,I().Fl)(e.limit);return t?(0,G.jsx)(C().sA,{id:"outlinerDropdownMenuButton.truncationLimit",defaultMessage:"{limit} items",values:{limit:o}}):(0,G.jsx)("span",{children:o})}},585608:(e,t,o)=>{o.d(t,{$:()=>r});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.91 1.23 15.18 17.53",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M16.958 13.771a.625.625 0 0 1 1.028.71 4.8 4.8 0 0 1-3.326 2.033v.997h2.21a.625.625 0 0 1 0 1.25H11.2a.625.625 0 1 1 0-1.25h2.21v-.997a4.8 4.8 0 0 1-3.326-2.032.626.626 0 0 1 1.029-.711 3.55 3.55 0 0 0 2.922 1.535 3.55 3.55 0 0 0 2.923-1.535"}),(0,a.jsx)("path",{d:"M12.535 1.239c1.174 0 2.125.951 2.125 2.125v3.032a4 4 0 0 0-.447-.053l-.178-.005a3.45 3.45 0 0 0-3.45 3.45v2.464a1.875 1.875 0 0 0-1.53 2.94c.338.49.747.926 1.212 1.297H5.035a2.125 2.125 0 0 1-2.125-2.125v-11c0-1.174.951-2.125 2.125-2.125zm-6.25 5.663a.55.55 0 1 0 0 1.1H9a.55.55 0 0 0 0-1.1zm0-2.5a.55.55 0 1 0 0 1.1h5a.55.55 0 0 0 0-1.1z"}),(0,a.jsx)("path",{d:"M14.035 7.664c1.173 0 2.125.951 2.125 2.125v2.52a2.125 2.125 0 0 1-4.25 0v-2.52c0-1.174.951-2.125 2.125-2.125"})]})},r=(0,o(340498).wt)("paperMicrophoneFill",n,"fill")},655923:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightDownIcon:()=>n,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.37 12.06 15.26",svg:(0,o(474848).jsx)("path",{d:"M10.625 3a.625.625 0 1 0-1.25 0v12.491l-4.333-4.333a.625.625 0 1 0-.884.884l5.4 5.4a.62.62 0 0 0 .884 0l5.4-5.4a.625.625 0 1 0-.884-.884l-4.333 4.333z"})},n=(0,o(340498).wt)("arrowStraightDown",a,"default")},660001:(e,t,o)=>{o.d(t,{U:()=>c});var a=o(296540),n=()=>o(664594),r=()=>o(920198),i=()=>o(706021),s=()=>o(528093),l=()=>o(408543);function c(e){const{action:t,source:o}=e,c=(0,n().T)(),d=(0,r().L)(),u=(0,s()._)({name:"custom_agents",spaceId:null==d?void 0:d.id,userId:c}),p=(0,i().Pd)(u),g=null==u?void 0:u.upsell,{upgradeEligibility:m,handleClick:f}=(0,l().C)({upsell:g,source:o,spaceStore:d});return{handleClick:(0,a.useCallback)((async()=>{if(p)return f();await t()}),[p,f,t]),shouldHide:p&&"not_eligible"===m.status}}},662971:(e,t,o)=>{o.d(t,{A:()=>g});var a=o(296540),n=()=>o(30537);const r=function(){const[e,t]=a.useState({x:0,y:0});return a.useEffect((()=>{const e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[]),e};var i=o(474848);function s({x:e,mouseX:t}){return t>e?void 0:-Math.max(e-t,10)+"px"}function l({x:e,width:t,mouseX:o}){return o>e?-Math.max(o-(e+t),10)+"px":void 0}function c({x:e,width:t,mouseX:o}){return o>e?`${Math.max(o-(e+t),10)}px`:`${Math.max(e-o,10)}px`}function d({x:e,y:t,height:o,mouseX:a,mouseY:n}){return a>e?`polygon(0% 0%, 0% 100%, 100% ${100*(n-t)/o}%)`:`polygon(100% 0%, 0% ${100*(n-t)/o}%, 100% 100%)`}function u(e){const{x:t=0,y:o=0,height:n=0,width:u=0}=e.el.getBoundingClientRect()||{},{x:p,y:g}=r(),m={x:t,y:o,height:n,width:u,mouseX:p,mouseY:g},f=(0,a.useRef)(null),v=a.useCallback((e=>{if(f.current){f.current.style.pointerEvents="none";const t=document.elementFromPoint(e.clientX,e.clientY);if(f.current.style.pointerEvents="auto",t){const o=new MouseEvent(e.nativeEvent.type,e.nativeEvent);t.dispatchEvent(o)}}}),[]),h={insetInlineEnd:l(m),insetInlineStart:s(m),height:n,width:c(m),clipPath:d(m)};return(0,i.jsx)("div",{ref:f,onClick:v,style:{cursor:"pointer",position:"absolute",pointerEvents:"auto",top:0,...h}})}function p({onClick:e,renderOrigin:t,renderExtension:r,allowOptionalExtensionMenu:s,...l},c){const{disabled:d,disableDefaultClick:p,onFocus:g,focused:m,openOnFocus:f,placementToOrigin:v,alignmentToOrigin:h,disableCloseOnEnter:b,bottomSheetInitialState:y,popupTypeOverride:S}=l,x=(0,o(484714).WS)(),M=(0,o(546926).Tf)(),[_,w]=(0,a.useState)(!1),k=(0,a.useRef)(null),j=(0,a.useRef)(null),I=(0,a.useRef)(null),A=(0,a.useRef)(null),C=(0,a.useCallback)((()=>{I.current&&window.clearTimeout(I.current),A.current&&window.clearTimeout(A.current),I.current=null,A.current=null}),[]),T=(0,a.useCallback)((()=>{C(),d||w(!0)}),[d,C]),B=(0,a.useCallback)((()=>{C(),w(!1)}),[C]),R=(0,a.useCallback)((e=>{C(),_||(e&&e.preventDefault&&e.preventDefault(),I.current=window.setTimeout(T,120))}),[_,C,T]),D=(0,a.useCallback)((()=>{C(),_&&(A.current=window.setTimeout(B,100))}),[_,B,C]),z=(0,a.useCallback)((t=>{g(),T(),s&&(null==e||e(t),B())}),[g,T,s,e,B]),E=(0,a.useCallback)((()=>{R()}),[R]),P=(0,a.useCallback)((()=>{g(),R()}),[g,R]),L=(0,a.useCallback)((e=>{if(o(726637).A.isMobile)return;const t=k.current;_&&t&&!t.contains(e.target)&&B()}),[_,B]),U=(0,a.useCallback)((e=>{13===e.keyCode&&_&&!b&&B()}),[_,B,b]);(0,a.useEffect)((()=>{if(!Boolean(p))return window.addEventListener("click",L),()=>{window.removeEventListener("click",L)}}),[p,L]),(0,a.useEffect)((()=>(window.addEventListener("keydown",U),()=>{window.removeEventListener("keydown",U)})),[U]);const F=(0,a.useRef)(m);(0,a.useEffect)((()=>{f&&!F.current&&m?R():!m&&F.current&&D(),F.current=m}),[m,f,R,D]);const N=(0,o(401497).IS)((()=>({mobilePopupStyle:{borderRadius:12,backgroundColor:o(100622).Tj.background.secondary}})),[]),V={...(0,o(383036).A)({onMouseEnter:E,onClick:z},l),showExtensionArrow:!0};let O=n().n.Popup;return S?O=S:x&&(O=M?n().n.BottomSheet:n().n.SlideUp),(0,i.jsx)(o(782482).N,{debugName:"ExtensionMenuItem",capture:m,onEnter:_?void 0:R,onRight:R,onLeft:_?D:void 0,onEsc:_?D:void 0,children:(0,i.jsx)(o(127833).zD,{popupType:O,bottomSheetInitialState:y,open:_,origin:t(V,c),placementToOrigin:v??"right",alignmentToOrigin:h??"center",originGap:0,disableMouseCapture:!0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!x,preventCaptureEsc:!0,ref:k,render:()=>(0,i.jsxs)(i.Fragment,{children:[!x&&j.current?(0,i.jsx)(u,{el:j.current}):null,(0,i.jsx)("div",{ref:j,style:{height:"100%"},children:r({onMouseEnter:P},{close:D})})]}),style:{overflow:"visible",...x&&N.mobilePopupStyle},trapFocus:!0,onDismiss:B})})}const g=a.forwardRef(p)},671089:(e,t,o)=>{o.r(t),o.d(t,{checkmarkCircleIcon:()=>r,iconDefinition:()=>n});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,a.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},r=(0,o(340498).wt)("checkmarkCircle",n,"default")},704658:(e,t,o)=>{o.r(t),o.d(t,{UpgradeButton:()=>v});o(296540);var a=()=>o(593531),n=()=>o(406094),r=()=>o(69708),i=()=>o(86269),s=()=>o(839897),l=()=>o(674482),c=()=>o(24796),d=o(474848);function u(e){var t;const{upgradeStatus:o,handleClick:a,size:u="default",width:p="fill",hoverRef:g,onMouseDown:m,upsell:f,featureName:v}=e,h=(0,r().tz)(),b=(0,s().e)(o),y=b.label.button({intl:h,upsell:f,featureName:v}),S=Boolean(b.disabledTooltip),x=(0,i().Lo)({width:p}),{animationState:M,animationTriggers:_}=(0,i().lP)(g);return(0,d.jsx)(c().T,{tooltipMessage:S&&!g?null===(t=b.disabledTooltip)||void 0===t?void 0:t.call(b,{intl:h,upsell:f,featureName:v}):void 0,children:(0,d.jsx)(n().A,{...g?{}:_,disabled:S,hoveredStyle:g?{background:"unset"}:void 0,size:l().lR[u],iconLeading:{...(0,i().e4)({icon:b.icon({upsell:f}),animationState:M}),size:l().Ud[u]},style:x,onClick:a,onMouseDown:m,children:y})})}var p=()=>o(160432);function g(e){var t;const{upsell:o,upgradeStatus:a,handleClick:n,onMouseDown:i,featureName:u}=e,g=(0,r().tz)(),m=(0,s().e)(a),f=m.label.button({intl:g,upsell:o,featureName:u}),v=Boolean(m.disabledTooltip);return(0,d.jsx)(c().T,{tooltipMessage:v?null===(t=m.disabledTooltip)||void 0===t?void 0:t.call(m,{intl:g,upsell:o,featureName:u}):void 0,children:(0,d.jsx)(p().A,{colorPalette:"blue",disabled:v,size:l().lR.default,onClick:n,onMouseDown:i,children:f})})}var m=()=>o(986321),f=()=>o(408543);function v({source:e,upsell:t,featureName:o,hoverRef:n,onMouseDown:r,postUpgradeCallback:i,onClickBeforeUpgradeAction:s,spaceStore:l,...c}){const{upgradeEligibility:p,handleClick:v}=(0,f().C)({upsell:t,source:e,buttonDisplayType:c.display,onClickBeforeUpgradeAction:s,postUpgradeCallback:i,spaceStore:l});if(!p||"not_eligible"===p.status&&"feature_not_upsellable"===p.reason)return null;switch(c.display){case"button":return(0,d.jsx)(u,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,hoverRef:n,onMouseDown:r,...c});case"icon":return(0,d.jsx)(a().c,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,hoverRef:n,onMouseDown:r,...c});case"text":return(0,d.jsx)(m().c,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,hoverRef:n,onMouseDown:r,...c});case"primary":return(0,d.jsx)(g,{upgradeStatus:p.status,handleClick:v,upsell:t,featureName:o,onMouseDown:r,...c})}}},738508:(e,t,o)=>{o.r(t),o.d(t,{cursorIcon:()=>r,iconDefinition:()=>n});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"1.25 0 17.5 20",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{className:"logo-light-mode",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_16020_205)",children:[(0,a.jsx)("path",{fill:"#757575",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,a.jsx)("path",{fill:"#525252",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,a.jsx)("path",{fill:"#404040",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,a.jsx)("path",{fill:"#D9D9D9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,a.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_16020_205",children:(0,a.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]}),(0,a.jsxs)("g",{className:"logo-dark-mode",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_16020_213)",children:[(0,a.jsx)("path",{fill:"#6E6E6E",d:"m9.995 9.987 8.658 4.999a.6.6 0 0 1-.226.226l-8.092 4.672a.68.68 0 0 1-.68 0l-8.092-4.672a.6.6 0 0 1-.226-.226z"}),(0,a.jsx)("path",{fill:"#4A4A4A",d:"M9.995 0v9.987l-8.658 4.999a.6.6 0 0 1-.082-.309v-9.38c0-.22.117-.424.308-.534L9.655.09a.7.7 0 0 1 .34-.09"}),(0,a.jsx)("path",{fill:"#383838",d:"M18.652 4.989a.6.6 0 0 0-.225-.226L10.334.09A.7.7 0 0 0 9.995 0v9.987l8.658 4.999a.6.6 0 0 0 .083-.309v-9.38c0-.11-.03-.216-.083-.308"}),(0,a.jsx)("path",{fill:"#C9C9C9",d:"M18.047 5.339a.29.29 0 0 1 0 .29l-7.859 13.61c-.053.093-.193.055-.193-.05v-8.97a.4.4 0 0 0-.054-.201z"}),(0,a.jsx)("path",{fill:"#fff",d:"m18.047 5.339-8.106 4.68a.4.4 0 0 0-.147-.147L2.027 5.387c-.092-.053-.054-.193.052-.193h15.717c.111 0 .202.06.25.145"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_16020_213",children:(0,a.jsx)("path",{fill:"#fff",d:"M1.255 0h17.49v20H1.256z"})})})]})]})},r=(0,o(340498).wt)("cursor",n,"default")},838364:(e,t,o)=>{o.d(t,{H:()=>a});const a=52},839754:(e,t,o)=>{o.d(t,{Bi:()=>k,My:()=>w,ZM:()=>I,_M:()=>j,navigateToWorkflowTemplateOnboardingModal:()=>A});o(16280),o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(672577),o(581454);var a=()=>o(907258),n=()=>o(295633),r=()=>o(584262),i=()=>o(663077),s=()=>o(179034),l=()=>o(201980),c=()=>o(896628),d=()=>o(384944),u=()=>o(730969),p=()=>o(840153),g=()=>o(339798),m=()=>o(180762),f=()=>o(799832),v=()=>o(111379),h=()=>o(535960),b=()=>o(31173),y=()=>o(295304),S=()=>o(244828),x=()=>o(373444),M=()=>o(165592),_=()=>o(204067);function w({transaction:e,collectionStore:t,propertyTemplates:o}){var a;const n=(null===(a=t.getParentBlockStore())||void 0===a?void 0:a.getCollectionViewStores().filter((e=>"table"===e.getType())))??[];if(0===n.length)return;const r=[];for(const l of o){const e=(0,_().S1)({collectionStore:t,templateId:l.templateId,instancePointerType:"property"});e&&r.push({property:e.id,visible:!(0,i().Sz)(l),...l.tablePropertyFormat})}if(0!==r.length)for(const i of n){var s;const t=(null===(s=i.getPropertyFormatsStore("table_properties"))||void 0===s?void 0:s.getValue())??[],o=new Set(t.map((e=>e.property))),a=r.filter((e=>!o.has(e.property)));0!==a.length&&c().zA({stores:[i],update:{table_properties:[...t,...a]},transaction:e})}}function k({transaction:e,collectionStore:t,propertyTemplates:o}){const a=[];for(const s of o){const e=(0,_().S1)({collectionStore:t,templateId:s.templateId,instancePointerType:"property"});e&&a.push({property:e.id,visible:!0})}const n=t.getFormat().collection_page_properties??[],r=new Set(n.map((e=>e.property))),i=a.filter((e=>!r.has(e.property)));i.length&&c().zA({stores:[t],update:{collection_page_properties:[...n,...i]},transaction:e})}function j({environment:e,newPageStore:t,result:o}){"accepted_template"!==o.type&&"accepted_empty_collection"!==o.type||S().createAndCommit({environment:e,canUndo:!1,perform:a=>{const r=t.getTitleValue();if(d().zv({store:t,transaction:a,data:{alive:!1}}),"accepted_empty_collection"===o.type&&!(0,l().w9s)(r)){const i=n().B.createChildStore(t,{table:"block",id:o.blockId}).getTitleStore();i&&y().yr({environment:e,transaction:a,tokens:r,index:0,store:i})}const i=t.getParentStore();if((null==i?void 0:i.table)===s().ev){const e=i.getContentIds();d().zv({store:i,transaction:a,data:{content:e.filter((e=>e!==t.id))}})}},userAction:"clean_up_empty_new_page"})}function I({environment:e,userAction:t,result:o,existingCollectionViewBlockStore:a,existingCollectionStore:n}){if("canceled"!==o.type){if("accepted_empty_collection"===o.type&&n){const a=n.getKeyStore("name"),r=(0,l().x9d)(o.newCollectionTitle);a&&S().createAndCommit({userAction:t,environment:e,canUndo:!0,perform:t=>y().R9({environment:e,store:a,transaction:t,value:r})})}if(a){var r;const e=null===(r=(0,f().U)(a))||void 0===r?void 0:r.settingsStore;e&&g().os({collectionSettingsStore:e})}if("accepted_template"===o.type&&null!=a&&a.isCollectionView()&&(null==a||!a.hasSingleSourceAndNoLinkedCollections())){const t=(0,f().U)(a),n=a.getCollectionViewStores().find((e=>{var t;return(null===(t=e.getCollectionStore())||void 0===t?void 0:t.id)===o.collectionId}));if(!t||!n)return;(0,m().t)({environment:e,collectionContextStore:t,collectionViewId:n.id,isFullScreen:t.isFullScreenStore.state,isRootChild:t.isRootChildStore.state,isInPeekRenderer:t.isInPeekRendererStore.state})}}}async function A({environment:e,collectionViewBlockStore:t}){const o=t.id;if(!t.isDefined()){const a=await(0,b().$)({environment:e,blockId:o});if(!a)return;e=await p().T({environment:e,newCurrentUserId:a}),t=new(n().B)(e,{table:s().ev,id:o}),await t.load()}const i=t.getSpaceId();if(!i)throw new Error("Space ID not found for collection block");const l=(0,v().k)(i);if(!l)throw new Error(`Space view not found for space ID: ${i}`);const{sidebarSpaceStore:c}=a().default.state;(null==c?void 0:c.id)!==i&&await(0,u().y)({environment:e,spaceViewStore:l});const d=t.getFormat();if("workflow_template_placeholder"===(null==d?void 0:d.collection_view_sub_type)&&null!=d&&d.placeholder_workflow_template_id&&t.isCollectionView()){const{getCollectionTemplateFromId:o}=await M().t.load(),a=o(d.placeholder_workflow_template_id);if(!a)throw new Error(`Collection template "${d.placeholder_workflow_template_id}" not found`);const{onNavigateToPlaceholderWorkflowTemplateBlock:n}=await x().O.load();n({environment:e,collectionTemplate:a,collectionViewBlockStore:t})}else(0,h().u)({environment:e,store:t,pageVisitSource:r().y8.WorkflowTemplatesDeeplink})}},848401:(e,t,o)=>{o.d(t,{Ay:()=>f,mI:()=>g,vb:()=>m});o(296540);var a=()=>o(401497),n=()=>o(718827),r=()=>o(807449),i=()=>o(784892),s=()=>o(563692),l=()=>o(340498),c=()=>o(69708),d=()=>o(284371),u=o(474848);const p=(0,c().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),g=i().NY,m={[i().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:l().Ev.xxs,avatarSize:14},[i().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:l().Ev.xxs,avatarSize:14},[i().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:l().Ev.xxs,avatarSize:16},[i().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:l().Ev.xxs,avatarSize:20},[i().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:l().Ev.xxs,avatarSize:20},[i().NY.Inline]:{height:20,fontSize:14,closeIconSize:l().Ev.xxs,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[i().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:l().Ev.sm,avatarSize:24}};function f({avatarSize:e,format:t,isSingle:o,onClickRemove:i,renderAvatar:l,showRemoveButton:g,shouldShrink:f,style:v,title:h}){const b=(0,c().tz)(),{height:y,fontSize:S,margin:x,marginEditState:M,closeIconSize:_,avatarSize:w}=m[t],k=e??w,j=(0,a().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:f?1:0,minWidth:0,height:y,borderRadius:6,fontSize:S,lineHeight:"120%",margin:o?0:g?M:x,...v}})),[S,y,o,x,M,f,g,v]);return(0,u.jsxs)("div",{style:j.root,children:[null==l?void 0:l(k),(0,u.jsx)("div",{className:"notranslate",style:{...d().RC},children:h}),g?(0,u.jsx)(n().Ay,{ariaLabel:void 0!==h?b.formatMessage(p.removeTokenLabel,{title:h}):b.formatMessage(p.removeTokenLabelGeneric),onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:y,height:y,marginInlineStart:2,marginInlineEnd:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,u.jsx)(r().I,{icon:s().xMarkFillSmallIcon,size:_,style:{opacity:.5}})}):null]})}},859384:(e,t,o)=>{o.d(t,{M:()=>r});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"3.12 2.99 13.88 13.88",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m16.774 4.341-.59.589-1.109-1.11.596-.594a.784.784 0 0 1 1.103 0c.302.302.302.8 0 1.102zM8.65 12.462l6.816-6.813-1.11-1.11-6.822 6.808a1.1 1.1 0 0 0-.236.393l-.289.932c-.052.196.131.38.315.314l.932-.288a.9.9 0 0 0 .394-.236"}),(0,a.jsx)("path",{d:"M4.375 6.25c0-1.036.84-1.875 1.875-1.875H11a.625.625 0 1 0 0-1.25H6.25A3.125 3.125 0 0 0 3.125 6.25v7.5c0 1.726 1.4 3.125 3.125 3.125h7.5c1.726 0 3.125-1.4 3.125-3.125V9a.625.625 0 1 0-1.25 0v4.75c0 1.036-.84 1.875-1.875 1.875h-7.5a1.875 1.875 0 0 1-1.875-1.875z"})]})},r=(0,o(340498).wt)("compose",n,"default")},883701:(e,t,o)=>{o.d(t,{J:()=>i});var a=()=>o(457205),n=()=>o(849255),r=()=>o(534177);function i(e,t){if(t&&t.asActor)switch(t.pointer.table){case"bot":return new(a().v)(e,t.pointer);case"notion_user":return new(n().L)(e,t.pointer);default:(0,r().HB)(t.pointer)}}},885247:(e,t,o)=>{o.d(t,{R:()=>l});o(296540);var a=()=>o(590526),n=()=>o(69708),r=()=>o(534177),i=()=>o(424039),s=o(474848);function l(){const e=(0,a().O$)(i().Iq);switch(e){case"unread_and_read":return(0,s.jsx)(n().sA,{id:"inbox.unreadAndUnreadFilter.title",defaultMessage:"Inbox"});case"unread_only":return(0,s.jsx)(n().sA,{id:"inbox.unreadOnlyFilter.title",defaultMessage:"Unread"});case"archived_only":return(0,s.jsx)(n().sA,{id:"inbox.archivedFilter.title",defaultMessage:"Archived"});case"all_updates":return(0,s.jsx)(n().sA,{id:"inbox.allUpdatesFilter.title",defaultMessage:"All workspace updates"});default:return(0,r().HB)(e)}}},888325:(e,t,o)=>{function a(e){return`${e.table}:${e.id}`}o.d(t,{_:()=>a})},922952:(e,t,o)=>{o.d(t,{u:()=>i});var a=()=>o(295633),n=()=>o(302996),r=()=>o(723085);function i(e){return e instanceof r().h||e instanceof n().SpaceStore||e instanceof a().B}},935432:(e,t,o)=>{o.d(t,{A:()=>i});var a=()=>o(416845),n=()=>o(357264),r=()=>o(788579);function i(e,t){if((0,a().pA8)(t)){const o=(0,r().$)(t.clientData);if(o)return"messageValues"in t.clientData?e.formatMessage(o,t.clientData.messageValues):e.formatMessage(o)}return e.formatMessage(n().k.generic_error)}}}]);