"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[56989],{148974:(e,t,i)=>{i.d(t,{Vq:()=>n,bt:()=>r,vx:()=>o});const n={mini:3,small:4,default:6,medium:8,large:12,max:16},o="0px 4px 0px -2px #00000005",r={opacity:.5,pointerEvents:"none",userSelect:"none"}},202777:(e,t,i)=>{i.r(t),i.d(t,{UpgradeRequestFormModal:()=>R,UpgradeRequestFormModalWithData:()=>A});i(898992),i(354520),i(581454);var n=i(296540),o=()=>i(564884),r=()=>i(484714),a=()=>i(590526),s=()=>i(401497),l=()=>i(394888),d=()=>i(128933),c=()=>i(699143),u=()=>i(249046),p=()=>i(89002),h=()=>i(420802),m=()=>i(807449),g=()=>i(31511),x=()=>i(265060),y=()=>i(493552),f=()=>i(26697),j=()=>i(637963),v=()=>i(898615),w=()=>i(846523),b=()=>i(979340),C=()=>i(69708),S=()=>i(100622),I=()=>i(994006),k=()=>i(898568),M=()=>i(148974),T=()=>i(896678),B=()=>i(486115),q=()=>i(398304),D=i(474848);function R(e){const{spaceStore:t}=e,{open:i,...n}=(0,a().O$)(q().Q),{status:o,workspaceOwners:r}=(0,B().P)({spaceStore:t,skip:!i});return"feature"in n&&t&&"pending"!==o?(0,D.jsx)(A,{spaceStore:t,workspaceOwners:r,onDismiss:()=>q().Q.update((e=>({open:!1}))),...n}):null}function A(e){const t=(0,C().tz)(),[i,o]=n.useState(e.workspaceOwners.map((e=>e.id)));return(0,D.jsx)(l().s,{ariaLabel:t.formatMessage({id:"highlightPlanRequestButton.modal.ariaLabel",defaultMessage:"Upgrade plan request modal"}),isOpen:!0,onDismiss:e.onDismiss,areaConstraint:{width:{type:"min",length:400},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,D.jsx)(_,{...e,checkedState:i,setCheckedState:o})})}function _({feature:e,onDismiss:t,setRequestState:i,spaceStore:a,userId:l,workspaceOwners:B,checkedState:q,setCheckedState:R,entrypoint:A}){const _=(0,C().tz)(),z=(0,r().v3)(),[P,V]=n.useState(""),W=(0,s().IS)((()=>({outlineIcon:{color:S().Tj.text.secondary},input:{padding:"10px 8px",width:"100%",height:36,background:S().Tj.background.secondary,borderRadius:6},modalHeaderIcon:{marginBottom:4},modalHeaderTitle:{padding:"0 8px"},modalHeaderByline:{padding:"0 40px"},usersContainer:{paddingTop:16,paddingInlineEnd:0,paddingBottom:16,paddingInlineStart:16,borderRadius:M().Vq.medium,borderWidth:1,borderStyle:"solid",borderColor:S().Tj.border.secondary},learnMoreTooltip:{width:240,whiteSpace:"normal"}})),[]);return(0,D.jsx)(p().t,{showDismissButton:!0,header:(0,D.jsx)(k().rQ,{icon:(0,D.jsx)("div",{style:W.modalHeaderIcon,children:"ai_credit_pack"===e?(0,D.jsx)(m().I,{icon:j().f,colorVariant:"tertiary"}):(0,D.jsx)(m().I,{icon:v().F,size:30,style:W.outlineIcon})}),title:(0,D.jsx)("div",{style:W.modalHeaderTitle,children:"ai_credit_pack"===e?(0,D.jsx)(C().sA,{id:"highlightPlanRequestButton.modal.aiCreditsTitle",defaultMessage:"Request additional {feature}",values:{feature:b().v0.aiCreditPack.defaultMessage}}):(0,D.jsx)(C().sA,{id:"highlightPlanRequestButton.modal.title",defaultMessage:"Request an upgrade to use {feature}",values:{feature:b().v0[e].defaultMessage}})}),byline:(0,D.jsx)("div",{style:W.modalHeaderByline,children:"ai_credit_pack"===e?_.formatMessage({id:"highlightPlanRequestButton.modal.aiCreditsSubtitle",defaultMessage:"Let your workspace owners know that you're interested in additional credits"}):_.formatMessage({id:"highlightPlanRequestButton.modal.subtitle",defaultMessage:"Let your workspace owners know that you're interested in this feature"})})}),footer:(0,D.jsx)(k().jl,{primaryText:_.formatMessage({id:"highlightPlanRequestButton.modal.submitButton",defaultMessage:"Submit request"}),primaryAction:()=>{(0,T()._)({feature:e,spaceId:a.id,userId:l,environment:z,entrypoint:A,setRequestState:i,reasonForRequest:P,adminsToNotify:q}),(0,o().u)({environment:z,event:{eventName:"upgrade_request_submitted",eventProperties:{feature:e,entrypoint:A,number_admins_notified:q.length,added_note:P.length>0}}}),d().D6({label:_.formatMessage({id:"RequestUpgradeForm.modal.submitted.toast.label",defaultMessage:"Successfully sent request"})}),t()},secondaryText:_.formatMessage({id:"highlightPlanRequestButton.modal.cancelButton",defaultMessage:"Cancel"}),secondaryAction:()=>{(0,o().u)({environment:z,event:{eventName:"upgrade_request_canceled",eventProperties:{feature:e,entrypoint:A}}}),t()}}),children:(0,D.jsxs)(c().Y1,{gap:24,padding:2,children:[(0,D.jsxs)(c().Y1,{gap:8,children:[(0,D.jsxs)(c().Y1,{gap:4,direction:"horizontal",children:[(0,D.jsx)(y().D,{styleKey:"captionMedium",colorVariant:"secondary",children:_.formatMessage({id:"highlightPlanRequestButton.modal.selectWorkspaceOwners",defaultMessage:"Select who to notify"})}),(0,D.jsx)(f().m,{style:W.learnMoreTooltip,placement:"right",renderTooltip:()=>(0,D.jsx)(u().wt,{gap:2,children:(0,D.jsx)(y().D,{styleKey:"captionMedium",children:_.formatMessage({id:"highlightPlanRequestButton.modal.notifyTooltip",defaultMessage:"Select who will receive an inbox notification for your request. Every workspace owner will be able to see all requests via the Requests tab in Settings."})})}),render:e=>(0,D.jsx)("div",{...e,children:(0,D.jsx)(x().Q,{iconGroup:w().u,variantName:"small",colorVariant:"tertiary"})})})]}),(0,D.jsx)("div",{style:W.usersContainer,children:B.length>0?(0,D.jsx)(u().wt,{gap:16,style:{width:"100%",maxHeight:128,overflowY:"auto"},children:B.map((e=>(0,D.jsxs)(u().Ye,{gap:8,style:{alignItems:"center",justifyContent:"flex-start"},children:[(0,D.jsx)(h().S,{size:14,checked:q.includes(e.id),onClick:()=>{R((t=>t.includes(e.id)?t.filter((t=>t!==e.id)):[...t,e.id]))},style:{marginInlineEnd:8}},`check-${e.id}`),(0,D.jsx)(y().D,{styleKey:"bodyRegular",colorVariant:"primary",children:(0,D.jsx)(I().A,{avatarSize:32,userStore:e,hasPersonHoverCard:!1})})]},e.id)))}):void 0})]}),(0,D.jsxs)(c().Y1,{gap:8,direction:"vertical",style:{paddingBottom:8},children:[(0,D.jsx)(y().D,{styleKey:"captionMedium",colorVariant:"secondary",children:_.formatMessage({id:"highlightPlanRequestButton.modal.noteLabel",defaultMessage:"Add a note (optional)"})}),(0,D.jsx)(g().A,{style:W.input,value:P,focusInitial:!0,onChange:e=>{V(e.target.value)}})]})]})})}},264280:(e,t,i)=>{i.d(t,{M:()=>o,W:()=>n});const n={height:28,paddingInlineStart:8,paddingInlineEnd:8,paddingTop:4,paddingBottom:4,fontWeight:i(284371).Wy.medium},o={opacity:.4}},384100:(e,t,i)=>{i.d(t,{z:()=>r});var n=()=>i(849255),o=()=>i(798880);function r(e){const{userId:t,spaceStore:i}=e;return n().L.createChildStore(i,{table:o().oo,id:t})}},398304:(e,t,i)=>{i.d(t,{Q:()=>n});const n=i(757695).Store.createValue({open:!1},{name:"UpgradeRequestFormModalStore"})},486115:(e,t,i)=>{i.d(t,{P:()=>g});i(898992),i(354520),i(581454);var n=()=>i(664594),o=()=>i(242422),r=()=>i(484714),a=()=>i(590526),s=()=>i(313491),l=()=>i(187174),d=()=>i(848538),c=()=>i(753812),u=()=>i(165241),p=()=>i(384100),h=()=>i(408895),m=()=>i(134217);function g(e){const{spaceStore:t,skip:i=!1}=e,g=(0,r().v3)(),x=(0,n().T)(),[{status:y,value:f}]=(0,l().Yb)((async()=>{const e=null==t?void 0:t.id;if(i||!e)return;if(u().i({userId:x,spaceId:e,debugFrom:"useWorkspaceOwners"})){const e=o().default.getConfigKey("email_alias_migration","mode"),i=await c().callApi({eventName:"listUsers",environment:g,data:{cursor:void 0,membershipFilter:"owners",limit:1e3,query:"",spaceId:t.id,includeAliasSearch:(0,s().K)(e)}});return"success"===i.type?i.data.users.map((e=>e.id)):[]}{const e=(0,h().M)({spaceId:null==t?void 0:t.id,userId:x,enforceIdsCheck:!1,debugFrom:"useWorkspaceOwners"});if(!e)return[];return(0,m().Be)(e).filter((e=>(0,d().Jm)(e.membershipType))).map((e=>e.userId))}}),[g,t,i,x]);return{status:y,workspaceOwners:(0,a().K8)((()=>!i&&f&&t?f.map((e=>(0,p().z)({userId:e,spaceStore:t}))):[]),[f,t,i])}}},637963:(e,t,i)=>{i.d(t,{f:()=>r});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"1.64 1.23 16.72 17.53",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8.833 7.26a2.522 2.522 0 0 1 4.34.022.551.551 0 0 1-.95.555 1.422 1.422 0 0 0-2.446-.012L6.676 13l2.255.366a.55.55 0 0 1-.176 1.085L5.7 13.956a.55.55 0 0 1-.384-.825z"}),(0,n.jsx)("path",{d:"M10.518 8.605a.705.705 0 1 1-.225 1.393.705.705 0 0 1 .225-1.393m-3.719-.602a.706.706 0 1 1-.227 1.393.706.706 0 0 1 .227-1.393M5.146 5.999a2.524 2.524 0 0 1 3.586.23.55.55 0 0 1-.83.72 1.426 1.426 0 0 0-2.023-.13.55.55 0 1 1-.733-.82"}),(0,n.jsx)("path",{d:"M11.258 1.236c4.03 0 7.097 4.047 7.098 8.764s-3.069 8.762-7.098 8.763H8.743l-.375-.012C4.524 18.509 1.645 14.569 1.645 10c0-4.717 3.068-8.763 7.097-8.764zm-2.516 1.1c-3.202 0-5.998 3.31-5.998 7.664 0 4.355 2.796 7.663 5.998 7.663S14.74 14.355 14.74 10s-2.795-7.664-5.998-7.664m6.846 5.354c.164.74.253 1.516.253 2.31 0 3.134-1.356 5.97-3.446 7.522 2.699-.674 4.86-3.693 4.86-7.522a9.7 9.7 0 0 0-.275-2.31zm-.979-2.622q.396.718.672 1.523h1.35a8 8 0 0 0-.784-1.523zm-2.215-2.591a7.6 7.6 0 0 1 1.499 1.492h1.054c-.74-.738-1.614-1.258-2.553-1.492"})]})},r=(0,i(340498).wt)("aiCoin",o,"default")},803960:(e,t,i)=>{i.r(t),i.d(t,{arrowChevronSingleDownIcon:()=>o,iconDefinition:()=>n});i(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.97 6.97 12.06 6.66",svg:(0,i(474848).jsx)("path",{d:"M9.558 13.442c.244.244.64.244.884 0l5.4-5.4a.625.625 0 0 0-.884-.884L10 12.116 5.042 7.158a.625.625 0 1 0-.884.884z"})},o=(0,i(340498).wt)("arrowChevronSingleDown",n,"default")},896678:(e,t,i)=>{i.d(t,{_:()=>d});var n=()=>i(907258),o=()=>i(232802),r=()=>i(798880),a=()=>i(498212),s=()=>i(384944),l=()=>i(244828);function d(e){var t;const{feature:i,spaceId:d,userId:c,environment:u,entrypoint:p,setRequestState:h,reasonForRequest:m,adminsToNotify:g}=e,x=null===(t=n().default.state.sidebarSpaceViewStore)||void 0===t?void 0:t.id;x&&d&&c&&(l().createAndCommit({userAction:`UpgradeRequestModal.${i}.onClick`,environment:u,canUndo:!0,perform:e=>{s().vt({environment:u,table:o().GU,args:{id:(0,a().Ay)(),space_id:d,request:i,createdByPointer:{id:c,table:r().oo},parentPointer:{id:x,table:"space_view"},entrypoint:p,reason_for_request:m,request_status:"pending",admins_to_notify:g},transaction:e,inMemoryRecordCache:u.defaultRecordCache.inMemoryRecordCache})}}),h&&h("pending"))}},898568:(e,t,i)=>{i.d(t,{J2:()=>S,NF:()=>I,gA:()=>C,hr:()=>T,jl:()=>M,p6:()=>B,rQ:()=>k});i(898992),i(672577),i(581454),i(296540);var n=()=>i(401497),o=()=>i(250910),r=()=>i(420802),a=()=>i(807449),s=()=>i(98126),l=()=>i(546926),d=()=>i(631524),c=()=>i(160432),u=()=>i(493552),p=()=>i(373009),h=()=>i(890492),m=()=>i(81068),g=()=>i(663639),x=()=>i(736847),y=()=>i(803960),f=()=>i(69708),j=()=>i(100622),v=()=>i(115512),w=()=>i(264280),b=i(474848);const C=24,S=440,I=S+40;function k(e){const{icon:t,title:i,byline:o,bylineWidthOverride:r}=e,a=(0,n().IS)((()=>({container:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8},title:{textAlign:"center"},byline:{textAlign:"center"}})),[]);return(0,b.jsxs)("div",{style:a.container,children:[t,(0,b.jsx)(u().D,{styleKey:"titleSmSemibold",style:a.title,children:i}),(0,b.jsx)(u().D,{styleKey:"bodyRegular",colorVariant:"secondary",style:r?{...a.byline,width:r}:a.byline,children:o})]})}function M(e){const{primaryText:t,primaryAction:i,primaryDisabled:o,secondaryText:r,secondaryAction:a,isLightRed:l,isDarkRed:u,isLoading:h}=e,m=!(l||u),g=(0,n().IS)((()=>({container:{margin:"0 auto",display:"flex",flexDirection:m?"row-reverse":"column",alignItems:"center",justifyContent:m?"flex-start":"flex-end",gap:8,padding:"0 20px",marginInlineStart:-20,width:"calc(100% + 40px)"},fullWidth:m?{}:{width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},cancelButton:{...w().W,height:32,color:j().Tj.text.secondary}})),[m]);return(0,b.jsxs)("div",{style:g.container,children:[l?(0,b.jsx)(p().E,{size:"lg",onClick:i,colorPalette:l?"red":void 0,disabled:o,style:g.fullWidth,children:h?(0,b.jsx)(s().k,{}):t}):(0,b.jsx)(c().A,{size:"lg",onClick:i,disabled:o,style:g.fullWidth,colorPalette:u?"red":"blue",children:h?(0,b.jsx)(s().k,{}):t}),(0,b.jsx)(d().p,{size:"lg",onClick:a,style:{...g.fullWidth,...g.cancelButton},children:r})]})}function T(e){const{selectedId:t,options:i,onChange:r}=e,s=(0,n().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:8},chevron:{marginInlineStart:3,marginInlineEnd:3},selectedButton:{width:"100%",margin:0,paddingTop:4,paddingBottom:4,border:`1px solid ${j().Tj.outlineButtonBorder}`},icon:{alignSelf:"start",marginTop:0,fill:j().Tj.icon.secondary,height:18,width:18}})),[]);return(0,b.jsxs)("div",{style:s.container,children:[(0,b.jsx)(u().D,{styleKey:"captionMedium",colorVariant:"secondary",children:(0,b.jsx)(f().sA,{id:"orgConsole.modal.dropdown.title",defaultMessage:"Select role"})}),(0,b.jsx)(o().A,{popupType:o().z.Popup,renderOrigin:e=>{const n=i.find((e=>e.id===t));return n?(0,b.jsx)(m().A,{...e,title:n.title,caption:n.caption,icon:n.icon({fill:s.icon.fill}),desktopIconStyle:s.icon,disabled:!1,right:(0,b.jsx)(a().I,{icon:y().arrowChevronSingleDownIcon,size:"xxs",colorVariant:"tertiary",style:s.chevron}),shouldWrapCaption:!0,buttonStyle:s.selectedButton,focused:!1}):null},originGap:8,placementToOrigin:"bottom",alignmentToOrigin:"center",sameWidthAsOrigin:!0,render:e=>{const n=[{key:"options",render:e=>(0,b.jsx)(x().A,{...e,topBorder:0!==e.index}),items:i.map((i=>{const n=i.id===t;return{key:i.id,render:e=>(0,b.jsx)(m().A,{...e,title:i.title,caption:i.caption,icon:i.icon({fill:s.icon.fill}),desktopIconStyle:s.icon,isChecked:n,shouldWrapCaption:!0}),action:()=>{r(i.id),e.close()}}}))}];return(0,b.jsx)(h().A,{menuType:l().gu.Popup,children:(0,b.jsx)(g().A,{type:g().O.Vertical,initialFocus:void 0,sections:n})})}})]})}function B(e){const{items:t,selectedIds:i,disabledIds:o,onSelectHeader:a,onSelect:s,titleText:l,headerText:d,headerAction:c}=e,p=(0,n().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:8,marginBottom:4},selectorContainer:{border:`1px solid ${j().Tj.border.secondary}`,boxShadow:"0px 2px 4px 0px #0000000a",borderRadius:8},checkbox:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},headerText:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},right:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row"},workspace:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:8},byline:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},bylineWithoutCheckboxes:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:28,width:28},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:2},selectorHeader:{padding:"4px 12px",borderBottom:`1px solid ${j().Tj.border.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorHeaderWithAction:{paddingTop:4,paddingInlineEnd:4,paddingBottom:4,paddingInlineStart:12,borderBottom:`1px solid ${j().Tj.border.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorBody:{paddingInline:12,display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",width:"100%",maxHeight:204,overflowX:"hidden",overflowY:"auto"},selectorBodyRow:{display:"grid",gridTemplateColumns:"24px minmax(auto, 50%) 1fr",width:"100%",paddingBlock:8,gap:8,borderTop:`1px solid ${j().Tj.border.secondary}`}})),[]),h=void 0!==i&&void 0!==o&&s&&a,m=void 0!==o?t.length-o.length:0,g=(()=>{if(void 0===i)return!1;let e=0;for(const n of t)i.includes(n.id)&&(e+=1);return 0!==e&&(e===m?0!==m:"partial")})();return(0,b.jsxs)("div",{style:p.container,children:[(0,b.jsx)(u().D,{styleKey:"captionMedium",colorVariant:"secondary",children:l}),(0,b.jsxs)("div",{style:p.selectorContainer,children:[(0,b.jsxs)("div",{style:{...c?p.selectorHeaderWithAction:p.selectorHeader,gridTemplateColumns:h?"24px 1fr 1fr":"1fr 1fr"},children:[h?(0,b.jsx)("div",{style:p.checkbox,children:(0,b.jsx)(r().S,{checked:g,size:14,onClick:a})}):null,(0,b.jsx)(u().D,{styleKey:"captionMedium",colorVariant:"secondary",style:p.headerText,children:d}),(0,b.jsx)("div",{style:p.right,children:c})]}),(0,b.jsx)("div",{style:p.selectorBody,children:t.map((({id:e,icon:t,name:n,caption:a,byline:l},d)=>(0,b.jsxs)("div",{style:{...p.selectorBodyRow,borderTopWidth:0===d?0:1,gridTemplateColumns:h?"24px minmax(auto, 50%) 1fr":"minmax(auto, 50%) 1fr"},children:[h?(0,b.jsx)("div",{style:p.checkbox,children:(0,b.jsx)(r().S,{checked:i.includes(e)||o.includes(e),size:14,onClick:()=>s(e),disabled:o.includes(e),style:{opacity:o.includes(e)?.3:1}})}):null,(0,b.jsxs)("div",{style:p.workspace,children:[(0,b.jsx)("div",{style:p.iconContainer,children:t}),(0,b.jsxs)("div",{style:p.textContainer,children:[(0,b.jsx)(u().D,{styleKey:"bodyMedium",style:{...(0,v().pA)(1),textOverflow:"ellipsis"},children:n}),a?(0,b.jsx)(u().D,{styleKey:"captionRegular",colorVariant:"secondary",style:{...(0,v().pA)(1),textOverflow:"ellipsis"},children:a}):null]})]}),(0,b.jsx)("div",{style:p.byline,children:l})]},e)))})]})]})}},898615:(e,t,i)=>{i.d(t,{F:()=>r});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.13 15.26 14.86",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.533 5.813a.625.625 0 0 1 .884 0l2.5 2.5a.625.625 0 1 1-.884.884l-1.408-1.408v3.966a.625.625 0 1 1-1.25 0V7.739L7.917 9.197a.625.625 0 0 1-.884-.884z"}),(0,n.jsx)("path",{d:"M15.5 3.13c1.174 0 2.125.951 2.125 2.125v7.5A2.125 2.125 0 0 1 15.5 14.88h-4.935l-3.871 2.978a.625.625 0 0 1-1.006-.496V14.88H4.5a2.125 2.125 0 0 1-2.125-2.125v-7.5c0-1.174.951-2.125 2.125-2.125zm.875 2.125a.875.875 0 0 0-.875-.875h-11a.875.875 0 0 0-.875.875v7.5c0 .483.392.875.875.875h1.813c.345 0 .625.28.625.625v1.838l3.033-2.334a.63.63 0 0 1 .381-.13H15.5a.875.875 0 0 0 .875-.874z"})]})},r=(0,i(340498).wt)("commentArrowUp",o,"default")}}]);