"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[67561],{33376:(e,t,o)=>{o.d(t,{E:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.09 15.2 12.78",svg:(0,o(474848).jsx)("path",{d:"M3.5 3.099c-.621 0-1.125.504-1.125 1.125v9.026A2.625 2.625 0 0 0 5 15.875h9.944a2.625 2.625 0 0 0 2.625-2.625V7.495a2.625 2.625 0 0 0-2.625-2.625H9.067L7.962 3.513A1.13 1.13 0 0 0 7.09 3.1zm.125 4.465V4.349H7.03l1.105 1.356c.214.263.534.415.872.415h5.937c.76 0 1.375.616 1.375 1.375v.069zm0 1.1h12.694v4.586c0 .76-.616 1.375-1.375 1.375H5c-.76 0-1.375-.616-1.375-1.375z"})},i=(0,o(340498).wt)("folder",n,"default")},89849:(e,t,o)=>{o.r(t),o.d(t,{eyeIcon:()=>l,iconDefinition:()=>i});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"0.96 4.19 18.07 11.62",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.17 6.694a3.307 3.307 0 0 1 3.135 3.303l-.005.17a3.305 3.305 0 0 1-3.3 3.137l-.17-.004a3.307 3.307 0 0 1-3.132-3.133l-.004-.17A3.307 3.307 0 0 1 10 6.69zm-.17 2.2a1.104 1.104 0 0 0 0 2.207 1.103 1.103 0 0 0 0-2.207"}),(0,n.jsx)("path",{d:"M10 4.194c3.878 0 7.26 2.075 8.862 5.127l.073.163c.126.333.126.7 0 1.033l-.073.163c-1.602 3.052-4.984 5.126-8.862 5.126-3.757 0-7.049-1.946-8.707-4.843l-.156-.283a1.46 1.46 0 0 1 0-1.359l.156-.283C2.95 6.141 6.243 4.194 10 4.194m0 1.251c-3.33 0-6.196 1.724-7.622 4.214l-.134.243a.21.21 0 0 0 0 .197l.134.243c1.426 2.49 4.292 4.214 7.622 4.214 3.437 0 6.38-1.837 7.756-4.457l.018-.048a.2.2 0 0 0 0-.1l-.018-.049C16.38 7.282 13.437 5.445 10 5.445"})]})},l=(0,o(340498).wt)("eye",i,"default")},155395:(e,t,o)=>{o.d(t,{$:()=>i});var n=()=>o(433337);function i(e){return e!==n().Lu}},155826:(e,t,o)=>{o.d(t,{l:()=>l});var n=()=>o(148307),i=()=>o(651124);const l={[i().uO.Jira]:n().A.images.externalIntegrations.jiraPng,[i().uO.Salesforce]:n().A.images.externalIntegrations.salesforcePng}},167170:(e,t,o)=>{o.d(t,{_:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.29 3.29 13.41 13.41",svg:(0,o(474848).jsx)("path",{d:"M3.3 4.825c0-.842.683-1.525 1.525-1.525h3.15c.842 0 1.525.683 1.525 1.525v10.35c0 .842-.683 1.525-1.525 1.525h-3.15A1.525 1.525 0 0 1 3.3 15.175zm1.525-.275a.275.275 0 0 0-.275.275v10.35c0 .152.123.275.275.275h3.15a.275.275 0 0 0 .275-.275V4.825a.275.275 0 0 0-.275-.275zm5.675.275v3.15c0 .842.683 1.525 1.525 1.525h3.15c.842 0 1.525-.683 1.525-1.525v-3.15c0-.842-.683-1.525-1.525-1.525h-3.15c-.842 0-1.525.683-1.525 1.525m1.525-.275h3.15c.152 0 .275.123.275.275v3.15a.275.275 0 0 1-.275.275h-3.15a.275.275 0 0 1-.275-.275v-3.15c0-.152.123-.275.275-.275m0 5.95c-.842 0-1.525.683-1.525 1.525v3.15c0 .842.683 1.525 1.525 1.525h3.15c.842 0 1.525-.683 1.525-1.525v-3.15c0-.842-.683-1.525-1.525-1.525zm-.275 1.525c0-.152.123-.275.275-.275h3.15c.152 0 .275.123.275.275v3.15a.275.275 0 0 1-.275.275h-3.15a.275.275 0 0 1-.275-.275z"})},i=(0,o(340498).wt)("layout",n,"default")},168953:(e,t,o)=>{o.d(t,{C:()=>l});o(296540);var n=()=>o(205981),i=o(474848);function l({icon:e}){return(0,i.jsxs)("div",{style:{position:"relative"},children:[e,(0,i.jsx)(n().H,{size:"xs"})]})}},187391:(e,t,o)=>{o.d(t,{N:()=>c});o(296540);var n=()=>o(81068),i=()=>o(761940),l=()=>o(69708),r=()=>o(395198),a=o(474848);function c(e){return(0,a.jsx)(n().A,{...e,title:(0,a.jsx)(l().sA,{...i().PQ.manageInCalendar}),icon:(0,a.jsx)(r().y,{colorVariant:"primary"})})}},239529:(e,t,o)=>{o.d(t,{S:()=>s,q:()=>c});o(898992),o(672577);var n=()=>o(381175),i=()=>o(436696),l=()=>o(492414),r=()=>o(246766),a=()=>o(999140);function c(e){const{environment:t,collectionContextStore:o,event:l,buttonPopupParent:c}=e,s=(0,a().t2)(o);if(!s)return null;const d=(0,n().V)(l);(0,r().navigate)({environment:t,url:s,openInNew:d}),d||null==c||c.close(),(0,i().X)({environment:t,collectionContextStore:o,action:"click_source_view"})}function s({environment:e,collectionStore:t,pageVisitSource:o,event:i}){var a;const c=t.getParentBlockStore();if(!c)return;const s=null===(a=c.getCollectionViewStores())||void 0===a?void 0:a.find((e=>{var o;return(null===(o=e.getCollectionStore())||void 0===o?void 0:o.id)===t.id})),d=(0,l().J8)({store:c,fullyQualified:!1,pageVisitSource:o,collectionViewId:null==s?void 0:s.id});(0,r().navigate)({environment:e,url:d,openInNew:(0,n().V)(i)})}},343630:(e,t,o)=>{o.d(t,{k:()=>r});o(296540);var n=()=>o(69708),i=()=>o(534177),l=o(474848);function r({canAddCollectionResult:e}){if(!e||e.canAddView)return null;switch(e.reason){case"tooManyViews":return(0,l.jsx)(n().sA,{defaultMessage:"You are at the maximum number of views for this database.",id:"collectionTabBar.newDataSource.tooltip.tooManyViews"});case"tooManyCollections":return(0,l.jsx)(n().sA,{defaultMessage:"You are at the maximum number of data sources for this database.",id:"collectionTabBar.newDataSource.tooltip.tooManyDataSources"});default:throw(0,i().HB)(e.reason)}}},371513:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"1.62 3.62 16.75 12.75",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M16.25 3.625c1.174 0 2.125.951 2.125 2.125v8.5a2.125 2.125 0 0 1-2.125 2.125H3.75a2.125 2.125 0 0 1-2.125-2.125v-8.5c0-1.174.951-2.125 2.125-2.125zm-12.5 1.25a.875.875 0 0 0-.875.875v8.5c0 .483.392.875.875.875h2.7V4.875zm3.8 10.25h8.7a.875.875 0 0 0 .875-.875v-8.5a.875.875 0 0 0-.875-.875h-8.7z"})},i=(0,o(340498).wt)("sidebarLeft",n,"default")},497222:(e,t,o)=>{o.d(t,{A:()=>g});o(296540);var n=()=>o(804773),i=()=>o(726637),l=()=>o(401497),r=()=>o(807449),a=()=>o(81068),c=()=>o(906380),s=()=>o(100622),d=()=>o(284371),u=()=>o(612900),S=()=>o(700251),v=o(474848);function g(e){const{icon:t,iconStyle:o,title:g,caption:p,right:m,rightStyle:h,isRedOnHover:w,isGray:y,isOrange:f,onClick:x,onMouseDown:b,onMouseEnter:C,onMouseLeave:A,disabled:I,showChevron:j,chevronStyle:M,rotateChevron:T,showDragHandle:_,focused:k,textWrapperStyle:V,shouldWrapCaption:P,desktopIconStyle:B,buttonStyle:R,desktopTitleStyle:D,source:O,menuListItemProps:J,isPulsing:F,shouldShowMobileBackground:H}=e,z=(0,S().y$)(),L=(0,l().IS)((()=>({style:{...y?{color:s().Tj.text.secondary,fill:s().Tj.icon.secondary}:f?{color:s().Tj.orange.icon.accentPrimary,fill:s().Tj.orange.icon.accentPrimary}:{color:s().Tj.text.primary,fill:s().Tj.icon.primary},opacity:I?.4:void 0,...R},leftIconStyle:{width:z,height:z,...o},rightStyle:{display:"flex",alignItems:"center",color:I?s().Tj.text.primary:s().Tj.text.tertiary,fill:I?s().Tj.icon.primary:s().Tj.icon.tertiary,flexShrink:0,marginInlineStart:i().A.isMobile?8:void 0,...h},rightChevronStyle:{marginInlineStart:"tableHeaderMenu"===O?0:6,transition:"transform 200ms ease-in-out",...T&&{transform:"rotate(90deg)"},...M}})),[y,f,I,o,M,h,R,z,T,O]),{itemRef:E,isTabbable:N,onKeyDown:K,onFocus:U}=(0,n().e)(),W=(0,v.jsx)(a().A,{ref:E,role:"menuitem",icon:null==t?void 0:t(L.leftIconStyle),focused:k||!1,disabled:I,title:g,caption:p,shouldWrapTitle:!0,shouldWrapCaption:P,desktopTitleStyle:{flexGrow:1,flexShrink:1,...D},onKeyDown:K,onFocus:U,disallowTabbing:!N,showDragHandle:_,buttonStyle:L.style,rightStyle:L.rightStyle,isRedOnHover:w,ignoreLocalHoverState:!!I||void 0,right:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:{...d().RC,display:"flex"},children:m}),!I&&j?(0,v.jsx)(r().I,{icon:c().arrowChevronSingleRightSmallIcon,size:"sm",colorVariant:"tableHeaderMenu"===O?"secondary":"tertiary",style:L.rightChevronStyle}):null]}),onClick:x,onMouseDown:b,onMouseEnter:C,onMouseLeave:A,textWrapperStyle:V,desktopIconStyle:B,reducedPadding:e.reducedPadding,shouldShowMobileBackground:H,...J});return F?(0,v.jsx)(u().u,{borderRadius:6,shape:"square",children:W}):W}},542984:(e,t,o)=>{o.d(t,{Q:()=>P});var n=o(296540),i=()=>o(484714),l=()=>o(590526),r=()=>o(807449),a=()=>o(26697),c=()=>o(955363),s=()=>o(688311),d=()=>o(69708),u=()=>o(436696),S=()=>o(187820),v=()=>o(16006),g=(o(898992),o(672577),()=>o(564884)),p=()=>o(907258),m=()=>o(365917),h=()=>o(249046),w=()=>o(651124),y=()=>o(33376),f=()=>o(496603),x=()=>o(638013),b=()=>o(339798),C=()=>o(497222),A=()=>o(155826),I=()=>o(713590),j=()=>o(905388),M=()=>o(351337),T=o(474848);function _({environment:e,collectionSettingsStore:t,flowId:o,externalCollectionType:n,integrationIconUrl:i,site:l,botId:r,isSyncOwner:a}){return(0,T.jsx)(C().A,{icon:y().E,onClick:()=>{(0,g().u)({environment:e,event:{eventName:"external_sync_sidebar_config",eventProperties:{integration:n,actionType:"source_option_click",flowId:o,identifier:l,botId:r,isSyncOwner:a}}}),b().a2({collectionSettingsStore:t,item:{source:"external_source",type:"externalProjectsSyncSettings"}})},right:(0,T.jsxs)(h().Ye,{alignItems:"center",children:[(0,T.jsx)("img",{style:{height:12,width:12,marginInlineEnd:6},src:i,alt:"External integration icon"}),(0,T.jsx)(d().sA,{id:"database.viewSettings.mainTab.source.sourceName",defaultMessage:"{integrationName}",values:{integrationName:(0,f().ZH)(n||"")}})]}),showChevron:!0,title:(0,T.jsx)(d().sA,{defaultMessage:"Source",id:"database.viewSettings.mainTab.source.title"})})}function k({environment:e,collectionStore:t,collectionSettingsStore:o}){const i=function(e,t){const{botId:o,site:n,externalCollectionType:i,syncState:r}=(0,l().K8)((()=>{const e=null==t?void 0:t.getFormat();return{botId:null==e?void 0:e.bot_id,site:null==e?void 0:e.synced_collection_external_url,externalCollectionType:null==e?void 0:e.external_collection_type,syncState:null==e?void 0:e.sync_state}}),[t]),a=(0,l().K8)((()=>{var e;return null===(e=p().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.seen_jira_sync_source_tooltip}),[]),c=(0,l().K8)((()=>M().Ay.getFlowId()),[]),s=(0,l().K8)((()=>(0,j().Sd)()),[]),d=(0,l().K8)((()=>Boolean(m().A.externalAuthentications.state.find((t=>t.id===o&&t.user_id===e.currentUser.id)))),[o,e.currentUser.id]);if(!i)return;const u={externalCollectionType:i,botId:o,site:n,integrationIconUrl:A().l[i],isSyncOwner:d,flowId:c};switch(i){case w().uO.Jira:return{...u,shouldShowTooltip:s&&!(!0===a)&&r};case w().uO.Salesforce:default:return{...u,shouldShowTooltip:!1}}}(e,t),r=(0,n.useRef)(null);if(!i)return null;const{botId:a,site:c,integrationIconUrl:s,isSyncOwner:d,shouldShowTooltip:u,externalCollectionType:S,flowId:v}=i;return u?(0,T.jsxs)("div",{ref:r,style:{boxShadow:x().p.buttonBlueFocusRing.light,borderRadius:6},children:[(0,T.jsx)(_,{environment:e,collectionSettingsStore:o,flowId:v,externalCollectionType:S,integrationIconUrl:s,site:c,botId:a,isSyncOwner:d}),(0,T.jsx)(I().C8,{origin:r})]}):(0,T.jsx)(_,{environment:e,collectionSettingsStore:o,flowId:v,externalCollectionType:S,integrationIconUrl:s,site:c,botId:a,isSyncOwner:d})}var V=()=>o(168953);function P({collectionContextStore:e,collectionSettingsStore:t,disabled:o,overrideOnClickBehavior:g,buttonStyle:p,forceShow:m,...h}){const w=(0,i().v3)(),y=(0,d().tz)(),f=(0,l().K8)((()=>e.collectionStore()),[e]),x=(0,l().K8)((()=>null==f?void 0:f.isExternalSyncedCollection()),[f]),A=(0,l().O$)(e.canConfigureBlockStore),I=(0,l().K8)((()=>e.collectionViewBlockStore()),[e]),j=(0,l().K8)((()=>B({forceShow:m,forceDisabled:o,hasPermissionToConfigureBlock:A,collectionContextStore:e,intl:y})),[e,o,m,A,y]),M=(0,n.useMemo)((()=>{if(j.shouldRender&&j.isDisabled)return j.disabledTooltipText}),[j]),_=(0,l().K8)((()=>{const e=null==f?void 0:f.getIcon(),t=(null==f?void 0:f.getParentId())===(null==I?void 0:I.id);if(!e)return t?void 0:(0,T.jsx)(r().I,{icon:c().arrowDiagonalUpRightIcon,size:18,style:{marginInlineEnd:4}});const o={marginInlineEnd:4,opacity:.6};return t?(0,T.jsx)(S().B6,{icon:e,iconRecordCategory:"collection",isEmptyPage:!1,size:20,disabled:!0,style:o}):(0,T.jsx)("div",{style:o,children:(0,T.jsx)(V().C,{icon:(0,T.jsx)(S().B6,{icon:e,iconRecordCategory:"collection",isEmptyPage:!1,size:20,disabled:!0})})})}),[f,I]);return x&&f&&A?(0,T.jsx)(k,{environment:w,collectionStore:f,collectionSettingsStore:t}):f&&I&&j.shouldRender?(0,T.jsx)(a().m,{placement:"left",disableTooltip:void 0===M,renderTooltip:()=>M,render:o=>(0,T.jsx)(C().A,{...o,...h,icon:s().h,title:(0,T.jsx)(d().sA,{defaultMessage:"Source",id:"database.viewSettings.mainTab.sourceButton.title"}),showChevron:!0,right:(0,T.jsxs)(T.Fragment,{children:[_,(0,T.jsx)(v().A,{store:f})]}),textWrapperStyle:{flexShrink:0},rightStyle:{flexShrink:1},disabled:j.isDisabled,buttonStyle:p,onClick:()=>{g?g():((0,u().X)({environment:w,collectionContextStore:e,action:"click_source"}),b().a2({collectionSettingsStore:t,item:{type:"source"}}))}})}):null}function B(e){const{forceShow:t,forceDisabled:o,hasPermissionToConfigureBlock:n,collectionContextStore:i,intl:l}=e,r=i.collectionStore(),a=i.collectionViewBlockStore();if(!r||!a)return{shouldRender:!1};const c=function(e){const{forceShow:t,collectionStore:o,collectionViewBlockStore:n}=e;return!!t||!(n.isCollectionViewPageWithContent()||!o.isSyncedCollection()&&o.isSystemCollection())}({forceShow:t,collectionStore:r,collectionViewBlockStore:a});if(!c)return{shouldRender:!1};const s=function(e){const{forceDisabled:t,hasPermissionToConfigureBlock:o,collectionViewBlockStore:n,intl:i}=e;return t||!o?{isDisabled:!0,disabledTooltipText:void 0}:n.hasSingleSourceAndNoLinkedCollections()&&n.getCollectionViewIds().length<=1?{isDisabled:!0,disabledTooltipText:i.formatMessage({defaultMessage:"Add another view to change the source",id:"database.viewSettings.mainTab.sourceButton.disabledMessage.singleSourceSingleView"})}:{isDisabled:!1}}({forceDisabled:o,hasPermissionToConfigureBlock:n,collectionViewBlockStore:a,intl:l});return{shouldRender:c,...s}}},612900:(e,t,o)=>{o.d(t,{u:()=>l});var n=()=>o(79926);const i=new(n().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),l=(0,n().jQ)(i,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},688311:(e,t,o)=>{o.d(t,{h:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.76 13.76",svg:(0,o(474848).jsx)("path",{d:"M12.718 4.625H6.313a3 3 0 0 0 0 6h7.562a1.75 1.75 0 1 1 0 3.5H7.282a2.126 2.126 0 1 0 0 1.25h6.593a3 3 0 1 0 0-6H6.313a1.75 1.75 0 1 1 0-3.5h6.405a2.126 2.126 0 1 0 0-1.25m1.157.625a.875.875 0 1 1 1.75 0 .875.875 0 0 1-1.75 0"})},i=(0,o(340498).wt)("pathRoundEnds",n,"default")},713590:(e,t,o)=>{o.d(t,{C8:()=>S,Dz:()=>c,GC:()=>g,GL:()=>p,YY:()=>v,dM:()=>d,h9:()=>s,jX:()=>a,oF:()=>u,uj:()=>r});var n=()=>o(79926);const i={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,664932)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,787797)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await Promise.all([o.e(63515),o.e(28763)]).then(o.bind(o,363524)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,366792)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await o.e(21446).then(o.bind(o,844291)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,844291)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await o.e(21446).then(o.bind(o,844291)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await o.e(21446).then(o.bind(o,844291)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,844291))))},l={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(35530),o.e(36556),o.e(55373),o.e(36192),o.e(27992),o.e(63452),o.e(66249),o.e(87249),o.e(79022),o.e(34877),o.e(11676),o.e(94522),o.e(38293),o.e(63515),o.e(55162),o.e(71003),o.e(32370),o.e(26264),o.e(64242),o.e(47160),o.e(76677),o.e(42056),o.e(53697),o.e(3261),o.e(54219),o.e(56188)]).then(o.bind(o,324026))))},r=(0,n()._h)(l.JiraSyncTeamSpaceModal,(e=>e.default)),a=(0,n()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),c=(0,n()._h)(i.JiraDCAuthModal,(e=>e.default)),s=(0,n()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),d=(0,n()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),S=(0,n()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),v=(0,n()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),g=(0,n()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),p=(0,n()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator))},735790:(e,t,o)=>{o.d(t,{M:()=>l});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},l=(0,o(340498).wt)("sliders",i,"default")},859384:(e,t,o)=>{o.d(t,{M:()=>l});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.12 2.99 13.88 13.88",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"m16.774 4.341-.59.589-1.109-1.11.596-.594a.784.784 0 0 1 1.103 0c.302.302.302.8 0 1.102zM8.65 12.462l6.816-6.813-1.11-1.11-6.822 6.808a1.1 1.1 0 0 0-.236.393l-.289.932c-.052.196.131.38.315.314l.932-.288a.9.9 0 0 0 .394-.236"}),(0,n.jsx)("path",{d:"M4.375 6.25c0-1.036.84-1.875 1.875-1.875H11a.625.625 0 1 0 0-1.25H6.25A3.125 3.125 0 0 0 3.125 6.25v7.5c0 1.726 1.4 3.125 3.125 3.125h7.5c1.726 0 3.125-1.4 3.125-3.125V9a.625.625 0 1 0-1.25 0v4.75c0 1.036-.84 1.875-1.875 1.875h-7.5a1.875 1.875 0 0 1-1.875-1.875z"})]})},l=(0,o(340498).wt)("compose",i,"default")},861477:(e,t,o)=>{o.r(t),o.d(t,{getMenuSections:()=>X});o(944114),o(898992),o(354520),o(737550),o(296540);var n=()=>o(242422),i=()=>o(383036),l=()=>o(807449),r=()=>o(26697),a=()=>o(81068),c=()=>o(955363),s=()=>o(859384),d=()=>o(764781),u=()=>o(89849),S=()=>o(167170),v=()=>o(742852),g=()=>o(735790),p=()=>o(236262),m=()=>o(69708),h=()=>o(534177),w=()=>o(436696),y=()=>o(896628),f=()=>o(155395),x=()=>o(343630),b=()=>o(339798),C=()=>o(873864),A=()=>o(447453),I=()=>o(542984),j=()=>o(562969),M=()=>o(635462),T=()=>o(250031),_=()=>o(187391),k=()=>o(447934),V=()=>o(400851),P=()=>o(696746),B=()=>o(244828),R=()=>o(180762),D=()=>o(239529),O=()=>o(907258),J=()=>o(226627),F=()=>o(371513),H=()=>o(599813),z=()=>o(804666),L=()=>o(384944),E=()=>o(47373),N=()=>o(76726),K=()=>o(288157),U=o(474848);function W(e){var t,o;const{collectionViewStore:n,environment:i,onClose:r}=e,c=(0,K().rt)(),s=(0,K().bp)();if(!c)return;const d=null===(t=n.getCollectionSource())||void 0===t?void 0:t.type,u=O().default.state.sidebarSpaceViewStore;if(!(0,z().a0)(d)||"recents"===d&&!s||"teamspaceDirectory"===d&&!(0,K().a1)()||"libraryExternalPages"===d&&!(0,K().un)()||"myMeetings"===d&&(!u||!(0,E().pe)(u)))return;const S="teamspaceDirectory"===d?"teamspaces":"libraryExternalPages"===d?"list":d,v=J().L.fromSpaceViewStore(null==u||null===(o=u.getSpaceStore())||void 0===o?void 0:o.getSpaceIdCreator(),u,S);if(null==v||!v.isDefined())return;const g=v.isHidden();return{key:"addSectionToSidebar",render:e=>(0,U.jsx)(a().A,{...e,icon:(0,U.jsx)(l().I,{icon:g?F().b:H().xMarkIcon}),title:g?(0,U.jsx)(m().sA,{id:"getAddOrRemoveSidebarSectionAction.addSidebarSection",defaultMessage:"Add section to sidebar"}):(0,U.jsx)(m().sA,{id:"getAddOrRemoveSidebarSectionAction.removeSidebarSection",defaultMessage:"Remove from sidebar"})}),action:()=>{(0,N().rx)({environment:i,eventProperties:{visibility_after_change:g?"visible":"hidden",section_type:S,from:"library_view_menu"}}),B().createAndCommit({userAction:g?"getAddOrRemoveSidebarSectionAction.addSidebarSection":"getAddOrRemoveSidebarSectionAction.removeSidebarSection",environment:i,canUndo:!0,perform:e=>{const t=v.getPropertiesStore().getKeyStore("hidden");L().KY({transaction:e,store:t,value:!g})}}),null==r||r(!0)}}}function X({collectionViewStore:e,collectionContextStore:t,onClose:o,environment:g,intl:j,previewContext:O,canSeeCalendarButton:J,openInCalendar:F}){var H;const z=t.permissionScopesStore.state,L=t.collectionViewStore(),E=t.collectionViewBlockStore();if(!L||!E)return[];const N=(0,P().Nh)(E.id),K=(0,M().s)(E.id),X=(0,T().J)(g);if("feed"===e.getType()&&(N||X))return[];const q=L.id===e.id;var $;if("teamspaceDirectory"===(null===($=e.getCollectionSource())||void 0===$?void 0:$.type))return[[W({collectionViewStore:e,environment:g,onClose:o})].filter(h().O9)];if(t.isInLibraryBlock())return[[G({environment:g,collectionContextStore:t,isCurrentView:q,onClose:o,collectionViewStore:e}),W({collectionViewStore:e,environment:g,onClose:o})].filter(h().O9)];const Z=e.getAppConfigUri(),ee=!Z||(0,f().$)(Z),te=t.collectionStore(),oe=Boolean((null==te||null===(H=te.getParentBlockStore())||void 0===H?void 0:H.id)===E.id),ne=n().default.checkGate({gateName:"db_page_view"}),ie=void 0!==te||"page"===e.getType()||"dashboard"===e.getType(),le=oe&&t.isFullScreenStore.state,re=e.getType(),ae=t.viewsModuleContextStore,ce=void 0!==ae.state,se=ae.isInLayoutBuilder(),de=z.canConfigureBlock&&ie&&!ce,ue=!K&&"page"!==re&&ie&&z.canConfigureBlock,Se=E.getCollectionViewIds().length>1,ve=t.isEditableHomeCollectionStore.state,ge=E.isCollectionViewPageWithContent(),pe=!K&&(Se||ve)&&("page"!==re||ne&&!ce&&!ge)&&z.canConfigureBlock,me=Boolean(e.getCollectionSource()),he=te&&!le&&!ce&&!(null!=O&&O.disablePageLinks),we=ie&&!(null!=O&&O.disablePageLinks),ye=ae.currentPageStore(),fe=null==ye?void 0:ye.getAssociatedCollectionStore(),xe=ye&&!se&&(0,V().Y)({environment:g,blockStore:ye,from:"viewsModule",allowTabletsToUseLayoutBuilder:n().default.checkGate({gateName:"layouts_tablet_builder"})}),be=t.isFullScreenStore.state,Ce=Boolean(E.getCollectionPointerIfSingleSource()),Ae=!N&&z.canConfigureBlock&&(!be||!Ce)&&!(null!=O&&O.hideViewBlockSource)&&!("page"===re&&void 0===e.getFormat().page_pointer)&&"viewsMain"!==ae.getViewModuleType(),Ie=[];Ie.push([]);const je=we?function({environment:e,collectionContextStore:t,collectionViewStore:o,onClose:n,targetOverrideStore:i}){return{key:"copyLink",render:e=>(0,U.jsx)(a().A,{...e,title:(0,U.jsx)(m().sA,{defaultMessage:"Copy link to view",id:"database.viewSettings.viewActionMenu.copyLink"}),icon:(0,U.jsx)(l().I,{icon:v().linkIcon})}),action:async()=>{(0,w().X)({environment:e,collectionContextStore:t,action:"view_action_menu_copy_link"}),await b().GH({environment:e,collectionContextStore:t,collectionViewStore:o,targetOverrideStore:i}),null==n||n(!1)}}}({environment:g,collectionContextStore:t,collectionViewStore:e,onClose:o,targetOverrideStore:ce?ye??void 0:void 0}):void 0;if(ce&&!se&&je&&Ie[0].push(je),xe&&ye&&fe&&Ie[0].push({key:"configure_layout",render:e=>(0,U.jsx)(a().A,{...e,title:(0,U.jsx)(m().sA,{defaultMessage:"Customize layout",id:"pageProperties.editProperty.customizeLayout.label"}),icon:(0,U.jsx)(l().I,{icon:S()._})}),action:()=>{fe&&ye&&(0,k().nh)({environment:g,blockStore:ye,collectionStore:fe,from:"collection_view_action_menu",initialSelectedModuleType:"viewsMain"})}}),de){if(Ie[0].push({key:"rename",render:e=>(0,U.jsx)(r().m,{placement:"left",disableTooltip:ee,render:t=>(0,U.jsx)(a().A,{...e,disabled:!ee,disabledFeedback:!0,title:(0,U.jsx)(m().sA,{defaultMessage:"Rename",id:"database.viewSettings.viewActionMenu.rename"}),icon:(0,U.jsx)(l().I,{icon:s().M}),...t}),renderTooltip:()=>(0,U.jsx)(m().sA,{id:"database.viewSettings.viewActionMenu.cannotRename",defaultMessage:"This view can’t be renamed."})}),action:()=>{(0,w().X)({environment:g,collectionContextStore:t,action:"view_action_menu_rename"}),null==o||o(!0),q||(0,R().t)({environment:g,collectionContextStore:t,collectionViewId:e.id,isFullScreen:be,isRootChild:t.isRootChildStore.state,isInPeekRenderer:t.isInPeekRendererStore.state}),(0,A().O)({collectionContextStore:t,collectionSettingsStore:t.settingsStore,selectViewNameInitial:!0})}}),"page"===re&&!ne)return Ie;Ie[0].push(G({environment:g,collectionContextStore:t,isCurrentView:q,onClose:o,collectionViewStore:e})),Ie[0].push({key:"source",render:e=>(0,U.jsx)(I().Q,{...e,collectionContextStore:t,collectionSettingsStore:t.settingsStore}),action:()=>{}})}if(Ie.push([]),!ce&&je&&Ie[1].push(je),he&&Ie[1].push({key:"openSourceDb",render:e=>(0,U.jsx)(r().m,{placement:"right",render:t=>(0,U.jsx)(a().A,{title:oe?(0,U.jsx)(m().sA,{defaultMessage:"Open as full page",id:"database.viewSettings.viewActionMenu.openAsFullPage"}):(0,U.jsx)(m().sA,{defaultMessage:"Open source database",id:"database.viewSettings.viewActionMenu.openSourceDb"}),icon:(0,U.jsx)(l().I,{icon:c().arrowDiagonalUpRightIcon}),...(0,i().A)(e,t)}),renderTooltip:()=>(0,U.jsx)(Q,{collectionStore:te})}),action:e=>{(0,D().q)({environment:g,collectionContextStore:t,event:e.event})}}),Ae&&me){const n=(()=>{const e=E.getFormatStore().getKeyValue("hide_inline_collection_name");return void 0===e?E.getCollectionViewStores().some((e=>e.getFormatStore().getKeyValue("hide_linked_collection_name"))):e})();Ie[1].push({key:"showDatabaseTitle",render:e=>(0,U.jsx)(a().A,{...e,title:Y({isHidingSource:n,collectionViewBlockStore:E}),icon:(0,U.jsx)(l().I,{icon:u().eyeIcon})}),action:()=>{const i=!n;(0,w().X)({environment:g,collectionContextStore:t,action:i?"click_source_hide_title":"click_source_show_title"}),B().createAndCommit({userAction:"CollectionViewActionMenu.getMenuSections",environment:g,canUndo:!0,perform:t=>{y().zA({stores:[e],update:{hide_linked_collection_name:i},transaction:t})}}),B().createAndCommit({userAction:"CollectionViewActionMenu.getMenuSections",environment:g,canUndo:!0,perform:e=>{y().zA({stores:[E],update:{hide_inline_collection_name:i},transaction:e})}}),null==o||o(!1)}})}if(Ie.push([]),ue){const n=E.canAddCollectionView();Ie[2].push({key:"duplicate",render:e=>(0,U.jsx)(r().m,{placement:"right",render:t=>(0,U.jsx)(a().A,{...e,...t,disabled:!n,disabledFeedback:!n,title:(0,U.jsx)(m().sA,{defaultMessage:"Duplicate",id:"database.viewSettings.viewActionMenu.duplicate"}),icon:(0,U.jsx)(l().I,{icon:d().V})}),disableTooltip:n,renderTooltip:()=>(0,U.jsx)(x().k,{canAddCollectionResult:{canAddView:!1,reason:"tooManyViews"}})}),action:()=>{(0,w().X)({environment:g,collectionContextStore:t,action:"view_action_menu_duplicate"}),(0,C().v)({environment:g,collectionContextStore:t,collectionViewStore:e,collectionSettingsStore:t.settingsStore,intl:j,from:"view_action_menu_duplicate"}),null==o||o(!0)}})}return pe&&Ie[2].push({key:"delete",render:e=>(0,U.jsx)(a().A,{...e,title:(0,U.jsx)(m().sA,{defaultMessage:"Delete",id:"database.viewSettings.viewActionMenu.delete"}),icon:(0,U.jsx)(l().I,{icon:p().trashIcon}),isRedOnHover:!0}),action:async()=>{(0,w().X)({environment:g,collectionContextStore:t,action:"view_action_menu_delete"});const n="form_editor"===(null==e?void 0:e.getType())?e.getFormBlockStore():void 0;await b().nl({intl:j,environment:g,collectionContextStore:t,collectionViewStore:e,collectionSettingsStore:t.settingsStore,additionalBlocksToDelete:n?[n]:void 0,from:"view_action_menu"})&&(null==o||o(!1))}}),Ie.push([]),!ce&&J&&Ie[3].push({key:"calendar",render:e=>(0,U.jsx)(_().N,{...e}),action:()=>{F()}}),Ie}function G({environment:e,collectionContextStore:t,isCurrentView:o,onClose:n,collectionViewStore:i}){return{key:"edit",render:e=>(0,U.jsx)(a().A,{...e,title:(0,U.jsx)(m().sA,{defaultMessage:"Edit view",id:"database.viewSettings.viewActionMenu.editView"}),icon:(0,U.jsx)(l().I,{icon:g().M})}),action:()=>{(0,w().X)({environment:e,collectionContextStore:t,action:"view_action_menu_edit"}),null==n||n(!0),o||(0,R().t)({environment:e,collectionContextStore:t,collectionViewId:i.id,isFullScreen:t.isFullScreenStore.state,isRootChild:t.isRootChildStore.state,isInPeekRenderer:t.isInPeekRendererStore.state}),(0,A().O)({collectionContextStore:t,collectionSettingsStore:t.settingsStore})}}}function Y({isHidingSource:e,collectionViewBlockStore:t}){var o;return((null==t||null===(o=t.getCollectionViewIds())||void 0===o?void 0:o.length)??0)>1?e?(0,U.jsx)(m().sA,{defaultMessage:"Show data source titles",id:"database.viewSettings.viewActionMenu.showDataSourceTitles"}):(0,U.jsx)(m().sA,{defaultMessage:"Hide data source titles",id:"database.viewSettings.viewActionMenu.hideDataSourceTitles"}):e?(0,U.jsx)(m().sA,{defaultMessage:"Show data source title",id:"database.viewSettings.viewActionMenu.showDataSourceTitle"}):(0,U.jsx)(m().sA,{defaultMessage:"Hide data source title",id:"database.viewSettings.viewActionMenu.hideDataSourceTitle"})}function Q(e){const t=(0,j().useCollectionNameOrDefault)(e.collectionStore);return(0,U.jsx)(m().sA,{id:"database.viewSettings.viewActionMenu.openDbTooltip",defaultMessage:"Opens “{dbName}”",values:{dbName:t}})}},873864:(e,t,o)=>{o.d(t,{v:()=>v});var n=()=>o(908006),i=()=>o(388821),l=()=>o(753812),r=()=>o(666144),a=()=>o(714042),c=()=>o(467676),s=()=>o(180762),d=()=>o(855801),u=()=>o(244828),S=()=>o(447453);async function v(e){const{environment:t,collectionContextStore:o,collectionViewStore:v,collectionSettingsStore:g,intl:p,from:m}=e,h=o.isFullScreenStore.state,w=o.isRootChildStore.state,y=o.isInPeekRendererStore.state,f=o.collectionViewBlockStore(),x="form_editor"===v.getType();let b,C;if(x){var A;const e=null===(A=v.getFormat().form_block_pointer)||void 0===A?void 0:A.id;if(!e)return;const[o,n]=await Promise.all([d().VI.loadLocalSubtree.load(),d().VI.localDuplicate.load()]);if(b=o,C=n,!b||!C)return;if(!b.loadLocalSubtree({environment:t,blockId:e,inMemoryRecordCache:v.inMemoryRecordCache,options:{allowCopyCollections:!1,requireFullSubtree:!0,skipTransclusionContainerChildren:!1,allowCopyExternalObjectInstances:!1}}).recordMap){const o=await l().callCellCompatibleApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:e,spaceId:v.getSpaceId()},shallow:!1},cellNavigation:{spaceId:v.getSpaceId()}});if("success"===o.type){const e=i().RecordMapWithRole.create(o.data.subtreeRecordMap);await r()._O({environment:t,inMemoryRecordCache:v.inMemoryRecordCache,recordMap:e,debugSource:"load_form_for_duplication"})}}}const{performResult:I}=u().createAndCommit({userAction:"collectionSettingsActions.newView",environment:t,canUndo:!0,perform:e=>{if(x){if(!b||!C)return;return(0,c().F)({environment:t,collectionViewBlockStore:f,collectionViewStore:v,intl:p,transaction:e,loadLocalSubtreeModule:b,localDuplicateModule:C})}return(0,c().t)({environment:t,collectionViewBlockStore:f,collectionViewStore:v,intl:p,transaction:e})}});I&&("chart"===I.getType()&&a().Z({environment:t,collectionContextStore:o,collectionViewId:I.id,from:m}),(0,s().t)({environment:t,collectionContextStore:o,collectionViewId:I.id,isFullScreen:h,isRootChild:w,isInPeekRenderer:y}),n().default.afterNextFlush((()=>{(0,S().O)({collectionContextStore:o,collectionSettingsStore:g,selectViewNameInitial:!0})})))}}}]);