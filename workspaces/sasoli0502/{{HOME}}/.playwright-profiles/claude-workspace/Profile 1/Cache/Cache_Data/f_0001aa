"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[13077,14344],{346:(e,t,i)=>{i.d(t,{MG:()=>g,T1:()=>p,a1:()=>f,dt:()=>m,kg:()=>S,lC:()=>v,n_:()=>b});var r=i(296540),n=()=>i(484714),a=()=>i(590526),o=()=>i(79926),s=()=>i(187174),d=()=>i(941463),c=()=>i(441199),l=()=>i(749687),u=()=>i(737230),h=()=>i(756114);const p=new(o().O2)("PerformanceToolbar",(()=>Promise.all([i.e(23640),i.e(45624)]).then(i.bind(i,688201)))),g=(0,o()._h)(p,(e=>e.PerformanceToolbar)),m=(0,o()._h)(p,(e=>e.PerformanceToolbarSettings));function S(){const e=(0,n().v3)();return(0,a().K8)((()=>(0,h().D)(e,e.RouterStore.state)),[e])}function b(){const e=(0,n().v3)(),t=I("performanceToolbarStore"),i=I("isPerformanceToolbarVisible");return(0,a().K8)((()=>!(!t||!i)&&i(e,e.RouterStore.state,t.state)),[i,e,t])}function v(){const e=I("performanceToolbarStore");return(0,a().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function f(){const e=(0,n().v3)(),t=I("createPerformanceToolbarMouseListeners"),i=I("performanceToolbarStore"),{sidebarExpanded:o,sidebarWidth:s,secondarySidebarExpanded:h,secondarySidebarWidth:p,updateSidebarExpanded:g,updateSidebarWidth:m}=(0,a().K8)((()=>({sidebarExpanded:l().sidebarExpandedStore.state,sidebarWidth:l().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:d().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,r.useEffect)((()=>{if(i&&t)return t(e,(e=>i.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),o,s,h,p,g,m)}),[t,e,i,o,s,h,p,g,m])}function I(e){const t=S(),[{value:i}]=(0,s().Yb)((()=>t?p.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return i}},670:(e,t,i)=>{i.d(t,{Lr:()=>o,PM:()=>n,Ur:()=>a});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698);class r extends(()=>i(757695))().Store{getInitialState(){return{duplicatingWorkflowIds:new Set,isDuplicating:!1}}}const n=new r;function a(e){n.update((t=>{const i=new Set(t.duplicatingWorkflowIds);return i.add(e),{duplicatingWorkflowIds:i,isDuplicating:i.size>0}}))}function o(e){n.update((t=>{if(!t.duplicatingWorkflowIds.has(e))return t;const i=new Set(t.duplicatingWorkflowIds);return i.delete(e),{duplicatingWorkflowIds:i,isDuplicating:i.size>0}}))}},38554:(e,t,i)=>{i.d(t,{U:()=>o});var r=()=>i(590526),n=()=>i(822789),a=()=>i(229508);function o(){const e=(0,a().a)();return(0,r().K8)((()=>(0,n().XM)(e)),[e])}},229508:(e,t,i)=>{i.d(t,{a:()=>a});var r=()=>i(907258),n=()=>i(590526);function a(){return(0,n().O$)(r().AppStoreSidebarSpaceViewStore)}},243331:(e,t,i)=>{i.d(t,{K_:()=>n,Lf:()=>o});var r=()=>i(206267);function n(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:r().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionMailProhibited:!1}}class a extends(()=>i(757695))().Store{getInitialState(){return n()}}const o=new a;(0,i(852832).exposeDebugValue)("notionMailAIConnectorStore",o)},246679:(e,t,i)=>{i.d(t,{VK:()=>n,gv:()=>o});var r=()=>i(206267);function n(){return{currentScreen:"none",status:"not_started",isBackendConnected:!1,externalSourceName:void 0,sessionId:r().JW(),analyticsFrom:"unknown",isConnected:!1,isPersonalAuthComplete:!1,isDisconnecting:!1,isLoaded:!1,isNotionCalendarProhibited:!1}}class a extends(()=>i(757695))().Store{getInitialState(){return n()}}const o=new a;(0,i(852832).exposeDebugValue)("notionCalendarAIConnectorStore",o)},262661:(e,t,i)=>{i.d(t,{i:()=>n});var r=()=>i(130382);function n(e){const t=e.getSettings(),i=null==t?void 0:t.signup_time;return i?(0,r().Mn)(i):null}},266685:(e,t,i)=>{i.d(t,{a:()=>d});i(296540);var r=()=>i(819121),n=()=>i(401497),a=()=>i(451306),o=()=>i(100622),s=i(474848);function d(e){const{disabled:t,checked:i,selectorSize:d}=e,[c,l]=(0,r().A)(),u=function(e){const{checked:t,disabled:i,isFocusVisible:r,selectorSize:a}=e;return(0,n().IS)((()=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${i?o().Tj.background.tertiaryTranslucent:o().Tj.blue.background.accentPrimary}`,background:i?o().Tj.background.tertiaryTranslucent:o().Tj.blue.background.accentPrimary}:{boxShadow:`0 0 0 1.5px ${i?o().Tj.background.tertiaryTranslucent:o().Tj.border.strongTranslucent}`,background:o().Tj.background.primary},...r&&{boxShadow:o().Tj.buttonBlueFocusRing}},active:{background:t?o().Tj.blueButtonPressedBackground:o().Tj.buttonHoveredBackground},input:{opacity:0,width:"small"===a?14:18,height:"small"===a?14:18,...i?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,i,r,a])}({checked:i,disabled:t,isFocusVisible:l,selectorSize:d});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"radio",style:u.input,className:"radio-button",...e}),(0,s.jsx)("span",{...(0,a().ow)("custom-radio-button",u.root,t?{}:{pseudoActive:u.active})})]})}},371231:(e,t,i)=>{i.d(t,{m:()=>c});var r=()=>i(988083),n=()=>i(201794),a=()=>i(232615),o=()=>i(496603);const s=o().sg(((e,t)=>{r().A.setState({...r().A.state,phase:e,estimatedKeyboardWebViewOverlap:t})}),300),d=o().sg(((e,t)=>{r().A.setState({...r().A.state,phase:e,estimatedKeyboardWebViewOverlap:t})}),150);function c(e,t,i){const{device:o,RouterStore:c}=e;if(!(0,n().T)("supportsAlwaysMultiTextSelectionBehavior")){const e="page"===c.state.route.name,r=o.isAndroid&&o.isMobileNative,n="editing"===a().default.state.mode;if(e&&r&&!n)return void s(t,i)}if((0,n().T)("supportsDebouncingKeyboardDuringOnboarding")){const e="onboarding"===c.state.route.name,r=o.isIOS&&o.isMobileNative;if(e&&r)return void d(t,i)}r().A.setState({...r().A.state,phase:t,estimatedKeyboardWebViewOverlap:i})}},435386:(e,t,i)=>{i.d(t,{w:()=>n});var r=()=>i(651784);function n({url:e,config:t}){const i=(0,r().parseRoute)({url:e,baseUrl:t.domainBaseUrl,publicDomainName:t.publicDomainName,isMobile:!1,protocol:t.protocol,currentUrl:void 0});return"page"===i.name?i.blockId:"team"===i.name?i.peekViewBlockId:void 0}},445560:(e,t,i)=>{i.d(t,{X:()=>r});const r=i(757695).Store.createValue({shouldReset:!1},{name:"MobileAssistantMenuStore"})},526905:(e,t,i)=>{i.d(t,{b9:()=>h,bS:()=>u,xA:()=>p});i(581454);var r=()=>i(907258),n=()=>i(416504),a=()=>i(763884),o=()=>i(72234),s=()=>i(866805),d=()=>i(244828);const c=144e5,l=new Map;function u(e){return`${e}:user_first_active_today`}function h(e){var t;const i=function(e){let t=l.get(e);return t||(t=new Intl.DateTimeFormat("en-CA",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit"}),l.set(e,t)),t}((null===(t=r().default.state.currentUserSettingsStore)||void 0===t||null===(t=t.getSettings())||void 0===t?void 0:t.time_zone)??(0,n().P)()),a=i.formatToParts(new Date(e-c)),o=Object.fromEntries(a.map((e=>[e.type,e.value])));return`${o.year??"0000"}-${o.month??"00"}-${o.day??"00"}`}async function p(e){var t;const{environment:n,userId:c,spaceId:l}=e;if(!(0,s().OE)())return!1;const p=Date.now(),g=h(p),m=a().K.get({userId:c,key:u(l)});if((null==m?void 0:m.dateBucket)===g)return!1;const S=await async function(e){const t=r().default.state.sidebarSpaceViewStore;if(t&&t.getSpaceId()===e)return await t.load(),t}(l);if(!S)return!1;const b=S.getSettings();if((null==b?void 0:b.user_daily_first_active_local_date_bucket)===g)return a().K.set({userId:c,key:u(l),value:{dateBucket:g,triggeredAt:b.user_daily_first_active_at_utc??p}}),!1;a().K.set({userId:c,key:u(l),value:{dateBucket:g,triggeredAt:p}});const{maybeUpdateDailyBriefPageIfTemplateUpdated:v}=await Promise.all([i.e(35530),i.e(9773),i.e(55373),i.e(36192),i.e(71562),i.e(96346),i.e(27992),i.e(63452),i.e(66249),i.e(92845),i.e(87249),i.e(79022),i.e(14578),i.e(87017),i.e(34877),i.e(46414),i.e(11676),i.e(61165),i.e(47668),i.e(94522),i.e(24587),i.e(44584),i.e(67494),i.e(10522),i.e(40992),i.e(88455),i.e(33893),i.e(48486),i.e(56351)]).then(i.bind(i,833779));await v({environment:n,spaceViewStore:S});const f=null==b||null===(t=b.agent_personalization_settings)||void 0===t?void 0:t.daily_brief_prompt;if(null==f||!f.tooltip_dismissed_at){const{startDailyBriefChat:e}=await Promise.all([i.e(35530),i.e(9773),i.e(55373),i.e(36192),i.e(71562),i.e(96346),i.e(27992),i.e(63452),i.e(66249),i.e(92845),i.e(87249),i.e(79022),i.e(14578),i.e(87017),i.e(34877),i.e(46414),i.e(11676),i.e(61165),i.e(47668),i.e(94522),i.e(24587),i.e(44584),i.e(67494),i.e(10522),i.e(40992),i.e(88455),i.e(33893),i.e(48486),i.e(73199)]).then(i.bind(i,30154));await e({environment:n,showChatSidebarSource:"daily_brief_reminder",skipOpeningPanel:!0})}return d().createAndCommit({environment:n,userAction:"dailyFirstActivityActions.markTriggered",canUndo:!1,perform:e=>{o().AG(S,e,{user_daily_first_active_local_date_bucket:g,user_daily_first_active_at_utc:p})}}),!0}},550368:(e,t,i)=>{i.d(t,{a:()=>u});var r=i(296540),n=()=>i(401497),a=()=>i(100622),o=()=>i(534177),s=()=>i(284371),d=()=>i(699143),c=()=>i(493552),l=i(474848);const u=r.forwardRef((function({additionalContent:e,description:t,isDisabled:i,isSelected:o,label:c,name:u,onChange:g,width:m="fill",selectorSize:S="normal",selectAlignXAxis:b="left",selectAlignYAxis:v="center",selectType:f="checkbox",style:I,supportText:y,value:w,colorVariant:x,alignAdditionalContent:k,...T},C){const A=(0,r.useId)(),_=function(e){const{isSelected:t,isDisabled:i,selectAlignYAxis:r,alignAdditionalContent:o}=e;return(0,n().IS)((()=>{const e=t&&!i?a().Tj.blue.border.accentPrimary:a().Tj.border.primary;return{container:{display:"flex",alignItems:o??"center",gap:12,userSelect:"none",paddingTop:9,paddingInlineEnd:16,paddingBottom:10,paddingInlineStart:10,borderRadius:6,border:`1px solid ${e}`,...!i&&{cursor:"pointer"}},title:{fontWeight:s().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===r?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,i,r,o])}({isSelected:o,isDisabled:i,selectAlignYAxis:v,alignAdditionalContent:k}),j=(0,l.jsxs)(d().Y1,{direction:"horizontal",align:"top"===v?"top-left":"center-left",gap:12,width:m,children:[(0,l.jsx)("div",{style:_.selectorWrapper,children:(0,l.jsx)(p,{id:A,selectType:f,name:u,value:w,onChange:g,isSelected:o,selectorSize:S,isDisabled:i,...T})}),(0,l.jsx)(h,{colorVariant:x,description:t,label:c,selectorSize:S,supportText:y,isDisabled:i})]}),M=(0,l.jsxs)(d().Y1,{direction:"horizontal",align:"top"===v?"top-center":"center",gap:12,children:[(0,l.jsx)(h,{colorVariant:x,description:t,label:c,selectorSize:S,supportText:y,isDisabled:i}),(0,l.jsx)("div",{style:{..._.selectorWrapper,..._.rightAlignSelectorWrapper},children:(0,l.jsx)(p,{id:A,selectType:f,name:u,value:w,onChange:g,selectorSize:S,isSelected:o,isDisabled:i,...T})})]}),D=e?(0,l.jsx)("div",{style:_.additionalContentWrapper,children:e}):null;return(0,l.jsx)("label",{ref:C,style:{..._.container,...I},htmlFor:A,children:"left"===b?(0,l.jsxs)(l.Fragment,{children:[j,D]}):(0,l.jsxs)(l.Fragment,{children:[D,M]})})}));function h(e){const{description:t,label:i,supportText:r,selectorSize:n,isDisabled:a,colorVariant:s}=e;let u;return"large"===n?u="pageContentTextBlock":"normal"===n||void 0===n?u="bodySmMedium":"small"===n?u="captionRegular":(0,o().HB)(n),(0,l.jsxs)(d().Y1,{gap:4,children:[(0,l.jsxs)(d().Y1,{gap:2,children:[(0,l.jsx)(c().D,{styleKey:u,colorVariant:s||(a?"disabled":"primary"),children:i}),t?(0,l.jsx)(c().D,{styleKey:"captionRegular",colorVariant:a?"disabled":"secondary",children:t}):null]}),r?(0,l.jsx)(c().D,{styleKey:"captionMedium",colorVariant:"tertiary",children:r}):null]})}function p(e){const{selectType:t,selectorSize:r="normal",id:a,name:s,value:d,onChange:c,isSelected:u,isDisabled:h,...p}=e,g=(0,n().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,l.jsx)(i(266685).a,{id:a,name:s,value:d,onChange:c,checked:u,disabled:h,selectorSize:r,...p});case"checkbox":return(0,l.jsx)("div",{style:g.checkboxWrapper,children:(0,l.jsx)(i(665290).W,{id:a,name:s,value:d,onChange:c,checked:u,disabled:h,selectorSize:r,...p})});case"none":return null;default:(0,o().HB)(t)}}},555267:(e,t,i)=>{i.d(t,{A:()=>d});var r=i(296540),n=()=>i(991003),a=()=>i(98126),o=()=>i(100622),s=i(474848);function d({loadingMessage:e}){const t=(0,n().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:t?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(a().k,{}),e?(0,s.jsx)("div",{style:{marginInlineStart:8,color:o().Tj.text.secondary},children:e}):void 0]}):void 0})}},557297:(e,t,i)=>{i.d(t,{lz:()=>a,nO:()=>n,wl:()=>o});var r=()=>i(79926);const n={chatSidebar:new(r().O2)("chatSidebar",(()=>Promise.all([i.e(35530),i.e(55373),i.e(36192),i.e(44711),i.e(53321),i.e(67539),i.e(27992),i.e(63452),i.e(66249),i.e(87249),i.e(79022),i.e(34877),i.e(11676),i.e(61165),i.e(94522),i.e(44584),i.e(40992),i.e(88455),i.e(36437),i.e(87289),i.e(18503),i.e(18422),i.e(28463),i.e(2703)]).then(i.bind(i,942646)))),chatSidebarActions:new(r().O2)("chatSidebarActions",(async()=>await Promise.resolve().then(i.bind(i,703748)))),chatSidebarHelpers:new(r().O2)("chatSidebarHelpers",(async()=>await Promise.resolve().then(i.bind(i,770160)))),chatSidebarModeButton:new(r().O2)("chatSidebarModeButton",(async()=>await Promise.all([i.e(75134),i.e(35530),i.e(9773),i.e(55373),i.e(36192),i.e(71562),i.e(96346),i.e(44711),i.e(53321),i.e(51220),i.e(16471),i.e(37353),i.e(37571),i.e(29151),i.e(40118),i.e(50397),i.e(62475),i.e(3151),i.e(98629),i.e(27992),i.e(63452),i.e(66249),i.e(92845),i.e(87249),i.e(79022),i.e(14578),i.e(87017),i.e(34877),i.e(46414),i.e(11676),i.e(61165),i.e(47668),i.e(94522),i.e(24587),i.e(44584),i.e(67494),i.e(10522),i.e(38293),i.e(40992),i.e(88455),i.e(63515),i.e(33893),i.e(55162),i.e(91793),i.e(71003),i.e(32370),i.e(26264),i.e(97989),i.e(36437),i.e(93963),i.e(44590),i.e(7914),i.e(55113),i.e(85071),i.e(25588),i.e(6769),i.e(23640),i.e(72252),i.e(93134),i.e(12452),i.e(18825),i.e(52871),i.e(29351),i.e(22370),i.e(93049),i.e(22582),i.e(18636),i.e(87289),i.e(16060),i.e(16529),i.e(34281),i.e(35279),i.e(69785),i.e(77754),i.e(29357),i.e(64242),i.e(39986),i.e(22585),i.e(47160),i.e(76677),i.e(68609),i.e(15553),i.e(77345),i.e(79340),i.e(37759),i.e(41423),i.e(21627),i.e(41714),i.e(77777),i.e(17729),i.e(23493),i.e(42810),i.e(20741),i.e(16866),i.e(18503),i.e(83271),i.e(33695),i.e(85673),i.e(92926),i.e(94814)]).then(i.bind(i,297875)))),dockedSidebar:new(r().O2)("dockedSidebar",(async()=>await Promise.all([i.e(35530),i.e(55373),i.e(36192),i.e(44711),i.e(53321),i.e(67539),i.e(27992),i.e(63452),i.e(66249),i.e(87249),i.e(79022),i.e(34877),i.e(11676),i.e(61165),i.e(94522),i.e(44584),i.e(40992),i.e(88455),i.e(36437),i.e(87289),i.e(18503),i.e(18422),i.e(28463)]).then(i.bind(i,760562))))},a=(0,r()._h)(n.chatSidebar,(e=>e.ChatSidebar)),o=(0,r()._h)(n.chatSidebarModeButton,(e=>e.ChatSidebarModeButtonPopupContents))},563692:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>r,xMarkFillSmallIcon:()=>n});i(296540);const r={viewBox:"0 0 16 16",fittedViewBox:"3.03 3.03 9.94 9.94",svg:(0,i(474848).jsx)("path",{d:"M12.73 4.33a.75.75 0 1 0-1.06-1.06L8 6.94 4.33 3.27a.75.75 0 1 0-1.06 1.06L6.94 8l-3.67 3.67a.75.75 0 1 0 1.06 1.06L8 9.06l3.67 3.67a.75.75 0 0 0 1.06-1.06L9.06 8z"})},n=(0,i(340498).wt)("xMarkFillSmall",r,"fillSmall")},567121:(e,t,i)=>{i.d(t,{EG:()=>o,K5:()=>a,RH:()=>n,Yi:()=>s,ls:()=>r});const r=32,n=202,a=1e3,o="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},573442:(e,t,i)=>{i.d(t,{K:()=>j});var r=i.n(i(440537)),n=(i(16280),i(816573),i(878100),i(177936),i(748140),i(821903),i(491134),i(128845),i(237467),i(444732),i(979577),i(581454),i.n(i(883503))),a=()=>i(496603),o=()=>i(720665),s=()=>i(416845),d=()=>i(561190),c=()=>i(96689);const l={version:8,notion_version:0,variant:2},u={version:8,notion_version:1,variant:2},h=0,p=1,g=6,m=8,S=10,b=Date.UTC(2024,0,1);function v(e,t){if(e)return t[h]=255,t[h+1]=240|15&t[h+1],t;const i=Math.floor(((new Date).getTime()-b)/o().nD);if(i>=4096||i<0)throw new Error("Invalid offsetInDays.");return t[h]=i>>4,t[h+1]=i<<4&240|15&t[h+1],t}function f(e,t){if(e>=2**36||e<0)throw new Error("Invalid spaceShortId.");t[p]=240&t[p]|e/2**32&15;for(let i=0;i<4;i++)t[p+1+i]=e/2**(24-8*i)&255;return t}function I(e,t){const i=e?1:0;return t[g]=l.version<<4&240|l.notion_version<<1&14|1&i,t[m]=l.variant<<6&192|63&t[m],t}function y(e,t){if("block"===e)return t[S]=(0,d().vi)(e)|63&t[S],t;const i=(0,d().vi)(e);return t[S]=i>>8&127,t[S+1]=255&i,t}function w(e,t){const i=(0,d().TG)(e);return t[S]=127&i|128&t[S],t}function x(e,t,i,r){const n=new Uint8Array(16),a=globalThis.crypto.getRandomValues(n);return i!==c().NX&&v(e,a),f(t,a),I(r,a),y(i,a),A(a)}function k(e,t,i){return T(e,t,i)}function T(e,t,i){const r=n()(i),o=a().iv(r,2).map((e=>parseInt(e.join(""),16)));if((0,d().ep)(t)){if(void 0===e)throw new(s().Umn)(`Deterministic ID for '${t}' must specify a space short id`)}else if(void 0!==e)throw new(s().Umn)(`Deterministic ID for '${t}' should not provide a space short id`);const c=new Uint8Array(o);return e&&f(e,c),w(t,c),function(e){e[g]=240&u.version<<4|14&u.notion_version<<1|1&e[g],e[m]=192&u.variant<<6|63&e[m]}(c),A(c)}const C=new Array(256).fill(0).map(((e,t)=>t.toString(16).padStart(2,"0")));function A(e){let t=0;return C[e[t++]]+C[e[t++]]+C[e[t++]]+C[e[t++]]+"-"+C[e[t++]]+C[e[t++]]+"-"+C[e[t++]]+C[e[t++]]+"-"+C[e[t++]]+C[e[t++]]+"-"+C[e[t++]]+C[e[t++]]+C[e[t++]]+C[e[t++]]+C[e[t++]]+C[e[t++]]}var _=()=>i(206267);class j{constructor(e){this.environmentName=void 0,this.mainShortId=void 0,this.getSettings=void 0,this.isServerOriginated=void 0,this.mapSpaceIdToShortId=void 0,this.idCreatorLogger=void 0,this.environmentName=e.environmentName,this.mainShortId=i(851941).Yf[this.environmentName],this.getSettings=e.getSettings,this.isServerOriginated=e.isServerOriginated,this.mapSpaceIdToShortId=e.mapSpaceIdToShortId,this.idCreatorLogger=e.idCreatorLogger??(()=>{})}idInMain(e){const{enableIdSchema:t}=this.getSettings(e);return t&&e!==i(867178).wI?(this.idCreatorLogger(void 0,e,"id_schema"),function(e,t,i,r){return x(e,t,i,r)}(!1,this.mainShortId,e,this.isServerOriginated)):this.legacyId(e,"disabled")}pointerInMain(e){return{table:e,id:this.idInMain(e)}}async idWithSpaceId(e,t){const{enableIdSchema:i}=this.getSettings(t);if(!i)return this.legacyId(t,"disabled");const n=this.mapSpaceIdToShortId(e),a=r().types.isPromise(n)?await n:n;return a?(this.idCreatorLogger(e,t,"id_schema"),x(!1,a,t,this.isServerOriginated)):this.legacyId(t,"missing_short_id")}async pointerWithSpaceId(e,t){return{table:t,spaceId:e,id:await this.idWithSpaceId(e,t)}}idWithSpaceShortId(e,t){const{enableIdSchema:i}=this.getSettings(t);return i?(this.idCreatorLogger(void 0,t,"id_schema"),x(!1,e,t,this.isServerOriginated)):this.legacyId(t,"disabled")}legacyId(e,t){return this.idCreatorLogger(void 0,e,t),_().JW()}deterministicIdInMain(e,t){const{enableIdSchema:i}=this.getSettings(e);return i?(this.idCreatorLogger(void 0,e,"id_schema"),function(e,t){return T(void 0,e,t)}(e,t)):(this.idCreatorLogger(void 0,e,"disabled"),_().gB(t))}async deterministicIdWithSpaceId(e,t,i){const{enableIdSchema:n}=this.getSettings(t);if(!n)return this.idCreatorLogger(e,t,"disabled"),_().gB(i);const a=this.mapSpaceIdToShortId(e),o=r().types.isPromise(a)?await a:a;return o?(this.idCreatorLogger(e,t,"id_schema"),k(o,t,i)):(this.idCreatorLogger(e,t,"missing_short_id"),_().gB(i))}deterministicIdWithSpaceShortId(e,t,i){const{enableIdSchema:r}=this.getSettings(t);return r?(this.idCreatorLogger(void 0,t,"id_schema"),k(e,t,i)):(this.idCreatorLogger(void 0,t,"disabled"),_().gB(i))}async getSpaceIdCreator(e){if(!e)return new M(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings(void 0);if(!t)return new M(e,this.idCreatorLogger);const i=this.mapSpaceIdToShortId(e),n=r().types.isPromise(i)?await i:i;return this.getSpaceShortIdCreator(e,n)}getSpaceIdCreatorSync(e){if(!e)return new M(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings(void 0);if(!t)return new M(e,this.idCreatorLogger);const i=this.mapSpaceIdToShortId(e),n=r().types.isPromise(i)?void 0:i;return this.getSpaceShortIdCreator(e,n)}getSpaceShortIdCreator(e,t){const{enableIdSchema:i}=this.getSettings(void 0);return i&&t?new D(e,this,t):new M(e,this.idCreatorLogger)}async getSpaceIdCreatorFromModel(e){return e.getShortIdStr()?this.getSpaceShortIdCreator(e.id,Number(e.getShortIdStr())):await this.getSpaceIdCreator(e.id)}}class M{constructor(e,t){this.spaceId=void 0,this.idCreatorLogger=void 0,this.spaceId=e,this.idCreatorLogger=t}idInSavedSpace(e){return this.idCreatorLogger(void 0,e,"disabled"),_().JW()}idInMain(e){return this.idCreatorLogger(void 0,e,"disabled"),_().JW()}deterministicIdInSavedSpace(e,t){return this.idCreatorLogger(void 0,e,"disabled"),_().gB(t)}deterministicPointerInSavedSpace(e,t){return{id:this.deterministicIdInSavedSpace(e,t),table:e,spaceId:this.spaceId}}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}class D{constructor(e,t,i){this.spaceId=void 0,this.idCreator=void 0,this.spaceShortId=void 0,this.spaceId=e,this.idCreator=t,this.spaceShortId=i}idInSavedSpace(e){return this.idCreator.idWithSpaceShortId(this.spaceShortId,e)}idInMain(e){return this.idCreator.idInMain(e)}deterministicIdInSavedSpace(e,t){return this.idCreator.deterministicIdWithSpaceShortId(this.spaceShortId,e,t)}deterministicPointerInSavedSpace(e,t){return{id:this.deterministicIdInSavedSpace(e,t),table:e,spaceId:this.spaceId}}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}},578194:(e,t,i)=>{i.d(t,{r:()=>r});const r=(0,i(583835).Dv)("importEvernote")},595939:(e,t,i)=>{i.d(t,{OY:()=>s,S4:()=>o,Wu:()=>d});var r=()=>i(680074),n=()=>i(244828),a=()=>i(680977);function o(e){const{environment:t,preference:i}=e,o=(0,r().R$)(t);o&&(n().createAndCommit({environment:t,userAction:"userSettingsActions.setContrastPreference",canUndo:!0,cellTarget:"main",perform:e=>{(0,a().m)({userSettingsStore:o,transaction:e,data:{contrast_preference:i}})}}),s(i))}async function s(e){document.body.setAttribute("data-contrast",e);("high"===e||"auto"===e&&window.matchMedia("(prefers-contrast: more)").matches)&&await i.e(76353).then(i.bind(i,811300))}function d(e){const t=(0,r().R$)(e);return(null==t?void 0:t.getSettingsStore().getKeyStore("contrast_preference").getValue())??"auto"}},607567:(e,t,i)=>{i.d(t,{Z:()=>a});i(296540);var r=i(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 16.74 14.99",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v7.5c0 1.174.951 2.125 2.125 2.125h5.702a4.7 4.7 0 0 1-.2-1.25H4.5a.875.875 0 0 1-.875-.875V7.5h12.75v2.535a4.7 4.7 0 0 1 1.25.684V6.25A2.125 2.125 0 0 0 15.5 4.125zm.758 1.684a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0m1.375-.625a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25m2.625.625a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0"}),(0,r.jsx)("path",{d:"M17.7 16.607a3.625 3.625 0 1 0-.893.878l1.223 1.427a.625.625 0 0 0 .94-.823zM12.375 14.5a2.375 2.375 0 1 1 4.75 0 2.375 2.375 0 0 1-4.75 0"})]})},a=(0,i(340498).wt)("browserMagnifyingGlass",n,"default")},613885:(e,t,i)=>{i.d(t,{k:()=>n});var r=()=>i(726637);function n(e,t){const i=r().A.isMobile?2:3;return t.slice(0,i)}},665290:(e,t,i)=>{i.d(t,{W:()=>l});i(296540);var r=()=>i(819121),n=()=>i(401497),a=()=>i(451306),o=()=>i(73956),s=()=>i(100622),d=()=>i(807449),c=i(474848);function l(e){const{selectorSize:t="normal",...i}=e,{disabled:l,checked:u}=i,[h,p]=(0,r().A)(),g=function(e){const{checked:t,disabled:i,isFocusVisible:r,selectorSize:a}=e;return(0,n().IS)((()=>({root:{position:"absolute",display:"flex",width:"large"===a?15:11,height:"large"===a?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===a?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${i?s().Tj.background.tertiaryTranslucent:s().Tj.blue.background.accentPrimary}`,background:i?s().Tj.background.tertiaryTranslucent:s().Tj.blue.background.accentPrimary}:{boxShadow:`0 0 0 1.5px ${i?s().Tj.background.tertiaryTranslucent:s().Tj.border.strongTranslucent}`,background:s().Tj.background.primary},...r&&{boxShadow:s().Tj.buttonBlueFocusRing}},active:{background:t?s().Tj.blueButtonPressedBackground:s().Tj.buttonHoveredBackground},input:{opacity:0,width:"large"===a?18:void 0,height:"large"===a?18:void 0,...i?{pointerEvents:"none"}:{cursor:"pointer"}}})),[a,t,i,r])}({checked:u,disabled:l,selectorSize:t,isFocusVisible:p});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:h,type:"checkbox",style:g.input,...i}),(0,c.jsx)("span",{...(0,a().ow)(g.root,l?{}:{pseudoActive:g.active}),children:u?(0,c.jsx)(d().I,{icon:o().checkmarkFillSmallIcon,colorPalette:"blue",colorVariant:"inversePrimary",size:"large"===t?"xs":"xxs"}):void 0})]})}},721253:(e,t,i)=>{i.d(t,{lv:()=>b,C5:()=>m,u7:()=>g,uh:()=>S});var r=()=>i(560198),n=()=>i(267785),a=()=>i(100622);const o="theme";var s=()=>i(534177),d=()=>i(44551);var c=()=>i(20822),l=()=>i(661179);const u=15;function h(e,t){const{ThemeStore:i}=e,{mode:s,usingSystemTheme:c}=t;if(r()._u)return;const l={mode:s};var u,h;i.setState(l),e.mobileNative&&e.mobileNative.setTheme(s,c),u=function(e,t){const i=(0,a().O4)({theme:e});return{mode:e,usingSystemTheme:t,colors:{white:a().oZ.white,blue:a().oZ.blue},borderRadius:4,textColor:i.text.primary,popoverBackgroundColor:i.popoverBackground,popoverBoxShadow:i.shadowMD,inputBoxShadow:i.inputBoxShadow,inputBackgroundColor:i.inputBackground,dividerColor:i.border.primaryTranslucent,shadowOpacity:0}}(s,c),null===d().electronApi||void 0===d().electronApi||null===(h=d().electronApi.setTheme)||void 0===h||h.call(d().electronApi,u);try{localStorage.setItem(o,JSON.stringify(l))}catch(p){(0,n().x)(o,JSON.stringify(l),"ThemeActions",p)}g(s),"dark"===s?(document.body.classList.add("dark"),document.body.classList.add("notion-dark-theme")):(document.body.classList.remove("dark"),document.body.classList.remove("notion-dark-theme"))}const p={scrollbarTrack:{light:"rgba(0, 0, 0, 0)",dark:"rgba(0, 0, 0, 0)"},scrollbarThumb:{light:"#D3D1CB",dark:"rgba(255, 255, 255, 0.2)"}};function g(e){if(0===l().A.state)return;const t=document.getElementById("scroll-properties");t&&(t.innerHTML=`\n\t\t* {\n\t\t\tscrollbar-width: ${u}px;\n\t\t\tscrollbar-color: ${p.scrollbarThumb[e]}  ${p.scrollbarTrack[e]};\n\t\t}\n\t`)}function m(e){c().A.setState(e)}function S(e){const t=b();switch(t){case"dark":case"light":h(e,{mode:t,usingSystemTheme:!1});break;case"system":!async function(e){const{mobileNative:t}=e;let i="light";i=t&&t.api.getTheme?await t.api.getTheme():(0,r().VD)(e),h(e,{mode:i,usingSystemTheme:!0})}(e);break;default:(0,s().HB)(t)}}function b(){const e=c().A.state||"system";return"dark"===(t=e)||"light"===t||"system"===t?t:"system";var t}},756114:(e,t,i)=>{i.d(t,{D:()=>r});function r(e,t){t.route.name;return!1}},763765:(e,t,i)=>{i.d(t,{t:()=>n});class r extends(()=>i(757695))().Store{getInitialState(){return{loaded:!1}}USEWITHCAUTION_markStatsigUserFetched(e){const{userId:t,spaceId:i,fetched:r}=e;this.setState({loaded:r,userId:t,spaceId:i})}USEWITHCAUTION_isFetchedForSpaceAndUserId(e){const{spaceId:t,userId:i}=e;return this.state.loaded&&this.state.spaceId===t&&this.state.userId===i}}const n=new r;(0,i(852832).exposeDebugValue)("statsigUserLoadingStatusStore",n)},811558:(e,t,i)=>{var r=i(746518),n=i(439928),a=i(225397),o=Array;r({target:"Array",proto:!0},{with:function(e,t){return n(a(this),o,e,t)}})},866805:(e,t,i)=>{i.d(t,{Jl:()=>l,Ni:()=>d,OE:()=>c});var r=()=>i(242422),n=()=>i(726637),a=()=>i(534177),o=()=>i(246679),s=()=>i(243331);const d=3;function c(){if(n().A.isMobile)return!1;if(!r().default.checkGate({gateName:"agent_daily_brief"}))return!1;const e="authenticated"===o().gv.state.status,t="authenticated"===s().Lf.state.status;return e&&t}async function l(e={}){var t;const{spaceId:r,environment:n,...o}=e,{UserChatPreferenceLocalStorageStore:s}=await i.e(37342).then(i.bind(i,166442)),{AGENT_MODEL_TYPES:d}=await i.e(27992).then(i.bind(i,365646)),c=r?(null===(t=s.getState())||void 0===t?void 0:t[r])??{}:{},{model:l}=c;let u=l&&(0,a().Xk)(d,l)?l:void 0;if(r&&u){const{getAvailableWorkflowAgentModels:e}=await Promise.all([i.e(27992),i.e(7049)]).then(i.bind(i,676953));e(n,r).has(u)||(u=void 0)}const{getWorkflowAgentConfig:h}=await Promise.all([i.e(35530),i.e(55373),i.e(36192),i.e(27992),i.e(63452),i.e(66249),i.e(87249),i.e(79022),i.e(34877),i.e(32236)]).then(i.bind(i,844317)),p=h({...o,spaceId:r,model:u,useReadOnlyMode:!1}),g=!0;return p.enableUserSessionContext=!0,p.enableQueryCalendar=g,p.enableQueryMail=g,p.enableAgentViewNotificationsTool=g,p.agentFollowupVariation=void 0,p}},916275:(e,t,i)=>{i.d(t,{P:()=>a});i(16280),i(898992),i(354520),i(672577),i(737550);var r=()=>i(449412);class n extends(()=>i(62175))().U{isModelAvailable(e,t,i){const r=this.getData(e,{spaceId:t});return!!r&&r.some((e=>e.model===i))}isModelDisabled(e,t,i){const r=this.getData(e,{spaceId:t});if(!r)return!1;const n=r.find((e=>e.model===i));return(null==n?void 0:n.isDisabled)??!1}getModelsForMode(e,t,i){const r=this.getData(e,{spaceId:t});if(r)return r.filter((e=>"markdown-chat"===i?void 0!==e.markdownChat:void 0!==e.workflow))}}const a=new n(((e,{spaceId:t})=>`${e.currentUser.id}:${t}`),(async(e,{spaceId:t})=>{const n=e.currentUser.id;try{const a=await e.api.callCellCompatibleApi({eventName:"getAvailableModels",environment:e,cellNavigation:{spaceId:t},data:{spaceId:t}});if("failed"===a.type){const e=(0,i(247584).V4)(a);return void r().O8(new Error(`Failed to fetch available models: ${e}`),{from:"AvailableModelsStore.fetch",type:"api_failed_response",data:{spaceId:t,userId:n,errorMessage:e}})}return 0===a.data.models.length&&r().O8(new Error("Received empty model list from server"),{from:"AvailableModelsStore.fetch",type:"empty_response",data:{spaceId:t,userId:n}}),a.data.models}catch(a){return void r().O8(a,{from:"AvailableModelsStore.fetch",type:"error",data:{spaceId:t,userId:n}})}}),{dontCacheUndefined:!0});(0,i(852832).exposeDebugValue)("availableAiModelsStore",a)}}]);