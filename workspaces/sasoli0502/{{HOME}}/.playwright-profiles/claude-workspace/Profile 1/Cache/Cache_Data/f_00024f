"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[53697,54566],{24126:(e,t,r)=>{r.d(t,{c:()=>i});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,r(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},i=(0,r(340498).wt)("beaker",n,"default")},107620:(e,t,r)=>{r.d(t,{y:()=>i});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"1.81 2.89 16.38 15.08",svg:(0,r(474848).jsx)("path",{d:"M16.938 9.853c0-2.97-2.539-5.54-6.545-5.697L10 4.148c-4.232 0-6.938 2.639-6.938 5.705 0 1.438.583 2.752 1.617 3.76a.63.63 0 0 1 .18.546 7.3 7.3 0 0 1-.89 2.528c1.108-.13 2.12-.614 3.01-1.344l.063-.044a.63.63 0 0 1 .505-.073 9 9 0 0 0 2.454.333l.392-.007c4.006-.158 6.545-2.728 6.545-5.699m1.25 0c0 3.803-3.234 6.766-7.747 6.948l-.44.008a10.2 10.2 0 0 1-2.485-.299c-1.349 1.022-2.985 1.62-4.826 1.428a.625.625 0 0 1-.406-1.033c.712-.817 1.096-1.737 1.284-2.642-1.116-1.197-1.756-2.733-1.756-4.41 0-3.925 3.447-6.955 8.189-6.955l.44.009c4.512.181 7.747 3.143 7.747 6.946"})},i=(0,r(340498).wt)("chatBubble",n,"default")},359929:(e,t,r)=>{r.d(t,{A:()=>P,P:()=>M});var n=r(296540),i=()=>r(726637),o=()=>r(484714),a=()=>r(590526),s=()=>r(401497),l=()=>r(30537),d=()=>r(807449),c=()=>r(695115),u=()=>r(546926),p=()=>r(890492),g=()=>r(416504),f=()=>r(236262),h=()=>r(69708),m=()=>r(100622),v=()=>r(384944),x=()=>r(898286),b=()=>r(391214),S=()=>r(366437),w=()=>r(270710),y=()=>r(405623),j=()=>r(654774),k=()=>r(244828),I=()=>r(187820),A=r(474848);const C={property:!0};function M(){return(0,s().IS)((()=>({wrapper:{display:"flex",alignItems:"center",color:m().Tj.text.primary,fontSize:"13px",padding:"4px 8px"},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingInlineStart:10,paddingInlineEnd:10,width:"100%",borderRadius:4,boxShadow:m().Tj.inputBoxShadow,background:m().Tj.inputBackground,cursor:"text",position:"relative"}})),[])}function T(e){const t=(0,h().tz)(),r=(0,o().v3)(),s=(0,a().K8)((()=>w().A.state.clonedBlockStore),[]),l=(0,a().K8)((()=>null==s?void 0:s.getTitleStore()),[s]),d=(0,a().K8)((()=>(null==s?void 0:s.canEdit())??!1),[s]),c=(0,a().K8)((()=>{var e;if(s)return null===(e=s.getModel())||void 0===e?void 0:e.getEmptyTitlePlaceholder({getRecordModel:s.getRecordModel,userTimeZone:(0,g().P)(),intl:t})}),[s,t]);(0,n.useEffect)((()=>{if(!s)return;const e=s.getTitleStore();e&&(0,j().x)({environment:r,store:e,canSelectAllBlocks:!1})}),[s,r]);const f=M();if(!s||!l)return null;const{renderDelete:m}=e;let v;return v=i().A.isMobile?{menuType:u().gu.ActionSheet}:{menuType:u().gu.Popup,width:380},(0,A.jsx)(p().A,{...v,children:(0,A.jsxs)("div",{style:f.wrapper,children:[(0,A.jsx)(W,{blockStore:s}),(0,A.jsx)(y().A,{store:l,disabled:!d,onEsc:()=>x().V(r),onEnter:()=>x().V(r),onTab:()=>!0,disableSlashCommands:!0,disableEmojiCommands:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,placeholder:c,style:f.input,pasteBehavior:"inline",inPageFind:S().Os.none,disabledMentionTypes:C}),m&&d?(0,A.jsx)(B,{}):void 0]})})}const P=function(){const e=(0,o().v3)(),{clonedBlockStore:t,originRect:n}=(0,a().K8)((()=>{const{clonedBlockStore:e,originRect:t}=w().A.state;return{clonedBlockStore:e,originRect:t}}),[]);return(0,A.jsx)(r(127833).zD,{popupType:i().A.isMobile?l().n.SlideUp:l().n.Popup,open:Boolean(t),originRect:n,placementToOrigin:"bottom",alignmentToOrigin:"center",originGap:4,onDismiss:()=>x().V(e),render:()=>(0,A.jsx)(D,{}),trapFocus:!0})};function B(){const e=(0,o().v3)(),t=(0,h().tz)();return(0,A.jsx)(c().A,{ariaLabel:t.formatMessage({id:"renamePageMenu.deleteButton.ariaLabel",defaultMessage:"Delete"}),icon:e=>(0,A.jsx)(d().I,{icon:f().trashIcon,style:{...e}}),style:{marginInlineStart:6},hasBackground:!0,colorVariant:"primary",showShadow:!0,onClick:async()=>{const{originalBlockStore:t}=w().A.state;t&&await b().Af({environment:e,blocks:[t],shouldCheckSuggestEdit:!0}),x().V(e)}})}function D(){const e=(0,a().K8)((()=>w().A.state.renderDelete),[]);return(0,A.jsx)(T,{renderDelete:Boolean(e)})}function W({blockStore:e}){const t=(0,o().v3)(),r={width:28,height:28,marginInlineEnd:6,flexShrink:0,flexGrow:0,boxShadow:`inset 0 0 0 1px ${m().Tj.border.primaryTranslucent}`},n=(0,a().K8)((()=>e.canEdit()),[e]),i=(0,a().K8)((()=>{var t;return null===(t=e.getIconStore())||void 0===t?void 0:t.table}),[e]),s=(0,a().K8)((()=>{var t;return null===(t=e.getIconStore())||void 0===t?void 0:t.id}),[e]),l=(0,a().K8)((()=>e.getIcon()),[e]),d=(0,a().K8)((()=>e.isEmptyPage()),[e]),c=(0,a().K8)((()=>e.getType()),[e]),u=(0,a().K8)((()=>(0,I().Te)(e)),[e]);return n?(0,A.jsx)(I().B6,{disabled:!1,bucket:"secure",store:e,icon:l,iconRecordCategory:u,isEmptyPage:d,size:18,style:r,iconLoggingData:{recordTable:i,source:"breadcrumb",block_type:c,collection_id:"collection"===i?s:void 0},onChange:e=>function(e,t){const{clonedBlockStore:r}=w().A.state;if(r){const n=r.getIconStore();n&&k().createAndCommit({userAction:"RenamePageMenuPopup.handleRecordIconChange",environment:t,canUndo:!0,perform:t=>{v().KY({store:n,value:e,transaction:t})}})}}(e,t)}):(0,A.jsx)(I().B6,{disabled:!0,icon:l,iconRecordCategory:u,isEmptyPage:d,size:18,style:r})}},359941:(e,t,r)=>{r.d(t,{V:()=>a});var n=()=>r(230711),i=()=>r(590526),o=()=>r(981342);function a(e){const{spaceStore:t}=e,r=(0,n().nB)(t);return(0,i().K8)((()=>(0,o().MU)({spaceStore:t,actorRole:r})),[t,r])}},360576:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>n,personFillSmallIcon:()=>i});r(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.89 1.85 10.22 12.3",svg:(0,r(474848).jsx)("path",{d:"M8 1.85c-.925 0-1.673.382-2.179 1.012-.495.617-.73 1.435-.73 2.29 0 .856.235 1.674.73 2.291.506.63 1.255 1.012 2.18 1.012.924 0 1.672-.382 2.178-1.012.495-.617.73-1.435.73-2.29 0-.856-.235-1.674-.73-2.291C9.673 2.232 8.925 1.85 8 1.85m0 7.403c-2.175 0-4.115 1.06-4.94 2.672-.3.585-.165 1.179.19 1.594.34.396.873.63 1.43.63h6.64c.557 0 1.09-.234 1.43-.63.355-.415.49-1.01.19-1.594-.825-1.612-2.765-2.672-4.94-2.672"})},i=(0,r(340498).wt)("personFillSmall",n,"fillSmall")},383567:(e,t,r)=>{r.d(t,{F:()=>o});r(296540);var n=r(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.26 1.98 16.32 17.52",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M15.825 12a3.75 3.75 0 1 1-.001 7.501 3.75 3.75 0 0 1 0-7.501m0 1.325a.55.55 0 0 0-.55.55V15.2H13.95a.55.55 0 0 0-.001 1.1h1.326v1.325a.55.55 0 0 0 1.1 0V16.3h1.324a.55.55 0 0 0 0-1.1h-1.325v-1.325a.55.55 0 0 0-.55-.55M9.702 5.022a3.918 3.918 0 0 1 6.742.036.626.626 0 0 1-1.08.63 2.667 2.667 0 0 0-4.59-.023L5.376 14.68l4.19.678a.626.626 0 0 1-.2 1.235l-5.1-.827a.625.625 0 0 1-.437-.938z"}),(0,n.jsx)("path",{d:"M10.912 8.094a1.178 1.178 0 1 1 2.326.377 1.178 1.178 0 0 1-2.326-.377M4.7 7.087a1.178 1.178 0 1 1 2.327.377A1.178 1.178 0 0 1 4.7 7.087M3.488 2.985a3.92 3.92 0 0 1 5.572.357.625.625 0 0 1-.944.818 2.67 2.67 0 0 0-3.796-.243.625.625 0 1 1-.832-.932"})]})},o=(0,r(340498).wt)("aiFacePlus",i,"default")},383814:(e,t,r)=>{r.d(t,{G:()=>c});var n=()=>r(755531),i=()=>r(242422),o=()=>r(295633),a=()=>r(179034),s=()=>r(384446),l=()=>r(207214),d=()=>r(486674);function c(e){const t=e.RouterStore.state.route.name;if("agent"===t)return(0,l().k)(e);if("meet"===t){var r;const t=(0,n().S)(),l=null===(r=e.currentUser)||void 0===r?void 0:r.id;if(!t||!l)return;if(!i().default.checkGate({gateName:"agent_in_meetings_route"}))return;const d=e.idCreator.getSpaceIdCreatorSync(t.id),c=(0,s().YJ)(l,d);return new(o().B)(e,{id:c,table:a().ev,spaceId:t.id})}return(0,d().a)()}},435442:(e,t,r)=>{r.d(t,{J:()=>Ye,default:()=>Ze});r(16280);var n=r(296540),i=()=>r(242422),o=()=>r(484714),a=()=>r(590526),s=()=>r(401497),l=()=>r(69708),d=()=>r(696746),c=()=>r(823569);var u=()=>r(907258),p=()=>r(792485),g=()=>r(876338),f=()=>r(295633),h=()=>r(179034);function m(e){const t=(0,p().S)();return(0,a().K8)((()=>{const r=(0,g().$)(t)||u().default.state.mainEditorCurrentBlockStore;if(r)return"page"===e.name&&e.blockId?f().B.createChildStore(r,{table:h().ev,id:e.blockId,spaceId:e.spaceId}):void 0}),[e,t])}var v=()=>r(755531),x=()=>r(726637),b=()=>r(350013),S=()=>r(127833),w=()=>r(250910),y=()=>r(631524),j=()=>r(743246),k=()=>r(546926),I=()=>r(890492),A=()=>r(687879),C=()=>r(622936),M=()=>r(233692),T=()=>r(419357),P=()=>r(359929),B=r(474848);function D({workflowStore:e,onClose:t}){const r=(0,o().v3)(),i=(0,a().K8)((()=>(0,M().m)(e||"")),[e]),l=(0,a().K8)((()=>e.canEdit()),[e]),[d,c]=(0,n.useState)(i.name);(0,n.useEffect)((()=>{c(i.name)}),[i.name]);const u=(0,n.useCallback)((e=>{c(e.target.value)}),[]),p=(0,n.useCallback)((()=>{if(!e||!l)return;const n=d.trim();n&&n!==i.name&&A().saveName({workflowStore:e,name:n,environment:r}),t()}),[e,l,d,i.name,t,r]),g=(0,P().P)(),f=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",flexShrink:0,marginInlineEnd:6,paddingInlineStart:2,paddingInlineEnd:4}})),[]);let h;return h=x().A.isMobile?{menuType:k().gu.Modal}:{menuType:k().gu.Popup,width:380},(0,B.jsx)(I().A,{...h,children:(0,B.jsxs)("div",{style:g.wrapper,children:[(0,B.jsx)("span",{style:f.container,children:(0,B.jsx)(C().AgentIcon,{agentIcon:i.icon,workflowStore:e,size:18})}),(0,B.jsx)(T().Ay,{focusInitial:!0,selectAll:!x().A.isMobile,value:d,onChange:u,onSubmit:p,onBlur:p,onCancel:t,disabled:!l,showClearButton:!1,suppressFocusRing:!0,inputStyle:g.input,inputOuterStyle:{padding:0,boxShadow:"none",background:"none"},style:{padding:0}})]})})}function W({route:e}){const t=(0,s().IS)((()=>({item:{padding:"4px 8px",minWidth:0,maxWidth:400,display:"flex",alignItems:"center",flexShrink:1,gap:6},nameContainer:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),[]),r=(0,a().K8)((()=>{const t=(0,v().S)();if(t&&e.workflowId)return b().N.createChildStore(t,{table:j().C0,id:e.workflowId,spaceId:t.id})}),[e.workflowId]),n=(0,a().K8)((()=>r?(0,M().m)(r,"Agent"):{name:"Agent",icon:""}),[r]),i=(0,a().K8)((()=>(null==r?void 0:r.canEdit())??!1),[r]);return r&&i?(0,B.jsx)(w().A,{popupType:x().A.isMobile?S().nl.BottomSheet:S().nl.Popup,renderOrigin:e=>(0,B.jsxs)(y().p,{...e,shouldShrink:!0,size:"sm",disabled:!i,style:t.item,children:[(0,B.jsx)(C().AgentIcon,{agentIcon:n.icon,workflowStore:r,size:16}),(0,B.jsx)("span",{style:t.nameContainer,children:n.name})]}),render:({close:e})=>(0,B.jsx)(D,{workflowStore:r,onClose:e}),bottomSheetInitialState:"half",alignmentToOrigin:"center",originGap:4}):(0,B.jsxs)("span",{style:t.item,children:[r?(0,B.jsx)(C().AgentIcon,{agentIcon:n.icon,workflowStore:r,size:16}):void 0,(0,B.jsx)("span",{style:t.nameContainer,children:n.name})]})}var _=()=>r(920198),E=()=>r(312788),K=()=>r(463086),R=()=>r(234459),V=()=>r(760342),z=()=>r(496703),U=()=>r(277942);function L({route:e,config:t}){const{navigate:r}=(0,n.useContext)(E().E),i=(0,o().v3)(),l=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",flexShrink:1}})),[]),d=(0,_().L)(),c=(0,a().K8)((()=>{if(d&&e.agentChatThreadId)return K().E.createChildStore(d,{table:R().To,id:e.agentChatThreadId,spaceId:d.id})}),[e.agentChatThreadId,d]),u=(0,a().K8)((()=>c?c.isReady()?"ready":"loading":"new"),[c]),p=n.useCallback((({newThreadStore:t})=>{if(e.workflowId&&null!=t&&t.id){const n=(0,z().L)({workflowId:e.workflowId,params:{agentChatThreadId:t.id}});r({environment:i,url:n})}}),[e.workflowId,i,r]);return d?(0,B.jsx)("div",{style:l.container,children:(0,B.jsx)(U().He,{threadStore:c,threadStoreState:u,onThreadChange:p,parentStore:d,workflowId:(0,V().BI)(t)})}):null}r(898992),r(354520),r(581454);var O=()=>r(59226),N=()=>r(732810),F=()=>r(371722),H=()=>r(44551);function G(e){var t;null===H().electronApi||void 0===H().electronApi||null===(t=H().electronApi.setTabBreadcrumbs)||void 0===t||t.call(H().electronApi,e)}var q=()=>r(71304),$=()=>r(860048),Q=()=>r(718827),J=()=>r(663639),X=()=>r(675811),Y=()=>r(864040);const Z=function(e){const{stores:t,disabled:n}=e,i=(0,o().v3)(),a={display:"flex",alignItems:"center",flexShrink:0};return(0,B.jsx)(w().A,{disabled:n,popupType:x().A.isMobile?w().z.SlideUp:w().z.Popup,renderOrigin:e=>x().A.isMobile?(0,B.jsxs)(Q().Ay,{style:{...a},disabled:n,...e,children:[(0,B.jsx)(X().f,{}),(0,B.jsx)("div",{style:{marginInlineStart:8,marginInlineEnd:8},children:"..."}),(0,B.jsx)(X().f,{})]}):(0,B.jsxs)("div",{style:a,children:[(0,B.jsx)(y().p,{size:"sm",disabled:n,...e,children:"..."}),(0,B.jsx)(X().f,{})]}),render:e=>{let n;return n=x().A.isMobile?{menuType:k().gu.Modal,title:(0,B.jsx)(l().sA,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,B.jsx)(l().sA,{...r(245720).W.done}),onClickRight:e.close}:{menuType:k().gu.Popup,width:240},(0,B.jsx)(I().A,{...n,children:(0,B.jsx)(J().A,{type:J().O.Vertical,onAccept:e.close,initialFocus:void 0,sections:(0,Y().A)(i,t)})})}})};var ee=()=>r(723085),te=()=>r(534177),re=()=>r(568891),ne=()=>r(79926),ie=()=>r(584262),oe=()=>r(547392),ae=()=>r(938379);function se({store:e,pageVisitSource:t}){var r,n;return(0,ae().C)({collectionId:e.id,spaceId:e.getSpaceId(),spaceDomain:null===(r=e.getSpaceStore())||void 0===r?void 0:r.getEditDomain(),parentCvbId:null===(n=e.getParentPointer())||void 0===n?void 0:n.id,pageVisitSource:t})}var le=()=>r(855801),de=()=>r(692763),ce=()=>r(244828),ue=()=>r(20039);function pe(e){const{store:t,showDivider:r,maxWidth:i,iconSize:l,emojiSize:d,highlighter:c,disabled:u}=e,p=(0,o().v3)(),g=(0,s().IS)((()=>({selectable:{display:"flex",alignItems:"center",minWidth:0},button:{display:"flex",minWidth:0,fontSize:"inherit",paddingTop:2,paddingBottom:2,paddingInlineStart:6,paddingInlineEnd:6}})),[]),f=(0,a().K8)((()=>t.getParentCollectionViewBlockStore()),[t]),{url:h,canEdit:m}=(0,a().K8)((()=>({url:se({store:t,pageVisitSource:ie().y8.Breadcrumb}),canEdit:t.canEdit()})),[t]),{value:v}=(0,ne().fJ)(le().VI.duplicateActions),x=(0,n.useCallback)((e=>{ce().createAndCommit({userAction:"BreadcrumbDataSourceButton.onDrop",environment:p,canUndo:!0,perform:r=>{const{droppedDirection:n,droppedStores:i,duplicate:o}=e;n===re().bH.Onto&&oe().MS({environment:p,targetStore:t,droppedDirection:n,droppedStores:i,duplicate:o,transaction:r,duplicateActions:v})}})}),[p,t,v]);if(!f)return null;const b=(0,B.jsx)(ue().A,{store:t,maxWidth:i,iconSize:l,emojiSize:d,highlighter:c});return(0,B.jsxs)(n.Fragment,{children:[(0,B.jsx)(de().Ay,{store:f,canDropOnto:m,onSelectableDrop:x,style:g.selectable,analyticsName:"breadcrumb",shouldShowDropZone:!0,children:(0,B.jsx)(y().p,{href:h,external:!1,style:g.button,size:"sm",shouldShrink:!0,disabled:u,children:b})}),r?(0,B.jsx)(X().f,{}):void 0]},t.id)}var ge=()=>r(906719),fe=()=>r(565049),he=()=>r(996332);function me(e){const{store:t,showDivider:r,maxWidth:n,disabled:o}=e,l=(0,s().IS)((()=>({item:{cursor:o?"default":"pointer",opacity:1,textDecoration:"none",padding:"4px 8px",borderRadius:6,minWidth:0,maxWidth:n,display:"flex",alignItems:"center",flexShrink:0,gap:6},nameContainer:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:0},badge:{flexShrink:0}})),[o,n]),d=(0,a().K8)((()=>(0,M().m)(t,"Agent")),[t]),u=(0,z().L)({workflowId:t.id,params:{workflowViewType:"chat"}}),p=(0,a().K8)((()=>i().default.getConfig({configName:"custom_agent_rollout_badge"})),[]);return(0,B.jsxs)(B.Fragment,{children:[o?(0,B.jsxs)("span",{style:l.item,children:[(0,B.jsx)(C().AgentIcon,{agentIcon:d.icon,workflowStore:t,size:16}),(0,B.jsx)("span",{style:l.nameContainer,children:d.name}),(0,B.jsx)("span",{style:l.badge,children:(0,B.jsx)(c().A,{badgeConfig:p})})]}):(0,B.jsxs)(he().Q,{href:u,style:l.item,children:[(0,B.jsx)(C().AgentIcon,{agentIcon:d.icon,workflowStore:t,size:16}),(0,B.jsx)("span",{style:l.nameContainer,children:d.name}),(0,B.jsx)("span",{style:l.badge,children:(0,B.jsx)(c().A,{badgeConfig:p})})]}),r?(0,B.jsx)(X().f,{}):void 0]})}function ve(e){const{ancestorMaxWidth:t,showDivider:r,store:n,disabled:i}=e;return n instanceof ee().h?(0,B.jsx)(fe().A,{store:n,showDivider:r,maxWidth:t,disabled:i}):n instanceof f().B?(0,B.jsx)(ge().A,{store:n,showDivider:r,maxWidth:t,disabled:i}):n instanceof N().m?(0,B.jsx)(pe,{store:n,showDivider:r,maxWidth:t,disabled:i}):n instanceof b().N?(0,B.jsx)(me,{store:n,showDivider:r,maxWidth:t,disabled:i}):void(0,te().HB)(n)}function xe(e){const{ancestorMaxWidth:t,homeStore:r,route:i,maxAncestorCount:s,disabled:c}=e,u=(0,o().v3)(),p=(0,l().tz)(),g=m(i),h=(0,O().X)("team_feed_as_any_other_db"),[v,S]=(0,a().K8)((()=>{if(!g)return[[],[]];const e=(0,F().f)(g,{includeTeamHomeFeed:h,includeDataSources:!0});e.reverse();const t=g.isNavigableBlock()?e.slice(0,-1):[...e];return g.isTeamPage()?[[],[]]:[t,e]}),[g,h],{useDeepEqual:!0}),w=(0,a().K8)((()=>v.map((e=>(0,q().Qe)(e,p,u,!0)||(0,q().gG)(e,p)||""))),[u,p,v]);(0,n.useEffect)((()=>(G(w),()=>{G(void 0)})),[w]);const y=(0,a().K8)((()=>g&&(0,d().Nh)(g.id)),[g]),j=(0,a().K8)((()=>(0,$().zI)({spaceStore:null==g?void 0:g.getSpaceStore()})>0),[g]);if(y&&void 0!==r)return(0,B.jsx)(ve,{ancestorMaxWidth:t,showDivider:v.length>0,store:r,disabled:c},r.id);if(v.length>s){const[e,r,n]=[v[0],v.slice(1,v.length-s+1),v.slice(v.length-s+1)];if(j)return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ve,{ancestorMaxWidth:t,showDivider:!x().A.isMobile,store:e,disabled:c},e.id),(0,B.jsx)(Z,{stores:x().A.isMobile?S:r,disabled:c},"pages-popup"),n.map((e=>(0,B.jsx)(ve,{store:e,showDivider:!0,ancestorMaxWidth:t,disabled:c},e.id)))]});{const e=v.filter((e=>e instanceof f().B||e instanceof N().m||e instanceof b().N)),r=v.filter((e=>e instanceof f().B||e instanceof N().m||e instanceof b().N));return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ve,{store:e[0],showDivider:!x().A.isMobile,ancestorMaxWidth:t,disabled:c},e[0].id),(0,B.jsx)(Z,{stores:x().A.isMobile?r:e.slice(1,e.length-s+1),disabled:c},"pages-popup"),e.slice(e.length-s+1).map((e=>(0,B.jsx)(ve,{store:e,showDivider:!0,ancestorMaxWidth:t,disabled:c},e.id)))]})}}return(0,B.jsx)(B.Fragment,{children:v.map((e=>(0,B.jsx)(ve,{ancestorMaxWidth:t,showDivider:!0,store:e,disabled:c},`${e.table}-${e.id}`)))})}var be=()=>r(564884),Se=()=>r(779315),we=()=>r(292985),ye=()=>r(314529);var je=()=>r(898286),ke=()=>r(187820),Ie=()=>r(478726),Ae=()=>r(466088),Ce=()=>r(457419),Me=()=>r(712505);const Te=function(e){const{ancestorMaxWidth:t,ignoreMaxLength:r,showDivider:n,store:i,marginLeft:o}=e,a=(0,s().IS)((()=>({wrapper:{display:"flex",alignItems:"center",flexShrink:1,marginInlineStart:o,minWidth:0,maxWidth:r?void 0:"100%"}})),[r,o]);return(0,B.jsxs)("div",{style:a.wrapper,children:[(0,B.jsx)(ue().A,{store:i,maxWidth:t,ignoreMaxLength:r}),n?(0,B.jsx)(X().f,{}):void 0]})};function Pe(e){const{environment:t,currentPageRef:r,store:n,disabled:i}=e;return(0,a().K8)((()=>{if(!n)return!0;const e=n.canEdit(),o=(0,Ce().S)(n),a=n.getCollectionStoreIfSingleSource(),s=null==a?void 0:a.isSyncedCollection(),l=n.isExternalObjectInstancePageBlockStore(),c=(0,Ie().fc)(n);return i||(0,d().Nh)(n.id)||n.isPersonProfile()||x().A.isMobile||(0,Ae().w)(t)||Me().default.isCenterPeekOpen()||!r||!e||o||l||s||c}),[t,r,n,i])}function Be(e){const{environment:t,currentPageRef:r,store:i}=e;return(0,n.useCallback)((()=>{if(!i)return;const e=Me().default.isCenterPeekOpen()?Se().A.PeekViewScroller:Se().A.PageScroller;if(e){const r=e.getNode();if(r&&!(Math.abs(r.scrollTop)<10))return(0,we().V)({element:r,environment:t,options:{top:0,behavior:"smooth"}}),void function(e){(0,ye().DO_NOT_USE_trackLegacy)(e,"click_breadcrumb_current_page_scroll_to_top")}(t)}const n=r.current;if(!n)return;if(!(n instanceof Element))return;const o=n.getBoundingClientRect();je().U({blockStore:i,originRect:o}),function(e){(0,ye().DO_NOT_USE_trackLegacy)(e,"open_breadcrumb_current_page_menu")}(t)}),[t,r,i])}function De(e,t){const{currentPageMaxWidth:n,currentPageRef:i,route:s}=e,l=(0,o().v3)(),d=m(s),c=Pe({environment:l,currentPageRef:i,store:d,disabled:e.disabled}),u=(0,a().K8)((()=>(null==d?void 0:d.isEmptyPage())??!1),[d]),p=(0,a().K8)((()=>d?(0,ke().Te)(d):void 0),[d]),g=(0,a().K8)((()=>null==d?void 0:d.getIcon()),[d]),f=x().A.isMobile?24:20,h=Be({environment:l,currentPageRef:i,store:d});return d?(0,B.jsxs)(y().p,{shouldShrink:!0,onClick:h,size:"sm",ref:t,disabled:c,children:[Boolean(g)&&p?(0,B.jsx)(ke().B6,{disabled:!0,icon:g,iconRecordCategory:p,isEmptyPage:u,size:f,style:{marginInlineEnd:6},largeIcon:!0}):void 0,(0,B.jsx)(r(16006).A,{store:d,style:{maxWidth:n},enableHover:!0})]}):null}const We=(0,n.forwardRef)(De);function _e(e){const{ancestorMaxWidth:t,currentPageRef:r,route:n,marginLeft:i}=e,s=(0,o().v3)(),l=m(n),{mobileNative:c}=s,u=(0,a().K8)((()=>l&&(0,d().lU)(l)),[l]),p=Pe({environment:s,currentPageRef:r,store:l,disabled:e.disabled}),g=Be({environment:s,currentPageRef:r,store:l}),f=(0,a().K8)((()=>{if(!l)return!1;const e=(0,F().f)(l,{includeTeamHomeFeed:!1,includeDataSources:!0});return 0===(l.isNavigableBlock()?e.slice(1):[...e]).length}),[l]);return l?u?null:x().A.isMobile?(0,B.jsx)(y().p,{disabled:p,shouldShrink:!0,onClick:g,size:"sm",style:null!=c&&c.supportsNativeHomeOnPhone()?{paddingInlineStart:0}:void 0,children:(0,B.jsx)(Te,{store:l,showDivider:!1,ignoreMaxLength:f,ancestorMaxWidth:t,marginLeft:i})}):(0,B.jsx)(y().p,{disabled:p,shouldShrink:!0,onClick:g,style:{fontSize:"inherit"},children:(0,B.jsx)(Te,{store:l,showDivider:!1,ancestorMaxWidth:t,marginLeft:i})}):null}function Ee(e){const{route:t,ancestorMaxWidth:r,marginLeft:n}=e,i=m(t);if(!i)return null;const o={display:"flex",alignItems:"center",flexShrink:0};return(0,B.jsx)(Ke,{store:i,renderOrigin:e=>(0,B.jsx)(Q().Ay,{style:{...o,maxWidth:"100%"},...e,children:(0,B.jsx)(Te,{store:i,showDivider:!1,ignoreMaxLength:!0,ancestorMaxWidth:r,marginLeft:n})})})}function Ke(e){const{store:t,renderOrigin:r}=e,i=(0,o().v3)(),s=(0,a().K8)((()=>{const e=(0,F().f)(t,{includeTeamHomeFeed:!1,includeDataSources:!0});return e.reverse(),e}),[t]),d=(0,n.useCallback)((()=>{(0,be().u)({environment:i,event:{eventName:"topbar_breadcrumb_menu_click",eventProperties:{has_parent_pages:s.length>1}}})}),[i,s]),c=(0,n.useCallback)((e=>{if(i.device.isMobileNative){const t=void 0!==e.collectionId;(0,be().u)({environment:i,event:{eventName:"topbar_breadcrumb_page_click",eventProperties:{page_id:e.pageId,is_data_source:t}}})}}),[i]);return(0,B.jsx)(w().A,{popupType:w().z.BottomSheet,bottomSheetInitialState:"half",onClick:d,renderOrigin:r,render:e=>(0,B.jsx)(I().A,{menuType:k().gu.Modal,title:(0,B.jsx)(l().sA,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),children:(0,B.jsx)(J().A,{type:J().O.Vertical,onAccept:e.close,initialFocus:void 0,sections:(0,Y().A)(i,s,c)})})},"pages-popup")}r(823215),r(737550);var Re=r(440961),Ve=()=>r(807449),ze=()=>r(26697),Ue=()=>r(626466),Le=()=>r(471095),Oe=()=>r(68263),Ne=()=>r(100622),Fe=()=>r(95313),He=()=>r(376049),Ge=()=>r(821093);function qe(e){const{route:t}=e,r=(0,o().v3)(),i=m(t),s=(0,a().K8)((()=>{if(!i)return!1;const{sidebarSpaceViewStore:e}=u().default.state,t=e?(0,Ge().I)({environment:r,spaceViewStore:e})??[]:[];return null==t?void 0:t.some((e=>e.id===i.id))}),[r,i]),d=(0,a().K8)((()=>{if(!i)return!1;const e=r.currentUser.id;return i.getPermissionItems().every((t=>(0,Oe().B2)(t)&&e===t.user_id))}),[r,i]),c=(0,n.useRef)(null),p=(0,n.useCallback)((()=>{if(!c||!i)return;const e=Re.findDOMNode(c.current);if(!(e&&e instanceof Element))return;const t=e.getBoundingClientRect(),n=new DOMRect(t.x,t.y,t.width,t.height+5);Fe().D3(r),He().ho({environment:r,blocks:[i],originRect:n,moveToContext:"topbar_breadcrumb"})}),[r,c,i]);return s&&d&&i?(0,B.jsx)(ze().m,{placement:"right",renderTooltip:e=>(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{children:(0,B.jsx)(l().sA,{defaultMessage:"Only you have access",id:"breadcrumb.moveTo.hasPermission.title"})}),(0,B.jsx)("div",{style:{color:Ne().Tj.text.inverseSecondary},children:(0,B.jsx)(l().sA,{defaultMessage:"Click to move",id:"breadcrumb.moveTo.hasPermission.subtitle"})})]}),render:e=>(0,B.jsxs)(y().p,{size:"sm",disabled:!1,onClick:p,ref:c,...e,children:[(0,B.jsx)(Ve().I,{icon:Le().lockFillIcon,size:"sm",colorVariant:"tertiary"}),(0,B.jsx)("span",{style:{color:Ne().Tj.text.tertiary,marginInlineStart:4,marginInlineEnd:5},children:(0,B.jsx)(l().sA,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})}),(0,B.jsx)(Ve().I,{icon:Ue().arrowChevronSingleDownFillIcon,size:11,colorVariant:"tertiary"})]})}):null}function $e(){const e=(0,s().IS)((()=>({item:{opacity:1,textDecoration:"none",padding:"4px 8px",borderRadius:6,flexShrink:0}})),[]);return(0,B.jsx)("div",{style:e.item,children:(0,B.jsx)(l().sA,{id:"breadcrumb.notionAi",defaultMessage:"Notion AI"})})}var Qe=()=>r(383814);function Je(){const e=(0,o().v3)(),t=(0,a().K8)((()=>(0,Qe().G)(e)),[e]);return(0,a().K8)((()=>{if(!t)return!1;const r=e.currentUser.id;return t.getPermissionItems().every((e=>(0,Oe().B2)(e)&&r===e.user_id))}),[e.currentUser.id,t])?(0,B.jsx)(ze().m,{placement:"right",renderTooltip:e=>(0,B.jsx)("div",{children:(0,B.jsx)("div",{children:(0,B.jsx)(l().sA,{defaultMessage:"Only you have access",id:"breadcrumb.private.hasPermission.title"})})}),render:e=>(0,B.jsxs)(y().p,{size:"sm",disabled:!0,...e,children:[(0,B.jsx)(Ve().I,{icon:Le().lockFillIcon,size:"sm",colorVariant:"tertiary"}),(0,B.jsx)("span",{style:{color:Ne().Tj.text.tertiary,marginInlineStart:4,marginInlineEnd:5},children:(0,B.jsx)(l().sA,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})})]})}):null}function Xe(){const e=(0,s().IS)((()=>({item:{cursor:"pointer",opacity:1,textDecoration:"none",padding:"4px 8px",borderRadius:6,flexShrink:0}})),[]);return(0,B.jsx)(he().Q,{href:"/__workers__",style:e.item,children:(0,B.jsx)(l().sA,{id:"breadcrumb.workers",defaultMessage:"Workers"})})}const Ye=6;const Ze=function(e){const{ancestorMaxWidth:t,maxAncestorCount:u,currentPageMaxWidth:p,showCurrentPageControls:g,style:f,route:h,config:v}=e,x=(0,n.useRef)(null),b=(0,o().v3)(),S=m(h),w=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:r(115512).vQ,...f},agentBadge:{flexShrink:0,marginInlineStart:4,marginInlineEnd:4},enforceMaxLength:{maxWidth:"100%"},workerCrumb:{padding:"4px 8px",borderRadius:6,maxWidth:p,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),[p,f]),y=(0,l().tz)(),j="worker"===h.name?h.workerId:void 0,{worker:k,isLoading:I}=(0,r(752135).ry)(j),A=(0,a().K8)((()=>{var e;return Boolean(null==S||null===(e=S.getTitleStore())||void 0===e?void 0:e.isReady())}),[S]),{spaceStore:C,spaceViewStore:M}=(0,a().K8)((()=>{const e=(0,r(135168).f)(S);if(!e)return{spaceStore:void 0,spaceViewStore:void 0};return{spaceStore:e,spaceViewStore:(0,r(111379).k)(e.id)}}),[S]),T=(0,a().K8)((()=>{let e;return M&&M.isReady()&&(e=(0,d().x$)(M)),e}),[M]),P=(0,a().K8)((()=>(null==S?void 0:S.isPersonProfile())??!1),[S]),D=(0,a().K8)((()=>S&&!(0,d().lU)(S)&&!P&&g&&S.isReady()),[g,S,P]),_=(0,r(359941).V)({spaceStore:C}),E=!P||_,K=(0,a().K8)((()=>{var e;return b.device.isPhone||(null===(e=b.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone())}),[b]),R=(0,a().K8)((()=>{var e;if(!S)return!1;if((0,r(725951).x3)(b))return!1;const t=r(578872).GN(S),n=b.RouterStore.state.route;return!(!(0,r(651784).bh)(n)||(null==t?void 0:t.id)!==S.id)||(null==t||null===(e=t.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.hideBreadcrumbs)}),[b,S]),V=(0,a().K8)((()=>i().default.getConfig({configName:"custom_agent_rollout_badge"})),[]);if(R)return null;const z=function(e){return"ai"===e.name?{type:"agents"}:"agent"===e.name?e.workflowViewType?{type:"agent-settings"}:e.agentChatThreadId&&"new"!==e.agentChatThreadId?{type:"agent-thread"}:{type:"agent"}:null}(h);if(z&&function(e){return"agent"===e.name}(h)){if(!v)throw new Error("config is required");return(0,B.jsxs)("div",{style:w.container,children:[(0,B.jsx)(W,{route:h}),"none"===V.badge_type?void 0:(0,B.jsx)("div",{style:w.agentBadge,children:(0,B.jsx)(c().A,{badgeConfig:V})}),"agent-thread"===z.type?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(X().f,{}),(0,B.jsx)(L,{route:h,config:v})]}):void 0,(0,B.jsx)(Je,{})]})}if(z&&"ai"===h.name)return(0,B.jsx)("div",{style:w.container,children:(0,B.jsx)($e,{})});if("workers"===h.name)return(0,B.jsx)("div",{style:w.container,children:(0,B.jsx)(Xe,{})});if("worker"===h.name){const e=I?y.formatMessage({id:"workers.detail.loadingLabel",defaultMessage:"Loading..."}):(null==k?void 0:k.name)??y.formatMessage({id:"workers.detail.unknown",defaultMessage:"Unknown worker"});return(0,B.jsxs)("div",{style:w.container,children:[(0,B.jsx)(Xe,{}),(0,B.jsx)(X().f,{}),(0,B.jsx)("div",{style:w.workerCrumb,children:e})]})}if(!S)return null;if(!A)return null;const U=Boolean(e.disabled);return K?(0,B.jsx)("div",{style:{...w.container,...w.enforceMaxLength},className:"notranslate",children:(0,B.jsx)(Ee,{route:h,ancestorMaxWidth:t,marginLeft:Ye,disabled:U})}):(0,B.jsxs)("div",{style:w.container,className:"notranslate shadow-cursor-breadcrumb",children:[E?(0,B.jsx)(xe,{ancestorMaxWidth:t,maxAncestorCount:u,homeStore:T,route:h,disabled:U}):void 0,D?(0,B.jsx)(We,{currentPageMaxWidth:p,currentPageRef:x,ref:x,route:h,marginLeft:Ye,disabled:U}):(0,B.jsx)(_e,{ancestorMaxWidth:t,currentPageRef:x,route:h,marginLeft:Ye,disabled:U}),(0,B.jsx)(qe,{route:h})]})}},436525:(e,t,r)=>{r.d(t,{D:()=>u});var n=r(296540),i=()=>r(59226),o=()=>r(484714),a=()=>r(79926),s=()=>r(562984),l=()=>r(742734),d=()=>r(141465),c=r(474848);function u({userStore:e,suppressMouse:t,children:r,spaceStore:u}){const p=(0,n.useRef)(null),g=(0,l().E)({spaceStore:u,viewedUserId:null==e?void 0:e.id}),f=(0,i().X)("prefetch_extended_user_profiles"),h=g&&f,m=(0,a().fJ)(s().u.extendedUserProfileActions,{disabled:!h}),v=(0,o().v3)();(0,n.useEffect)((()=>{h&&"resolved"===m.status&&null!=e&&e.id&&u&&null!=u&&u.userId&&m.value.prefetchExtendedUserProfiles({spaceStore:u,actorUserId:u.userId,viewedUserIds:[e.id]},v)}),[h,null==e?void 0:e.id,u,g,v,m]);const x=(0,n.useCallback)((()=>{p.current&&e&&u&&!t&&d().A.setState({type:"user",store:e,domRect:p.current.getBoundingClientRect(),spaceStore:u})}),[e,u,t]),b=(0,n.useCallback)((()=>{d().A.setState(void 0)}),[]);return e&&g?(0,c.jsx)("div",{ref:p,onMouseEnter:g?x:void 0,onMouseLeave:g?b:void 0,children:r}):r}},453697:(e,t,r)=>{r.d(t,{A:()=>p,n:()=>u});var n=r(296540),i=()=>r(590526),o=()=>r(401497),a=()=>r(849255),s=()=>r(807449),l=()=>r(798880),d=()=>r(100622),c=r(474848);function u(e){return(0,o().IS)((()=>({tooltipTextStyle:{color:d().Tj.text.inverseSecondary},tooltipAvatarContainer:{display:"flex",alignItems:"center",marginInlineEnd:8},tooltipContainer:{display:"flex",flexDirection:"row",padding:"4px 6px",alignItems:"center",...e},tooltipUserInfoContainer:{overflow:"hidden",textOverflow:"ellipsis"}})),[e])}const p=function(e){const{hasTooltip:t,showAvatarInTooltip:p,tooltipHeader:g,style:f,iconStyle:h,isOffline:m,borderStyle:v,avatarShouldShowShadow:x,initialOverrideStyle:b,tooltipOverrideStyle:S,userValue:w,userStore:y,avatar:j,type:k="avatar",delayThreshold:I,hasPersonHoverCard:A,avatarOutlineOffset:C}=e,M=(0,r(69708).tz)(),T=(0,i().O$)(r(907258).AppStoreSidebarSpaceStore),P=(0,r(792485).S)(),B=(0,i().K8)((()=>(0,r(876338).$)(P)??T),[P,T]),D=e.size??18,{initialStyle:W,avatarWrapStyle:_,avatarStyle:E,proxiedImageStyle:K,suspendedUserStyle:R}=(0,o().IS)((()=>({initialStyle:{boxSizing:"content-box",borderRadius:"100%",lineHeight:`${D}px`,width:D,height:D,overflow:"hidden",textAlign:"center",fontSize:Math.max(.4375*D,11),background:d().Tj.popoverBackground,userSelect:"none",WebkitUserSelect:"none",color:d().Tj.icon.secondary,opacity:m?.3:1,isolation:"auto",...h,...b},avatarWrapStyle:{background:d().Tj.background.primary,borderRadius:"100%",boxShadow:x?d().Tj.avatarBoxShadow:"none",outlineWidth:1,outlineStyle:v??"solid",outlineColor:d().Tj.border.secondaryTranslucent,outlineOffset:C??-1,...h},avatarStyle:{borderRadius:"100%",width:D,height:D,display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none",opacity:m?.3:1,...h},proxiedImageStyle:{width:D,height:D,...h},suspendedUserStyle:{boxSizing:"content-box",borderRadius:"100%",width:D-2,height:D-2,overflow:"hidden",background:d().Tj.suspendedUIUserAvatarBackground,userSelect:"none",WebkitUserSelect:"none",color:d().Tj.text.primary,opacity:m?.3:1,display:"flex",justifyContent:"center",alignItems:"center",...h}})),[b,x,v,m,D,h,C]),{tooltipTextStyle:V,tooltipAvatarContainer:z,tooltipContainer:U,tooltipUserInfoContainer:L}=u(S),O=(0,n.useMemo)((()=>y??(w?r(792071).Bj6.fromValue(l().oo,w):void 0)),[y,w]),N=(0,n.useMemo)((()=>O instanceof a().L?O:B&&O?a().L.createChildStore(B,{id:O.id,table:l().oo}):void 0),[O,B]),F=(0,i().K8)((()=>null==O?void 0:O.getFullName(M)),[O,M]),H=(0,i().K8)((()=>null==O?void 0:O.getDisplayName(M)),[O,M]),G=(0,i().K8)((()=>null==O?void 0:O.getEmail()),[O]),q=(0,i().K8)((()=>null==O?void 0:O.getProfilePhoto()),[O]),$=(0,i().K8)((()=>null==O?void 0:O.getIsSuspended()),[O]),Q=(0,r(742734).E)({spaceStore:B,viewedUserId:null==O?void 0:O.id})&&A,J=()=>e.defaultAvatar??(0,c.jsx)(s().I,{icon:r(360576).personFillSmallIcon,size:"sm",colorVariant:"primary"}),X=(e,t,n)=>{if(!e)return J();const i={width:"100%",height:"100%",borderRadius:"100%",...n};return(0,c.jsx)(r(738471).A,{alt:t,src:e,enableLoadingShimmer:!0,style:i,placeholderStyle:i})},Y=e=>(0,c.jsxs)("div",{style:U,children:[(0,c.jsx)("div",{style:z,children:te()}),(0,c.jsxs)("div",{style:L,children:[O?H:null==j?void 0:j.name,e?void 0:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),O?(0,c.jsx)("span",{style:V,children:G}):null!=j&&j.email?(0,c.jsx)("span",{style:V,children:null==j?void 0:j.email}):null]})]})]}),Z=()=>p?Y():(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:g}),H,(0,c.jsx)("br",{}),O?(0,c.jsx)("span",{style:V,children:G}):void 0]}),ee=e=>{const t=r(634201).PE(e)[0].toUpperCase();return(0,c.jsx)("div",{style:_,children:(0,c.jsx)("div",{style:W,children:(0,c.jsx)("div",{children:t})})})},te=()=>{if(O){if($)return(0,c.jsx)("div",{style:_,children:(0,c.jsx)("div",{style:R,children:(0,c.jsx)(s().I,{icon:r(947086).personSlashIcon,size:D-2,colorVariant:"tertiary"})})});if(q)return(0,c.jsx)("div",{style:E,children:(0,c.jsx)(r(360083).A,{stripGoogleIconQuery:!0,url:q,isAuthenticated:!1,width:Math.max(Number(K.width),120),render:(e,t)=>X(t,F,_)})});if(F)return ee(F);if(G)return ee(G)}else if(j){if(!j.type&&j.avatarUrl)return(0,c.jsx)("div",{style:_,children:(0,c.jsx)("div",{style:E,children:X(j.avatarUrl,j.name)})});if(j.name)return ee(j.name);if(j.email)return ee(j.email)}return J()};switch(k){case"avatar":{const e=(0,c.jsx)("div",{style:f,children:te()});return Q&&N&&B?(0,c.jsx)(r(436525).D,{userStore:N,spaceStore:B,children:e}):t?(0,c.jsx)(r(26697).m,{renderTooltip:Z,placement:"bottom",alignment:"start",delayThreshold:I,render:t=>(0,c.jsx)("div",{style:f,"aria-label":H,...t,children:e})}):e}case"avatar-name":case"avatar-name-email":return Y("avatar-name"===k);default:(0,r(534177).HB)(k)}}},562984:(e,t,r)=>{r.d(t,{i:()=>o,u:()=>i});var n=()=>r(79926);const i={PersonProfileContainer:new(n().O2)("PersonProfileContainer",(()=>Promise.all([r.e(75134),r.e(32370),r.e(26264),r.e(69785),r.e(29357),r.e(22585),r.e(41751),r.e(17680),r.e(95576),r.e(77093),r.e(23730),r.e(44632)]).then(r.bind(r,635686)))),extendedUserProfileActions:new(n().O2)("extendedUserProfileActions",(()=>r.e(63717).then(r.bind(r,260513))))},o=(0,n()._h)(i.PersonProfileContainer,(e=>e.PersonProfileContainer))},626466:(e,t,r)=>{r.r(t),r.d(t,{arrowChevronSingleDownFillIcon:()=>i,iconDefinition:()=>n});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.72 6.72 12.56 7.16",svg:(0,r(474848).jsx)("path",{d:"M9.38 13.619a.875.875 0 0 0 1.238 0l5.4-5.4a.875.875 0 0 0-1.237-1.238L10 11.763 5.218 6.98a.875.875 0 1 0-1.237 1.24z"})},i=(0,r(340498).wt)("arrowChevronSingleDownFill",n,"fill")},742734:(e,t,r)=>{r.d(t,{E:()=>a});var n=()=>r(230711),i=()=>r(590526),o=()=>r(304228);function a(e){const{spaceStore:t,viewedUserId:r}=e,a=(0,n().nB)(t),s=(0,n().V_)({spaceStore:t,userId:r});return(0,i().K8)((()=>(0,o().V)({spaceStore:t,actorRole:a,viewedRole:s})),[t,a,s])}},752135:(e,t,r)=>{r.d(t,{ry:()=>p,xG:()=>g,z4:()=>u});r(16280),r(898992),r(672577),r(964979);var n=r(296540),i=()=>r(920198),o=()=>r(484714),a=()=>r(247584),s=()=>r(128933),l=()=>r(165358),d=()=>r(69708),c=()=>r(753812);function u(){const e=(0,d().tz)(),t=(0,o().v3)(),[r,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)([]),f=(0,n.useRef)(null),h=(0,n.useRef)(!1),m=r&&!h.current,v=(0,i().L)(),x=(0,n.useCallback)((async r=>{var n;null===(n=f.current)||void 0===n||n.abort(),f.current=null,u(!0);const i=null==v?void 0:v.id;if(i)try{f.current=new AbortController;const n=await c().callApi({eventName:"getWorkers",environment:t,data:{spaceId:i},abortSignal:f.current.signal});if("success"===n.type){h.current=!0;const e=n.data.workers;g(e)}else if(null==r||!r.silent){s().D6({label:e.formatMessage({id:"workers.form.getWorkersFailed",defaultMessage:"Failed to get workers"})});const r=(0,a().V4)(n);l().log({level:"error",from:"useListWorkers",type:"",data:{message:"Unexpected error fetching workers",miscDataToConvertToString:{response:n,errorMessage:r,userId:t.currentUser.id,spaceId:i}}})}}finally{u(!1)}}),[t,e,null==v?void 0:v.id]);return(0,n.useEffect)((()=>(x(),()=>{var e;null===(e=f.current)||void 0===e||e.abort()})),[x]),{workers:p,isLoading:m,refresh:x}}function p(e){const t=(0,d().tz)(),r=(0,o().v3)(),u=(0,i().L)(),p=(0,n.useRef)(null),[g,f]=(0,n.useState)(void 0),[h,m]=(0,n.useState)(!1),v=(0,n.useCallback)((async()=>{var n;const i=null==u?void 0:u.id;if(i&&e){null===(n=p.current)||void 0===n||n.abort(),p.current=null,m(!0);try{p.current=new AbortController;const n=await c().callApi({eventName:"getWorkers",environment:r,data:{spaceId:i},abortSignal:p.current.signal});if("success"===n.type){const t=n.data.workers.find((t=>t.workerId===e));f(t)}else{s().D6({label:t.formatMessage({id:"workers.form.getWorkersFailed",defaultMessage:"Failed to get workers"})});const o=(0,a().V4)(n);l().log({level:"error",from:"useWorkerDetail",type:"",data:{message:"Unexpected error fetching worker",miscDataToConvertToString:{response:n,errorMessage:o,userId:r.currentUser.id,spaceId:i,workerId:e}}})}}catch(o){if(o instanceof DOMException&&"AbortError"===o.name)return;s().D6({label:t.formatMessage({id:"workers.form.getWorkersFailed",defaultMessage:"Failed to get workers"})}),l().log({level:"error",from:"useWorkerDetail",type:"",data:{message:"Error fetching worker",miscDataToConvertToString:{error:o,userId:r.currentUser.id,spaceId:i,workerId:e}}})}finally{m(!1)}}else f(void 0)}),[r,t,null==u?void 0:u.id,e]);return(0,n.useEffect)((()=>(v(),()=>{var e;null===(e=p.current)||void 0===e||e.abort()})),[v]),{worker:g,isLoading:h,refresh:v}}function g(e){const t=(0,d().tz)(),r=(0,o().v3)(),u=(0,i().L)();return{deleteWorker:(0,n.useCallback)((async n=>{const i=null==u?void 0:u.id;if(i)try{const o=await c().callApi({eventName:"deleteWorker",environment:r,data:{spaceId:i,workerId:n}});if("success"===o.type)s().D6({label:t.formatMessage({id:"workers.deleteWorker.success",defaultMessage:"Worker deleted successfully"})}),e&&await e();else{s().D6({label:t.formatMessage({id:"workers.deleteWorker.failed",defaultMessage:"Failed to delete worker"})});const e=(0,a().V4)(o);l().log({level:"error",from:"useDeleteWorker",type:"",data:{message:"Unexpected error deleting worker",miscDataToConvertToString:{response:o,errorMessage:e,userId:r.currentUser.id,spaceId:i,workerId:n}}})}}catch(o){s().D6({label:t.formatMessage({id:"workers.deleteWorker.failed",defaultMessage:"Failed to delete worker"})}),l().log({level:"error",from:"useDeleteWorker",type:"",data:{message:"Error deleting worker",miscDataToConvertToString:{error:o,userId:r.currentUser.id,spaceId:i,workerId:n}}})}}),[r,t,null==u?void 0:u.id,e])}}},864040:(e,t,r)=>{r.d(t,{A:()=>s});r(581454),r(296540);var n=()=>r(584262),i=()=>r(211716),o=()=>r(535960),a=r(474848);const s=function(e,t,s){return[{key:"results",render:e=>(0,a.jsx)(r(736847).A,{...e}),items:t.map(((t,l)=>({key:t.id,render:e=>(0,a.jsx)(r(305390).A,{...e,isSubpage:0!==l,store:t,hidePath:!0}),action:({event:a})=>{const l=(0,r(381175).V)(a);if(t instanceof r(295633).B)s&&s({pageId:t.id,collectionId:void 0}),(0,o().u)({environment:e,store:t,openInNew:l,visitType:i().ig.Link,pageVisitSource:n().y8.Breadcrumb});else if(t instanceof r(732810).m){const a=t.getParentCollectionViewBlockStore();if(!a)return;s&&s({pageId:a.id,collectionId:t.id});const d=(0,r(297175).V5)(a,t);(0,o().u)({environment:e,store:a,collectionViewId:null==d?void 0:d.id,openInNew:l,visitType:i().ig.Link,pageVisitSource:n().y8.Breadcrumb})}else if(t instanceof r(350013).N){const n=(0,r(496703).L)({workflowId:t.id,params:{workflowViewType:"chat"}});(0,r(246766).navigate)({environment:e,url:n,openInNew:l})}}})))}]}},947086:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>n,personSlashIcon:()=>i});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.31 2.31 14.13 16.25",svg:(0,r(474848).jsx)("path",{d:"M3.53 2.463a.626.626 0 0 1 .882.067l.032.038q.008.013.018.025l12.687 14.875q.089.101.203.156a.625.625 0 0 1-1.014.72l-.928-1.08a2.4 2.4 0 0 1-1.26.362h-8.3c-.68 0-1.328-.288-1.74-.768-.43-.501-.591-1.217-.23-1.923C4.899 12.945 7.3 11.63 10 11.63q.3 0 .593.021l-1.001-1.166a3.28 3.28 0 0 1-2.267-1.22c-.536-.669-.825-1.532-.886-2.453L3.463 3.345a.626.626 0 0 1 .067-.882M10 12.88c-2.335 0-4.245 1.138-5.007 2.625-.104.203-.071.379.066.54.157.182.449.33.79.33h8.301c.155 0 .3-.032.426-.082l-2.707-3.154a6.8 6.8 0 0 0-1.87-.26M10 2.375c1.137 0 2.055.469 2.675 1.241.607.757.899 1.766.9 2.824 0 1.058-.292 2.067-.9 2.825q-.213.263-.472.477l-.811-.951q.168-.138.307-.309c.392-.487.625-1.2.625-2.042S12.09 4.887 11.7 4.4c-.38-.473-.936-.775-1.7-.775-.762 0-1.32.302-1.7.774a2.4 2.4 0 0 0-.278.44l-.857-1.004q.076-.113.161-.219c.62-.772 1.538-1.241 2.675-1.241"})},i=(0,r(340498).wt)("personSlash",n,"default")}}]);