"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[14310,46794],{1591:(e,t,r)=>{r.d(t,{Ay:()=>v,XD:()=>b,c$:()=>f});r(18107),r(944114),r(967357);var n=r.n(r(625473)),o=()=>r(534177),i=()=>r(416845),a=()=>r(201980),s=()=>r(673337),l=()=>r(91913),c=()=>r(187534),d=()=>r(425877),u=()=>r(908948),p=()=>r(519664),m=()=>r(933449);function f(e){return e instanceof d().mc||e instanceof d().of}function _(e){return e instanceof d().fn||e instanceof d().of}function y(e){return e instanceof d().pC}function g(e){return"EndItem"!==e.className}function b(e){return"end"!==e}class v{constructor(e,t,r,n){this.textInstanceId=void 0,this.searchLabel=void 0,this.opClock=void 0,this.startItem=void 0,this.endItem=void 0,this.visibleCount=void 0,this.indexToOpIdMap=void 0,this.textInstanceId=e,this.searchLabel=n,this.opClock=t,this.startItem=r;const o=u().W(r);this.endItem=(0,m().Wg)(o,_,l().sF,{from:"constructor",textInstanceId:e,searchLabel:this.searchLabel,endItemType:null==o?void 0:o.className}),(0,m().MX)(this.startItem!==this.endItem,"Text slice must not be empty"),this.visibleCount=u().Gf(r)}rebuildIndexToOpIdMap(){this.indexToOpIdMap=[];for(const e of this.iterateItems({includeDeleted:!1})){if(!(e instanceof d().pC))continue;const[t,r]=e.id,n=e.getLength();for(let e=0;e<n;e++)this.indexToOpIdMap.push([t,r+e])}(0,m().MX)(this.indexToOpIdMap.length===this.visibleCount,"indexToOpIdMap length must match visible count",{indexToOpIdMapLength:this.indexToOpIdMap.length,visibleCount:this.visibleCount})}getSearchLabel(){return this.searchLabel}setSearchLabel(e){(0,m().MX)(!1,"setSearchLabel is for testing only"),this.searchLabel=e}getStartItem(){return this.startItem}getEndItem(){return this.endItem}getVisibleCount(){return this.visibleCount}applyInsertTextOperation({op:e,originPresentInTextSlice:t=!0,enforceMonotonicInsertTextOperations:r=!1,logger:n}){(0,m().MX)(!a().bJT(e.content),"TextItem must not contain disallowed characters");const o=d().pC.create(e.id,e.originId,e.content);return this.integrateItem({newItem:o,originItemOverride:t?void 0:this.startItem,enforceMonotonicInsertTextOperations:r,logger:n}),this.opClock.maybeUpdateClock((0,p().b)(e)),this.validateContent(),!0}backfillDeletedTextItem(e,t,r,n,o){const i=d().pC.createDeleted(e,t,r);this.integrateItem({newItem:i,originItemOverride:n?void 0:this.startItem,logger:o}),this.opClock.maybeUpdateClock((0,p().H)(e,r))}applyDeleteTextOperation(e){let t=!1;for(const r of e.idRanges)for(const e of this.getTextItemsInIdRange(r))e.isDeleted()||(e.setDeleted(),this.visibleCount-=e.getLength(),t=!0,e.prev instanceof d().pC&&e.prev.maybeMergeWithNext(),e.maybeMergeWithNext());return t&&(this.indexToOpIdMap=void 0,this.validateContent()),t}applySplitTextOperation({op:e,originPresentInTextSlice:t,logger:r}){const n=new(d().of)(e.id,e.originId);return this.integrateItem({newItem:n,originItemOverride:t?void 0:this.startItem,logger:r}),this.opClock.maybeUpdateClock((0,p().b)(e)),!0}findInsertionPoint(e,t){let r=t;for(;r.next&&!((0,c()._3)(e,r.next.id)>0);)r=(0,m().Wg)(r.next,g,l().M2);return r}integrateItem({newItem:e,originItemOverride:t,enforceMonotonicInsertTextOperations:r=!1,logger:n}){this.verifyDoesNotContainOpId({type:e instanceof d().pC?"text":"split",id:e.id,originId:e.originId,enforceMonotonicInsertTextOperations:r,logger:n}),(0,m().MX)(1===(0,c()._3)(e.id,e.originId),"new item ID must be strictly greater than its origin ID",{newItemId:e.id,newItemOriginId:e.originId});const o=t??(0,m().o9)(this.getItemEndingWithId(e.originId),l().QS),i=(0,m().Wg)(o,g,l().rQ),a=this.findInsertionPoint(e.id,i),s=a.next;if(a.next=e,e.prev=a,s&&(e.next=s,s.prev=e),e instanceof d().pC&&(this.visibleCount+=e.getLength()),e instanceof d().of){this.validateNotEndingWithHighSurrogate(a,"Cannot split content between a surrogate pair");const t=this.getPrecedingAnnotationOpSet({id:e.id,anchor:"before"});t&&e.maybeCreateAnnotationOpSetForAnchor("before",{opSet:t})}a instanceof d().pC&&a.maybeMergeWithNext(),this.indexToOpIdMap=void 0}validateContent(){(0,m().MX)(!a().dCO(this.getText()),"Content must not contain unpaired surrogates")}validateNotEndingWithHighSurrogate(e,t){if(!(e instanceof d().pC)||e.isDeleted())return;const r=e.getDefinedContent().at(-1);r&&(0,m().MX)("high"!==a().lSC(r),t)}applyAnnotationOperation({op:e,logger:t}){this.verifyDoesNotContainOpId({type:"annotationOp",id:e.id,annotationOp:e,enforceMonotonicInsertTextOperations:!1,logger:t});const r=(0,m().o9)("before"===e.start.anchor?this.getItemStartingWithId(e.start.id):this.getItemEndingWithId(e.start.id),l().QS),n=(0,m().o9)("before"===e.end.anchor?this.getItemStartingWithId(e.end.id,{includeEndItem:!0}):this.getItemEndingWithId(e.end.id,{includeEndItem:!0}),l().QS);let o=this.getPrecedingAnnotationOpSet(e.start);r.maybeCreateAnnotationOpSetForAnchor(e.start.anchor,{opSet:o});const i=this.iterateItemAnnotationOpSets({direction:"forward",from:e.start,to:e.end,includeSplitCharacters:!0});for(const{item:a,anchor:s}of i){a instanceof d().of&&a.maybeCreateAnnotationOpSetForAnchor(s,{opSet:o});const t=(0,m().o9)(a.getAnnotationOpSetForAnchor(s),"Annotation op set must exist for item annotation");o=t.clone(),t.add(e)}return n.maybeCreateAnnotationOpSetForAnchor(e.end.anchor,{opSet:o}),this.opClock.maybeUpdateClock((0,p().b)(e)),!0}getPrecedingAnnotationOpSet(e){const t=this.iterateItemAnnotationOpSets({direction:"backward",from:e});for(const{annotationOpSet:r}of t)return(0,m().o9)(r,"Annotation op set must exist for item annotation")}getActiveAnnotationsAfterId(e){const t=(0,m().o9)(this.getItemContainingId(e),l().QS),r=t.endsWithId(e)?{anchor:"after",id:e}:{anchor:"before",id:t instanceof d().pC?t.getStartId():t.id},n=this.getPrecedingAnnotationOpSet(r);return n?n.getActiveAnnotations():new Map}*iterateItems(e){yield*u().fe(this.startItem,e)}*iterateItemAnnotationOpSets(e){const{direction:t,from:r,includeSplitCharacters:n,to:i}=e;let a=(0,m().o9)(this.getItemContainingId(r.id),l().QS);(0,m().MX)("before"===r.anchor?a.startsWithId(r.id):a.endsWithId(r.id),"Expected item to use 'from' ID",{fromAnchor:r.anchor});let s=r.anchor;for(;a;){if(i&&a.containsId(i.id)&&s===i.anchor)return void(0,m().MX)("before"===i.anchor?a.startsWithId(i.id):a.endsWithId(i.id),"Expected item to use 'to' ID",{toAnchor:i.anchor});const e=a.getAnnotationOpSetForAnchor(s);switch(e?yield{item:a,anchor:s,annotationOpSet:e}:n&&a instanceof d().of&&("forward"===t&&"before"===s||"backward"===t&&"after"===s)&&(yield{item:a,anchor:s,annotationOpSet:void 0}),t){case"forward":a="before"===s?a:a.next,s="before"===s?"after":"before";break;case"backward":a="after"===s?a:a.prev,s="after"===s?"before":"after";break;default:(0,o().HB)(t)}}}getItemStartingWithId(e,t){return this.getItemContainingId(e,{...t,shouldStartWithId:!0})}getItemEndingWithId(e,t){return this.getItemContainingId(e,{...t,shouldEndWithId:!0})}containsItemWithId(e,t){return Boolean(this.getItemContainingId(e,t))}getItemContainingId(e,t){const r=this.iterateItems({includeDeleted:!0,includeEndItem:null==t?void 0:t.includeEndItem});for(const n of r){if(!n.containsId(e))continue;if(!(n instanceof d().pC))return n;if("start"===e||"end"===e)continue;let r=n;return null!=t&&t.shouldStartWithId&&!r.startsWithId(e)&&(r=r.splitBeforeId(e)),null!=t&&t.shouldEndWithId&&!r.endsWithId(e)&&r.splitAfterId(e),r}}getTextItem(e){const t=this.getItemContainingId(e,{shouldStartWithId:!0});return t instanceof d().pC?t:void 0}getTextItemsInIdRange(e){const[t,n]=e,[o,i]=t,a=[o,i+n-1],s=[],l=this.iterateItems({includeDeleted:!0});for(const r of l)!(r instanceof d().pC)||r.getStartId()[0]!==o||(0,c().zk)(a,r.getStartId())<0||(0,c().zk)(r.getEndId(),t)<0||s.push(r);if(0===s.length)return[];r(496603).Ul(s,(e=>e.getStartId()[1]));const u=s[0];if((0,c().zk)(u.getStartId(),t)<0){const e=u.splitBeforeId(t);s[0]=e}const p=s[s.length-1];return(0,c().zk)(a,p.getEndId())<0&&p.splitAfterId(a),s}getIndexOfTextItem(e){let t=0;for(const r of this.iterateItems({includeDeleted:!0}))if(r instanceof d().pC){if(r.containsId(e)){if(r.isDeleted())return{type:"deleted",nextVisibleIndex:t};return{type:"visible",index:t+(e[1]-r.id[1])}}r.isDeleted()||(t+=r.getLength())}}getItemIdsInRange(e,t){void 0===this.indexToOpIdMap&&this.rebuildIndexToOpIdMap();const r=(0,m().o9)(this.indexToOpIdMap,"Index to OpID map not built");(0,m().MX)(0<=e&&e<=t,"Start index must be between 0 and end index"),(0,m().MX)(t<this.visibleCount,"End index must be less than visible count");const n=[];let o=e;for(;o<=t;){const e=r[o],[i,a]=e;let s=1,l=o+1;for(;l<=t&&r[l][0]===i&&r[l][1]===a+s;)s++,l++;n.push([e,s]),o=l}return n}getItemIdAtIndex(e){void 0===this.indexToOpIdMap&&this.rebuildIndexToOpIdMap();const t=(0,m().o9)(this.indexToOpIdMap,"Index to OpID map not built");return(0,m().MX)(0<=e&&e<t.length,"getItemIdAtIndex index is out of bounds for indexToOpIdMap",{index:e,length:t.length}),t[e]}getItemIdBeforeIndex(e){const t=this.getItemIdAtIndex(e),r=(0,m().o9)(this.getItemContainingId(t),l().QS),n=(0,m().Wg)(r,y,l().$5);if(!n.startsWithId(t))return[t[0],t[1]-1];const o=(0,m().o9)(n.prev,"Text item must have previous item");return o instanceof d().pC?o.getEndId():o.id}getItemIdAfterIndex(e){const t=this.getItemIdAtIndex(e);return this.getItemIdAfterItem(t)}getItemIdAfterItem(e){if("start"===e){const e=this.getStartItem();(0,m().oC)(e,d().mc,l().MJ);return(0,m().o9)(this.getStartItem().next,"Text slice must have at least one item other than start").id}const t=(0,m().o9)(this.getItemContainingId(e),"Text slice must contain text item");if(!t.endsWithId(e))return[e[0],e[1]+1];const r=(0,m().o9)(t.next,"Item must have next item");return r instanceof d().pC?r.getStartId():r.id}getOriginItemForInsertionIndex(e){let t;if((0,m().MX)(0<=e&&e<=this.visibleCount,"Index must be between 0 and visible count"),e===this.visibleCount)t=this.getEndItem();else{const r=this.getItemIdAtIndex(e),n=(0,m().o9)(this.getItemContainingId(r),l().QS),o=(0,m().Wg)(n,y,l().$5);if(!o.startsWithId(r))return{id:[r[0],r[1]-1],item:o};t=o}for(;t.prev;){const e=t.prev;if(e instanceof d().pC&&!e.isDeleted())return{id:e.getEndId(),item:e};if(e instanceof d().fn)throw new(i().QkH)("Previous item should not be an EndItem");if(e.getAnnotationOpSetForAnchor("after"))return e instanceof d().pC?{id:e.getEndId(),item:e}:{id:(0,m().Wg)(e.id,b,l().JW),item:e};t=t.prev}return{id:(0,m().Wg)((0,m().Wg)(t,f,l().JW).id,b,l().qP),item:t}}getPrevItemsForOriginId(e){const t=[];let r=this.getItemContainingId(e,{includeEndItem:!1});for(;r;){if(r instanceof d().fn)throw new(i().QkH)("originId of an item should never be the id of an end item");if(t.push(r.toPrevItem()),r instanceof d().mc||t.length>=100)break;r=this.getItemContainingId(r.originId,{includeEndItem:!1})}return t}getOriginItemIdForInsertionIndex(e){return this.getOriginItemForInsertionIndex(e).id}isLastOriginItemId(e){return(0,s().lS)(this.getOriginItemIdForInsertionIndex(this.visibleCount),e)}verifyDoesNotContainOpId(e){const t=this.containsOpId(e);if(t)switch(t){case"exists_likely_same":throw new(i().mh_)("Text slice already contains ID",{data:{id:e.id}});case"exists_same":throw new(i().AMh)("Text slice already contains ID",{data:{id:e.id}});case"exists_different":throw new(i().VHT)("Text slice already contains ID",{data:{id:e.id}});case"old_operation":throw new(i().IX4)("Operation is older than the latest operation that has been applied by the same session",{data:{id:e.id}});default:(0,o().HB)(t)}}containsOpId(e){const t=e.id[0],r=e.id[1];for(const a of this.iterateItems({includeDeleted:!0,includeEndItem:!0})){var n,o,i;if(a.containsId(e.id))return a instanceof d().pC&&"text"===e.type&&(a.startsWithId(e.id)&&(0,s().lS)(a.originId,e.originId)||!a.startsWithId(e.id)&&(0,s().lS)(e.originId,[e.id[0],e.id[1]-1]))?"exists_likely_same":a instanceof d().of&&"split"===e.type&&(0,s().lS)(a.originId,e.originId)?"exists_same":"exists_different";if("start"!==a.id&&"end"!==a.id&&t===a.id[0]&&r<a.id[1])if(null===(i=e.logger)||void 0===i||i.addTagsToCurrentSpan({"crdt.old_operation_error":!0,"crdt.operation_type":e.type}),e.enforceMonotonicInsertTextOperations)return"old_operation";const l=null===(n=a.getAnnotationOpSetForAnchor("before"))||void 0===n?void 0:n.containsOpId(e);if(l)return l;const c=null===(o=a.getAnnotationOpSetForAnchor("after"))||void 0===o?void 0:o.containsOpId(e);if(c)return c}return!1}getTextValue(){const e=[];let t;for(const o of this.iterateItems({includeDeleted:!0})){var r,n;t=(null===(r=o.getAnnotationOpSetForAnchor("before"))||void 0===r?void 0:r.getResolvedAnnotations())??t,o instanceof d().pC&&o.getLength()&&!o.isDeleted()&&(t?(t.length?e.push([o.getDefinedContent(),t]):e.push([o.getDefinedContent()]),t=void 0):e.length?(0,m().o9)(e.at(-1),"Text value must be non-empty")[0]+=o.getDefinedContent():e.push([o.getDefinedContent()])),t=(null===(n=o.getAnnotationOpSetForAnchor("after"))||void 0===n?void 0:n.getResolvedAnnotations())??t}return e}getText(){const e=[];for(const t of this.iterateItems())t instanceof d().pC&&e.push(t.getDefinedContent());return e.join("")}static isSliceKeyFromTextInstance(e,t){return e.startsWith(t)}getSliceStartKey(){return`${this.textInstanceId},${n()(this.startItem.id)}`}getSliceKey(){return`${this.textInstanceId},${n()(this.startItem.id)},${n()(this.endItem.id)}`}splitIntoSlices(){const e=u().r5(this.startItem),t=u().W(this.startItem);this.endItem=(0,m().Wg)(t,_,l().sF,{from:"splitIntoSlices",textInstanceId:this.textInstanceId,searchLabel:this.searchLabel,endItemType:null==t?void 0:t.className}),this.visibleCount=u().Gf(this.startItem),(0,m().MX)(this.startItem!==this.endItem,"Split text slice must not be empty");const r=[this];for(let n=1;n<e.length;n++)r.push(new v(this.textInstanceId,this.opClock,(0,m().Wg)(e[n],f,l().JW),this.searchLabel));return r}static updateSearchLabelAfterSplit(e){const{splitTextSlice:t,newTextSlice:n}=e,[o,i]=r(426234).lD(t.searchLabel);t.searchLabel=o,n.searchLabel=i}equals(e){if(this===e)return!0;if(this.textInstanceId!==e.textInstanceId)return!1;if(this.visibleCount!==e.visibleCount)return!1;if(this.searchLabel!==e.searchLabel)return!1;const t=[...this.iterateItems({includeDeleted:!0,includeEndItem:!0})],r=[...e.iterateItems({includeDeleted:!0,includeEndItem:!0})];if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){const e=r[n];if(!t[n].equals(e))return!1}return!0}isIdInsertableIntoSlice(e,t){if((0,c().yb)(e,this.endItem.id)>=0)return!0;let r;if(t){const e=(0,m().o9)(this.getItemEndingWithId(t),l().QS);r=(0,m().Wg)(e,g,l().qP)}else r=this.startItem;const n=this.findInsertionPoint(e,r);return this.endItem!==n}static createEmpty({textInstanceId:e,searchLabel:t}){const n=new(d().mc),o=new(d().fn);return n.next=o,o.prev=n,new v(e,new(r(274147).A),n,t)}}},7950:(e,t,r)=>{r.d(t,{A:()=>a});r(16280),r(18107),r(944114),r(967357);var n=r.n(r(625473)),o=()=>r(220719),i=()=>r(681373);class a{constructor(){this.maxEndIndex=0,this.annotationRanges=new(r(99895).G)((()=>[])),this.sorter=new(r(615771).A)}addOrderedAnnotationsInRange(e){const{annotationLists:t,startIndex:a,endIndex:s}=e;(0,o().MX)(a>=0,"Start index must be greater than or equal to 0"),(0,o().MX)(a<s,"End index must be greater than start index"),(0,o().MX)(a>=this.maxEndIndex,"Start of range should be greater than end of previously added ranges");const l=new(r(400017).A),c=[];try{for(const e of t)for(let t=0;t<e.length;t++){const r=e[t];if(this.sorter.hasNode(r)||(this.sorter.addNode(r),l.add(r)),t>0){const n=e[t-1];this.sorter.hasEdge(n,r)||(this.sorter.addEdge(n,r),c.push([n,r]))}}}catch(d){for(const[e,t]of c)this.sorter.removeEdge(e,t);for(const e of l)this.sorter.removeNode(e);throw new Error("A list of annotations caused a cycle")}for(const r of t)for(const e of r){const t=n()(e),r=this.annotationRanges.get(t),l=r.at(-1);!l||l.endIndex!==a||(0,i().iG)(e)||(0,i().gi)(e)?r.push({startIndex:a,endIndex:s}):(0,o().o9)(r.at(-1)).endIndex=s}this.maxEndIndex=s}getSortedAnnotationRanges(){const e=this.sorter.getSortedNodes(),t=[];for(const r of e){const e=n()(r),o=this.annotationRanges.get(e);for(const n of o)t.push({annotation:r,...n})}return t}}},9559:(e,t,r)=>{r.d(t,{W:()=>p});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);var n=()=>r(356246),o=()=>r(713998),i=()=>r(869190),a=()=>r(604995),s=()=>r(522419),l=()=>r(792071),c=()=>r(96330),d=()=>r(450648),u=()=>r(201980);function p(e){const{schema:t,property:r,block:n}=e,i=t[r];if(!i)return;const a=o().yQ(n,r);return(0,f[i.type])({textValue:a,propertySchema:i,...e})}function m(e){const{textValue:t,getRecordModel:r,collectionRequestContext:n}=e,{userTimeZone:o,intl:i}=n;return(0,d().r4)({textValue:t,getRecordModel:r,userTimeZone:o,intl:i})}const f={title:m,text:m,select:e=>{const{textValue:t,propertySchema:r}=e,n=r.options||[];return o().L3(t,n)},multi_select:e=>{const{textValue:t,propertySchema:r}=e,n=r.options||[],i=o().o2(t,n);return i.sort(),i.join(",")},status:e=>{const{textValue:t,propertySchema:r}=e;return o().RZ(t,r)},relation:({textValue:e,getRecordModel:t,propertySchema:n})=>{if("relation"!==n.type)return"";const i=o().bG({relationValue:o().n(e),getRecordModel:t,propertySchema:n,includeNoAccess:!1}).map((e=>`https://www.notion.so/${(0,r(498212).Xw)(e.id)}`));return i.sort(),i.join(", ")},rollup:e=>r(568063).I({...e,collectionRequestContext:{...e.collectionRequestContext,visitedProperties:new Set},formulasModule:e.formulasModule,spaceIdCreator:e.spaceIdCreator}),url:({textValue:e})=>o().MO(e),email:({textValue:e})=>(0,u().k4p)(e),phone_number:({textValue:e})=>(0,u().k4p)(e),checkbox:({textValue:e})=>(0,r(657970).w)(e)?n().I1:n().oP,person:e=>{const{textValue:t,getRecordModel:n,propertySchema:o,block:i,collectionRequestContext:a}=e,{intl:s}=a,c=l().Bj6.fromBlock(i),d=(0,r(363170).e)({textValue:t,propertySchema:o,blockCreatorPointer:c.getCreatedByPointer(),convertGroupPointersToBeComposite:!0}),u=r(496603).oE(d.map((e=>{if("space_permission_group"===e.table){const t=n(e);return(0,r(914462).n)({intl:s,permissionGroupModel:t})}const t=n(e);return null==t?void 0:t.getDisplayName(s)})));return u.sort(),u.join(",")},number:({textValue:e})=>{const t=r(302322).M(e);if(void 0!==t)return t.toString()},auto_increment_id:({textValue:e,block:t,getRecordModel:n})=>{const i=o().On(e);if(void 0!==i){const e=l().Bj6.fromBlock(t),o=e.getParentTable();if(o!==r(519831).Vl)return;const a=n((0,r(715913).a)({spaceId:e.getSpaceId(),parentTable:o,parentId:e.getParentId()}));return(0,r(716016).H4)(null==a?void 0:a.getRecordKey(),i)}},date:({textValue:e,propertySchema:t,collectionRequestContext:n})=>{const{userTimeZone:o,intl:a}=n,s=(0,r(187696).b)(e),{date_format:l,time_format:c}=t;if(s)return(0,i().ZF)({allowRelativeDates:!1,value:s,date_format:l,time_format:c,userTimeZone:o,intl:a})},file:e=>{const t=o().pJ(e.textValue).map((t=>{if(e.exportedFilePaths&&e.secureFileS3Url&&e.secureFileS3UrlV2&&s()._J(t.url)){const e=s().TV(t.url);if(e)return e}return t.url}));return t.sort(),t.join(",")},formula:e=>{const{property:t,schema:o,block:a,getRecordModel:s,collectionRequestContext:l,formulasModule:c,spaceIdCreator:u}=e,{userTimeZone:p,intl:m,depth:f,formulaTimeoutTimestampMs:_,logFormulaTimeoutFn:y,resultCache:g,regExpCache:b,formatDateCache:v,experimentService:h,collectionFeatureGates:A}=l,I=o[t];if(c){if("v2"===I.version){if(!I.formula2)return;const e=c.evaluateCollectionFormula2({block:a,property:t,formulaCode:I.formula2.code,getRecordModel:s,intl:m,userTimeZone:p,depth:f,visitedProperties:new Set,resultCache:g,regExpCache:b,formatDateCache:v,formulaTimeoutTimestampMs:_,logFormulaTimeoutFn:y,experimentService:h,collectionFeatureGates:A,spaceIdCreator:u});if(!e)return;const n=(0,r(239381).Ht)(e);return(0,d().r4)({textValue:n,getRecordModel:s,userTimeZone:p,intl:m})}{const e=c.evaluateFormulaProperty({schema:o,property:t,block:a,getRecordModel:s,collectionRequestContext:{...l,visitedProperties:new Set},spaceIdCreator:u});return"boolean"==typeof e?e?n().I1:n().oP:(0,r(720665).Et)(e)?e.toString():r(597777).kC(e)?(0,i().ZF)({allowRelativeDates:!1,value:e,userTimeZone:p,intl:m}):e}}},created_time:e=>{const{block:t,collectionRequestContext:r}=e,{userTimeZone:n,intl:o}=r,s=l().Bj6.fromBlock(t);if(s.getCreatedTime())return(0,i().ZF)({allowRelativeDates:!1,value:a().KQ(s.getCreatedTime(),n),userTimeZone:n,intl:o})},last_edited_time:e=>{const{block:t,collectionRequestContext:r}=e,{userTimeZone:n,intl:o}=r,s=l().Bj6.fromBlock(t);if(s.getLastEditedTime())return(0,i().ZF)({allowRelativeDates:!1,value:a().KQ(s.getLastEditedTime(),n),userTimeZone:n,intl:o})},created_by:e=>{const{block:t,getRecordModel:r,collectionRequestContext:n}=e,{intl:o}=n,i=t.getCreatedByPointer(),a=i&&r(i);return null==a?void 0:a.getDisplayName(o)},last_edited_by:e=>{const{block:t,getRecordModel:r,collectionRequestContext:n}=e,{intl:o}=n,i=t.getLastEditedByPointer(),a=i&&r(i);return null==a?void 0:a.getDisplayName(o)},place:e=>{const{textValue:t}=e,r=(0,c().eC)(t);return(0,c().X1)(r)},last_visited_time:()=>"",button:()=>"",location:()=>"",verification:()=>{}}},9904:(e,t,r)=>{r.d(t,{A:()=>o,h:()=>i});var n=()=>r(292588);const o="public_email_domain",i={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,domain:n().A.String},requiredColumns:{domain:!0}}},11356:(e,t,r)=>{r.d(t,{G:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.96 1.99 14.08 15.13",svg:(0,r(474848).jsx)("path",{d:"M7.3 1.995a.55.55 0 1 0 0 1.1h5.4a.55.55 0 0 0 0-1.1zm-2.35 2.8a.55.55 0 0 1 .55-.55h9a.55.55 0 0 1 0 1.1h-9a.55.55 0 0 1-.55-.55m-1.987 3.75c0-1.174.951-2.125 2.125-2.125h9.825c1.174 0 2.125.951 2.125 2.125v6.45a2.125 2.125 0 0 1-2.125 2.125H5.088a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v6.45c0 .483.392.875.875.875h9.825a.875.875 0 0 0 .875-.875v-6.45a.875.875 0 0 0-.875-.875z"})},o=(0,r(340498).wt)("stack",n,"default")},12193:(e,t,r)=>{r.r(t),r.d(t,{globeIcon:()=>o,iconDefinition:()=>n});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.25",svg:(0,r(474848).jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 1 0 15.25 7.625 7.625 0 0 1 0-15.25m-1.863 8.25c.054 1.559.31 2.937.681 3.943.212.572.449.992.68 1.256.232.266.404.318.502.318s.27-.052.502-.318c.231-.264.468-.684.68-1.256.371-1.006.627-2.384.681-3.943zm-4.48 0a6.38 6.38 0 0 0 4.509 5.48 6.5 6.5 0 0 1-.52-1.104c-.431-1.167-.704-2.697-.76-4.376zm9.456 0c-.055 1.679-.327 3.21-.758 4.376-.15.405-.324.779-.522 1.104a6.38 6.38 0 0 0 4.51-5.48zM8.166 3.894a6.38 6.38 0 0 0-4.51 5.481h3.23c.056-1.679.328-3.21.76-4.376.15-.405.322-.78.52-1.105M10 3.858c-.099 0-.27.053-.502.319-.231.264-.468.683-.68 1.255-.371 1.006-.627 2.384-.681 3.943h3.726c-.054-1.559-.31-2.937-.681-3.943-.212-.572-.449-.99-.68-1.255-.232-.266-.404-.319-.502-.319m1.833.036c.198.326.372.7.521 1.105.432 1.167.704 2.697.76 4.376h3.23a6.38 6.38 0 0 0-4.511-5.481"})},o=(0,r(340498).wt)("globe",n,"default")},13643:(e,t,r)=>{r.d(t,{AA:()=>p,BF:()=>b,Fh:()=>H,G2:()=>q,I0:()=>x,IB:()=>l,IE:()=>u,Nn:()=>f,SE:()=>F,TC:()=>I,TS:()=>E,TZ:()=>V,Tw:()=>g,Vq:()=>k,W:()=>a,WX:()=>T,X:()=>j,Y8:()=>C,av:()=>v,bq:()=>d,bt:()=>L,d0:()=>c,dC:()=>y,eh:()=>_,iH:()=>i,kw:()=>B,no:()=>s,pO:()=>m,pW:()=>A,sz:()=>N,tP:()=>M,ud:()=>w,wZ:()=>S,yH:()=>h});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(268340);const i="untyped",a="_typedDBpreset",s="_db_tutorial_feature",l="notion://sprints",c="notion://tasks_block",d="notion://projects_block",u="notion://sprints_block",p="notion://docs_block",m="notion://wiki_block",f="notion://meetings_block",_="notion://untyped_block",y="notion://tasks_collection",g="notion://projects_collection",b="notion://github_prs_sub_external_collection",v="notion://sprints_collection",h="notion://docs_collection",A="notion://wiki_collection",I="notion://meetings_collection",S="notion://calendar_events_sub_external_collection",k="notion://projects/simple_tasks_preset",T="notion://projects/projects_preset",x="notion://projects/agile_preset",M="notion://projects/project_management_importers_preset",w="notion://docs/simple_docs_preset",C="notion://meetings/meetings_preset",N="notion://wiki/company_home_preset",P="notion://wiki/engineering_wiki_preset",U="notion://wiki/product_wiki_preset",D="notion://wiki/sales_wiki_preset",B=[y,g,v,h,A,I,b,S],O=[k,T,x,M,w,C,N,P,U,D],R=[N,P,U,D];function E(e){return!(!(0,n().Xk)(O,e)||(0,n().Xk)(R,e)||e===M)}const F=new Set([...Object.values(o().yx),...Object.values(r(515478).K4),...Object.values(r(128443).Hx),...Object.values(r(840059).r),...Object.values(r(687871).Z),...Object.values(r(59674).y)]),L=new Set([...Object.values(r(178492).Kg)]),V=(0,r(69708).YK)({untyped_type:{defaultMessage:"Untyped",id:"dbTypes.untyped.type"},untyped_singular:{defaultMessage:"page",id:"dbTypes.untyped.singular"},untyped_plural:{defaultMessage:"pages",id:"dbTypes.untyped.plural"},untyped_new:{defaultMessage:"New page",id:"dbTypes.untyped.new"},untyped_new_generic:{defaultMessage:"New",id:"dbTypes.untyped.newGeneric"},untyped_caption:{defaultMessage:"Start a database from scratch",id:"dbTypes.untyped.caption"},untyped_item_singular:{defaultMessage:"item",id:"dbTypes.untypedItem.singular"},untyped_item_plural:{defaultMessage:"items",id:"dbTypes.untypedItem.plural"},untyped_item_new:{defaultMessage:"New item",id:"dbTypes.untypedItem.new"},task_type:{defaultMessage:"Tasks",id:"dbTypes.task.type"},task_singular:{defaultMessage:"task",id:"dbTypes.task.singular"},task_plural:{defaultMessage:"tasks",id:"dbTypes.task.plural"},task_new:{defaultMessage:"New task",id:"dbTypes.task.new"},task_caption:{defaultMessage:"Simple task management",id:"dbTypes.task.caption"},task_benefit1:{defaultMessage:"See all your tasks across multiple task databases in your personal home",id:"dbTypes.tasks.benefit1"},task_benefit2:{defaultMessage:"Custom page layout tailored for tasks",id:"dbTypes.tasks.benefit2"},task_benefit3:{defaultMessage:"Pre-built properties and notifications",id:"dbTypes.tasks.benefit3"},project_type:{defaultMessage:"Projects",id:"dbTypes.project.type"},project_singular:{defaultMessage:"project",id:"dbTypes.project.singular"},project_plural:{defaultMessage:"projects",id:"dbTypes.project.plural"},project_new:{defaultMessage:"New project",id:"dbTypes.project.new"},project_caption:{defaultMessage:"Organize groups of tasks",id:"dbTypes.project.caption"},project_benefit1:{defaultMessage:"See all your projects across multiple project databases in your personal home",id:"dbTypes.projects.benefit1"},project_benefit2:{defaultMessage:"Custom page layout tailored for projects",id:"dbTypes.projects.benefit2"},github_type:{defaultMessage:"GitHub Pull Requests",id:"dbTypes.github.type"},github_singular:{defaultMessage:"pull request",id:"dbTypes.github.singular"},github_plural:{defaultMessage:"pull requests",id:"dbTypes.github.plural"},github_new:{defaultMessage:"New pull request",id:"dbTypes.github.new"},sprint_type:{defaultMessage:"Sprints",id:"dbTypes.sprint.type"},sprint_singular:{defaultMessage:"sprint",id:"dbTypes.sprint.singular"},sprint_plural:{defaultMessage:"sprints",id:"dbTypes.sprint.plural"},sprint_new:{defaultMessage:"New sprint",id:"dbTypes.sprint.new"},sprint_caption:{defaultMessage:"Agile project management",id:"dbTypes.sprint.caption"},doc_type:{defaultMessage:"Docs",id:"dbTypes.doc.type"},doc_singular:{defaultMessage:"doc",id:"dbTypes.doc.singular"},doc_plural:{defaultMessage:"docs",id:"dbTypes.doc.plural"},doc_new:{defaultMessage:"New doc",id:"dbTypes.doc.new"},doc_caption:{defaultMessage:"Organize team documents",id:"dbTypes.doc.caption"},wiki_type:{defaultMessage:"Wiki",id:"dbTypes.wiki.type"},meeting_type:{defaultMessage:"Meetings",id:"dbTypes.meeting.type"},meeting_singular:{defaultMessage:"meeting",id:"dbTypes.meeting.singular"},meeting_plural:{defaultMessage:"meetings",id:"dbTypes.meeting.plural"},meeting_new:{defaultMessage:"New meeting",id:"dbTypes.meeting.new"},meeting_caption:{defaultMessage:"Event, Time, Participants...",id:"dbTypes.meeting.caption"},calendar_type:{defaultMessage:"Calendar Events",id:"dbTypes.calendar.type"},calendar_singular:{defaultMessage:"calendar event",id:"dbTypes.calendar.singular"},calendar_new:{defaultMessage:"New calendar event",id:"dbTypes.calendar.new"},calendar_plural:{defaultMessage:"calendar events",id:"dbTypes.calendar.plural"},post_type:{defaultMessage:"Posts",id:"dbTypes.post.type"},post_singular:{defaultMessage:"post",id:"dbTypes.post.singular"},post_plural:{defaultMessage:"posts",id:"dbTypes.post.plural"},post_new:{defaultMessage:"New post",id:"dbTypes.post.new"}}),H={[i]:{type:V.untyped_type,singular:V.untyped_singular,plural:V.untyped_plural,new:V.untyped_new,caption:V.untyped_caption,blockUri:void 0},[y]:{type:V.task_type,singular:V.task_singular,plural:V.task_plural,new:V.task_new,caption:V.task_caption,blockUri:c},[g]:{type:V.project_type,singular:V.project_singular,plural:V.project_plural,new:V.project_new,caption:V.project_caption,blockUri:d},[b]:{type:V.github_type,singular:V.github_singular,plural:V.github_plural,new:V.github_new,blockUri:void 0},[v]:{type:V.sprint_type,singular:V.sprint_singular,plural:V.sprint_plural,new:V.sprint_new,caption:V.sprint_caption,blockUri:u},[h]:{type:V.doc_type,singular:V.doc_singular,plural:V.doc_plural,new:V.doc_new,caption:V.doc_caption,blockUri:p},[A]:{type:V.wiki_type,singular:V.untyped_singular,plural:V.untyped_plural,new:V.untyped_new,blockUri:m},[I]:{type:V.meeting_type,singular:V.meeting_singular,plural:V.meeting_plural,new:V.meeting_new,caption:V.meeting_caption,blockUri:f},[S]:{type:V.calendar_type,singular:V.calendar_singular,plural:V.calendar_plural,new:V.calendar_new,blockUri:void 0}};function j(e,t){return e===y?(0,o().RS)(t):void 0}function q(e,t){return j(e,t)??(0,o().RS)(t)}},15440:(e,t,r)=>{r.d(t,{$K:()=>y,$Y:()=>d,Ll:()=>g,Sc:()=>i,Yj:()=>a,Ys:()=>c,aN:()=>u,bM:()=>p,eI:()=>m,nD:()=>f,qX:()=>l,yz:()=>_});r(898992),r(354520),r(430670);var n=()=>r(534177);const o=(0,r(69708).YK)({coqFuzzySearchKeywords:{id:"action.languageMode.coq.fuzzySearchKeywords",defaultMessage:"Coq Rocq"},cppFuzzySearchKeywords:{id:"action.languageMode.cpp.fuzzySearchKeywords",defaultMessage:"C++ cpp"},rocqDisplayName:{id:"action.languageMode.coq",defaultMessage:"Rocq"},scssDisplayName:{id:"action.languageMode.scss",defaultMessage:"SCSS"}}),i=Symbol("NO_PRISM_SYNTAX"),a={ABAP:{name:"ABAP",prismAlias:"abap",extensions:["abap"]},ABC:{name:"ABC",prismAlias:i,extensions:["abc"],featureFlag:"abc_code_language",customRender:!0},Agda:{name:"Agda",prismAlias:"agda",extensions:["agda","lagda"]},Arduino:{name:"Arduino",prismAlias:"arduino",extensions:["arduino","ino"]},"ASCII Art":{name:"ASCII Art",prismAlias:i,extensions:[]},Assembly:{name:"Assembly",prismAlias:"nasm",extensions:["asm","nasm","s","x86"]},Bash:{name:"Bash",prismAlias:"bash",extensions:["bash","sh"]},BASIC:{name:"BASIC",prismAlias:"basic",extensions:["basic"]},BNF:{name:"BNF",prismAlias:"bnf",extensions:["bnf"]},C:{name:"C",prismAlias:"c",extensions:["c","h"]},"C#":{name:"C#",prismAlias:"csharp",extensions:["cs","csharp"]},"C++":{name:"C++",prismAlias:"cpp",extensions:["c++","cpp","cxx","hpp","hxx"],fuzzySearchKeywords:o.cppFuzzySearchKeywords},Clojure:{name:"Clojure",prismAlias:"clojure",extensions:["clojure","clojurescript","clj","cljs"]},CoffeeScript:{name:"CoffeeScript",prismAlias:"coffeescript",extensions:["coffee","coffeescript"]},Coq:{name:"Coq",alternateDisplayName:o.rocqDisplayName,prismAlias:"coq",extensions:["coq","rocq","v"],fuzzySearchKeywords:o.coqFuzzySearchKeywords},CSS:{name:"CSS",prismAlias:"css",extensions:["css"],prettier:async()=>({plugins:[(await r.e(64583).then(r.t.bind(r,564583,23))).default],parser:"css"})},Dart:{name:"Dart",prismAlias:"dart",extensions:["dart"]},Dhall:{name:"Dhall",prismAlias:"dhall",extensions:["dhall"]},Diff:{name:"Diff",prismAlias:"diff",extensions:["diff"]},Docker:{name:"Docker",prismAlias:"docker",extensions:["docker","dockerfile"]},EBNF:{name:"EBNF",prismAlias:"ebnf",extensions:["ebnf"]},Elixir:{name:"Elixir",prismAlias:"elixir",extensions:["elixir","ex","exs"]},Elm:{name:"Elm",prismAlias:"elm",extensions:["elm"]},Erlang:{name:"Erlang",prismAlias:"erlang",extensions:["erlang","erl"]},"F#":{name:"F#",prismAlias:"fsharp",extensions:["fs","fsharp"]},Flow:{name:"Flow",prismAlias:"flow",extensions:["flow","flow.js"]},Fortran:{name:"Fortran",prismAlias:"fortran",extensions:["f03","f08","f77","f90","f95","for","fortran"]},Gherkin:{name:"Gherkin",prismAlias:"gherkin",extensions:["feature","gherkin"]},GLSL:{name:"GLSL",prismAlias:"glsl",extensions:["glsl"]},Go:{name:"Go",prismAlias:"go",extensions:["go"]},GraphQL:{name:"GraphQL",prismAlias:"graphql",extensions:["graphql","gql"],prettier:async()=>({plugins:[(await r.e(53491).then(r.t.bind(r,853491,23))).default],parser:"graphql"})},Groovy:{name:"Groovy",prismAlias:"groovy",extensions:["groovy"]},Haskell:{name:"Haskell",prismAlias:"haskell",extensions:["haskell","hs","lhs"]},HCL:{name:"HCL",prismAlias:"hcl",extensions:["hcl"]},HTML:{name:"HTML",prismAlias:"html",extensions:["html","xhtml","mhtml"],prettier:async()=>({plugins:[(await r.e(25409).then(r.t.bind(r,325409,23))).default],parser:"html"})},Idris:{name:"Idris",prismAlias:"idris",extensions:["idr","idris","lidr"]},Java:{name:"Java",prismAlias:"java",extensions:["java"]},JavaScript:{name:"JavaScript",prismAlias:"jsx",extensions:["javascript","js","jsx","webpack"],prettier:async()=>({plugins:[(await r.e(46030).then(r.t.bind(r,546030,23))).default],parser:"babel"})},JSON:{name:"JSON",prismAlias:"json",extensions:["json","jsonc","eslintrc","prettierrc","stylelintrc","babelrc"],prettier:async()=>({plugins:[(await r.e(46030).then(r.t.bind(r,546030,23))).default],parser:"json"})},Julia:{name:"Julia",prismAlias:"julia",extensions:["jl","julia"]},Kotlin:{name:"Kotlin",prismAlias:"kotlin",extensions:["kotlin","kt"]},LaTeX:{name:"LaTeX",prismAlias:"latex",extensions:["latex","tex"]},Less:{name:"Less",prismAlias:"less",extensions:["less"]},Lisp:{name:"Lisp",prismAlias:"lisp",extensions:["cl","lisp","lsp"]},LiveScript:{name:"LiveScript",prismAlias:"livescript",extensions:["livescript","ls"]},"LLVM IR":{name:"LLVM IR",prismAlias:"llvm",extensions:["llvm"]},Lua:{name:"Lua",prismAlias:"lua",extensions:["lua"]},Makefile:{name:"Makefile",prismAlias:"makefile",extensions:["mk","makefile"]},Markdown:{name:"Markdown",prismAlias:"markdown",extensions:["markdown","md","mdown"]},Markup:{name:"Markup",prismAlias:"markup",extensions:["markup"]},MATLAB:{name:"MATLAB",prismAlias:"matlab",extensions:["matlab"]},Mathematica:{name:"Mathematica",prismAlias:"mathematica",extensions:["mathematica","nb","wl","wls"]},Mermaid:{name:"Mermaid",prismAlias:"mermaid",extensions:["mermaid"],customRender:!0},Nix:{name:"Nix",prismAlias:"nix",extensions:["nix"]},"Notion Formula":{name:"Notion Formula",prismAlias:"notion",extensions:["notion"]},"Objective-C":{name:"Objective-C",prismAlias:"objectivec",extensions:["m","objc","objectivec"]},OCaml:{name:"OCaml",prismAlias:"ocaml",extensions:["mli","ml","ocaml"]},Pascal:{name:"Pascal",prismAlias:"pascal",extensions:["pascal"]},Perl:{name:"Perl",prismAlias:"perl",extensions:["perl","pl"]},PHP:{name:"PHP",prismAlias:"php",extensions:["php"]},"Plain Text":{name:"Plain Text",prismAlias:i,extensions:["txt","log","cfg","ini","conf","gitignore","gitattributes","npmrc","yarnrc","editorconfig"]},PowerShell:{name:"PowerShell",prismAlias:"powershell",extensions:["powershell","ps1","psm1"]},Prolog:{name:"Prolog",prismAlias:"prolog",extensions:["pro","prolog"]},Protobuf:{name:"Protobuf",prismAlias:"protobuf",extensions:["proto","protobuf"]},PureScript:{name:"PureScript",prismAlias:"purescript",extensions:["purescript","purs"]},Python:{name:"Python",prismAlias:"python",extensions:["py","python"]},R:{name:"R",prismAlias:"r",extensions:["r"]},Racket:{name:"Racket",prismAlias:"racket",extensions:["racket","rkt","scrbl"]},Reason:{name:"Reason",prismAlias:"reason",extensions:["re","reason","rei"]},Ruby:{name:"Ruby",prismAlias:"ruby",extensions:["rb","ruby"]},Rust:{name:"Rust",prismAlias:"rust",extensions:["rs","rust"],prettier:async()=>({plugins:[await Promise.all([r.e(32212),r.e(76537)]).then(r.bind(r,776537))],parser:"jinx-rust"})},Sass:{name:"Sass",prismAlias:"sass",extensions:["sass"]},Scala:{name:"Scala",prismAlias:"scala",extensions:["scala"]},Scheme:{name:"Scheme",prismAlias:"scheme",extensions:["scheme","scm"]},Scss:{name:"Scss",alternateDisplayName:o.scssDisplayName,prismAlias:"scss",extensions:["scss"],prettier:async()=>({plugins:[(await r.e(64583).then(r.t.bind(r,564583,23))).default],parser:"scss"})},Shell:{name:"Shell",prismAlias:"bash",extensions:["shen","shell","bat","cmd","ps","bashrc","bash_profile"]},Smalltalk:{name:"Smalltalk",prismAlias:"smalltalk",extensions:["smalltalk","st"]},Solidity:{name:"Solidity",prismAlias:"solidity",extensions:["solidity","sol"]},SQL:{name:"SQL",prismAlias:"sql",extensions:["sql"]},Swift:{name:"Swift",prismAlias:"swift",extensions:["swift"]},TOML:{name:"TOML",prismAlias:"toml",extensions:["toml"]},TypeScript:{name:"TypeScript",prismAlias:"tsx",extensions:["ts","tsx","typescript"],prettier:async()=>({plugins:[(await r.e(46030).then(r.t.bind(r,546030,23))).default],parser:"babel"})},"VB.Net":{name:"VB.Net",prismAlias:"vbnet",extensions:["vb","vbs"]},Verilog:{name:"Verilog",prismAlias:"verilog",extensions:["verilog"]},VHDL:{name:"VHDL",prismAlias:"vhdl",extensions:["vhdl"]},"Visual Basic":{name:"Visual Basic",prismAlias:"visual-basic",extensions:["visual-basic","vbnet"]},WebAssembly:{name:"WebAssembly",prismAlias:"wasm",extensions:["wasm","wat"]},XML:{name:"XML",prismAlias:"xml",extensions:["xml"],prettier:async()=>({plugins:[await Promise.all([r.e(62475),r.e(32212),r.e(20148)]).then(r.t.bind(r,520148,23))],parser:"xml",prettierOptionsOverride:{xmlWhitespaceSensitivity:"ignore"}})},YAML:{name:"YAML",prismAlias:"yaml",extensions:["yaml","yml"]},"Java/C/C++/C#":{name:"Java/C/C++/C#",deprecated:!0,migrateToLang:"Java",allowFromPublicApi:!0,prismAlias:"clike",extensions:[]},json:{name:"json",deprecated:!0,migrateToLang:"JSON",prismAlias:"json",extensions:[]},NotionScript:{name:"NotionScript",deprecated:!0,migrateToLang:"JavaScript",prismAlias:"jsx",extensions:[]}},s="JavaScript";function l(){const e=Object.values(a).filter((e=>!e.deprecated));return{forGates:t=>e.filter((e=>!e.featureFlag||t.checkGate({gateName:e.featureFlag}))),__DANGEROUS_MANUALLY_CHECK_GATES:e}}function c(e){const t=a[e];return t.deprecated?c(t.migrateToLang):t}function d(e){return void 0!==e&&(0,n().O)(a,e)?c(e):a[s]}function u(e){return!(!(0,n().O)(a,e)||!Boolean(a[e]))}function p(e){return!!a[e].customRender}const m={ABC:"https://abcnotation.com/examples",Mermaid:"https://mermaid.js.org/syntax/examples.html"},f=(0,n().MU)(Object.values(a).flatMap((e=>{const t=e.name.toLowerCase();return e.deprecated?e.allowFromPublicApi?[[t,c(e.migrateToLang).name]]:[]:[[t,e.name]]}))),_=(0,n().uv)(f),y=(0,r(720665).AH)(f);function g(e){return!(!(0,n().O)(f,e)||!Boolean(f[e]))}},29568:(e,t,r)=>{r.d(t,{Ay:()=>i,gD:()=>o});var n=()=>r(292588);const o="space_membership_update",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_at:n().A.Number,is_processed:n().A.Boolean,attributes:n().A.JSON,effective_time:n().A.Number,processed_time:n().A.Number},requiredColumns:{id:!0,version:!0,space_id:!0,created_at:!0,is_processed:!0,effective_time:!0},model:(0,r(152853).P)({})}},36682:(e,t,r)=>{r.d(t,{Q:()=>i,Y:()=>o});r(944114);var n=()=>r(862387);function o(e){const t=[];return(0,n().Ub)(e,(e=>{t.push(...e)})),t}function i(e){const t=[];return(0,n().eE)(e,(e=>{t.push(...e)})),t}},37165:(e,t,r)=>{r.d(t,{Ay:()=>a,QM:()=>o,lo:()=>i});var n=()=>r(292588);const o={layout:!0},i="form_question",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,alive:n().A.Boolean,config:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,alive:!0,config:!0},model:(0,r(152853).P)({RecordStore:!0})}},39603:(e,t,r)=>{r.d(t,{A:()=>i,P:()=>o});var n=()=>r(292588);const o="workflow_subscription",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,data:n().A.JSON},requiredColumns:{version:!0,data:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},40117:(e,t,r)=>{r.d(t,{A:()=>i,l:()=>o});var n=()=>r(292588);const o="ai_connector_user_connection",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,third_party_user_id:n().A.String,notion_user_id:n().A.UUID,notion_user_table:n().A.String,connection_type:n().A.String,connection_id:n().A.UUID,access_details:n().A.JSON,connection_status:n().A.String,alternate_id:n().A.String,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String},requiredColumns:{id:!0,version:!0,third_party_user_id:!0,notion_user_id:!0,notion_user_table:!0,connection_type:!0,connection_id:!0,access_details:!0,connection_status:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_version:!0},model:(0,r(152853).P)({RecordStore:!1})}},40845:(e,t,r)=>{r.d(t,{A:()=>n});const n=function(e,t,n,o=1){return!(0,r(806080).Et)(e)||r(496603).yr(e)?o:e>n?n:e<t?t:e}},41174:(e,t,r)=>{r.d(t,{Bb:()=>d,TR:()=>f,Ux:()=>p,Yd:()=>s,_E:()=>m,eS:()=>i,gk:()=>u,hJ:()=>c,hy:()=>_,mB:()=>a,q7:()=>l});var n=()=>r(534177),o=()=>r(90634);const i="empty",a=10,s={getCollectionId(e){if(c(e))return(0,o().rJ)(e);if(f(e))return`${e.spaceId}-${e.type}`;switch(e.type){case"collection":return e.id;case"typed":return e.databaseType;default:(0,n().HB)(e)}},getTaintId(e){if(c(e)){return`${(0,o().rJ)(e)}:${e.spaceId}`}if(f(e))return`${e.spaceId}-${e.type}`;switch(e.type){case"collection":return e.id;case"typed":return`${e.spaceId}-${e.type}`;default:(0,n().HB)(e)}},hasCollections(e){if(c(e))return!1;if(f(e))return!0;switch(e.type){case"collection":case"typed":return!0;default:(0,n().HB)(e)}}};function l(e){return"typed"===e.type}function c(e){return d(null==e?void 0:e.type)}function d(e){return"trending"===e||"similarUsers"===e}function u(e){return"myMeetings"===(null==e?void 0:e.type)}function p(e){return"favorites"===e||"private"===e||"shared"===e}function m(e){return e===i?[]:e}function f(e){return _(null==e?void 0:e.type)}function _(e){switch(e){case"createdByMe":case"recents":case"mentionsMe":case"sharedWithMe":case"myPages":case"myMeetings":case"teamspaceDirectory":case"favorites":case"private":case"shared":case"libraryExternalPages":return!0;default:return!1}}},41273:(e,t,r)=>{r.d(t,{$e:()=>I,B4:()=>S,C5:()=>w,Gh:()=>k,TA:()=>A,WE:()=>M,Zf:()=>T,_G:()=>h,rf:()=>v});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(672577),r(581454),r(737550);var n=()=>r(115997),o=()=>r(534177),i=()=>r(701218),a=()=>r(388536),s=()=>r(91913),l=()=>r(274147),c=()=>r(135460),d=()=>r(803884),u=()=>r(1591),p=()=>r(426234),m=()=>r(793909),f=()=>r(933449),_=()=>r(165358),y=()=>r(792071),g=()=>r(397277),b=()=>r(201980);function v(e){const{getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:n,env:o,logContext:i}=e;if(!r.has(n))return(0,_().log)({level:"info",from:"getTextInstanceBlocks",type:"textInstanceBlocksMap does not have an entry for this text instance ID",data:{miscDataToConvertToString:{...i||{},textInstanceId:n}}}),[];return(0,f().o9)(r.get(n),"textInstanceBlocksMap is missing an entry!",{...i||{},textInstanceId:n,...["development","local"].includes(o)?{textInstanceBlocksMap:r}:{}}).map((e=>(0,f().o9)(t.getRecordValue(e),"Block pointer points to nonexistent record!",{blockId:e.id,spaceId:e.spaceId,textInstanceId:n,...["development","local"].includes(o)?{textInstanceBlocksMap:r}:{}})))}function h(e){const t=new Map(Array.from(e,(([e,t])=>[e,{tsbm:t.textSliceBlockMappingValue,textSlice:c().lK(t.textSlice)}])));return JSON.stringify(Object.fromEntries(t))}function A(e,t,r,n,o){const a=new Map;let s;for(const _ of e){const e=(0,f().o9)(_.crdt_data,"CRDT expected to exist in block");(0,f().MX)((0,i().Ux)(_),"Invalid CRDT version");const y=(0,f().o9)(e.title,"Expected CRDT title");s??=new(l().g);for(const[i,l]of Object.entries(y[d().p.nodes])){var m;if(!u().Ay.isSliceKeyFromTextInstance(i,t))continue;const e=c().iu({serialized:l[d().p.textSlice],opClockValueHolder:s,sliceKey:i,logger:o}),y=e.getSearchLabel();if(!p().K9(y,r))continue;(0,f().MX)(!a.has(y),"Search labels must be unique within a text instance.");const g=(0,f().o9)(null===(m=n.get(t))||void 0===m?void 0:m.get(y),"Text slice block mapping record must exist");a.set(y,{textSlice:e,blockValue:_,textSliceBlockMappingValue:g})}}return a}function I(e,t){const r=(0,f().o9)(e.crdt_data,s().bp);(0,f().MX)((0,i().Ux)(e),s().Jh,{version:e.crdt_format_version});const n=(0,f().o9)(r.title,s().bp);return d().iu({sessionId:(0,m().b)(),serialized:n,logger:t})}function S(e){var t;const{blockValue:r,textSliceTree:n,originalTextValue:o}=e;!function(e){const{blockValue:t,textSliceTree:r}=e;(0,f().o9)(t.crdt_data,s().bp),(0,f().MX)((0,i().Ux)(t),s().Jh,{version:t.crdt_format_version}),t.crdt_data={title:d().lK(r)},t.properties??={},t.properties.title=r.getTextValue(),t.version++}({blockValue:r,textSliceTree:n});const a=(0,f().o9)(null===(t=r.properties)||void 0===t?void 0:t.title,"Block title should exist after setting TextSliceTree");r.discussions=function(e){const{existingDiscussions:t,oldTextValue:r,newTextValue:n,newBlockValue:o}=e,i=b().j2Y(r);if(0===i.length)return t;const a=new Set(t??[]),s=b().j2Y(n),l=new Set(s),c=y().Bj6.fromBlock(o);for(const d of i)l.has(d)||(0,g().xi)({blockModel:c,discussionId:d})||a.delete(d);return[...a]}({existingDiscussions:r.discussions,oldTextValue:o,newTextValue:a,newBlockValue:r}),r.discussions=function(e){const{existingDiscussions:t,oldTextValue:r,newTextValue:n}=e,o=new Set(t??[]),i=b().j2Y(r),a=new Set(i),s=b().j2Y(n),l=[];for(const c of s)a.has(c)||o.has(c)||l.push(c);if(0===l.length)return t;return[...t??[],...l]}({existingDiscussions:r.discussions,oldTextValue:o,newTextValue:a})}function k(e){return x({...e,itemId:e.textSliceStartItemId,boundary:"start"})}function T(e){return x({...e,itemId:e.textSliceEndItemId,boundary:"end"})}function x(e){const{getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:a,itemId:l,boundary:c,env:p}=e;let m;"start"===c?m=e=>e.startsWith(`${a},${(0,n().A)(l)}`):"end"===c?m=e=>u().Ay.isSliceKeyFromTextInstance(e,a)&&e.endsWith((0,n().A)(l)):(0,o().HB)(c);const _=v({getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:a,env:p});for(const n of _){const e=(0,f().o9)(n.crdt_data,s().bp);(0,f().MX)((0,i().Ux)(n),s().Jh,{version:n.crdt_format_version});const t=(0,f().o9)(e.title,s().bp);if(Object.keys(t[d().p.nodes]).some(m))return n}}function M({itemId:e,searchLabelTextSlices:t}){const r=Array.from(t).find((([t,r])=>r.textSlice.containsItemWithId(e)));if(!r)return;const[n,{textSlice:o}]=r;return{searchLabel:n,textSlice:o,originPresentInTextSlice:!0}}function w({originId:e,searchLabelTextSlices:t,newItemId:r}){const n=Array.from(t).sort((([e],[t])=>p().UD(e,t)));let o=!1,i=!1;for(const[l,c]of n){const t=c.textSlice;try{if(o=o||t.containsItemWithId(e),!o)continue;if(i){if(t.isIdInsertableIntoSlice(r))return{searchLabel:l,textSlice:t,originPresentInTextSlice:!1}}else if(i=!0,t.isIdInsertableIntoSlice(r,e))return{searchLabel:l,textSlice:t,originPresentInTextSlice:!0}}catch(s){throw(0,a().L)(s)&&(s.data={...s.data??{},checkedTextSliceWithOrigin:i,originId:e,newItemId:r,blockId:c.blockValue.id,textInstanceId:c.textSlice.textInstanceId}),s}}}},41693:(e,t,r)=>{r.d(t,{A:()=>i,H:()=>o});var n=()=>r(292588);const o="server_integrations__slack_notion_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_unique_global_user_id:n().A.UUID,access_token:n().A.String,notion_workspace_id:n().A.String,alive:n().A.Boolean,notion_bot_id:n().A.UUID}}},42466:(e,t,r)=>{r.d(t,{$$c:()=>me,$2J:()=>E,$MF:()=>J,$RT:()=>Wt,$XM:()=>B,$YH:()=>L,$kK:()=>q,A3P:()=>hr,AsL:()=>K,AvP:()=>_t,B7B:()=>Ir,C0E:()=>Rr,CEK:()=>he,Crh:()=>Rt,CsX:()=>wr,Cy3:()=>ie,DHr:()=>te,EcF:()=>Gr,EgT:()=>He,EuC:()=>Lt,F9f:()=>dt,Fub:()=>bt,G4T:()=>Dt,GDR:()=>Nr,GFx:()=>Tt,GPl:()=>T,GUg:()=>Ar,Ghx:()=>xt,Gy1:()=>N,H3H:()=>k,H53:()=>Pt,HAA:()=>_r,HBA:()=>X,Hik:()=>ur,HtE:()=>Ne,HxG:()=>V,IF6:()=>Ce,ITT:()=>j,IvX:()=>vr,J6M:()=>Qe,Jmj:()=>Kt,JrE:()=>Yt,KNP:()=>s,KWb:()=>pt,KcW:()=>Be,Klg:()=>Z,Kq7:()=>Ht,KqJ:()=>Ee,Lij:()=>_e,MOG:()=>et,MRl:()=>lt,NXh:()=>qt,NkI:()=>Vr,Nm7:()=>f,OCn:()=>Ze,Oa6:()=>n,OfD:()=>b,OjI:()=>ne,Ok8:()=>v,PXw:()=>Te,PcJ:()=>rr,PsW:()=>Y,PuY:()=>$r,Q$N:()=>Ot,Q4N:()=>be,QOF:()=>De,QRx:()=>Fr,R$c:()=>fr,S6u:()=>Tr,SBl:()=>ge,SC1:()=>g,SNf:()=>P,SS3:()=>Je,Sd1:()=>Ye,T2:()=>oe,TFd:()=>m,TFg:()=>Br,Toz:()=>yr,U6v:()=>Er,ULG:()=>Le,UNl:()=>Ve,V1v:()=>qe,VY8:()=>Vt,VlP:()=>C,W8A:()=>ce,WQd:()=>Pr,Wdc:()=>c,Wnz:()=>pe,Ws0:()=>ht,Wuo:()=>u,XHn:()=>G,XXO:()=>lr,XXy:()=>Ke,Xh:()=>kt,Xiz:()=>St,Xwe:()=>jt,YVp:()=>_,Yxt:()=>Ae,Yxw:()=>Ie,Z4m:()=>mt,ZPG:()=>Et,_0B:()=>xr,_0W:()=>U,_6L:()=>ft,_71:()=>It,_FR:()=>pr,_ig:()=>Fe,_pz:()=>tt,a8w:()=>Re,aFA:()=>Se,aJN:()=>er,aSp:()=>Gt,adQ:()=>W,bJl:()=>Cr,bf7:()=>cr,bhs:()=>ye,bnG:()=>ve,bwd:()=>At,cKY:()=>p,dPx:()=>xe,du1:()=>Or,e4Z:()=>R,eBi:()=>i,eUD:()=>O,eV7:()=>ut,ef6:()=>zr,enP:()=>We,eqd:()=>Ut,es0:()=>Xe,evP:()=>S,ez7:()=>yt,f3c:()=>Xt,gDn:()=>Zt,gDt:()=>kr,gEh:()=>z,hGr:()=>M,hRD:()=>mr,hWt:()=>Q,hrX:()=>I,hxQ:()=>ue,hyq:()=>de,iEO:()=>se,iPf:()=>vt,j0B:()=>zt,jft:()=>a,joQ:()=>le,jvE:()=>Pe,k$w:()=>A,kMj:()=>re,kW7:()=>Mt,kf7:()=>h,kzt:()=>o,l1b:()=>l,lMK:()=>ze,lo9:()=>ae,lyl:()=>Lr,m2N:()=>H,m3J:()=>$t,mEg:()=>ot,mSw:()=>gr,mlj:()=>Ct,mu7:()=>nr,nYQ:()=>we,naB:()=>Jt,nsO:()=>wt,oJm:()=>Bt,oNS:()=>or,ojG:()=>Ft,oo9:()=>rt,ouC:()=>ct,ozN:()=>Me,pEW:()=>Oe,pVl:()=>Ur,pkG:()=>it,qPS:()=>x,qcA:()=>Qt,qmW:()=>w,qrH:()=>Ge,qtq:()=>$e,r1d:()=>F,rGg:()=>ee,rNM:()=>Mr,rqL:()=>D,sB_:()=>tr,sLR:()=>Nt,sNL:()=>gt,tEp:()=>Hr,uLb:()=>Ue,vbv:()=>st,vjA:()=>$,vnT:()=>dr,wI1:()=>br,wl6:()=>nt,xMx:()=>Dr,y$R:()=>d,y75:()=>at,yBS:()=>y,yDO:()=>fe,yHj:()=>qr,yKj:()=>sr,yMG:()=>jr,yiT:()=>ar,ytf:()=>ir,yvd:()=>Sr,ziV:()=>je,zx0:()=>ke});const n="access_request",o="activity",i="admin_api_log",a="admin_api_op_log",s="ai_connector_connection",l="ai_connector_user_connection",c="ai_embedding_config",d="ai_waitlist",u="apple_token",p="asana_token",m="assistant_chat_session",f="assistant_chat_step",_="assistant_session_starter",y="automation",g="automation_action",b="billing_contract",v="billing_contract_space",h="billing_data",A="billing_data_history_entry",I="billing_subscription",S="block",k="block_token",T="bot",x="bot_extended_metadata",M="bot_token",w="channel",C="collection",N="collection_view",P="comment",U="confluence_token",D="contact_sales",B="cookie_consent",O="credit",R="custom_emoji",E="customer",F="device",L="discussion",V="domain_verification_code",H="drive_token",j="edge",q="education_domain",$="education_email",G="email_domain",z="evernote_token",W="experiment",K="external_authentication",Q="external_authentication_token",Z="external_connection",J="external_entity",X="external_integration_app",Y="external_integration_authorization",ee="external_object",te="external_token",re="external_user_profile",ne="file_upload",oe="firebase_token",ie="follow",ae="form_question",se="form_response_snapshot",le="free_chart",ce="geo_ip_location",de="geo_ip_network",ue="github_student_pack_redemption",pe="global_oauth_client",me="google_token",fe="inference_transcript",_e="integration",ye="integration_listing",ge="integration_management_permissions",be="integration_token",ve="integration_webhook_subscription",he="internal_domain",Ae="invite",Ie="invoice",Se="ip_restriction",ke="layout",Te="legal_hold",xe="legal_hold_export",Me="legal_hold_page",we="legal_hold_page_actor",Ce="legal_hold_user",Ne="marketplace_acquisition",Pe="marketplace_badge",Ue="marketplace_badge_assignment",De="marketplace_coupon",Be="marketplace_creator_balance_transaction",Oe="marketplace_creator_stripe_balance_log",Re="marketplace_custom_agent_version",Ee="marketplace_customer",Fe="marketplace_installation",Le="marketplace_listing",Ve="marketplace_listing_review",He="marketplace_payout",je="marketplace_payout_remainder",qe="marketplace_profile",$e="marketplace_profile_content",Ge="marketplace_profile_invitation",ze="marketplace_profile_member",We="marketplace_refund",Ke="marketplace_seller",Qe="marketplace_service",Ze="marketplace_service_request",Je="mcp_registry_entry",Xe="mfa_settings",Ye="microsoft_oauth",et="monday_token",tt="notification",rt="notion_user",nt="oauth_authorization_code",ot="offer_code",it="offer_status",at="organization",st="organization_request",lt="organization_space",ct="page_exit",dt="page_visit",ut="passkey_authenticator",pt="password",mt="plus_lock_waitlist",ft="public_domain",_t="public_email_domain",yt="reaction",gt="record_counter",bt="record_key",vt="record_mention",ht="referral",At="related_content",It="saml_config",St="schedule_for_event",kt="scheduled_digest_message",Tt="server_integrations__discord_user_mapping",xt="server_integrations__github_installation",Mt="server_integrations__jira_webhook",wt="server_integrations__slack_bot_token",Ct="server_integrations__slack_channel",Nt="server_integrations__slack_enterprise",Pt="server_integrations__slack_notion_token",Ut="server_integrations__slack_unique_global_user",Dt="server_integrations__slack_unique_local_user",Bt="server_integrations__slack_workspace",Ot="server_integrations__zendesk_token",Rt="sidebar_section",Et="sidebar_section_item",Ft="signup_tracking",Lt="site",Vt="slack_integration",Ht="slack_notification",jt="snapshot",qt="space",$t="space_bot",Gt="space_content_duplication_lookup",zt="space_domain",Wt="space_email_domain",Kt="space_entitlement_usage",Qt="space_invite_link",Zt="space_membership_update",Jt="space_permission_group",Xt="space_permission_group_member",Yt="space_recover_pages",er="space_user",tr="space_user_entitlement_usage",rr="space_user_recovery",nr="space_view",or="subscription",ir="subscription_banner",ar="synthetic_trial",sr="team",lr="template",cr="template_collection",dr="template_content_group",ur="template_creator",pr="template_draft",mr="template_tag",fr="temporary_password",_r="text_slice_block_mapping",yr="thread",gr="thread_message",br="token",vr="trello_token",hr="trusted_domain",Ar="upgrade_request",Ir="used_credit",Sr="user_alias",kr="user_data_consent_permissions",Tr="user_device",xr="user_export",Mr="user_metadata",wr="user_oauth_access_token",Cr="user_oauth_authorization_code",Nr="user_root",Pr="user_seen_record",Ur="user_session_auth_token",Dr="user_settings",Br="webhook_subscription",Or="worker",Rr="workflow",Er="workflow_artifact",Fr="workflow_automation_run",Lr="workflow_external_connection",Vr="workflow_external_connection_secret",Hr="workflow_external_scoped_connection",jr="workflow_module",qr="workflow_property_edit_attribution",$r="workflow_subscription",Gr="workflow_transcript",zr="workspace_encryption_key"},42583:(e,t,r)=>{r.d(t,{D:()=>i});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.537 8.843a.694.694 0 1 1-1.39 0 .694.694 0 0 1 1.39 0m-.695 3.009a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389m.695 1.62a.695.695 0 1 1-1.39 0 .695.695 0 0 1 1.39 0m1.62-3.935a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389m.695 1.621a.694.694 0 1 1-1.39 0 .694.694 0 0 1 1.39 0m-.695 3.009a.695.695 0 1 0 0-1.39.695.695 0 0 0 0 1.39m3.01-5.324a.694.694 0 1 1-1.39 0 .694.694 0 0 1 1.39 0m-7.639 3.009a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389m.694 1.62a.695.695 0 1 1-1.389 0 .695.695 0 0 1 1.39 0m6.249-1.62a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389"}),(0,n.jsx)("path",{d:"M5.25 3.125A2.125 2.125 0 0 0 3.125 5.25v9.5c0 1.174.951 2.125 2.125 2.125h9.5a2.125 2.125 0 0 0 2.125-2.125v-9.5a2.125 2.125 0 0 0-2.125-2.125zm-.875 3.69h11.25v7.935a.875.875 0 0 1-.875.875h-9.5a.875.875 0 0 1-.875-.875z"})]})},i=(0,r(340498).wt)("viewCalendar",o,"default")},43864:(e,t,r)=>{r.d(t,{SK:()=>d,TV:()=>c,hs:()=>l,sU:()=>s});r(898992),r(823215),r(354520),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(754195),a=()=>r(214388);function s(e){const{filter:t,relativeVariableValue:r,currentPageInRelatedCollection:n,relativeVariableInvalidIdFallback:i}=e;return(0,a().Rh)(t).map((({type:e,value:t})=>{if("exact"===e)return t;if("relative"===e){if("builtin"===t.type&&r)return r[t.variable]||i;if("current_page_in_related_collection"===t.type)return n}else(0,o().HB)(e)}))}function l(e,t){const r=t[e.property];if(r&&e.filter){if("status"===r.type){const{property:t,filter:n}=e,o=r.groups??[];if((0,a().fZ)(e.filter))return e;if((0,a().Ui)(n)){const e=n.value.value;if(void 0===e)return;const r=o[o.length-1];return{filter:{operator:e?"status_is":"status_is_not",value:{type:"is_group",value:null==r?void 0:r.name}},property:t}}if((0,a().v0)(n)||(0,a().as)(n)){if((0,a().fZ)(n))return;const e=((0,a().v0)(n)?(0,a().Zl)(n):(0,a().SM)(n)).map((e=>({type:"is_option",value:e.value})));return{filter:{operator:"enum_is"===n.operator||"enum_contains"===n.operator?"status_is":"status_is_not",value:e.length>0?e:{type:"is_group",value:void 0}},property:t}}if(!(0,a().H$)(n))return}if((0,a().tn)(t,e.property,e.filter,void 0)){if("select"===r.type){if(!(0,a().v0)(e.filter))return;if((0,a().fZ)(e.filter))return e;const t=(0,a().Zl)(e.filter);if(0===t.length)return e;return t.every((e=>(r.options||[]).some((t=>t.value===e.value))))?e:void 0}if("multi_select"===r.type){if(!(0,a().as)(e.filter))return;if((0,a().fZ)(e.filter))return e;const t=(0,a().SM)(e.filter);if(0===t.length)return e;return t.every((e=>(r.options||[]).some((t=>t.value===e.value))))?e:void 0}if("date"===r.type&&(0,a().Cw)(e.filter)){const t=e.filter.value;if("relative"===t.type){if("custom"===t.value||"surrounding"===t.value)return{...e,filter:{...e.filter,operator:"date_is_relative_to"}};{const r=i().NV[t.value],n={...e.filter,value:r,operator:"date_is_relative_to"};return{...e,filter:n}}}if("exact"===t.type)return{...e,filter:{...e.filter,operator:"date_is_within"}};(0,o().HB)(t)}if("relation"===r.type&&"relation_contains"===e.filter.operator){const t=(0,a().Rh)(e.filter);t.length>1&&(e.filter.value=t.filter((e=>void 0!==e.value)))}return e}}}function c(e,t,r){return e.map((e=>{const n=d(e.filter,t);if(t[e.filter.property]&&n&&(0,a().tn)(t,e.filter.property,n.filter,r))return n&&{id:e.id,filter:n}})).filter(o().O9)}function d(e,t){if((0,a().dU)(e)){const r=e,o=r.filters||[],i={...r,filters:n().oE(o.map((e=>d(e,t))))};if(!i.filters||0===i.filters.length)return;return i}return(0,a().yX)(e)?l(e,t):(0,a().LB)(e)?e:void 0}},50837:(e,t,r)=>{r.d(t,{Xi:()=>i,Ay:()=>a});var n=()=>r(292588),o=()=>r(583835);(0,o().Dv)("adminResetBotRateLimit"),(0,o().Dv)("completeSprint"),(0,o().Dv)("noop"),(0,o().Dv)("recurrenceTask"),(0,o().Dv)("sendReminder"),(0,o().Dv)("workflowRecurrenceTrigger");const i="schedule_for_event";const a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,status:n().A.String,app_name:n().A.String,recurrence:n().A.JSON,next_run_time:n().A.Number,flexible_window_in_minutes:n().A.Number,event_type:n().A.String,payload:n().A.JSON,deterministic_id:n().A.String,max_schedule_ahead_time:n().A.Number,disable_for_migration:n().A.Boolean},requiredColumns:{id:!0,version:!0,space_id:!0,created_by_id:!0,created_by_table:!0,created_time:!0,status:!0,app_name:!0,recurrence:!0,event_type:!0,payload:!0,disable_for_migration:!0,max_schedule_ahead_time:!0},defaultColumnValues:{status:"scheduled",max_schedule_ahead_time:15,disable_for_migration:!1},model:(0,r(152853).P)({RecordStore:!0})}},54006:(e,t,r)=>{r.d(t,{Ay:()=>i,IT:()=>o});var n=()=>r(292588);const o="edge",i={table:o,columnTypes:{id:n().A.String,space_id:n().A.String,version:n().A.Number,last_version:n().A.Number,edge_type:n().A.String,source_table:n().A.String,source_id:n().A.String,target_table:n().A.String,target_id:n().A.String,alive:n().A.Boolean,order_key:n().A.String,metadata:n().A.JSON,created_at:n().A.Number,updated_at:n().A.Number},requiredColumns:{space_id:!0,edge_type:!0,source_table:!0,source_id:!0,target_table:!0,target_id:!0,alive:!0,created_at:!0,updated_at:!0},defaultColumnValues:{alive:!0,metadata:{}},model:(0,r(152853).P)({RecordStore:!0})}},59674:(e,t,r)=>{r.d(t,{y:()=>n});const n={CreatedBy:"notion://meetings/created_by_property",CreatedTime:"notion://meetings/created_time_property",LastEditedBy:"notion://meetings/last_edited_by_property",LastEditedTime:"notion://meetings/last_edited_time_property",Attendees:"notion://meetings/attendees_property",MeetingTime:"notion://meetings/meeting_time_property",MeetingType:"notion://meetings/meeting_type_property",Tags:"notion://meetings/meeting_tags_property",MeetingNoteToCalendarEventRelation:"notion://meetings/meeting_note_to_calendar_event_relation_property",CalendarEventToMeetingNoteRelation:"notion://meetings/calendar_event_to_meeting_note_relation_property"}},62182:(e,t,r)=>{r.d(t,{A:()=>i,C:()=>o});var n=()=>r(292588);const o="user_oauth_access_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,user_id:n().A.UUID,client_id:n().A.UUID,created_at:n().A.Number,revoked_at:n().A.Number,expires_at:n().A.Number},model:(0,r(152853).P)({})}},62371:(e,t,r)=>{r.d(t,{V1:()=>Ie,VR:()=>ke,FJ:()=>Se,Hw:()=>he,RO:()=>Ae,pP:()=>$,A:()=>te,BI:()=>be,xU:()=>re,Wk:()=>fe,Kc:()=>pe,V0:()=>we,QF:()=>Pe,ro:()=>_e,H2:()=>Ce,Kq:()=>ye,MP:()=>xe,w9:()=>Ne,Ix:()=>X,Nf:()=>Te,AC:()=>Y,Z3:()=>ne,OU:()=>le,oH:()=>se,Hm:()=>ee,tx:()=>Z,Mn:()=>ae,OF:()=>ie,PZ:()=>oe,Ik:()=>E,_o:()=>F,DH:()=>R,WO:()=>H,MU:()=>K,Eg:()=>W,rj:()=>z,D3:()=>q,lN:()=>G,Xj:()=>N,r4:()=>U,GG:()=>P,KI:()=>V,D1:()=>L,zx:()=>j,sj:()=>B,iF:()=>O,rM:()=>D,Vh:()=>M,Vs:()=>C,kO:()=>w,xH:()=>J,PC:()=>ge,ah:()=>ve});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(638681),a=()=>r(901610),s=()=>r(657970),l=()=>r(187696);const c=10;function d(e,t,r,o,i){if("unique"===(null==i?void 0:i.type))return{type:"unique",value:e};if(e<t||e>r)return{type:"out_of_range",start:t,end:r};const a=t+Math.floor((e-t)/o)*o,s=a+o;return{type:"range",start:n().LI(a,c),end:n().LI(s,c)}}var u=()=>r(302322),p=()=>r(363170),m=()=>r(721726),f=()=>r(708685),_=()=>r(898244),y=()=>r(713998),g=()=>r(604995),b=()=>r(236162),v=()=>r(804666),h=()=>r(792071),A=()=>r(450648),I=()=>r(519831),S=()=>r(559653),k=()=>r(201980);i().object({required:{type:i().literal("select"),value:i().undefinable(i().string())},optional:{}}),i().object({required:{type:i().literal("multi_select"),value:i().undefinable(i().string())},optional:{}}),i().object({required:{type:i().literal("status"),value:i().undefinable(i().union([i().object({required:{type:i().literal("by_group"),group:i().string()},optional:{}}),i().object({required:{type:i().literal("by_option"),option:i().string()},optional:{}})]))},optional:{}}),i().object({required:{type:i().union([i().literal("person"),i().literal("created_by"),i().literal("last_edited_by")]),value:i().undefinable(i().union([i().object({required:{table:i().literal("notion_user"),id:i().string()},optional:{}}),i().object({required:{table:i().literal("space_permission_group"),id:i().string(),spaceId:i().string()},optional:{}})]))},optional:{}}),i().object({required:{type:i().literal("relation"),value:i().undefinable(i().union([i().object({required:{table:i().literal("block"),id:i().string(),spaceId:i().string()},optional:{}}),i().object({required:{type:i().literal("relative"),value:i().object({required:{type:i().literal("builtin"),variable:i().union([i().literal("current"),i().literal("next")])},optional:{}})},optional:{}})]))},optional:{}}),i().object({required:{type:i().literal("location"),value:i().undefinable(i().object({required:{table:i().literal("collection"),id:i().string(),spaceId:i().string()},optional:{}}))},optional:{}}),i().object({required:{type:i().union([i().literal("date"),i().literal("created_time"),i().literal("last_edited_time")]),value:i().undefinable(i().any())},optional:{}}),i().object({required:{type:i().union([i().literal("text"),i().literal("title"),i().literal("url"),i().literal("email"),i().literal("phone_number")]),value:i().undefinable(i().any())},optional:{}}),i().object({required:{type:i().literal("number"),value:i().undefinable(i().any())},optional:{}}),i().object({required:{type:i().literal("checkbox"),value:i().boolean()},optional:{}}),i().object({required:{type:i().literal("formula"),value:i().undefinable(i().any())},optional:{}});const T={select:!0,multi_select:!0,person:!0},x={select:!0,multi_select:!0,status:!0,person:!0,relation:!0,date:!0,text:!0,title:!0,url:!0,email:!0,phone_number:!0,number:!0,checkbox:!0,formula:!0,created_by:!0,last_edited_by:!0,created_time:!0,last_edited_time:!0,last_visited_time:!0,location:!0};function M(e){return C(e.type)}function w(e){return C(e.type)}function C(e){return(0,y().DY)(e)}function N(e){return U(e.type)}function P(e){return U(e.type)}function U(e){return"person"===e||"created_by"===e||"last_edited_by"===e}function D(e){return O(e.type)}function B(e){return O(e.type)}function O(e){return"status"===e}function R(e){return F(e.type)}function E(e){return F(e.type)}function F(e){return"date"===e||"created_time"===e||"last_edited_time"===e||"last_visited_time"===e}function L(e){return V(e.type)}function V(e){return"relation"===e}function H(e){return!!e&&"table"in e}function j(e){return!!e&&("type"in e&&"relative"===e.type)}function q(e){return L(e)&&j(e.value)&&"last"===e.value.value.variable}function $(e,t){return"person"===e.type||"relation"===e.type||("select"===e.type||"multi_select"===e.type?t:M(e)?"exact"===e.groupBy:"status"!==e.type&&"number"!==e.type&&"date"!==e.type&&"checkbox"!==e.type&&"created_by"!==e.type&&"last_edited_by"!==e.type&&"created_time"!==e.type&&"last_edited_time"!==e.type&&"last_visited_time"!==e.type&&"formula"!==e.type&&"location"!==e.type&&void(0,o().HB)(e.type))}function G(e){return e.type in T}function z(e){return e in x}function W(e,t){if(e.hide_in_property_list)return!1;if("location"===e.type&&(0,v().a0)(null==t?void 0:t.type))return!1;if("formula"===e.type){const t=(0,f().getFormulaPropertySchemaResultType)(e);return"array"!==t&&"unknown"!==t&&"undefined"!==t}return z(e.type)}function K(e){return"property"in e&&"value"in e}const Q="uncategorized";function Z(e,t,r){return"boolean"==typeof e.hidden?e.hidden:"boolean"==typeof e.hiddenByDefault?e.hiddenByDefault:!!t&&!r}function J(e){return e.includes(Q)}function X(e){return e?Y(e.value):Q}function Y(e){if(!e.value)return`${e.type}:${Q}`;if("select"===e.type||"multi_select"===e.type)return`${e.type}:${e.value}`;if("status"===e.type){const t="by_group"===e.value.type?e.value.group:e.value.option;return`${e.type}:${e.value.type}-${t}`}if(P(e)||"location"===e.type)return`${e.type}:${e.value.id}`;if("relation"===e.type){const t=e.value;return H(t)?`${e.type}:${t.id}`:`${e.type}:${t.type}:${t.value.variable}`}if(R(e)){const t=me(e.value);return`${e.type}:${t?t.start_date:e.value.type}`}if(w(e))return`${e.type}:${"other"===e.value.type?e.value.type:e.value.value.trim()}`;if("number"===e.type){const t=e.value.type;if("range"===t)return`${e.type}:${e.value.start}:${e.value.end}`;if("out_of_range"===t)return`${e.type}:${t}`;if("unique"===t)return`${e.type}:${t}:${e.value.value}`;(0,o().HB)(t)}return"checkbox"===e.type?`${e.type}:${e.value}`:"formula"===e.type?`${e.type}:${Y(e.value)}`:void(0,o().HB)(e)}function ee(e){return te(e.map((e=>Y(e.value))))}function te(e){return e.join(":")}function re(e,t){if(0===e.length||0===t.length)return[];const r=[];return e.forEach((e=>{t.forEach((t=>{const n=te([t,e]);r.push(n)}))})),r}function ne({groupValues:e,subGroupValues:t}){const r=(null==e?void 0:e.map(Y))??[],n=(null==t?void 0:t.map(Y))??[],o=[];for(const i of r)for(const e of n){const t=te([e,i]);o.push(t)}return{independentGroupKeys:r,independentSubGroupKeys:n,intersectionKeys:o}}function oe(e,t){return e.length===t.length&&!e.find(((e,r)=>!ie(e.value,t[r].value)))}function ie(e,t){if(e===t)return!0;if(!e||!t)return e===t;if("select"===e.type||"multi_select"===e.type)return t.type===e.type&&(void 0!==e.value&&t.value,e.value===t.value);if("status"===e.type)return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?"by_group"===e.value.type&&"by_group"===t.value.type&&e.value.group===t.value.group||"by_option"===e.value.type&&"by_option"===t.value.type&&e.value.option===t.value.option:e.value===t.value);if(P(e)||"location"===e.type)return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?e.value.table===t.value.table&&e.value.id===t.value.id:e.value===t.value);if("relation"===e.type)return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?H(e.value)&&H(t.value)?e.value.table===t.value.table&&e.value.id===t.value.id:!(!j(e.value)||!j(t.value))&&(e.value.type===t.value.type&&e.value.value.variable===t.value.value.variable):e.value===t.value);if(R(e)){if(t.type!==e.type)return!1;if(void 0!==e.value&&void 0!==t.value){const r=me(e.value),o=me(t.value);return void 0!==r&&void 0!==o?n().n4(r,o):e.value.type===t.value.type}return e.value===t.value}if(w(e))return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?"exact"===e.value.type&&"exact"===t.value.type||"alphabet_prefix"===e.value.type&&"alphabet_prefix"===t.value.type?e.value.value.trim()===t.value.value.trim():"other"===e.value.type&&"other"===t.value.type:e.value===t.value);if("number"===e.type){if(t.type!==e.type)return!1;if(void 0!==e.value&&void 0!==t.value){if("range"===e.value.type&&"range"===t.value.type)return e.value.start===t.value.start&&e.value.end===t.value.end;if("out_of_range"===e.value.type&&"out_of_range"===t.value.type)return!0}return e.value===t.value}return"checkbox"===e.type?t.type===e.type&&e.value===t.value:"formula"===e.type?t.type===e.type&&ie(e.value,t.value):void(0,o().HB)(e)}function ae(e,t){return e===t||!(!e||!t)&&ie(e.value,t.value)}function se(e){const{schema:t,groupBy:r}=e,{property:n}=r,o=t[n];if(o&&("select"===o.type||"multi_select"===o.type)){const e=(o.options||[]).map((e=>"select"===o.type?{type:"select",value:e.value}:{type:"multi_select",value:e.value}));return e.unshift({type:o.type,value:void 0}),e}if(o&&"status"===o.type){if("status"!==r.type)return;const e="group"===r.groupBy?(o.groups??[]).map((e=>({type:"status",value:{type:"by_group",group:e.name}}))):(o.options??[]).map((e=>({type:"status",value:{type:"by_option",option:e.value}})));return Boolean(o.defaultOption)&&(o.options??[]).some((e=>e.value===o.defaultOption))||e.unshift({type:"status",value:void 0}),e}if(o&&"checkbox"===o.type){return[{type:"checkbox",value:!0},{type:"checkbox",value:!1}]}}function le(e){const{block:t,schema:r,groupBy:n,getRecordModel:i,propertyMapping:a,relativeVariableResult:c,collectionRequestContext:v,formulasModule:T,spaceIdCreator:x}=e,{userId:w,userTimeZone:N,intl:P}=v,U=r[n.property];if(!U||!W(U))return;const D=(0,y().yQ)(t,(null==a?void 0:a[n.property])??n.property,i);if("select"===U.type){const e=(0,y().L3)(D,U.options||[]);return e?[{type:"select",value:e}]:[{type:"select",value:void 0}]}if("multi_select"===U.type){const e=(0,y().o2)(D,U.options||[]);return e.length>0?e.map((e=>({type:"multi_select",value:e}))):[{type:"multi_select",value:void 0}]}if("status"===U.type){if("status"!==n.type)return;const e=U.options??[],t=(0,y().RZ)(D,U),r=e.find((e=>e.value===t)),o=(U.groups??[]).find((e=>{var t;return r&&(null===(t=e.optionIds)||void 0===t?void 0:t.includes(r.id))}));return"group"===n.groupBy&&o?[{type:"status",value:{type:"by_group",group:o.name}}]:"option"===n.groupBy&&r?[{type:"status",value:{type:"by_option",option:r.value}}]:[{type:"status",value:void 0}]}if("person"===U.type){const e=h().Bj6.fromBlock(t),r=(0,p().e)({textValue:D,propertySchema:U,blockCreatorPointer:e.getCreatedByPointer()});return r.length>0?r.map((e=>({type:"person",value:e}))):[{type:"person",value:void 0}]}if("relation"===U.type){const e=(0,y().n)(D),t=(0,y().bG)({relationValue:e,propertySchema:U,getRecordModel:i,includeNoAccess:!0});if(0===t.length)return[{type:"relation",value:void 0}];const r=(0,_().Nv)(U),n=r&&c&&c[r.id],o=[];return t.forEach((e=>{e.spaceId||(e.spaceId=null==r?void 0:r.spaceId);const t=function(e){const{relativeVariableValues:t,pointer:r}=e;if(!t)return[];const n=[];return Object.entries(t).forEach((([e,t])=>{if(r.id===t){const t={type:"relation",value:{type:"relative",value:{type:"builtin",variable:e}}};n.push(t)}})),n}({relativeVariableValues:n,pointer:e});if(t.length>0)o.push(...t);else{const t={type:"relation",value:e};o.push(t)}})),o}if("location"===U.type)return[{type:"location",value:(0,y().N8)({block:t})}];if("date"===U.type){if("date"!==n.type)return;return ue({dateValue:(0,l().b)(D),intl:P,userTimeZone:N,groupBy:n})}if("created_time"===U.type){if("created_time"!==n.type)return;if(!t.created_time)return[{type:"created_time",value:void 0}];return ue({dateValue:(0,g().KQ)(t.created_time,N),intl:P,userTimeZone:N,groupBy:n})}if("last_edited_time"===U.type){if("last_edited_time"!==n.type)return;if(!t.last_edited_time)return[{type:"number",value:void 0}];return ue({dateValue:(0,g().KQ)(t.last_edited_time,N),intl:P,userTimeZone:N,groupBy:n})}if("last_visited_time"===U.type){if("last_visited_time"!==n.type)return;if(!w)return;const e=(0,S().$5)({parent_id:t.id,user_id:w}),r=i({table:S().F9,id:e,spaceId:t.space_id}),o=null==r?void 0:r.getVisitedAt();if(!o)return[{type:"last_visited_time",value:void 0}];return ue({dateValue:(0,g().KQ)(o,N),intl:P,userTimeZone:N,groupBy:n})}if("created_by"===U.type){if("created_by"!==n.type)return;return t.created_by_id&&t.created_by_table?[{type:"created_by",value:{table:t.created_by_table,id:t.created_by_id,spaceId:t.space_id}}]:[{type:"created_by",value:void 0}]}if("last_edited_by"===U.type){if("last_edited_by"!==n.type)return;return t.last_edited_by_id&&t.last_edited_by_table?[{type:"last_edited_by",value:{table:t.last_edited_by_table,id:t.last_edited_by_id,spaceId:t.space_id}}]:[{type:"last_edited_by",value:void 0}]}if(C(U.type)){if(!M(n))return;const e=h().Bj6.fromBlock(t);return de({textValue:(0,m().W)({block:e,propertySchema:U,propertyValue:D,getRecordModel:i,filterValueParseContext:v,propertyId:n.property}).value,groupBy:n})}if("number"===U.type){if("number"!==n.type)return;const e=(0,u().M)(D);if("number"==typeof e){return[{type:"number",value:d(e,n.start,n.end,n.size,n.groupBy)}]}return[{type:"number",value:void 0}]}if("checkbox"===U.type){if("checkbox"!==n.type)return;return[{type:"checkbox",value:(0,s().w)(D)}]}if("formula"===U.type){if("formula"!==n.type)return;if(!T)return;const e=n.groupBy,a=(0,b().zN)({block:h().Bj6.fromBlock(t),getRecordModel:i});if(!a)return;const s={table:I().Vl,id:a.id,spaceId:t.space_id},l=[(0,k().wmz)((0,k().ESw)({collection:s,property:n.property,name:""}))],c="v2"===U.version?T.evaluateCollectionFormula2({block:h().Bj6.fromBlock(t),property:n.property,formulaCode:l,getRecordModel:i,intl:P,userTimeZone:N,depth:0,visitedProperties:new Set,formulaTimeoutTimestampMs:v.formulaTimeoutTimestampMs,logFormulaTimeoutFn:v.logFormulaTimeoutFn,logFormulaStatsFn:v.logFormulaStatsFn,resultCache:v.resultCache,regExpCache:v.regExpCache,formatDateCache:v.formatDateCache,experimentService:v.experimentService,collectionFeatureGates:v.collectionFeatureGates,spaceIdCreator:x}):(0,f().wrapLegacyFormulaValue)(T.propertyToFormulaValue({property:n.property,schema:r,block:h().Bj6.fromBlock(t),getRecordModel:i,collectionRequestContext:v,spaceIdCreator:x})),u=[{type:"formula",value:void 0}];if(!c||"undefined"===c.type)return u;if("text"===e.type){if("text"!==c.type)return u;const t={...e,property:n.property};return ce(de({textValue:(0,A().r4)({textValue:c.value,getRecordModel:i,intl:P,userTimeZone:N,disableAnnotationPrefix:!0}),groupBy:t}))}if("number"===e.type){if("number"!==c.type)return u;return ce([{type:"number",value:d(c.value,e.start,e.end,e.size,e.groupBy)}])}if("checkbox"===e.type)return"checkbox"!==c.type?u:ce([{type:"checkbox",value:c.value}]);if("date"===e.type){if("date"!==c.type)return u;const t=ue({dateValue:c.value,intl:P,userTimeZone:N,groupBy:{...e,property:n.property}});return ce(t?t.filter((e=>"date"===e.type)):void 0)}if("person"===e.type||"last_edited_by"===e.type||"created_by"===e.type){if("person"!==c.type)return u;return ce([{type:"person",value:c.value}])}if("relation"===e.type){if("block"!==c.type)return u;const e=i(c.value);if(!e)return u;const t=e.getRenderTitle({getRecordModel:i,userTimeZone:N,intl:P});return t?ce([{type:"text",value:{type:"exact",value:t}}]):u}(0,o().HB)(e.type)}(0,o().HB)(U.type)}function ce(e){if(e)return e.map((e=>({type:"formula",value:e})))}function de(e){const{textValue:t,groupBy:r}=e;if(M(r)){if(!t)return[{type:r.type,value:void 0}];if("alphabet_prefix"===r.groupBy){const e=fe(t);return e?[{type:r.type,value:{type:"alphabet_prefix",value:e}}]:[{type:r.type,value:{type:"other"}}]}if("exact"===r.groupBy)return[{type:r.type,value:{type:"exact",value:t}}];(0,o().HB)(r.groupBy)}}function ue(e){const{dateValue:t,groupBy:r,userTimeZone:n,intl:i}=e;if(!E(r))return;if(!t)return[{type:r.type,value:void 0}];const a=(0,g().AA)(t,n,i.locale).start.setZone(n);if("relative"===r.groupBy){const e=function(e,t){const r=(0,g().ah)(t).startOf("day"),n=e.diff(r,"days").days;if(n>=0)return n<1?{type:"today"}:n<2?{type:"tomorrow"}:n<8?{type:"next_7_days"}:n<31?{type:"next_30_days"}:void 0;if(n>=-1)return{type:"yesterday"};if(n>=-7)return{type:"last_7_days"};if(n>=-30)return{type:"last_30_days"}}(a,n);return e?[{type:r.type,value:e}]:[{type:r.type,value:{type:"month",range:g().C6.toPersistedDateRange({start:a.startOf("month"),end:a.endOf("month")},null)}}]}if("day"===r.groupBy)return[{type:r.type,value:{type:"day",range:g().C6.toPersistedDateRange({start:a.startOf("day"),end:a.endOf("day")},null)}}];if("week"===r.groupBy){const e=r.startDayOfWeek??0,t=0===e&&7===a.weekday?7:e,n=t+6,o=a.set({weekday:t,hour:0,minute:0,second:0,millisecond:0}),i=a.set({weekday:n,hour:23,minute:59,second:59,millisecond:999});return[{type:r.type,value:{type:"week",range:g().C6.toPersistedDateRange({start:o,end:i},null)}}]}return"month"===r.groupBy?[{type:r.type,value:{type:"month",range:g().C6.toPersistedDateRange({start:a.startOf("month"),end:a.endOf("month")},null)}}]:"year"===r.groupBy?[{type:r.type,value:{type:"year",range:g().C6.toPersistedDateRange({start:a.startOf("year"),end:a.endOf("year")},null)}}]:void(0,o().HB)(r.groupBy)}function pe(e,t){const r=(0,g().ah)(t);if("today"===e.type)return{start:r.startOf("day"),end:r.endOf("day")};if("yesterday"===e.type)return{start:r.minus({days:1}).startOf("day"),end:r.minus({days:1}).endOf("day")};if("last_7_days"===e.type)return{start:r.minus({days:7}).startOf("day"),end:r.minus({days:2}).endOf("day")};if("last_30_days"===e.type)return{start:r.minus({days:30}).startOf("day"),end:r.minus({days:8}).endOf("day")};if("tomorrow"===e.type)return{start:r.plus({days:1}).startOf("day"),end:r.plus({days:1}).endOf("day")};if("next_7_days"===e.type)return{start:r.plus({days:2}).startOf("day"),end:r.plus({days:7}).endOf("day")};if("next_30_days"===e.type)return{start:r.plus({days:8}).startOf("day"),end:r.plus({days:30}).endOf("day")};if("day"===e.type||"week"===e.type||"month"===e.type||"year"===e.type){const r=(0,g().AA)(e.range,t);return{start:r.start.startOf("day"),end:r.end.endOf("day")}}(0,o().HB)(e)}function me(e){return"today"===e.type||"yesterday"===e.type||"last_7_days"===e.type||"last_30_days"===e.type||"tomorrow"===e.type||"next_7_days"===e.type||"next_30_days"===e.type?void 0:e.range}function fe(e){const t=e.toUpperCase()[0];if(/^[A-Z0-9]$/.test(t))return t}function _e(e){if("checkbox"===(0,f().getFormulaPropertySchemaResultType)(e))return{type:"formula",value:{type:"checkbox",value:!1}};switch(e.type){case"checkbox":return{type:"checkbox",value:!1};case"created_by":case"last_edited_by":case"created_time":case"last_edited_time":case"location":return;default:return{type:e.type,value:void 0}}}function ye(e){return"formula"===e.type?e.groupBy.sort:e.sort}const ge=["group","option"],be=["relative","day","week","month","year"],ve=["exact","alphabet_prefix"],he={board_columns_by:"board_columns",collection_group_by:"collection_groups",chart_config:"chart_subgroups"},Ae="group_menu",Ie="collection_groups",Se="collection_group_aggregation",ke={aggregator:"count",property:void 0,enforceMaxAggregationLimit:!0};function Te(e){return U(e.type)||"checkbox"===e.type?["manual"]:"select"===e.type||"multi_select"===e.type||"status"===e.type||"relation"===e.type?["manual","ascending","descending"]:F(e.type)?["ascending","descending"]:C(e.type)?["manual","ascending","descending"]:"number"===e.type?["ascending","descending"]:"formula"===e.type?Te(e.groupBy):"location"===e.type?["manual","ascending","descending"]:void(0,o().HB)(e.type)}function xe(e){if(U(e.type)||"checkbox"===e.type){const t={...e};return t.sort={type:"manual"},t}if("select"===e.type||"multi_select"===e.type){const t={...e};return t.sort={type:"ascending"},t}if("status"===e.type){const t={...e};return t.sort={type:"ascending"},t}if("relation"===e.type){const t={...e};return t.sort={type:"ascending"},t}if(F(e.type)){const t={...e};return t.sort={type:"ascending"},t}if(C(e.type)){const t={...e};return t.sort={type:"ascending"},t}if("number"===e.type){const t={...e};return t.sort={type:"ascending"},t}if("formula"===e.type)return xe(e.groupBy);if("location"===e.type){const t={...e};return t.sort={type:"ascending"},t}(0,o().HB)(e.type)}function Me(e,t,r){const n=void 0===r||r;return"select"===e||"multi_select"===e||U(e)?{...t,type:e,hideEmptyGroups:n,sort:{type:"manual"}}:"status"===e?{...t,type:e,hideEmptyGroups:n,groupBy:"option",sort:{type:"ascending"}}:"relation"===e||"location"===e?{...t,hideEmptyGroups:n,type:e,sort:{type:"ascending"}}:F(e)?{...t,hideEmptyGroups:n,type:e,groupBy:"relative",sort:{type:"ascending"}}:"phone_number"===e||C(e)?{...t,hideEmptyGroups:n,type:e,groupBy:"exact",sort:{type:"ascending"}}:"number"===e?{...t,hideEmptyGroups:n,type:e,start:0,end:1e3,size:100,sort:{type:"ascending"}}:"checkbox"===e?{...t,hideEmptyGroups:n,type:e,sort:{type:"manual"}}:void(0,o().HB)(e)}function we(e){const{property:t,propertySchema:r,isCollectionTypedView:n,hideEmptyGroups:o}=e,i=void 0===o||o,a={property:t};if("formula"===r.type){const e=(0,f().getFormulaPropertySchemaResultType)(r);return"array"===e||"unknown"===e||"undefined"===e?{...a,type:"formula",hideEmptyGroups:i,groupBy:Me("number",a)}:"block"===e?{type:"formula",hideEmptyGroups:i,groupBy:Me("relation",a),...a}:{type:"formula",hideEmptyGroups:i,groupBy:Me(e,a),...a}}const s=Me(r.type,a,i);return n&&"status"===s.type&&(s.groupBy="group"),s}function Ce(e,t,r){return"chart_config"!==t?e[t]:null!=e&&e.chart_config&&"placeholder"!==e.chart_config.type&&"groups_reducer"===e.chart_config.dataConfig.type?(0,a().m)(null==e?void 0:e.chart_config)&&"chart_subgroups"===r?null===(n=e.chart_config.dataConfig.aggregationConfig.stackOptions)||void 0===n?void 0:n.groupBy:e.chart_config.dataConfig.groupBy:void 0;var n}function Ne(e,t){const r=n().mg(e),o=t.start_week_on??0;return E(r)&&"week"===r.groupBy?r.startDayOfWeek=o:"formula"===r.type&&E(r.groupBy)&&"week"===r.groupBy.groupBy&&(r.groupBy.startDayOfWeek=o),r}function Pe(e,t){return{property:e,value:t}}},63128:(e,t,r)=>{r.d(t,{Ay:()=>s,Lb:()=>i,Vv:()=>a,qm:()=>o});var n=()=>r(292588);const o="channel",i={[r(854150).yK]:!0},a={table:o,columnTypes:{id:n().A.UUID,name:n().A.String,description:n().A.String,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID},requiredColumns:{id:!0,version:!0,parent_table:!0,space_id:!0,parent_id:!0},model:(0,r(152853).P)({RecordStore:!0})},s=o},67385:(e,t,r)=>{r.d(t,{Ay:()=>s,r1:()=>i});var n=()=>r(638681),o=()=>r(292588);const i="device",a={table:i,columnTypes:{id:o().A.UUID,created_at:o().A.Number,version:o().A.Number,last_version:o().A.Number,device_name:o().A.String,device_os:o().A.String,os_version:o().A.NumberArray,device_platform:o().A.String},model:(0,r(152853).P)({})},s=(n().literals("ios","android","mac","windows","chrome","linux","unknown"),n().literals("react-native","electron","browser","unknown"),a)},67657:(e,t,r)=>{r.d(t,{A3:()=>A,AS:()=>oe,CG:()=>_,ET:()=>M,FM:()=>h,G9:()=>C,Iq:()=>m,J7:()=>L,KW:()=>H,Kn:()=>P,NU:()=>B,OC:()=>Y,Sn:()=>b,V1:()=>N,VD:()=>u,Y:()=>k,ZP:()=>w,bY:()=>y,ek:()=>Z,fo:()=>re,fr:()=>v,iY:()=>U,nJ:()=>x,ou:()=>F,pe:()=>te,q0:()=>ee,s_:()=>ne,un:()=>p,wG:()=>X,zE:()=>S});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(862e3),i=()=>r(214388),a=()=>r(748580),s=()=>r(708685),l=()=>r(898244),c=()=>r(604995),d=()=>r(792071);const u=["count"];function p(e){return"count"===e}function m(e){return p(e.aggregator)}const f={count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,show_unique:!0},_=(0,n().uv)(f);function y(e){return"string"==typeof e?Boolean(f[e]):"object"==typeof e?Boolean(f[e.operator]):void(0,n().HB)(e)}const g={sum:!0,average:!0,median:!0,min:!0,max:!0,range:!0},b=(0,n().uv)(g);function v(e){return"string"==typeof e?Boolean(g[e]):"object"==typeof e?Boolean(g[e.operator]):void(0,n().HB)(e)}function h(e){return v(e.aggregator)}const A=(0,n().uv)({unique:!0,count_values:!0}),I={earliest_date:!0,latest_date:!0,date_range:!0},S=(0,n().uv)(I);function k(e){return"string"==typeof e?Boolean(I[e]):"object"==typeof e?Boolean(I[e.operator]):void(0,n().HB)(e)}const T={count_per_group:!0,percent_per_group:!0},x=(0,n().uv)(T);function M(e){return Boolean(T[e.operator])}function w(e){return M(e)?e.operator:e}function C(e){return!p(e.aggregator)}function N(e){return"string"==typeof e.aggregator?e.aggregator:"object"==typeof e.aggregator?e.aggregator.operator:void(0,n().HB)(e)}const P={count_aggregations:["count","count_values","unique","empty","not_empty","checked","unchecked","count_per_group"],percent_aggregations:["percent_empty","percent_not_empty","percent_checked","percent_unchecked","percent_per_group"],statistics_aggregations:["sum","average","median","min","max","range"],date_aggregations:["earliest_date","latest_date","date_range"],rollup_aggregations:["show_unique"]},U=100,D={text:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},checkbox:{count:!0,checked:!0,unchecked:!0,percent_checked:!0,percent_unchecked:!0},select:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},multi_select:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},status:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,count_per_group:!0,percent_per_group:!0},relation:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},person:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},location:{count:!0,count_values:!0,unique:!0},number:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,sum:!0,average:!0,median:!0,min:!0,max:!0,range:!0},date:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,earliest_date:!0,latest_date:!0,date_range:!0},file:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},verification:{},place:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0}};function B(e,t){return"string"==typeof t?Boolean(D[e][t]):"object"==typeof t?Boolean(D[e][t.operator]):void(0,n().HB)(t)}const O={count:()=>({type:"count",count:0}),count_values:()=>({type:"count_values",count:0}),empty:()=>({type:"empty",empty:0}),not_empty:()=>({type:"not_empty",filled:0}),unique:()=>({type:"unique",values:new Set}),show_unique:()=>({type:"show_unique",values:new Set}),percent_empty:()=>({type:"percent_empty",count:0,empty:0}),percent_not_empty:()=>({type:"percent_not_empty",count:0,filled:0}),sum:()=>({type:"sum",sum:0}),average:()=>({type:"average",count:0,sum:0}),median:()=>({type:"median",values:[]}),min:()=>({type:"min",min:void 0}),max:()=>({type:"max",max:void 0}),range:()=>({type:"range",min:void 0,max:void 0}),earliest_date:()=>({type:"earliest_date",min:void 0}),latest_date:()=>({type:"latest_date",max:void 0}),date_range:()=>({type:"date_range",min:void 0,max:void 0}),checked:()=>({type:"checked",checked:0}),unchecked:()=>({type:"unchecked",unchecked:0}),percent_checked:()=>({type:"percent_checked",count:0,checked:0}),percent_unchecked:()=>({type:"percent_unchecked",count:0,unchecked:0}),count_per_group:({groupName:e})=>({type:"count_per_group",statusGroup:e,groupCount:0,total:0}),percent_per_group:({groupName:e})=>({type:"percent_per_group",statusGroup:e,groupCount:0,total:0})},R=((0,n().uv)(O),{count:"number",count_values:"number",empty:"number",not_empty:"number",unique:"number",percent_empty:"number",percent_not_empty:"number",sum:"number",average:"number",median:"number",min:"number",max:"number",range:"number",checked:"number",unchecked:"number",percent_checked:"number",percent_unchecked:"number",earliest_date:"date",latest_date:"date",date_range:"date",show_unique:"number",count_per_group:"text",percent_per_group:"number"}),E={userId:void 0,userStartOfWeek:0};function F(e){return R[e]}function L(e){return"string"==typeof e?O[e]([]):"object"==typeof e?O[e.operator]({groupName:e.groupName}):void(0,n().HB)(e)}function V(e){const{state:t,filterValue:r}=e,n=K[t.type][r.type];n&&n(e)}function H(e){const{state:t,aggregation:r,collectionRequestContext:n,formulasModule:o,spaceIdCreator:i}=e,{userTimeZone:s,intl:l}=n;if(m(r))V({filterValue:{type:"text",value:void 0},state:t,userTimeZone:s,intl:l,collectionRequestContext:n});else if(C(r)){const{property:n}=r,{block:c,getRecordModel:u,collectionRequestContext:p,...m}=e,f=(0,a().d2)({...m,block:d().Bj6.fromBlock(c),getRecordModel:u,property:n,collectionRequestContext:{...p,depth:p.depth+1},formulasModule:o,spaceIdCreator:i});for(const e of f)"verification"!==e.type&&V({filterValue:e,state:t,userTimeZone:s,intl:l,collectionRequestContext:p})}}function j(e){e.state.count+=1}function q(e){(0,i().c0)({filter:{operator:"is_empty"},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.empty+=1)}function $(e){(0,i().c0)({filter:{operator:"is_not_empty"},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.filled+=1)}function G(e){const t=(0,i().c0)({filter:{operator:"is_empty"},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.empty+=1)}function z(e){const t=(0,i().c0)({filter:{operator:"is_not_empty"},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.filled+=1)}const W={number:e=>{const t=e.filterValue;void 0===t.value||isNaN(t.value)||e.state.values.add(t.value.toString())},text:e=>{const t=e.filterValue;void 0!==t.value&&t.value.length>0&&e.state.values.add(t.value)},select:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(t.value)},multi_select:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r)},status:e=>{const t=e.filterValue;void 0!==t.option&&e.state.values.add(t.option)},relation:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r.id)},person:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r.id)},location:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(t.value.id)},date:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(r(869190).ZF({allowRelativeDates:!1,value:t.value,userTimeZone:e.userTimeZone,intl:e.intl}))},file:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r)},place:e=>{const t=e.filterValue;if(void 0!==t.value){const n=r(96330).X1(t.value);void 0!==n&&e.state.values.add(n)}}},K={count:{number:j,text:j,select:j,multi_select:j,status:j,relation:j,person:j,date:j,file:j,location:j,checkbox:j,place:j},count_values:{number:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},text:e=>{const t=e.filterValue;void 0!==t.value&&t.value.length>0&&(e.state.count+=1)},select:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},multi_select:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},status:e=>{void 0!==e.filterValue.option&&(e.state.count+=1)},relation:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},person:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},date:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},file:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},location:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},place:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)}},show_unique:W,unique:W,empty:{number:q,text:q,select:q,multi_select:q,status:q,relation:q,person:q,date:q,file:q,place:q},not_empty:{number:$,text:$,select:$,multi_select:$,status:$,relation:$,person:$,date:$,file:$,place:$},percent_empty:{number:G,text:G,select:G,multi_select:G,status:G,relation:G,person:G,date:G,file:G,place:G},percent_not_empty:{number:z,text:z,select:z,multi_select:z,status:z,relation:z,person:z,date:z,file:z,place:z},sum:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(e.state.sum+=t)}},average:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(e.state.count+=1,e.state.sum+=t)}},median:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||e.state.values.push(t)}},min:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(void 0===e.state.min||t<e.state.min)&&(e.state.min=t)}},max:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(void 0===e.state.max||t>e.state.max)&&(e.state.max=t)}},range:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||((void 0===e.state.min||t<e.state.min)&&(e.state.min=t),(void 0===e.state.max||t>e.state.max)&&(e.state.max=t))}},checked:{checkbox:function(e){(0,i().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!0}},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.checked+=1)}},unchecked:{checkbox:function(e){(0,i().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!1}},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.unchecked+=1)}},percent_checked:{checkbox:function(e){const t=(0,i().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!0}},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.checked+=1)}},percent_unchecked:{checkbox:function(e){const t=(0,i().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!1}},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.unchecked+=1)}},date_range:{date:e=>{const t=e.filterValue.value,r=e.state;if(void 0!==t){const n=c().AA(t,e.userTimeZone);(void 0===r.min||n.start<r.min)&&(r.min=n.start);const o=n.end??n.start;(void 0===r.max||r.max<o)&&(r.max=o)}}},earliest_date:{date:e=>{const t=e.filterValue.value,r=e.state;if(void 0!==t){const n=c().AA(t,e.userTimeZone);(void 0===r.min||n.start<r.min)&&(r.min=n.start)}}},latest_date:{date:e=>{const t=e.filterValue.value,r=e.state;if(void 0!==t){const n=c().AA(t,e.userTimeZone),o=n.end??n.start;(void 0===r.max||r.max<o)&&(r.max=o)}}},count_per_group:{status:function(e){(0,i().c0)({filter:{operator:"status_is",value:{type:"is_group",value:e.state.statusGroup}},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.groupCount+=1),e.state.total+=1}},percent_per_group:{status:function(e){(0,i().c0)({filter:{operator:"status_is",value:{type:"is_group",value:e.state.statusGroup}},...E,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.groupCount+=1),e.state.total+=1}}},Q={count:e=>({type:"number",value:e.count}),count_values:e=>({type:"number",value:e.count}),empty:e=>({type:"number",value:e.empty}),not_empty:e=>({type:"number",value:e.filled}),unique:e=>({type:"number",value:e.values.size}),show_unique:e=>({type:"number",value:e.values.size}),percent_empty:e=>({type:"number",value:0===e.count?void 0:e.empty/e.count}),percent_not_empty:e=>({type:"number",value:0===e.count?void 0:e.filled/e.count}),sum:e=>({type:"number",value:e.sum}),average:e=>({type:"number",value:0===e.count?void 0:e.sum/e.count}),median:e=>({type:"number",value:J(e.values)}),min:e=>({type:"number",value:e.min}),max:e=>({type:"number",value:e.max}),range:e=>({type:"number",value:void 0!==e.max&&void 0!==e.min?e.max-e.min:void 0}),checked:e=>({type:"number",value:e.checked}),unchecked:e=>({type:"number",value:e.unchecked}),percent_checked:e=>({type:"number",value:0===e.count?void 0:e.checked/e.count}),percent_unchecked:e=>({type:"number",value:0===e.count?void 0:e.unchecked/e.count}),earliest_date:e=>({type:"date",value:e.min?c().Xo(e.min):void 0}),latest_date:e=>({type:"date",value:e.max?c().Xo(e.max):void 0}),date_range:e=>{if(void 0===e.max||void 0===e.min)return{type:"date",value:void 0};return{type:"date",value:c().NC(e.min.valueOf(),e.max.valueOf(),e.min.zoneName)}},count_per_group:e=>({type:"text",value:`${e.groupCount}/${e.total}`}),percent_per_group:e=>({type:"number",value:0===e.total?void 0:e.groupCount/e.total})};function Z(e){return(0,Q[e.type])(e)}function J(e){return 0===e.length?0:r(745875).JZ(e)}function X(e){return!(ne(e)||ee(e)||te(e)||(0,l().rK)(e.type))}function Y(e){return Boolean("number"===e.type||"number"===(0,s().getFormulaPropertySchemaResultType)(e)||"rollup"===e.type&&e.aggregation&&"number"===F(w(e.aggregation)))}function ee(e){return"status"===e.type}function te(e){return"location"===e.type}function re(e){return Boolean((0,o().$)(e)||"date"===(0,s().getFormulaPropertySchemaResultType)(e)||"rollup"===e.type&&e.aggregation&&"date"===F(w(e.aggregation)))}function ne(e){return"checkbox"===e.type||"checkbox"===(0,s().getFormulaPropertySchemaResultType)(e)}function oe(e){return"count"===e||"count_values"===e||"unique"===e||"empty"===e||"not_empty"===e}},68263:(e,t,r)=>{r.d(t,{$I:()=>h,B2:()=>F,BP:()=>N,DH:()=>S,Ds:()=>G,FP:()=>re,HM:()=>ae,Jx:()=>L,Km:()=>P,Lg:()=>j,Lw:()=>ce,M3:()=>ue,MZ:()=>x,NB:()=>k,Ni:()=>q,Ny:()=>E,OA:()=>ne,P3:()=>H,PW:()=>v,T$:()=>Y,T6:()=>R,TE:()=>p,Tt:()=>I,UA:()=>y,Ux:()=>b,W8:()=>oe,Yi:()=>de,ZK:()=>W,ZQ:()=>O,_S:()=>z,_d:()=>ee,cd:()=>$,eu:()=>J,gl:()=>Q,h9:()=>A,hI:()=>le,hV:()=>u,i4:()=>se,jj:()=>B,lg:()=>w,nL:()=>X,nl:()=>Z,oI:()=>m,ok:()=>T,p2:()=>M,sk:()=>te,tb:()=>V,uQ:()=>C,un:()=>K,vZ:()=>ie,vp:()=>U,w:()=>_});r(944114),r(898992),r(823215);var n=()=>r(534177),o=()=>r(179034),i=()=>r(519831),a=()=>r(854150),s=()=>r(234459),l=()=>r(743246),c=()=>r(464192),d=()=>r(962277);const u=["none","reader","comment_only","content_only_editor","read_and_write","membership_admin","editor"],p=Object.assign({},...u.map(((e,t)=>({[e]:t})))),m=["read_content","insert_content","update_content","read_comment","insert_comment","interact_with_agents"],f=["read_user_without_email","read_user_with_email","read_user_email_name_photo"],_=["webhooks","workspace_search","workspace_page_export","workspace_content_transfer","read_teamspace"],y={none:"none",reader:{read_content:!0,read_comment:!0},comment_only:{read_content:!0,read_comment:!0,insert_comment:!0},content_only_editor:{read_content:!0,insert_content:!0,read_comment:!0,insert_comment:!0},read_and_write:{read_content:!0,insert_content:!0,update_content:!0,read_comment:!0,insert_comment:!0},membership_admin:"none"},g={read_content:!0,insert_content:!0,update_content:!0,read_comment:!0,insert_comment:!0,read_property:!0,insert_property:!0,update_property:!0,link_preview:!0,synced_database:!0,webhooks:!0,workspace_search:!0,workspace_page_export:!0,workspace_content_transfer:!0,read_teamspace:!0,interact_with_agents:!0,inherit_creator_permissions:!0,read_user_without_email:!0,read_user_with_email:!0,read_user_email_name_photo:!0};function b(){return(0,n().uv)(g)}function v(e){return"none"===e||"reader"===e||"comment_only"===e||"content_only_editor"===e||"read_and_write"===e||"membership_admin"===e||"editor"===e}function h(e){return"none"===e}function A(e){return"string"==typeof e?"reader"===e:!0===e.read_content&&!0!==e.insert_content&&!0!==e.update_content||!0===e.read_property&&!0!==e.insert_property&&!0!==e.update_property}function I(e){return"string"==typeof e?"reader"===e||"comment_only"===e||"content_only_editor"===e||"read_and_write"===e||"membership_admin"===e||"editor"===e:!0===e.read_content||!0===e.read_property||!0===e.interact_with_agents}function S(e){return"read_and_write"===e||"membership_admin"===e||"editor"===e}function k(e){return"read_and_write"===e}function T(e){return"comment_only"===e||M(e)||Boolean("object"==typeof e&&e.insert_comment)}function x(e){return"comment_only"===e}function M(e){return"content_only_editor"===e||w(e)||function(e){return P(e)||D(e)||k(e)}(e)}function w(e){return"string"==typeof e?"read_and_write"===e||"editor"===e:!0===e.insert_content||!0===e.update_content||!0===e.insert_property||!0===e.update_property||!0===e.interact_with_agents}function C(e){return"content_only_editor"===e}function N(e){return"object"==typeof e&&!0===e.insert_content&&!0===e.update_content&&!0!==e.read_content}function P(e){return"editor"===e}function U(e){return"membership_admin"===e||P(e)}function D(e){return"membership_admin"===e}function B(e){const t=f;return Object.keys(e).every((e=>t.includes(e)))}r(638681).literals("none","reader","comment_only","read_and_write","membership_admin","editor");const O=["deleted_permission","restricted_permission","exclusive_user_permission","collection_property_permission","user_permission","bot_permission","group_permission","team_owner_permission","team_permission","explicit_team_guest_permission","explicit_team_permission","explicit_team_owner_permission","space_owner_permission","space_permission","trusted_domain_permission","public_permission"];function R(e){return"restricted_permission"===e.type}function E(e){return"deleted_permission"===e.type}function F(e){return"user_permission"===e.type}function L(e){return"exclusive_user_permission"===e.type}function V(e){return"collection_property_permission"===e.type}function H(e){return"bot_id"in e&&"bot_permission"===e.type}function j(e){return"space_permission"===e.type}function q(e){return j(e)&&Boolean(e.unlisted_timestamp)}function $(e){return"space_owner_permission"===e.type}function G(e){return"group_permission"===e.type}function z(e){return"team_permission"===e.type}function W(e){return"team_owner_permission"===e.type}function K(e){return"explicit_team_guest_permission"===e.type}function Q(e){return"explicit_team_permission"===e.type}function Z(e){return"explicit_team_owner_permission"===e.type}function J(e){return"explicit_team_permission"===e.type||"explicit_team_owner_permission"===e.type}function X(e){return z(e)||Q(e)||W(e)||Z(e)}function Y(e){return z(e)||Q(e)}function ee(e){return W(e)||Z(e)}function te(e){return"trusted_domain_permission"===e.type}function re(e){return"public_permission"===e.type}function ne(e){return!!e.expiration_timestamp&&Date.now()>e.expiration_timestamp}function oe(e){return re(e)&&(0,d().W)(e)}function ie(e){return re(e)&&(0,c().v)(e)}function ae(e){return"user_permission"===e||"group_permission"===e||"space_permission"===e||"space_owner_permission"===e||"explicit_team_permission"===e||"explicit_team_owner_permission"===e||"collection_property_permission"!==e&&"public_permission"!==e&&"restricted_permission"!==e&&"deleted_permission"!==e&&"bot_permission"!==e&&"exclusive_user_permission"!==e&&"explicit_team_guest_permission"!==e&&"team_permission"!==e&&"team_owner_permission"!==e&&"trusted_domain_permission"!==e&&void(0,n().HB)(e)}function se(e){return!!(F(e)||G(e)||j(e)||$(e)||Q(e)||Z(e))||!(V(e)||re(e)||R(e)||E(e)||H(e)||L(e)||K(e)||z(e)||W(e)||te(e))&&void(0,n().HB)(e)}function le(e){return!E(e)&&!R(e)}function ce(e){return le(e)?e.role:"none"}function de(e){return e.table===o().ev?e.blockId:e.table===i().Vl?e.collectionId:e.table===a().yK?e.teamId:e.table===l().C0?e.workflowId:e.table===s().To?e.threadId:void(0,n().HB)(e)}function ue(e){return e.table===o().ev?{table:o().ev,blockId:e.id}:e.table===i().Vl?{table:i().Vl,collectionId:e.id}:e.table===a().yK?{table:a().yK,teamId:e.id}:e.table===l().C0?{table:l().C0,workflowId:e.id}:e.table===s().To?{table:s().To,threadId:e.id}:void(0,n().HB)(e)}},69946:(e,t,r)=>{r.d(t,{A:()=>i,M:()=>o});var n=()=>r(292588);const o="monday_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,email:n().A.String,api_token:n().A.String,user_id:n().A.UUID,space_id:n().A.UUID}}},72135:(e,t,r)=>{r.d(t,{$J:()=>O,C4:()=>d,D9:()=>g,PA:()=>u,Qq:()=>f,RQ:()=>_,SL:()=>y,XK:()=>C,ZV:()=>M,an:()=>U,bH:()=>v,gL:()=>E,iv:()=>m,kf:()=>F,pS:()=>p,sA:()=>R,z3:()=>N});r(898992),r(672577),r(581454);var n=r.n(r(611816)),o=r.n(r(901080)),i=()=>r(496603),a=()=>r(806080),s=()=>r(534177),l=()=>r(402390);const c=["dollar","australian_dollar","canadian_dollar","singapore_dollar","euro","pound","yen","ruble","rupee","won","yuan","real","lira","rupiah","franc","hong_kong_dollar","new_zealand_dollar","krona","norwegian_krone","mexican_peso","rand","new_taiwan_dollar","danish_krone","zloty","baht","forint","koruna","shekel","chilean_peso","philippine_peso","dirham","colombian_peso","riyal","ringgit","leu","argentine_peso","uruguayan_peso","peruvian_sol","bitcoin"],d="number";const u=["number","number_with_commas","percent",...c],p="precision_uncapped",m=[p,"precision_0","precision_1","precision_2","precision_3","precision_4","precision_5"],f={precision_uncapped:void 0,precision_0:0,precision_1:1,precision_2:2,precision_3:3,precision_4:4,precision_5:5};function _(e){return e?["number","number_with_commas","percent",e,...c.filter((t=>t!==e))]:u}function y(e){return"number"!==e&&"number_with_commas"!==e&&"compact"!==e&&"percent"!==e&&"bytes"!==e&&"bytes_binary"!==e&&"bytes_decimal"!==e&&"date_range"!==e&&"date"!==e&&c.includes(e)}function g(e){if(y(e))return b[e]}const b={dollar:"USD",australian_dollar:"AUD",canadian_dollar:"CAD",singapore_dollar:"SGD",euro:"EUR",pound:"GBP",yen:"JPY",ruble:"RUB",rupee:"INR",won:"KRW",yuan:"CNY",real:"BRL",lira:"TRY",rupiah:"IDR",franc:"CHF",hong_kong_dollar:"HKD",new_zealand_dollar:"NZD",krona:"SEK",norwegian_krone:"NOK",mexican_peso:"MXN",rand:"ZAR",new_taiwan_dollar:"TWD",danish_krone:"DKK",zloty:"PLN",baht:"THB",forint:"HUF",koruna:"CZK",shekel:"ILS",chilean_peso:"CLP",philippine_peso:"PHP",dirham:"AED",colombian_peso:"COP",riyal:"SAR",ringgit:"MYR",leu:"RON",argentine_peso:"ARS",uruguayan_peso:"UYU",peruvian_sol:"PEN",bitcoin:"BTC"},v={USD:"dollar",AUD:"australian_dollar",CAD:"canadian_dollar",SGD:"singapore_dollar",EUR:"euro",GBP:"pound",JPY:"yen",RUB:"ruble",INR:"rupee",KRW:"won",CNY:"yuan",BRL:"real",TRY:"lira",IDR:"rupiah",CHF:"franc",HKD:"hong_kong_dollar",NZD:"new_zealand_dollar",SEK:"krona",NOK:"norwegian_krone",MXN:"mexican_peso",ZAR:"rand",TWD:"new_taiwan_dollar",DKK:"danish_krone",PLN:"zloty",THB:"baht",HUF:"forint",CZK:"koruna",ILS:"shekel",CLP:"chilean_peso",PHP:"philippine_peso",AED:"dirham",COP:"colombian_peso",SAR:"riyal",MYR:"ringgit",RON:"leu",ARS:"argentine_peso",UYU:"uruguayan_peso",PEN:"peruvian_sol",BTC:"bitcoin"},h={bitcoin:""};const A=c.reduce(((e,t)=>(e[t]=function(e){var t;const r=h[e];return void 0!==r?r:(null===(t=new Intl.NumberFormat("en-US",{currency:b[e],style:"currency"}).formatToParts(0).find((e=>"currency"===e.type)))||void 0===t?void 0:t.value)||""}(t),e)),{}),I=["yen","won"],S=/[^0-9\.\,\ \-eE]/g,k=/[^0-9\.\-eE]/g,T=/(e\-|E\-||)/g,x=12;function M(e,t,r,o,i){if(!(0,a().Et)(e)||isNaN(e))return"";const{maximumFractionDigits:c,minimumFractionDigits:d}=function(e){if("number"==typeof e){if(Number.isInteger(e)&&e>=0&&e<=x)return{maximumFractionDigits:e,minimumFractionDigits:e};e=p}else void 0===e&&(e=p);if("precision_uncapped"===e)return{maximumFractionDigits:x,minimumFractionDigits:void 0};const t=f[e];return{maximumFractionDigits:t,minimumFractionDigits:t}}(i);if("percent"===t)return r.formatNumber(e,{style:"percent",maximumFractionDigits:c,minimumFractionDigits:d,useGrouping:!1,roundingMode:"halfExpand"});if("bitcoin"===t){const o=A[t],i=e.toString(),{decimal:a,integerSeparator:s}=(0,l().dk)(r);let u;return u=i.match(T)?w({value:e,valueString:i,intl:r,minimumFractionDigits:d,maximumFractionDigits:c}):n()({decimal:a,integerSeparator:s,padRight:d,round:c})(e),`${o}${u}`}if(t&&(0,s().O)(A,t)){if("compact"===o)return r.formatNumber(e,{style:"currency",currencyDisplay:"symbol",currency:b[t],notation:o,roundingMode:"halfExpand"});return y(t)&&I.includes(t)?r.formatNumber(Math.round(e),{style:"currency",currencyDisplay:"symbol",currency:b[t],notation:o,maximumFractionDigits:0,minimumFractionDigits:0,roundingMode:"halfExpand"}):r.formatNumber(e,{style:"currency",currencyDisplay:"symbol",currency:b[t],notation:o,...void 0!==i&&i!==p||"number"==typeof i?{maximumFractionDigits:c,minimumFractionDigits:d}:{},roundingMode:"halfExpand"})}if("number_with_commas"===t){const{decimal:t,integerSeparator:o}=(0,l().dk)(r);return n()({decimal:t,integerSeparator:o,padRight:d,round:c})(e)}if("compact"===t)return r.formatNumber(e,{notation:"compact"});if("bytes"===t||"bytes_binary"===t||"bytes_decimal"===t)return N(e,{decimals:"number"==typeof i?c:2,base:"bytes_decimal"===t?10:2});const u=e.toString();if(u.match(T))return w({value:e,valueString:u,intl:r,minimumFractionDigits:d,maximumFractionDigits:c});{const{decimal:t,integerSeparator:o}=(0,l().dk)(r);return n()({decimal:t,integerSeparator:o,padRight:d,round:c})(e).replace(new RegExp(`\\${o}`,"g"),"")}}function w(e){const{value:t,valueString:r,intl:o,minimumFractionDigits:i,maximumFractionDigits:a}=e,s=parseInt(r.split(T)[2],10);if(s<20){return t.toFixed(s)}{const{decimal:e,integerSeparator:r}=(0,l().dk)(o);return n()({decimal:e,integerSeparator:r,padRight:i,round:a})(t).replace(new RegExp(`\\${r}`,"g"),"")}}function C(e,t){const r=(e??0)/t*100;return Math.max(0,Math.min(r,100))}function N(e,t={}){const{decimals:r=2,base:n=2}=t;if(0===e)return"0 B";const o=2===n?1024:1e3,i=r<0?0:r,a=["B","K","M","G","T","P","E","Z","Y"],s=e<0,l=Math.abs(e);if(l<o){return`${s?"-":""}${parseFloat(l.toFixed(i))} B`}const c=Math.floor(Math.log(l)/Math.log(o)),d=Math.min(c,a.length-1);return`${s?"-":""}${parseFloat((l/Math.pow(o,d)).toFixed(i))} ${a[d]}${2===n?"i":""}B`}const P={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","-":"-",",":",",".":".",e:"e",E:"E","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"-","":"e","":"E","":",","":"."};function U(e){let t="";if(!e)return t;for(let r=0;r<e.length;r++){const n=P[e[r]];void 0!==n&&(t+=n)}return t}class D{constructor(e){var t,r;this.group=void 0,this.decimal=void 0,this.numeral=void 0,this.numeralMap=void 0,this.convertNumeral=e=>{const t=this.numeralMap.get(e);return"number"==typeof t?t.toString():e};const n=e.formatNumberToParts(12345.6),o=[...e.formatNumber(9876543210,{useGrouping:!1})].reverse();this.numeralMap=new Map(o.map(((e,t)=>[e,t]))),this.group=new RegExp(`[${null===(t=n.find((e=>"group"===e.type)))||void 0===t?void 0:t.value}]`,"g"),this.decimal=new RegExp(`[${null===(r=n.find((e=>"decimal"===e.type)))||void 0===r?void 0:r.value}]`),this.numeral=new RegExp(`[${o.join("")}]`,"g")}parse(e){const t=(e=e.trim().replace(this.group,"").replace(this.decimal,".").replace(this.numeral,this.convertNumeral))?Number(e):NaN;return isNaN(t)?void 0:t}}const B=new(r(299919).Y)((e=>new D(e)));function O(e,t){if(!e)return;if(t){const r=B.get(t).parse(e);if(void 0!==r)return r}if(-1!==e.indexOf("-Infinity"))return Number.NEGATIVE_INFINITY;if(-1!==e.indexOf("Infinity"))return Number.POSITIVE_INFINITY;const r=e.replace("","/").split("/");if(2===r.length){const[e,t]=r.map((e=>O(e)));if(0===t)return;if(void 0!==e&&void 0!==t)return e/t}const n=U(e.replace(S,"")),i=n.match(/\d(\.| )\d{3}\,\d+$/);if(i||n.match(/\,\d{2}$/)){const e=i&&i[1]?{thousands:i[1]}:{},t=o()(n,{...e,decimal:","});return isNaN(t)?void 0:t}const a=n.replace(k,""),s=o()(a);if(isNaN(s)){const e=Number.parseFloat(a);return isNaN(e)?void 0:e}return s}function R(e){const t=e.replace(/(\d)( |_)(\d\d\d)/g,"$1$3");if(/^\d+(\.\d+)?%$/.test(t))return{format:"percent",value:parseFloat(t)/100};const r=(0,s().uv)(A).find((e=>t[0]===A[e]));if(r){const e=Number(t.slice(1));if(!i().yr(e))return{format:r,value:e}}else if(t.indexOf("0x")<0&&t.indexOf("/")<0&&t.indexOf(":")<0&&t.indexOf("-")<=0){const e=Number(t);if(!i().yr(e))return{format:"number",value:e}}}function E(e,t){switch(t){case"number":return e.formatMessage({id:"collection.numberFormat.numberTypeLabel",defaultMessage:"Number"});case"number_with_commas":return e.formatMessage({id:"collection.numberFormat.numberWithCommas",defaultMessage:"Number with commas"});case"percent":return e.formatMessage({id:"collection.numberFormat.percent",defaultMessage:"Percent"});case"real":return e.formatMessage({id:"collection.numberFormat.brl",defaultMessage:"Real"});case"lira":return e.formatMessage({id:"collection.numberFormat.try",defaultMessage:"Lira"});case"rupiah":return e.formatMessage({id:"collection.numberFormat.idr",defaultMessage:"Rupiah"});case"dollar":return e.formatMessage({id:"collection.numberFormat.dollar",defaultMessage:"US Dollar"});case"australian_dollar":return e.formatMessage({id:"collection.numberFormat.australianDollar",defaultMessage:"Australian dollar"});case"canadian_dollar":return e.formatMessage({id:"collection.numberFormat.canadianDollar",defaultMessage:"Canadian dollar"});case"singapore_dollar":return e.formatMessage({id:"collection.numberFormat.singaporeDollar",defaultMessage:"Singapore dollar"});case"euro":return e.formatMessage({id:"collection.numberFormat.euro",defaultMessage:"Euro"});case"pound":return e.formatMessage({id:"collection.numberFormat.pound",defaultMessage:"Pound"});case"yen":return e.formatMessage({id:"collection.numberFormat.yen",defaultMessage:"Yen"});case"ruble":return e.formatMessage({id:"collection.numberFormat.ruble",defaultMessage:"Ruble"});case"rupee":return e.formatMessage({id:"collection.numberFormat.rupee",defaultMessage:"Rupee"});case"won":return e.formatMessage({id:"collection.numberFormat.won",defaultMessage:"Won"});case"yuan":return e.formatMessage({id:"collection.numberFormat.yuan",defaultMessage:"Yuan"});case"franc":return e.formatMessage({id:"collection.numberFormat.franc",defaultMessage:"Franc"});case"hong_kong_dollar":return e.formatMessage({id:"collection.numberFormat.hongKongDollar",defaultMessage:"Hong Kong dollar"});case"new_zealand_dollar":return e.formatMessage({id:"collection.numberFormat.newZealandDollar",defaultMessage:"New Zealand dollar"});case"krona":return e.formatMessage({id:"collection.numberFormat.krona",defaultMessage:"Swedish krona"});case"norwegian_krone":return e.formatMessage({id:"collection.numberFormat.norwegianKrone",defaultMessage:"Norwegian krone"});case"mexican_peso":return e.formatMessage({id:"collection.numberFormat.mexicanPeso",defaultMessage:"Mexican peso"});case"rand":return e.formatMessage({id:"collection.numberFormat.rand",defaultMessage:"Rand"});case"new_taiwan_dollar":return e.formatMessage({id:"collection.numberFormat.newTaiwanDollar",defaultMessage:"New Taiwan dollar"});case"danish_krone":return e.formatMessage({id:"collection.numberFormat.danishKrone",defaultMessage:"Danish krone"});case"zloty":return e.formatMessage({id:"collection.numberFormat.zloty",defaultMessage:"Zoty"});case"baht":return e.formatMessage({id:"collection.numberFormat.baht",defaultMessage:"Baht"});case"forint":return e.formatMessage({id:"collection.numberFormat.forint",defaultMessage:"Forint"});case"koruna":return e.formatMessage({id:"collection.numberFormat.koruna",defaultMessage:"Koruna"});case"shekel":return e.formatMessage({id:"collection.numberFormat.shekel",defaultMessage:"Shekel"});case"chilean_peso":return e.formatMessage({id:"collection.numberFormat.chileanPeso",defaultMessage:"Chilean peso"});case"philippine_peso":return e.formatMessage({id:"collection.numberFormat.philippinePeso",defaultMessage:"Philippine peso"});case"dirham":return e.formatMessage({id:"collection.numberFormat.dirham",defaultMessage:"Dirham"});case"colombian_peso":return e.formatMessage({id:"collection.numberFormat.colombianPeso",defaultMessage:"Colombian peso"});case"riyal":return e.formatMessage({id:"collection.numberFormat.riyal",defaultMessage:"Riyal"});case"ringgit":return e.formatMessage({id:"collection.numberFormat.ringgit",defaultMessage:"Ringgit"});case"leu":return e.formatMessage({id:"collection.numberFormat.leu",defaultMessage:"Leu"});case"argentine_peso":return e.formatMessage({id:"collection.numberFormat.argentinePeso",defaultMessage:"Argentine peso"});case"uruguayan_peso":return e.formatMessage({id:"collection.numberFormat.uruguayanPeso",defaultMessage:"Uruguayan peso"});case"peruvian_sol":return e.formatMessage({id:"collection.numberFormat.peruvianSol",defaultMessage:"Peruvian sol"});case"bitcoin":return e.formatMessage({id:"collection.numberFormat.bitcoin",defaultMessage:"Bitcoin"})}}function F(e,t){const r=O(e,t),n=U(e.replace(S,"")),o=void 0!==r&&!isNaN(r),i=n===e,a=""===e.trim();return o&&i&&!a}},78881:(e,t,r)=>{r.d(t,{A:()=>i,N:()=>o});var n=()=>r(292588);const o="workflow_external_connection_secret",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,workflow_external_connection_id:n().A.UUID,secret:n().A.String,secret_hash:n().A.String},requiredColumns:{workflow_external_connection_id:!0,version:!0,secret:!0,secret_hash:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},80518:(e,t,r)=>{r.d(t,{Ay:()=>i,kM:()=>o});var n=()=>r(292588);const o="external_user_profile",i={table:o,columnTypes:{id:n().A.UUID,user_id:n().A.UUID,owner_id:n().A.UUID,owner_table:n().A.String,scim:n().A.JSON,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,user_id:!0,owner_id:!0,owner_table:!0,version:!0}}},84520:(e,t,r)=>{r.d(t,{Ay:()=>c,_l:()=>o,g9:()=>i,mu:()=>l,sy:()=>s,t_:()=>a});var n=()=>r(292588);const o=["favorites","teamspaces","shared","private","workspace","agents","notion_apps","meetings_today","recents","myMeetings"],i=["mail","calendar","desktop"],a={user_root:!0},s=["baseball-cap","bow","cat","cherry","cowboy","crown","duck","firefighter","flower","glasses","headphone","leaf","magician","mustache","paprika","pencil","propeller","safety-hat","scarf","seasonal-bat","seasonal-demon","seasonal-frankenstein","seasonal-pumpkin","seasonal-santa-hat","seasonal-new-year"],l="space_view",c={table:l,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,bookmarked_pages:n().A.StringArray,shared_pages:n().A.StringArray,shared_pages_manual_sort:n().A.StringArray,visited_templates:n().A.StringArray,sidebar_order:n().A.StringArray,sidebar_hidden_templates:n().A.StringArray,notify_mobile:n().A.Boolean,notify_desktop:n().A.Boolean,notify_email:n().A.Boolean,notify_email_always:n().A.Boolean,created_getting_started:n().A.Boolean,parent_id:n().A.UUID,parent_table:n().A.String,alive:n().A.Boolean,created_onboarding_templates:n().A.Boolean,private_pages:n().A.UUIDArray,joined:n().A.Boolean,joined_teams:n().A.UUIDArray,settings:n().A.JSON,ai_suggestions:n().A.JSON,assistant_session_starters:n().A.UUIDArray,first_joined_space_time:n().A.Number,public_share_link_pages:n().A.UUIDArray,guest_experience:n().A.String,trusted_domain_pages:n().A.UUIDArray,marked_dead_time:n().A.Number,last_known_membership_type:n().A.String},model:(0,r(152853).P)({RecordStore:!0,properties:{bookmarked_pages:{getMethod:"getBookmarkedPageIds",getKeyStoreMethod:"getBookmarkedPagesStore"},shared_pages:{getMethod:"getSharedPageIds",getKeyStoreMethod:"getSharedPagesStore"},shared_pages_manual_sort:{getMethod:"getSharedPagesManualSortIds",getKeyStoreMethod:"getSharedPagesManualSortStore"},private_pages:{getMethod:"getPrivatePageIds",getKeyStoreMethod:"getPrivatePagesStore"},visited_templates:{getMethod:"getVisitedTemplateIds",getKeyStoreMethod:"getVisitedTemplatesStore"},sidebar_hidden_templates:{getMethod:"getSidebarHiddenTemplateIds",getKeyStoreMethod:"getSidebarHiddenTemplatesStore"},assistant_session_starters:{getMethod:"getAssistantSessionStarterIds",getKeyStoreMethod:"getAssistantSessionStartersStore"}}})}},85216:(e,t,r)=>{r.d(t,{A:()=>i,c:()=>o});var n=()=>r(292588);const o="asana_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,refresh_token:n().A.String,account:n().A.String}}},87845:(e,t,r)=>{r.d(t,{A:()=>i,b:()=>o});var n=()=>r(292588);const o="template_collection",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,authors:n().A.StringArray,locale:n().A.String,templates:n().A.StringArray,description:n().A.String,long_description:n().A.String,collection_body:n().A.JSON,meta_title:n().A.String,meta_description:n().A.String,last_version:n().A.Number,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,published_at:n().A.Number,attributes:n().A.JSON,display_in_app:n().A.Boolean},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,authors:!0,locale:!0,templates:!0,description:!0,long_description:!0,meta_title:!0,meta_description:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,published_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},90634:(e,t,r)=>{r.d(t,{L:()=>l,ao:()=>s,hj:()=>a,rJ:()=>c});var n=()=>r(498212),o=()=>r(700500);(0,r(69708).YK)({personalHome:{defaultMessage:"Home",id:"homePageTemplates.home"},assignedToMeView:{defaultMessage:"My tasks",id:"homePageTemplates.assignedToMeView"},createdByMeView:{defaultMessage:"Created by me",id:"homePageTemplates.createdByMeView"},customDbTitle:{defaultMessage:"Home views",id:"homePageTemplates.customDbTitle.includeHome"},postsView:{defaultMessage:"Following",id:"homePageTemplates.postsView"}});const i={trending:{block:"trending",collectionViews:{default:"trendingCollectionView"},collection:"trendingCollection"},myTasks:{block:"myTasks",collectionViews:{default:"myTasksAssignedToMeCollectionView"}},customDb:{block:"customDb",collectionViews:{default:"customDbCollectionView"}},similarUsers:{block:"similarUsers",collectionViews:{default:"similarUsersCollectionView"},collection:"similarUsersCollection"},main:{block:"main"},shortcuts:{block:"shortcuts"},mostVisited:{block:"mostVisited",collectionViews:{default:"mostVisitedCollectionView"},collection:"mostVisitedCollection"},lastEdited:{block:"lastEdited",collectionViews:{default:"lastEditedCollectionView"},collection:"lastEditedCollection"},favorites:{block:"favorites",collectionViews:{default:"favoritesCollectionView"},collection:"favoritesCollection"},posts:{block:"posts",collectionViews:{default:"postsCollectionView",following:"postsFollowingCollectionView",discover:"postsDiscoverCollectionView"}}};function a({userId:e,spaceId:t}){return{main:d({userId:e,spaceId:t,type:"main"}),trending:d({userId:e,spaceId:t,type:"trending"}),myTasks:d({userId:e,spaceId:t,type:"myTasks"}),customDb:d({userId:e,spaceId:t,type:"customDb"}),similarUsers:d({userId:e,spaceId:t,type:"similarUsers"}),shortcuts:d({userId:e,spaceId:t,type:"shortcuts"}),mostVisited:d({userId:e,spaceId:t,type:"mostVisited"}),lastEdited:d({userId:e,spaceId:t,type:"lastEdited"}),favorites:d({userId:e,spaceId:t,type:"favorites"}),posts:d({userId:e,spaceId:t,type:"posts"}),trendingCollectionView:p({userId:e,spaceId:t,type:"trending"}),myTasksAssignedToMeCollectionView:p({userId:e,spaceId:t,type:"myTasks"}),customDbCollectionView:p({userId:e,spaceId:t,type:"customDb"}),similarUsersCollectionView:p({userId:e,spaceId:t,type:"similarUsers"}),mostVisitedCollectionView:p({userId:e,spaceId:t,type:"mostVisited"}),lastEditedCollectionView:p({userId:e,spaceId:t,type:"lastEdited"}),favoritesCollectionView:p({userId:e,spaceId:t,type:"favorites"}),postsCollectionView:p({userId:e,spaceId:t,type:"posts"}),postsFollowingCollectionView:p({userId:e,spaceId:t,type:"posts",viewType:"following"}),postsDiscoverCollectionView:p({userId:e,spaceId:t,type:"posts",viewType:"discover"}),trendingCollection:u({userId:e,spaceId:t,type:"trending"}),similarUsersCollection:u({userId:e,spaceId:t,type:"similarUsers"}),mostVisitedCollection:u({userId:e,spaceId:t,type:"mostVisited"}),lastEditedCollection:u({userId:e,spaceId:t,type:"lastEdited"}),favoritesCollection:u({userId:e,spaceId:t,type:"favorites"})}}function s(e){return e.isType(o().xd.personalHomePage)}function l(e){return i[e.type].collection}function c(e){return u(e)}function d({userId:e,spaceId:t,type:r}){const o=i[r].block;return(0,n().gB)(`${e}-${t}-${o}`)}function u({userId:e,spaceId:t,type:r}){const o=i[r].collection;return(0,n().gB)(`${e}-${t}-${o}`)}function p({userId:e,spaceId:t,type:r,viewType:o}){const a=i[r].collectionViews[o??"default"];return(0,n().gB)(`${e}-${t}-${a}`)}},90907:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>o,lockIcon:()=>i});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.06 15.66",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"}),(0,n.jsx)("path",{d:"M10 1.95a4 4 0 0 0-4 4v1.433a2.426 2.426 0 0 0-2.025 2.392v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.426 2.426 0 0 0 14 7.383V5.95a4 4 0 0 0-4-4m2.75 5.4h-5.5v-1.4a2.75 2.75 0 0 1 5.5 0zM5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,r(340498).wt)("lock",o,"default")},91913:(e,t,r)=>{r.d(t,{$5:()=>u,Dp:()=>c,JW:()=>m,Jh:()=>s,M2:()=>y,MJ:()=>p,NQ:()=>h,QS:()=>d,T_:()=>i,as:()=>b,bp:()=>a,cf:()=>l,kC:()=>v,pr:()=>n,qP:()=>g,rQ:()=>_,sF:()=>f,v6:()=>o,ws:()=>A});const n="Block not found",o="Expected block store value",i="Expected block content",a="Expected CRDT-enabled block",s="Invalid CRDT version",l="Expected block title text slice tree",c="Expected block text slice tree to contain item",d="Expected block text slice to contain item",u="Expected text item",p="Expected start item",m="Expected start or split item",f="Expected end or split item",_="Expected start, split, or text item",y="Expected text or split item",g="Expected origin item id",b="Expected page block tacker",v="Expected page text instance tacker",h="Expected non-empty range",A="Expected distinct char IDs"},92750:(e,t,r)=>{r.d(t,{MU:()=>i,vb:()=>o,wq:()=>a});var n=()=>r(534177);function o(e){return"owner"===e}function i(e){return{role:"owner",id:e}}function a(e){const{filters:t,defaultFilters:r}=e,o={...t};return t?(Array.isArray(t.roles)&&(0,n().EI)(t.roles)?o.roles=t.roles:Array.isArray(r.roles)&&(0,n().EI)(r.roles)&&(o.roles=r.roles),o):r}},96330:(e,t,r)=>{r.d(t,{Sd:()=>d,X1:()=>s,eC:()=>i,lS:()=>c,tk:()=>a});var n=()=>r(806080),o=()=>r(201980);function i(e,t){if(!e)return;const r=o().RQ(e)[0];if(!r)return;const n=o().uPN(r)[0];if(!n||!o().dei(n))return;const i=n[1],a={lat:i.lat,lon:i.lon,name:Boolean(i.name)?i.name:void 0,googlePlaceId:Boolean(i.googlePlaceId)?i.googlePlaceId:void 0,awsPlaceId:Boolean(i.awsPlaceId)?i.awsPlaceId:void 0,address:Boolean(i.address)?i.address:void 0};return l(a,t)?a:void 0}function a(e){if(!e||!l(e))return[];const t=o().ZW1(e);return[o().wmz(t)]}function s(e){if(e&&l(e))return e.name||e.address||`${e.lat.toFixed(2)}, ${e.lon.toFixed(2)}`}function l(e,t){return!(((null==t?void 0:t.shouldValidateLatLong)??!1)&&(!((0,n().Et)(e.lat)&&(0,n().Et)(e.lon)&&Number.isFinite(e.lat)&&Number.isFinite(e.lon))||Math.abs(e.lat)>90||Math.abs(e.lon)>180))}function c(e){var t;const r=e.split(",");return{addressFirstLine:null==r?void 0:r[0],addressRest:(null==r||null===(t=r.slice(1))||void 0===t?void 0:t.join(", "))||""}}function d({suggestionTitle:e,query:t}){if(e.toLowerCase().startsWith(t.toLowerCase())){return{matching:e.slice(0,t.length),nonMatching:e.slice(t.length)}}return t.toLowerCase().startsWith(e.toLowerCase())?{matching:e,nonMatching:""}:{matching:"",nonMatching:e}}},101628:(e,t,r)=>{r.d(t,{Ay:()=>a,Eu:()=>i,j4:()=>o});var n=()=>r(292588);const o={block:!0},i="site",a={table:i,columnTypes:{id:n().A.UUID,type:n().A.String,space_id:n().A.UUID,domain_id:n().A.UUID,parent_id:n().A.String,parent_table:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,favicon_url:n().A.String,preview_image_url:n().A.String,header:n().A.JSON,google_analytics_id:n().A.String,is_search_engine_indexing_enabled:n().A.Boolean,settings:n().A.JSON,number_likes:n().A.Number},requiredColumns:{id:!0,space_id:!0,parent_id:!0,parent_table:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},106714:(e,t,r)=>{r.d(t,{NZ:()=>s,TW:()=>d,c3:()=>l,kb:()=>c,sE:()=>u});r(944114),r(898992),r(803949),r(908872);var n=()=>r(534177),o=()=>r(634201),i=()=>r(201980),a=()=>r(239381);function s(e,t){if(0===t)return 0;let r=0,i=0;for(let a=0;a<e.length;a++){const s=e[a];switch(s.type){case"code":if(t<=r+s.codeLength)return i+(0,o().PE)(s.text).slice(0,t-r).join("").length;r+=s.codeLength,i+=s.length;break;case"token":if(t<=r+1)return i+s.length;r+=1,i+=s.length;break;default:(0,n().HB)(s)}}return i}function l(e,t,r){if(0===t)return 0;let n=0,i=0;for(let a=0;a<e.length;a++){const s=e[a];switch(s.type){case"code":if(t<=i+s.length)return n+(0,o().PE)(s.text.substring(0,t-i)).length;n+=s.codeLength,i+=s.length;break;case"token":if(i+s.length>=t)return n+("right"===r?1:0);n+=1,i+=s.length}}return n}function c(e){let t="";const r=[];return null==e||e.forEach((e=>{const n=(0,i().uPN)(e),s=(0,a().E)(n);if(void 0!==s)return t+=s,void r.push({type:"token",length:s.length});const l=(0,i().N8A)(e);t+=l,r.push({type:"code",length:l.length,codeLength:(0,o().PE)(l).length,text:l})})),[t,r]}function d(e,t){return{...e,startOffset:l(t,e.startOffset,"left"),endOffset:l(t,e.endOffset,"left")}}function u(e){return e.reduce(((e,t)=>{const r=t.type;return"token"===r?e+1:"code"===r?e+t.codeLength:void(0,n().HB)(r)}),0)}},107072:(e,t,r)=>{r.d(t,{Ay:()=>a,a8:()=>o,t0:()=>i});var n=()=>r(292588);const o="marketplace_custom_agent_version",i={marketplace_custom_agent:!0},a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,last_edited_time:n().A.Number,attributes:n().A.JSON,status:n().A.String,parent_table:n().A.String,parent_id:n().A.UUID,profile_id:n().A.UUID,locale:n().A.String,source_workflow_id:n().A.UUID,source_workflow_space_id:n().A.UUID,published_workflow_id:n().A.UUID,published_workflow_space_id:n().A.UUID,title:n().A.String,slug:n().A.String,tags:n().A.StringArray},model:(0,r(152853).P)({RecordStore:!0})}},107273:(e,t,r)=>{r.d(t,{W9:()=>B,gW:()=>U});r(944114),r(898992),r(354520),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(813206),a=()=>r(700500),s=()=>r(855826),l=()=>r(713998),c=()=>r(837788),d=()=>r(273900),u=()=>r(68263);function p(e,t){return e.space_id===t.space_id&&e.collection_id===t.collection_id&&e.navigable_block_id===t.navigable_block_id}function m(e){return e.table+e.id}function f(e,t){return n().n4(n().Ul(e.authors||[],m),n().Ul(t.authors||[],m))}function _(e,t){return n().Ul(n().hS([...e.authors||[],...t.authors||[]],m),m)}function y(e,t){return e.block_id===t.block_id&&p(e,t)}function g(e,t){return e.block_id===t.block_id&&p(e,t)}function b(e,t){return p(e,t)&&e.comment_id===t.comment_id}function v(e,t){return p(e,t)}function h(e,t){return e.collection_property_id===t.collection_property_id&&p(e,t)}function A(e,t){return e.collection_view_id===t.collection_view_id&&p(e,t)}function I(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_user_id===t.mentioned_user_id&&e.mentioned_property===t.mentioned_property&&f(e,t)&&p(e,t)}function S(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_group_id===t.mentioned_group_id&&e.mentioned_property===t.mentioned_property&&f(e,t)&&p(e,t)}function k(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_team_id===t.mentioned_team_id&&e.mentioned_property===t.mentioned_property&&f(e,t)&&p(e,t)}function T(e,t){return p(e,t)&&e.reaction_id===t.reaction_id&&f(e,t)}function x(e){const t=[];e:for(;e.list.length>0;){const r=e.list.shift();let n,o=0,i=!1;for(;o<e.list.length;){const t=e.list[o];if(i=e.cancel(r,t),i){e.list.splice(o,1);continue e}if(n=e.replace(r,t),n){e.list[o]=n;continue e}o++}t.push(r)}return t}function M(e,t){return 0===n().R9(e,t).length&&0===n().R9(t,e).length}function w(e,t){return u().Lw(e)===u().Lw(t)}function C(e){return"permission-created"===e.type||"permission-deleted"===e.type||"collection-property-permission-created"===e.type||"collection-property-permission-deleted"===e.type?(0,d().I$)(e.permission_data):"permission-changed"===e.type||"collection-property-permission-updated"===e.type?(0,d().I$)(e.permission_data.before):void(0,o().HB)(e)}function N(e,t){return!!p(e,t)&&(!!f(e,t)&&("permission-restriction-created"===e.type||"permission-restriction-deleted"===e.type?"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type||(null===(r=e.permission_data)||void 0===r||null===(r=r.actual_changes)||void 0===r?void 0:r.some((e=>(0,d().I$)(e)===C(t)))):"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type?t.permission_data.actual_changes.some((t=>(0,d().I$)(t)===C(e))):C(e)===C(t)));var r}function P(e,t){return!!p(e,t)&&(!!f(e,t)&&C(e)===C(t))}function U(e){const t=x({list:x({list:n().Ul((0,c().A)(e,"mangle-class-instances")||[],(e=>e.timestamp)),cancel:(e,t)=>!1,replace:(e,t)=>function(e,t){if("permission-deleted"===e.type&&"permission-created"===t.type&&N(e,t)&&!w(e.permission_data,t.permission_data))return{...t,type:"permission-changed",timestamp:t.timestamp,permission_data:{before:e.permission_data,after:t.permission_data}}}(e,t)||function(e,t){if("collection-property-permission-deleted"===e.type&&"collection-property-permission-created"===t.type&&P(e,t)&&!w(e.permission_data,t.permission_data))return{...t,type:"collection-property-permission-updated",timestamp:t.timestamp,permission_data:{before:e.permission_data,after:t.permission_data}}}(e,t)}),cancel:(e,t)=>function(e,t){return"block-created"===e.type&&"block-deleted"===t.type&&y(e,t)}(e,t)||function(e,t){return"block-deleted"===e.type&&"block-created"===t.type&&y(e,t)}(e,t)||function(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&y(e,t)){if(e.block_data.after.block_value.type===a().xd.tableRow){const r=i().mP({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),o=i().mP({before:t.block_data.before.block_value,after:t.block_data.after.block_value});return M(r,o)&&n().n4(n().Up(e.block_data.before.block_value.properties||{},r),n().Up(t.block_data.after.block_value.properties||{},o))}const r=s().PE({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),o=i().TW({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),l=s().PE({before:t.block_data.before.block_value,after:t.block_data.after.block_value,schema:t.block_schema}),c=i().TW({before:t.block_data.before.block_value,after:t.block_data.after.block_value});return!i().kJ({before:t.block_data.before.block_value,after:t.block_data.after.block_value})&&M(r,l)&&n().n4(n().Up(e.block_data.before.block_value.properties||{},r),n().Up(t.block_data.after.block_value.properties||{},l))&&M(o,c)&&n().n4(n().Up(e.block_data.before.block_value.format||{},o),n().Up(t.block_data.after.block_value.format||{},c))}return!1}(e,t)||function(e,t){return!("block-property-changed"!==e.type||"block-property-changed"!==t.type||!g(e,t))&&M(Object.keys(e.property_updates),Object.keys(t.property_updates))&&n().n4(Object.values(e.property_updates).map((e=>e.before)),Object.values(t.property_updates).map((e=>e.after)))}(e,t)||function(e,t){return"permission-created"===e.type&&"permission-deleted"===t.type&&N(e,t)}(e,t)||function(e,t){return"permission-deleted"===e.type&&"permission-created"===t.type&&N(e,t)}(e,t)||function(e,t){return"permission-changed"===e.type&&"permission-changed"===t.type&&N(e,t)&&n().n4(e.permission_data.before,t.permission_data.after)}(e,t)||function(e,t){return"collection-property-permission-created"===e.type&&"collection-property-permission-deleted"===t.type&&P(e,t)}(e,t)||function(e,t){return"collection-property-permission-deleted"===e.type&&"collection-property-permission-created"===t.type&&P(e,t)}(e,t)||function(e,t){return!("collection-property-permission-updated"!==e.type||"collection-property-permission-updated"!==t.type||!P(e,t))&&w(e.permission_data.before,t.permission_data.after)&&w(e.permission_data.after,t.permission_data.before)}(e,t)||function(e,t){return"mention-created"===e.type&&"mention-deleted"===t.type&&I(e,t)}(e,t)||function(e,t){return"mention-deleted"===e.type&&"mention-created"===t.type&&I(e,t)}(e,t)||function(e,t){return"permission-group-mention-created"===e.type&&"permission-group-mention-deleted"===t.type&&S(e,t)}(e,t)||function(e,t){return"permission-group-mention-deleted"===e.type&&"permission-group-mention-created"===t.type&&S(e,t)}(e,t)||function(e,t){return"team-mention-created"===e.type&&"team-mention-deleted"===t.type&&k(e,t)}(e,t)||function(e,t){return"team-mention-deleted"===e.type&&"team-mention-created"===t.type&&k(e,t)}(e,t)||function(e,t){return"comment-created"===e.type&&"comment-deleted"===t.type&&b(e,t)}(e,t)||function(e,t){return"comment-deleted"===e.type&&"comment-created"===t.type&&b(e,t)}(e,t)||function(e,t){return"comment-changed"===e.type&&"comment-changed"===t.type&&b(e,t)&&n().n4(e.comment_data.before,t.comment_data.after)}(e,t)||function(e,t){return!!("collection-changed"===e.type&&"collection-changed"===t.type&&v(e,t)&&e.collection_data&&t.collection_data)&&n().n4(e.collection_data.before,t.collection_data.after)}(e,t)||function(e,t){return"collection-property-created"===e.type&&"collection-property-deleted"===t.type&&h(e,t)}(e,t)||function(e,t){return"collection-property-deleted"===e.type&&"collection-property-created"===t.type&&h(e,t)}(e,t)||function(e,t){return"collection-property-changed"===e.type&&"collection-property-changed"===t.type&&h(e,t)&&n().n4(e.collection_property_data.before,t.collection_property_data.after)}(e,t)||function(e,t){return"collection-view-created"===e.type&&"collection-view-deleted"===t.type&&A(e,t)}(e,t)||function(e,t){return"collection-view-deleted"===e.type&&"collection-view-created"===t.type&&A(e,t)}(e,t)||function(e,t){return"collection-view-changed"===e.type&&"collection-view-changed"===t.type&&A(e,t)&&n().n4(e.collection_view_data.before,t.collection_view_data.after)}(e,t)||function(e,t){return"reaction-created"===e.type&&"reaction-deleted"===t.type&&T(e,t)}(e,t)||function(e,t){return"reaction-deleted"===e.type&&"reaction-created"===t.type&&T(e,t)}(e,t),replace:(e,t)=>function(e,t){if("block-created"===e.type&&"block-changed"===t.type&&y(e,t))return{...e,timestamp:t.timestamp,authors:_(e,t),block_schema:t.block_schema,block_data:t.block_data.after}}(e,t)||function(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&y(e,t))return{...e,timestamp:t.timestamp,authors:_(e,t),block_schema:t.block_schema,block_data:{before:e.block_data.before,after:t.block_data.after}}}(e,t)||function(e,t){if("block-property-changed"===e.type&&"block-property-changed"===t.type&&g(e,t)){const r=e.property_updates;return t.property_updates&&Object.entries(t.property_updates).forEach((([o,i])=>{o in r?n().n4(r[o].before,i.after)?(delete r[o],e.filtered_block_schema&&delete e.filtered_block_schema[o],t.filtered_block_schema&&delete t.filtered_block_schema[o]):r[o].after=i.after:r[o]=i})),{...e,timestamp:t.timestamp,authors:_(e,t),filtered_block_schema:{...e.filtered_block_schema,...t.filtered_block_schema},property_updates:r}}}(e,t)||function(e,t){if("comment-created"===e.type&&"comment-changed"===t.type&&b(e,t))return{...e,comment_data:t.comment_data.after}}(e,t)||function(e,t){if("comment-changed"===e.type&&"comment-changed"===t.type&&b(e,t))return{...e,comment_data:{before:e.comment_data.before,after:t.comment_data.after}}}(e,t)||function(e,t){if("permission-created"===e.type&&"permission-changed"===t.type&&N(e,t))return{...e,timestamp:t.timestamp,permission_data:t.permission_data.after}}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-changed"===t.type&&N(e,t))return{...e,permission_data:{before:e.permission_data.before,after:t.permission_data.after},timestamp:t.timestamp}}(e,t)||function(e,t){if("permission-created"===t.type&&"permission-restriction-created"===e.type&&N(e,t))return{...e,timestamp:t.timestamp}}(e,t)||function(e,t){if("permission-deleted"===t.type&&"permission-restriction-deleted"===e.type&&N(e,t))return{...e,timestamp:t.timestamp}}(e,t)||function(e,t){if("collection-property-permission-created"===e.type&&"collection-property-permission-updated"===t.type&&P(e,t))return{...e,timestamp:t.timestamp,permission_data:t.permission_data.after}}(e,t)||function(e,t){if("collection-property-permission-updated"===e.type&&"collection-property-permission-updated"===t.type&&P(e,t))return{...e,timestamp:t.timestamp,permission_data:{before:e.permission_data.before,after:t.permission_data.after}}}(e,t)||function(e,t){if("collection-created"===e.type&&"collection-changed"===t.type&&v(e,t))return{...e,authors:_(e,t),collection_data:t.collection_data?t.collection_data.after:void 0}}(e,t)||function(e,t){if("collection-changed"===e.type&&"collection-changed"===t.type&&v(e,t))return{...e,timestamp:t.timestamp,authors:_(e,t),collection_data:{before:e.collection_data?e.collection_data.before:void 0,after:t.collection_data?t.collection_data.after:void 0}}}(e,t)||function(e,t){if("collection-property-created"===e.type&&"collection-property-changed"===t.type&&h(e,t))return{...e,timestamp:t.timestamp,authors:_(e,t),collection_property_data:t.collection_property_data.after}}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-changed"===t.type&&h(e,t))return{...e,timestamp:t.timestamp,authors:_(e,t),collection_property_data:{before:e.collection_property_data.before,after:t.collection_property_data.after}}}(e,t)||function(e,t){if("collection-view-created"===e.type&&"collection-view-changed"===t.type&&A(e,t))return{...e,timestamp:t.timestamp,authors:_(e,t),collection_view_data:t.collection_view_data.after}}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-changed"===t.type&&A(e,t))return{...e,timestamp:t.timestamp,authors:_(e,t),collection_view_data:{before:e.collection_view_data.before,after:t.collection_view_data.after}}}(e,t)}).filter((e=>!function(e){if("block-changed"===e.type){const t=i().LR({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),r=i().kJ({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),n=i().Ti({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),o=i().ar({before:e.block_data.before.block_value,after:e.block_data.after.block_value});return!(t||r||n||o)}return!1}(e)));return n().Ul(t,(e=>e.timestamp))}function D(e){const t=x({list:n().Ul((0,c().A)(e,"ignore-class-instances")||[],(e=>e.timestamp)),cancel:(e,t)=>!1,replace:(e,t)=>function(e,t){if("block-changed"===e.type&&"block-deleted"===t.type&&y(e,t))return{...t,authors:_(e,t)}}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-deleted"===t.type&&N(e,t))return{...t,timestamp:t.timestamp,permission_data:e.permission_data.before}}(e,t)||function(e,t){if("collection-property-permission-updated"===e.type&&"collection-property-permission-deleted"===t.type&&P(e,t))return{...t,timestamp:t.timestamp,permission_data:e.permission_data.before}}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-deleted"===t.type&&h(e,t))return{...t,authors:_(e,t)}}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-deleted"===t.type&&A(e,t))return{...t,authors:_(e,t)}}(e,t)});return n().Ul(t,(e=>e.timestamp))}function B(e){return function(e){const t=[];return e.forEach((e=>{if("block-changed"===e.type)if(i().kJ({before:e.block_data.before.block_value,after:e.block_data.after.block_value})){const r={...e,type:"block-created",block_data:e.block_data.after},n={...e,type:"block-deleted",block_data:e.block_data.before};t.push(n),t.push(r)}else t.push(e);else t.push(e)})),t}(D(e)).filter((e=>!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&(0,a().Db)(e.block_data.block_value.type,e.block_data.block_value.format)&&"page"!==e.block_data.block_value.type&&!(0,l().yQ)(e.block_data.block_value,"title")}(e)&&!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&a().Wn[e.block_data.block_value.type]}(e)))}},109100:(e,t,r)=>{r.d(t,{S:()=>n});const n=(0,r(69708).YK)({adminLabel:{id:"userPermissionsMenu.adminItem.label",defaultMessage:"Admin"},adminCaption:{id:"userPermissionsMenu.adminItem.caption",defaultMessage:"Can change workspace settings and invite new members to the workspace."},workspaceOwnerLabel:{id:"userPermissionsMenu.workspaceOwnerItem.label",defaultMessage:"Workspace owner"},workspaceOwnerCaption:{id:"userPermissionsMenu.workspaceOwnerItem.caption",defaultMessage:"Can change workspace settings and invite new members to the workspace."},membershipAdminLabel:{id:"userPermissionsMenu.membershipAdminItem.label",defaultMessage:"Membership admin"},membershipAdminDescription:{id:"userPermissionsMenu.membershipAdminItem.description",defaultMessage:"membership admin access"},membershipAdminCaption:{id:"userPermissionsMenu.membershipAdminItem.caption",defaultMessage:"Can manage workspace and group membership."},fullAccessLabel:{id:"userPermissionsMenu.fullAccessItem.label",defaultMessage:"Full access"},fullAccessDescription:{id:"userPermissionsMenu.fullAccessItem.description",defaultMessage:"full access"},fullAccessCaption:{id:"userPermissionsMenu.fullAccessItem.caption",defaultMessage:"Edit, suggest, comment, and share"},memberLabel:{id:"userPermissionsMenu.memberItem.label",defaultMessage:"Member"},memberCaption:{id:"userPermissionsMenu.memberItem.caption",defaultMessage:"Cannot change workspace settings or invite new members to the workspace."},restrictedMemberLabel:{id:"userPermissionsMenu.restrictedMemberItem.label",defaultMessage:"Restricted member"},restrictedMemberCaption:{id:"userPermissionsMenu.restrictedMemberItem.caption",defaultMessage:"Can only see and edit content that they created or were explicitly shared with"},invitedLabel:{id:"userPermissionsMenu.invitedItem.label",defaultMessage:"Invited"},canEditLabel:{id:"userPermissionsMenu.canEditItem.label",defaultMessage:"Can edit"},canEditCaption:{id:"userPermissionsMenu.canEditItem.caption",defaultMessage:"Can edit, but not share with others."},canEditCaptionV2:{id:"userPermissionsMenu.canEditItem.caption2",defaultMessage:"Edit, suggest, and comment"},canEditDescription:{id:"userPermissionsMenu.canEditItem.description",defaultMessage:"edit access"},canEditContentLabel:{id:"userPermissionsMenu.canEditContentItem.label",defaultMessage:"Can edit content"},canEditContentDescription:{id:"userPermissionsMenu.canEditContentItem.description",defaultMessage:"edit content access"},canEditContentCaption:{id:"userPermissionsMenu.canEditContentItem.caption",defaultMessage:"Can edit content, but cant edit the databases views or structure."},canReadLabel:{id:"userPermissionsMenu.canReadItem.label",defaultMessage:"Can view"},canReadAndCreateLabel:{id:"userPermissionsMenu.canReadAndCreateItem.label",defaultMessage:"Can view and create"},canReadDescription:{id:"userPermissionsMenu.canReadItem.description",defaultMessage:"view access"},canReadCaption:{id:"userPermissionsMenu.canReadItem.caption",defaultMessage:"Cannot edit or share with others."},canWriteLabel:{id:"userPermissionsMenu.canWriteItem.label",defaultMessage:"Can write."},canWriteCaption:{id:"userPermissionsMenu.canWriteItem.caption",defaultMessage:"Cannot read or share with others."},unpublishPageLabel:{id:"userPermissionsMenu.unpublishPageItem.label",defaultMessage:"Remove"},canCommentLabel:{id:"userPermissionsMenu.canCommentItem.label",defaultMessage:"Can comment"},canCommentAndCreateLabel:{id:"userPermissionsMenu.canCommentAndCreateItem.label",defaultMessage:"Can comment and create"},canCommentDescription:{id:"userPermissionsMenu.canCommentItem.description",defaultMessage:"comment access"},canCommentCaption:{id:"userPermissionsMenu.canCommentItem.caption",defaultMessage:"Can only comment and suggest."},canCommentCaptionV2:{id:"userPermissionsMenu.canCommentItem.caption2",defaultMessage:"Suggest and comment"},mixedAccessLabel:{id:"userPermissionsMenu.mixedAccessItem.label",defaultMessage:"Mixed access"},mixedAccessCaption:{id:"userPermissionsMenu.mixedAccessItem.caption",defaultMessage:"Has mixed access."},leaveWorkspaceLabel:{id:"userPermissionsMenu.leaveWorkspaceItem.label",defaultMessage:"Leave workspace"},removeFromWorkspaceLabel:{id:"userPermissionsMenu.removeFromWorkspaceItem.label",defaultMessage:"Remove from workspace"},removeWorkspaceLabel:{id:"userPermissionsMenu.removeWorkspaceItem.label",defaultMessage:"Remove"},removePermissionRuleLabel:{id:"userPermissionsMenu.removePermissionRule.label",defaultMessage:"Delete permission rule"},disabledLabel:{id:"userPermissionsMenu.disabledItem.label",defaultMessage:"Disabled"},noAccessLabel:{id:"userPermissionsMenu.noAccessItem.label",defaultMessage:"No access"},canOnlyCreateLabel:{id:"userPermissionsMenu.canOnlyCreateItem.label",defaultMessage:"Can only create"},noAccessDescription:{id:"userPermissionsMenu.noAccessItem.description",defaultMessage:"no access"},noneLabel:{id:"userPermissionsMenu.none.label",defaultMessage:"None"},guestLabel:{id:"userPermissionsMenu.guestItem.label",defaultMessage:"Guest"},pageGuestLabel:{id:"userPermissionsMenu.pageGuestItem.label",defaultMessage:"Page guest"},teamGuestLabel:{id:"userPermissionsMenu.teamGuestItem.label",defaultMessage:"Teamspace guest"},variousAccessLabel:{id:"userPermissionsMenu.canAccessItem.label",defaultMessage:"Mixed access"},limitedAccessLabel:{id:"userPermissionsMenu.limitedAccessItem.label",defaultMessage:"Limited access"},defaultAccessLabel:{id:"userPermissionsMenu.accessItem.label",defaultMessage:"access"},publicShareLinkRemoveLabel:{id:"publicShareLinkPermissionItem.removeAccess.label",defaultMessage:"Remove"},publicShareLinkNoAccessLabel:{id:"publicShareLinkPermissionItem.noAccess.label",defaultMessage:"No access"},customAgentsNoneLabel:{id:"customAgentsPermissionItem.none.label",defaultMessage:"None"},deactivatedLabel:{id:"peopleCollectionMembershipTypeColumn.deactivatedItem.label",defaultMessage:"Deactivated"},removeAgentCaption:{id:"agentPermissionsMenu.removeAgent.caption",defaultMessage:"Agent will lose all access to this page."}})},115850:(e,t,r)=>{r.d(t,{Ay:()=>d,FH:()=>c,HU:()=>s,If:()=>l,qt:()=>a});var n=()=>r(209199),o=()=>r(498212),i=()=>r(292588);const a="marketplace_profile_content",s={[r(183171).V1]:!0};function l(e){const{profileId:t,locale:r}=e;return`${t}|${r}`}function c(e){return e.table===a&&function(e){const t=e.split("|"),[r,i]=t;return 2===t.length&&(0,o().uj)(r)&&(0,n().iK)(i)}(e.id)}const d={table:a,columnTypes:{id:i().A.String,parent_id:i().A.UUID,parent_table:i().A.String,locale:i().A.String,attributes:i().A.JSON,version:i().A.Number,last_version:i().A.Number},requiredColumns:{id:!0,parent_id:!0,parent_table:!0,locale:!0,attributes:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},115997:(e,t,r)=>{function n(e){try{return String(JSON.stringify(e,((e,t)=>t instanceof Map?Object.fromEntries(t):"bigint"==typeof t?t.toString():"symbol"==typeof t?t.description:t)))}catch{return"Unable to serialize your whatever it is. Sorry."}}r.d(t,{A:()=>n})},120997:(e,t,r)=>{r.d(t,{V:()=>a,p:()=>i});const n={page_main:{normalized:{...o(!0),properties:!0,placeholder:!0,deleted_property:!0,views:!0,viewsMain:!0,cover:!0,normalizedTitleWithIcon:!0,editor:!0,discussions:!0,bottomControls:!0,expandedBacklinks:!0,inlinePageSections:!0,transcript:!0,relationsGroup:!0,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1},raw:{properties:!0,property:!0,views:!0,viewsMain:!0,relationsGroup:!0,titleWithIcon:!0,cover:!0,placeholder:!0,inlinePageSections:!0,expandedBacklinks:!0,discussions:!0,bottomControls:!0,editor:!0,transcript:!0,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1}},page_details:{normalized:{...o(!0),properties:!0,deleted_property:!0,viewsMain:!1,placeholder:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,views:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1},raw:{properties:!0,property:!0,placeholder:!1,views:!0,viewsMain:!1,relationsGroup:!1,titleWithIcon:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!1,collectionViewV2:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1}},form_layout_schema:{normalized:{...o(!1),cover:!0,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,properties:!1,relationsGroup:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,formQuestion:!0,formTitle:!0,formSubmit:!0,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1},raw:{properties:!1,property:!1,placeholder:!1,relationsGroup:!1,titleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,views:!1,viewsMain:!1,cover:!0,formQuestion:!0,formTitle:!0,formSubmit:!0,collectionView:!1,collectionViewV2:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1}},views_main_tab_modules:{normalized:{...o(!0),properties:!0,placeholder:!1,deleted_property:!0,views:!1,viewsMain:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!0,discussions:!0,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!0,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1},raw:{properties:!0,property:!0,views:!1,viewsMain:!1,relationsGroup:!0,titleWithIcon:!1,cover:!1,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!0,bottomControls:!1,editor:!0,transcript:!1,collectionView:!1,collectionViewV2:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1}},form_conditional_modules:{normalized:{...o(!1),normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,properties:!1,relationsGroup:!1,deleted_property:!1,views:!1,viewsMain:!1,placeholder:!0,formQuestion:!0,cover:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1},raw:{properties:!1,property:!1,relationsGroup:!1,titleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,views:!1,viewsMain:!1,collectionView:!1,collectionViewV2:!1,placeholder:!0,formQuestion:!0,cover:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!1,view:!1}},person_profile_page_main:{normalized:{...o(!1),properties:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,cover:!0,normalizedTitleWithIcon:!0,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!0,collaborators:!1,teamspaces:!1,theirPages:!0,row:!1,view:!1},raw:{properties:!1,property:!1,views:!1,viewsMain:!1,relationsGroup:!1,titleWithIcon:!0,cover:!0,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!1,collectionViewV2:!1,recentActivity:!0,collaborators:!1,teamspaces:!1,theirPages:!0,row:!1,view:!1}},person_profile_page_details:{normalized:{...o(!0),properties:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!0,teamspaces:!0,theirPages:!1,row:!1,view:!1},raw:{properties:!1,property:!0,views:!1,viewsMain:!1,relationsGroup:!1,titleWithIcon:!1,cover:!1,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!1,collectionViewV2:!1,recentActivity:!1,collaborators:!0,teamspaces:!0,theirPages:!1,row:!1,view:!1}},dashboard_layout_schema:{normalized:{...o(!1),properties:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!0,view:!1},raw:{properties:!1,property:!1,views:!1,viewsMain:!1,relationsGroup:!1,titleWithIcon:!1,cover:!1,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,collectionView:!1,collectionViewV2:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1,row:!0,view:!1}}};function o(e){return{property_number:e,property_title:e,property_person:e,property_file:e,property_text:e,property_checkbox:e,property_button:e,property_created_time:e,property_last_edited_time:e,property_created_by:e,property_last_edited_by:e,property_select:e,property_date:e,property_url:e,property_status:e,property_email:e,property_verification:e,property_place:e,property_formula:e,property_phone_number:e,property_multi_select:e,property_last_visited_time:e,property_relation:e,property_rollup:e,property_auto_increment_id:e,property_location:e}}function i(e,t){return n[t].normalized[e.type]}function a(e,t){return n[t].raw[e.type]??!1}},128443:(e,t,r)=>{r.d(t,{Hx:()=>o,Jd:()=>c,Qr:()=>f,Xk:()=>a,aJ:()=>i,du:()=>u,el:()=>l,fv:()=>d,nl:()=>p,tO:()=>s});var n=()=>r(254947);const o={Status:"notion://sprints/sprint_status_property",StatusV2:"notion://sprints/sprint_status_property_v2",UniqueId:"notion://sprints/unique_id_property",Dates:"notion://sprints/dates_property",SprintToTaskRelation:"notion://sprints/sprint_task_relation",TotalTasksRollup:"notion://sprints/total_tasks_property",CompletedTasksRollup:"notion://sprints/completed_tasks_property"},i="past",a="current",s="next",l="last",c="future",d="future-status-group",u="current-status-group",p="complete-status-group",m=(0,r(69708).YK)({sprintTitleProperty:{id:"appTemplates.tasks.sprintTitleProperty",defaultMessage:"Sprint name"},datesProperty:{defaultMessage:"Dates",id:"appTemplates.sprints.timelineProperty"},uniqueIdProperty:{defaultMessage:"Sprint ID",id:"appTemplatesSprintsV2.sprints.uniqueIdProperty"},sprintStatus:{id:"appTemplatesSprintsV2.sprints.sprintStatus",defaultMessage:"Sprint status"},next:{id:"appTemplatesSprintsV2.sprints.next",defaultMessage:"Next"},last:{id:"appTemplatesSprintsV2.sprints.last",defaultMessage:"Last"},past:{id:"appTemplatesSprintsV2.sprints.past",defaultMessage:"Past"},future:{id:"appTemplatesSprintsV2.sprints.future",defaultMessage:"Future"},current:{id:"appTemplatesSprintsV2.sprints.current",defaultMessage:"Current"}});function f(e){return{title:{type:"title",name:e.formatMessage(m.sprintTitleProperty)},[o.StatusV2]:{name:e.formatMessage(m.sprintStatus),type:"status",groups:[{id:u,name:n().nX,color:"blue",optionIds:[a]},{id:d,name:n().p7,color:"gray",optionIds:[s,c]},{id:p,name:n().P0,color:"green",optionIds:[l,i]}],options:[{id:a,color:"blue",value:e.formatMessage(m.current)},{id:s,color:"purple",value:e.formatMessage(m.next)},{id:c,color:"gray",value:e.formatMessage(m.future)},{id:l,color:"yellow",value:e.formatMessage(m.last)},{id:i,color:"brown",value:e.formatMessage(m.past)}],defaultOption:e.formatMessage(m.future)},[o.Dates]:{type:"date",name:e.formatMessage(m.datesProperty)},[o.UniqueId]:{type:"auto_increment_id",name:e.formatMessage(m.uniqueIdProperty)}}}},133340:(e,t,r)=>{r.d(t,{A:()=>i,G:()=>o});var n=()=>r(292588);const o="server_integrations__discord_user_mapping",i={table:o,columnTypes:{id:n().A.UUID,notion_user_id:n().A.UUID,notion_space_id:n().A.UUID,discord_user_id:n().A.String,discord_server_id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number},requiredColumns:{id:!0,discord_user_id:!0,discord_server_id:!0,version:!0,created_at:!0,updated_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},134025:(e,t,r)=>{r.d(t,{$Y:()=>i,JZ:()=>n().JZ,OU:()=>n().OU,mP:()=>o,op:()=>s,qG:()=>l});r(16280);var n=()=>r(302777);function o(e){return a[e.command]}function i(e){switch(e.command){case"appendActivity":case"set":case"update":case"listBefore":case"listAfter":case"listReplace":case"listRemove":case"keyedObjectListBefore":case"keyedObjectListAfter":case"keyedObjectListRemove":case"keyedObjectListUpdate":case"setPermissionItem":case"temporarySetPermissionItemForBackfill":case"setSingletonPermissionItem":case"addRelationAfter":case"addRelationBefore":case"addRelations":case"removeRelation":case"addPersonAfter":case"addPersonBefore":case"removePerson":case"addSelectOptionAfter":case"addSelectOptionBefore":case"removeSelectOption":case"copyFile":case"listBeforeMulti":case"listAfterMulti":case"removeTeamMembershipItem":case"setTeamMembershipItem":case"ensureScheduleId":case"addEdge":return!0;default:return!1}}const a={insertChildrenAfter:!0,insertChildrenBefore:!0,removeChild:!0,setParent:!0,assignAutoIncrementId:!0,moveToPrivate:!0};Symbol("Forbidden"),Symbol("Actual");const s={set:function(e){return{pointer:e.pointer,path:e.path,command:"set",args:e.args}},update:function(e){return{pointer:e.pointer,path:e.path,command:"update",args:e.args}},updateUnsafe:function(e){if("object"!=typeof e.args&&void 0!==e.args||Array.isArray(e.args))throw new Error("op.update: arg must be non-array object or null");return{pointer:e.pointer,path:e.path,command:"update",args:e.args}},append:function(e){return e.args.ids?e.args.before?{pointer:e.pointer,path:e.path,command:"listBeforeMulti",args:{ids:e.args.ids,before:e.args.before}}:{pointer:e.pointer,path:e.path,command:"listAfterMulti",args:{ids:e.args.ids,after:e.args.after}}:e.args.before?{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id,before:e.args.before}}:{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:e.args.after}}},insertChildren:function(e){const t=e.args.ids??[e.args.id];return e.args.before?{pointer:e.pointer,path:e.path,command:"insertChildrenBefore",args:{ids:t,before:e.args.before}}:{pointer:e.pointer,path:e.path,command:"insertChildrenAfter",args:{ids:t,after:e.args.after}}},remove:function(e){return{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}},removeChild:function(e){return{pointer:e.pointer,path:e.path,command:"removeChild",args:{id:e.args.id}}},addEdge:function(e){const t=e.args.spaceId??e.pointer.spaceId;if(!t)throw new Error("addEdge operation requires a spaceId");const r=e.args.edgeId??e.pointer.id;return{pointer:e.pointer,path:[],command:"addEdge",args:{edgeId:r,spaceId:t,edgeType:e.args.edgeType,sourcePointer:e.args.sourcePointer,targetPointer:e.args.targetPointer,metadata:e.args.metadata,alive:e.args.alive,orderSpec:e.args.orderSpec,version:e.args.version,lastVersion:e.args.lastVersion,createdAt:e.args.createdAt,updatedAt:e.args.updatedAt}}}};function l(e){for(const t of e)!t.pointer&&t.table&&t.id&&(t.pointer={table:t.table,id:t.id})}},135460:(e,t,r)=>{r.d(t,{iu:()=>m,lK:()=>u,qL:()=>p});r(944114);var n=()=>r(91913),o=()=>r(908948),i=()=>r(274147),a=()=>r(1591),s=()=>r(426234),l=()=>r(933449),c=()=>r(429251);const d={textInstanceId:"x",items:"i",searchLabel:"l"};function u(e){const t=[];for(const r of e.iterateItems({includeDeleted:!0,includeEndItem:!0}))t.push(c().l(r));return{[d.textInstanceId]:e.textInstanceId,[d.items]:t,[d.searchLabel]:e.getSearchLabel()}}function p(e,t,r){const n=e.indexOf(",");if(null==r||r.addTagsToCurrentSpan({"crdt.text_instance_id_fallback_used":-1===n}),-1===n)return t;const o=e.slice(0,n),i=o!==t;return null==r||r.addTagsToCurrentSpan({"crdt.text_instance_id_mismatch":i}),o}function m({serialized:e,opClockValueHolder:t,sliceKey:r,logger:d}){const u=p(r,e.x,d),m=[];let f=0;for(const n of e.i){const{item:e,maxTimestamp:t}=c().i(n);m.push(e),f=Math.max(f,t)}o().RT(m);const _=(0,l().Wg)(m[0],a().c$,n().JW);return t.set(Math.max(t.get(),f)),new(a().Ay)(u,new(i().A)(t),_,s().i_(e.l))}},141150:(e,t,r)=>{r.d(t,{A:()=>i,Q:()=>o});var n=()=>r(292588);const o="server_integrations__zendesk_token",i={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,zendesk_access_token:n().A.String,notion_access_token:n().A.String,zendesk_sub_domain:n().A.String,zendesk_user_id:n().A.Number,notion_proxy_token:n().A.String,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number}}},142748:(e,t,r)=>{r.d(t,{J_:()=>V,LW:()=>B,MR:()=>Z,NB:()=>G,NJ:()=>L,O:()=>q,Ou:()=>X,Rp:()=>Y,U0:()=>H,Wy:()=>Q,Y1:()=>re,Yn:()=>E,ZM:()=>ne,_N:()=>O,_n:()=>j,c6:()=>ie,fU:()=>K,n1:()=>J,nz:()=>ee,ot:()=>te,uS:()=>R,vv:()=>W,wR:()=>z,yb:()=>F});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(581454),r(737550);var n=()=>r(496603),o=()=>r(700500),i=()=>r(713998),a=()=>r(452540),s=()=>r(792071),l=()=>r(68263),c=()=>r(212547),d=()=>r(813690),u=()=>r(277153),p=()=>r(363497),m=()=>r(548632),f=()=>r(912720),_=()=>r(199378),y=()=>r(179034),g=()=>r(824862),b=()=>r(519831),v=()=>r(869558),h=()=>r(343666),A=()=>r(926397),I=()=>r(37165),S=()=>r(332393),k=()=>r(415292),T=()=>r(526147),x=()=>r(583839),M=()=>r(96689),w=()=>r(84520),C=()=>r(854150),N=()=>r(234459),P=()=>r(749257),U=()=>r(743246),D=()=>r(978234);function*B(e,t){let r=e;const n=new Set;for(;r;){const e=(0,a().jV)(r);if(n.has(e))break;n.add(e);const s=t(r);if(s&&(yield s),s&&(0,c().$O)(s.table)){var o,i;r=s.getParentPointer(),null!==(o=r)&&void 0!==o&&o.table&&null!==(i=r)&&void 0!==i&&i.id||(r=void 0)}else r=void 0}}function*O(e,t){for(const r of B(e,s().b4_.fromGetRecordValueFn(t))){const e=t(r.pointer),n=r.table;e&&(yield{value:e,table:n})}}function R(e,t,r=new Set){const n=(0,a().jV)(e);if(r.has(n))return;r.add(n);const o=t(e);if(void 0!==o){if(o.isSharingRelationCollection()){const e=o.getSharingEnabledRelatedToCollectionPointer();if(void 0===e)return;return R(e,t,r)}return e}}function E(e,t){return s().b4_.is(t)?Array.from(B(e,t)):Array.from(O(e,t))}function F(e){let t=!0;for(const r of e){if(!t&&r.table===y().ev&&r.isNavigableBlock())return r;t=!1}}function L(e){const t=G(n().RT(e));if(!(t.length<=0))return t[0]}function V(e,t){let r=!0;for(const n of e){if(!r&&t(n))return n;r=!1}}async function H(e,t){if(s().h0Y.is(t)){const r=[];for await(const n of async function*(e,t){let r=e;const n=new Set;for(;r;){const e=(0,a().jV)(r);if(n.has(e))break;n.add(e);const o=await t(r);o&&(yield o),r=o&&(0,c().A0)(o)?o.getParentPointer():void 0}}(e,t))r.push(n);return r}{const r=[];for await(const n of async function*(e,t){let r=e;const n=new Set;for(;r;){const e=(0,a().jV)(r);if(n.has(e))break;n.add(e);const o=await t(r);o&&(yield{table:r.table,value:o}),r=o&&(0,c().ob)(o)?u().L3.getParentPointerFromRecordWithParent(o):void 0}}(e,t))r.push(n);return r}}function j(e,t){return void 0===q({recordPointer:e,getRecordModel:t})}function q(e){const{recordPointer:t,getRecordModel:r,isNavigable:n,isPermanentlyDeleted:o,isPurged:s}=e,l=[t],d=new Set;for(;l.length>0;){const e=l.shift();if(void 0===e)continue;const t=(0,a().jV)(e);if(d.has(t))continue;d.add(t);const u=r(e);if(u&&$({model:u,isNavigable:n,isPermanentlyDeleted:o,isPurged:s}))return u;if(u&&(0,c().A0)(u)){const e=u.getParentPointer();if(void 0===e)continue;if(u.table===y().ev&&e.table===b().Vl){const t=r(e);if((null==t?void 0:t.table)===b().Vl&&t.isSharingRelationCollection()){const e=(0,i().iU)(t,u);if(void 0!==e)e.table&&e.id&&l.push(e);else{const e=t.getSharingEnabledRelatedToCollectionPointer();void 0!==e&&e.table&&e.id&&l.push(e)}}}e.table&&e.id&&l.push(e)}}}function $(e){const{model:t,isNavigable:r,isPermanentlyDeleted:n,isPurged:o}=e;return!(r&&(t.table!==y().ev||!t.isNavigableBlock()))&&(o?t.table===y().ev&&t.isPurged()||t.table===b().Vl&&t.isPurged():n?t.table===M().NX&&t.isDeleted()||t.table===y().ev&&t.isDeletedFromTrash()||t.table===b().Vl&&t.isDeletedFromTrash():!function(e){switch(e.table){case y().ev:case w().mu:case b().Vl:case v().Gy:case h().SN:case g().GP:case S().Li:case A().Hx:case f().yB:case _().SC:case k().sN:case T().Fu:case x().ZP:case I().lo:case p().TF:case m().YV:case N().To:case P().du:case U().C0:case D().yM:return s().Bj6.isAnyModel(e)?Boolean(e.parent_id&&e.alive):Boolean(e.value.parent_id&&e.value.alive);default:return e.table,!0}}(t))}function G(e){return e.filter((e=>{if(e.table===y().ev)if(s().Bj6.isAnyModel(e)){if(e.isNavigableBlock())return!0}else if((0,o().$I)(e.value.type))return!0;return!1})).map((e=>s().Bj6.isAnyModel(e)?e:e.value))}function z(e){const t=e.find((e=>e.table===M().NX));return t&&(s().Bj6.isAnyModel(t)?t:t.value)}function W(e){const t=e.find((e=>e.table===C().yK));return t&&(s().Bj6.isAnyModel(t)?t:t.value)}function K(e,t){if(s().b4_.is(t)){return G(E(e,t))}return G(E(e,t))}function Q(e,t){return E(e,s().b4_.fromRecordMap(t))}function Z(e,t){return E(e,s().b4_.fromRecordMapWithRole(t))}function J(e,t){return E(e,d().xb.fromRecordMapWithRole(t))}function X(e,t){return Boolean(ee(e,t))}function Y(e,t){return Boolean(q({recordPointer:e,getRecordModel:t,isPurged:!0}))}function ee(e,t){return q({recordPointer:e,getRecordModel:t,isPermanentlyDeleted:!0})}function te(e){return Boolean(oe(e))}function re(e){return function(e){return ne(e,(e=>(0,l().p2)(e.role)))}(e)?"read_and_write":function(e){return ne(e,(e=>(0,l().ok)(e.role)))}(e)?"comment_only":oe(e)?"reader":"none"}function ne(e,t){for(const r of ie(e)){if(r.table!==y().ev)continue;const e=(s().Bj6.isAnyModel(r)?r.getPermissionItems():r.value.permissions||[]).find((e=>(0,l().FP)(e)&&(!t||t(e))));if(e&&(0,l().FP)(e))return e}}function oe(e){return ne(e,(e=>(0,l().Tt)(e.role)))}function ie(e){const t=[];for(const r of e)if(t.push(r),r.table===y().ev||r.table===b().Vl)if(s().Bj6.isAnyModel(r)){if(r.isRestricted())break}else{if((r.value&&r.value.permissions||[]).some(l().T6))break}return t}},144081:(e,t,r)=>{r.d(t,{Ay:()=>d,E4:()=>s,GB:()=>i,Hj:()=>a,zx:()=>l});r(898992),r(354520);var n=()=>r(534177),o=()=>r(292588);const i={collection:!0,block:!0,collection_view:!0},a=(0,n().uv)({page_layout_schema:!0,page_info_layout_schema:!0,form_layout_schema:!0,views_main_tab_modules:!0,form_conditional_modules:!0,person_profile_page_main:!0,person_profile_page_details:!0,dashboard_layout_schema:!0}),s=(0,n().uv)({page_main:!0,page_details:!0,form_layout_schema:!0,views_main_tab_modules:!0,form_conditional_modules:!0,person_profile_page_main:!0,person_profile_page_details:!0,dashboard_layout_schema:!0}),l="layout",c={table:l,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,space_id:o().A.UUID,parent_table:o().A.String,parent_id:o().A.UUID,created_by_id:o().A.UUID,created_by_table:o().A.String,created_time:o().A.Number,last_edited_by_id:o().A.UUID,last_edited_by_table:o().A.String,last_edited_time:o().A.Number,format:o().A.JSON,modules:o().A.JSON,blocks:o().A.UUIDArray},requiredColumns:{id:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,modules:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{format:{getMethod:!1,getKeyStoreMethod:!1},modules:{getMethod:"getRawModules",getKeyStoreMethod:"getRawModulesStore"},blocks:{getMethod:"getBlockChildren",getKeyStoreMethod:"getBlockChildrenStore"}}})};const d=c},144986:(e,t,r)=>{r.d(t,{Ay:()=>l,P5:()=>i,WQ:()=>s,e9:()=>a});var n=()=>r(498212),o=()=>r(292588);const i={discussion:!0};function a(e){const{parent_table:t,parent_id:r,user_id:o}=e;return(0,n().gB)(`${t}:${r}:${o}`)}const s="user_seen_record",l={table:s,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,parent_table:o().A.String,parent_id:o().A.UUID,user_id:o().A.UUID,last_seen_at:o().A.Number,space_id:o().A.UUID},requiredColumns:{space_id:!0,parent_table:!0,parent_id:!0,user_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},145076:(e,t,r)=>{r.d(t,{BJ:()=>d,Q$:()=>l,X8:()=>s,Xz:()=>i,gW:()=>a,qY:()=>c,x0:()=>o});var n=()=>r(69708);const o=(0,n().YK)({InvalidCharacter:{defaultMessage:"Invalid character {errorCharacter}.",id:"formulas.formulaParseError.invalidCharacter"},UnclosedStringLiteral:{defaultMessage:"Unclosed string literal.",id:"formulas.formulaParseError.unclosedStringLiteral"},UnclosedComment:{defaultMessage:"Unclosed comment. Comments must be closed with a */ sequence.",id:"formulas.formulaParseError.unclosedComment"},TokenExpected:{defaultMessage:"Expected token {expectedToken}.",id:"formulas.formulaParseError.tokenExpected"},StringLiteralContainsToken:{defaultMessage:"String literal contains token.",id:"formulas.formulaParseError.stringLiteralContainsToken"},ExpressionExpected:{defaultMessage:"Expression expected.",id:"formulas.formulaParseError.expressionExpected"},PropertyTokenOrFunctionExpected:{defaultMessage:"Property token or function expected.",id:"formulas.formulaParseError.propertyExpected"},EndOfInputExpected:{defaultMessage:"End of input expected.",id:"formulas.formulaParseError.endOfInputExpected"},UnexpectedError:{defaultMessage:"Unexpected error.",id:"formulas.formulaParseError.unexpectedError"},TooDeeplyNested:{defaultMessage:"Formula is too deeply nested.",id:"formulas.formulaParseError.tooDeeplyNested"}}),i=(0,n().YK)({ThisRowTypeNotFound:{defaultMessage:"Cannot find this row in context.",id:"formulas.formulaTypecheckerError.thisRowTypeNotFound"},ThisRowNotBlockWithCollection:{defaultMessage:"This row is not a block with a collection.",id:"formulas.formulaTypecheckerError.thisRowNotBlockWithCollection"},MissingPropertyOnThisRow:{defaultMessage:"Cannot find property {propertyName} on this row.",id:"formulas.formulaTypecheckerError.missingPropertyOnThisRow"},MissingContextVariable:{defaultMessage:"Cannot find context variable {valueId}.",id:"formulas.formulaTypecheckerError.missingContextVariable"},MissingBlock:{defaultMessage:"Could not find block {blockId}.",id:"formulas.formulaTypecheckerError.missingBlock"},CallingNotFunction:{defaultMessage:"Cannot call expression of type {expressionType}.",id:"formulas.formulaTypecheckerError.callingNotFunction"},FunctionCallTooFewArguments:{defaultMessage:"Function {functionName} expects {minNumParameters} arguments, but only {numArguments} were provided.",id:"formulas.formulaTypecheckerError.functionCallTooFewArguments"},FunctionCallUnexpectedArgument:{defaultMessage:"Function {functionName} received unexpected argument.",id:"formulas.formulaTypecheckerError.functionCallUnexpectedArgument"},FunctionCallArgumentWrongType:{defaultMessage:"Argument of type {argumentType} does not satisfy function {functionName}().",id:"formulas.formulaTypecheckerError.functionCallArgumentWrongType"},CallingFunctionWithUnknownArgument:{defaultMessage:"Calling {functionName}() with argument that may not be type {expectedType}.",id:"formulas.formulaTypecheckerError.callingFunctionWithUnknownArgument"},MemberPropertyMismatchCollection:{defaultMessage:"Token {propertyName} does not match blocks collection.",id:"formulas.formulaTypecheckerError.memberPropertyMismatchCollection"},MemberPropertyMissing:{defaultMessage:"Cannot find property {propertyName} on collection.",id:"formulas.formulaTypecheckerError.memberPropertyMissing"},MemberPropertyTargetNotBlock:{defaultMessage:"Cannot access property on non-block.",id:"formulas.formulaTypecheckerError.memberPropertyTargetNotBlock"},MemberPropertyTypeInvalid:{defaultMessage:"Cannot access {propertyName} due to an unsupported property type.",id:"formulas.formulaTypecheckerError.memberInvalidPropertyType"},UndefinedIdentifier:{defaultMessage:"{identifier} is not defined.",id:"formulas.formulaTypecheckerError.undefinedIdentifier"},InvalidPropCall:{defaultMessage:"{propertyName} is not a valid property.",id:"formulas.formulaTypecheckerError.invalidPropCall"},InvalidContextCall:{defaultMessage:"{variableName} is not a valid context variable.",id:"formulas.formulaTypecheckerError.invalidContextCall"},InvalidVariableCall:{defaultMessage:"{variableName} is not a valid custom variable.",id:"formulas.formulaTypecheckerError.invalidVariableCall"},IdentifierExpected:{defaultMessage:"Expected identifier.",id:"formulas.formulaTypecheckerError.identifierExpected"},UnifiedFunctionCannotFindFunction:{defaultMessage:"Cannot find function {functionName}().",id:"formulas.formulaTypecheckerError.unifiedFunctionCannotFindFunction"},UnifiedFunctionNoArguments:{defaultMessage:"Function {functionName}() does not expect any arguments.",id:"formulas.formulaTypecheckerError.unifiedFunctionNoArguments"},UnifiedFunctionTargetWrongType:{defaultMessage:"Cannot call {functionName}() with target of type {targetType}.",id:"formulas.formulaTypecheckerError.unifiedFunctionTargetWrongType"},CallingFunctionWithUnknownTarget:{defaultMessage:"Calling {functionName}() with target that may not be type {expectedType}.",id:"formulas.formulaTypecheckerError.callingFunctionWithUnknownTarget"},CannotRelativelyCompareTypes:{defaultMessage:"Cannot compare {lhsType} and {rhsType}.",id:"formulas.formulaTypecheckerError.cannotRelativelyCompareTypes"},CannotDoMathOnType:{defaultMessage:"Cannot do math on {lhsType} and {rhsType}.",id:"formulas.formulaTypecheckerError.cannotDoMathOnType"},UnaryMinusOnNonNumber:{defaultMessage:"Cannot apply minus to {type}.",id:"formulas.formulaTypecheckerError.unaryMinusOnNonNumber"},CircularDependency:{defaultMessage:"Circular dependency detected; this formula references itself.",id:"formulas.formulaTypecheckerError.circularDependency"},FunctionCallExpected:{defaultMessage:"Expected function {functionName}() to be called.",id:"formulas.formulaTypecheckerError.functionCallExpected"},RenamedIdentifier:{defaultMessage:"The function {identifier}() was renamed to {renamedTo}().",id:"formulas.formulaEvaluatorError.renamedIdentifier"},RemovedFunction:{defaultMessage:"The function {functionName}() was removed. You can use {alternative}() instead.",id:"formulas.formulaEvaluatorError.removedFunction"},ContextVariableNotBlockWithCollection:{defaultMessage:"Context variable {valueId} is not a block with a collection.",id:"formulas.formulaTypecheckerError.contextVariableNotBlockWithCollection"},MissingPropertyOnContextVariable:{defaultMessage:"Cannot find property {propertyName} on context variable {valueId}.",id:"formulas.formulaTypecheckerError.missingPropertyOnContextVariable"},BlockPropertyTypeInvalid:{defaultMessage:"Cannot access {propertyName} due to an unsupported property type.",id:"formulas.formulaTypecheckerError.blockPropertyTypeInvalid"},DisallowedReturnType:{defaultMessage:"Formula cannot have a return type of {returnType}. {allowedReturnTypeCount, plural, one {Allowed return type is {allowedReturnType}} other {Allowed return types are {allowedReturnType}}}.",id:"formulas.formulaTypecheckerError.disallowedReturnType"},CrossSpacePropertyNotSupported:{defaultMessage:"Cross-workspace properties are limited.",id:"formulas.formulaTypecheckerError.crossSpacePropertyNotSupported"},CalledFunctionOnEmptyValue:{defaultMessage:"Called function on a value that may be empty.",id:"formulas.formulaTypecheckerError.CalledFunctionOnEmptyValue"}}),a=(0,n().YK)({CannotUseToNumberOnList:{defaultMessage:"Cannot use toNumber on a list. Use first(), at(), or map() instead.",id:"formulas.formulaEvaluatorError.cannotUseToNumberOnList"},DateInvalidDurationUnit:{defaultMessage:"Invalid duration unit {invalidUnit} used for {functionName}().",id:"formulas.formulaEvaluatorError.dateInvalidDurationUnit"},CannotRoundToNonInteger:{defaultMessage:"Cannot round to non-integer precision {precision}.",id:"formulas.formulaEvaluatorError.cannotRoundToNonInteger"},CannotRoundToTooManyDecimalPlaces:{defaultMessage:"Cannot round to {precision} decimal places. The maximum is 12.",id:"formulas.formulaEvaluatorError.cannotRoundToTooManyDecimalPlaces"},NumberFormatInvalid:{defaultMessage:"Invalid number format {invalidFormat}.",id:"formulas.formulaEvaluatorError.numberFormatInvalid"}}),s=(0,n().YK)({MissingThisRow:{defaultMessage:"Cannot find this row.",id:"formulas.formulaEvaluatorError.missingThisRow"},MissingSchemaPropertyOnThisRow:{defaultMessage:"Missing property {propertyName} on this row.",id:"formulas.formulaEvaluatorError.missingSchemaPropertyOnThisRow"},ThisRowBlockPropertyMismatchCollection:{defaultMessage:"This row property belongs to a different collection.",id:"formulas.formulaEvaluatorError.thisRowBlockPropertyMismatchCollection"},MissingContextVariable:{defaultMessage:"Missing context variable {valueId}.",id:"formulas.formulaEvaluatorError.missingContextVariable"},IdentifierNotFound:{defaultMessage:"{identifier} is not defined.",id:"formulas.formulaEvaluatorError.identifierNotFound"},CannotRelativelyCompareTypes:{defaultMessage:"Cannot compare two different types {lhsType} and {rhsType}.",id:"formulas.formulaEvaluatorError.cannotRelativelyCompareTypes"},CannotDoMathOnType:{defaultMessage:"Cannot do math on type {valueType}.",id:"formulas.formulaEvaluatorError.cannotDoMathOnType"},CannotCallNonFunction:{defaultMessage:"Cannot call type {calleeType}.",id:"formulas.formulaEvaluatorError.cannotCallNonFunction"},UnifiedFunctionPropertyNotFound:{defaultMessage:"Function {functionName}() was not found.",id:"formulas.formulaEvaluatorError.unifiedFunctionPropertyNotFound"},LibraryFunctionExecutionError:{defaultMessage:"Error occurred while calling {functionName}.",id:"formulas.formulaEvaluatorError.libraryFunctionExecutionError"},FunctionCallTooFewArguments:{defaultMessage:"Called {functionName} with too few arguments.",id:"formulas.formulaEvaluatorError.functionCallTooFewArguments"},FunctionCallUnexpectedArgument:{defaultMessage:"Called {functionName} with unexpected argument.",id:"formulas.formulaEvaluatorError.functionCallUnexpectedArgument"},FunctionCallArgumentWrongType:{defaultMessage:"Called {functionName} with wrong argument type {argumentType}.",id:"formulas.formulaEvaluatorError.functionCallArgumentWrongType"},AccessingPropertyOnNonBlock:{defaultMessage:"Target value is not a block.",id:"formulas.formulaEvaluatorError.accessingPropertyOnNonBlock"},AccessingUserPropertyOnNonPerson:{defaultMessage:"Target value is not a person.",id:"formulas.formulaEvaluatorError.accessingUserPropertyOnNonPerson"},MissingDataDependencyBlock:{defaultMessage:"Cannot find target block {blockId}.",id:"formulas.formulaEvaluatorError.missingDataDependencyBlock"},MissingDataDependencyPerson:{defaultMessage:"Cannot find target person {personId}.",id:"formulas.formulaEvaluatorError.missingDataDependencyPerson"},MemberPropertyMismatchCollection:{defaultMessage:"Cannot access property of a different collection.",id:"formulas.formulaEvaluatorError.memberPropertyMismatchCollection"},MissingPropertyOnSchemaForMemberProperty:{defaultMessage:"Cannot find property on collection.",id:"formulas.formulaEvaluatorError.missingPropertyOnSchemaForMemberProperty"},UnaryMinusOnNonNumber:{defaultMessage:"Cannot negate value of type {expressionType}.",id:"formulas.formulaEvaluatorError.unaryMinusOnNonNumber"},UnexpectedRecoveryNode:{defaultMessage:"Unexpected recovery node.",id:"formulas.formulaEvaluatorError.unexpectedRecoveryNode"},UnexpectedError:{defaultMessage:"Unexpected error.",id:"formulas.formulaEvaluatorError.unexpectedError"},DepthExceeded:{defaultMessage:"Maximum recursion depth exceeded.",id:"formulas.formulaEvaluatorError.depthExceeded"},CycleDetected:{defaultMessage:"Cycle detected in formula.",id:"formulas.formulaEvaluatorError.cycleDetected"},DownstreamParseFailure:{defaultMessage:"Referenced formula failed to parse.",id:"formulas.formulaEvaluatorError.downstreamParseFailure"},MaxEvaluationTimeExceeded:{defaultMessage:"Max evaluation time exceeded.",id:"formulas.formulaEvaluatorError.maxEvaluationTimeExceeded"},MissingSchemaPropertyOnCollection:{defaultMessage:"Missing property {propertyName} on collection {collectionId}",id:"formulas.formulaEvaluatorError.missingSchemaPropertyOnCollection"},ContextVariableWrongType:{defaultMessage:"Context variable {valueId} returned a type of {propertyType} instead of {expectedType}",id:"formulas.formulaEvaluatorError.contextVariableWrongType"},DisallowedValueType:{defaultMessage:"Formula returned a type of {valueType}. {allowedValueTypeCount, plural, one {Allowed value type is {allowedValueType}} other {Allowed values types are {allowedValueType}}}.",id:"formulas.formulaEvaluatorError.disallowedValueType"},TotalDependencyLimitExceeded:{defaultMessage:"Formula dependency limit exceeded. Total records loaded: {totalLoaded}, limit: {limit}.",id:"formulas.formulaEvaluatorError.totalDependencyLimitExceeded"},PerFormulaDependencyLimitExceeded:{defaultMessage:"Formula dependency limit exceeded. Records loaded for this formula: {perFormulaLoaded}, limit: {limit}.",id:"formulas.formulaEvaluatorError.perFormulaDependencyLimitExceeded"}}),l=(0,n().YK)({true:{id:"formula2Input.builtin.true",defaultMessage:"The boolean value true."},false:{id:"formula2Input.builtin.false",defaultMessage:"The boolean value false."},and:{id:"formula2Input.builtin.and",defaultMessage:"The boolean operator and."},or:{id:"formula2Input.builtin.or",defaultMessage:"The boolean operator or."},not:{id:"formula2Input.builtin.not",defaultMessage:"Returns the opposite of a boolean value."},"+":{id:"formula2Input.builtin.plus",defaultMessage:"Adds two values together."},"-":{id:"formula2Input.builtin.subtract",defaultMessage:"Subtracts two numbers."},"*":{id:"formula2Input.builtin.mult",defaultMessage:"Multiplies two numbers."},"/":{id:"formula2Input.builtin.div",defaultMessage:"Divides two numbers."},"%":{id:"formula2Input.builtin.mod",defaultMessage:"The modulo operator, which returns the remainder of a division."},"^":{id:"formula2Input.builtin.pow",defaultMessage:"Raises a number to a power."},"==":{id:"formula2Input.builtin.eq",defaultMessage:"Checks if two values are equal."},"!=":{id:"formula2Input.builtin.neq",defaultMessage:"Checks if two values are not equal."},">":{id:"formula2Input.builtin.gt",defaultMessage:"Checks if the first value is greater than the second."},"<":{id:"formula2Input.builtin.lt",defaultMessage:"Checks if the first value is less than the second."},">=":{id:"formula2Input.builtin.ge",defaultMessage:"Checks if the first value is greater than or equal to the second."},"<=":{id:"formula2Input.builtin.le",defaultMessage:"Checks if the first value is less than or equal to the second."}}),c=(0,n().YK)({empty:{id:"formula2Input.type.empty",defaultMessage:"empty"},text:{id:"formula2Input.type.text",defaultMessage:"text"},number:{id:"formula2Input.type.numberTypeLabel",defaultMessage:"number"},checkbox:{id:"formula2Input.type.checkbox",defaultMessage:"checkbox"},date:{id:"formula2Input.type.dateTypeLabel",defaultMessage:"date"},block:{id:"formula2Input.type.block",defaultMessage:"block"},unknown:{id:"formula2Input.type.undefined",defaultMessage:"unknown"},person:{id:"formula2Input.type.person",defaultMessage:"person"},array:{id:"formula2Input.type.array",defaultMessage:"list of unknown"},function:{id:"formula2Input.type.function",defaultMessage:"function"},select:{id:"formula2Input.type.selectLabel",defaultMessage:"select"},undefined:{id:"formula2Input.type.undefinedTypeLabel",defaultMessage:"undefined"}}),d=(0,n().YK)({text:{id:"formula2Input.type.plural.text",defaultMessage:"list of text"},number:{id:"formula2Input.type.plural.numberTypeLabel",defaultMessage:"list of numbers"},checkbox:{id:"formula2Input.type.plural.checkbox",defaultMessage:"list of checkboxes"},date:{id:"formula2Input.type.plural.dateTypeLabel",defaultMessage:"list of dates"},block:{id:"formula2Input.type.plural.block",defaultMessage:"list of blocks"},unknown:{id:"formula2Input.type.plural.undefined",defaultMessage:"list"},person:{id:"formula2Input.type.plural.person",defaultMessage:"list of people"},function:{id:"formula2Input.type.plural.function",defaultMessage:"list of functions"},select:{id:"formula2Input.type.plural.selectLabel",defaultMessage:"list of selects"},array:{id:"formula2Input.type.plural.array",defaultMessage:"list of lists"},undefined:{id:"formula2Input.type.plural.undefinedTypeLabel",defaultMessage:"list of undefined"}})},145820:(e,t,r)=>{r.d(t,{Ay:()=>s,QR:()=>o,ZY:()=>a});var n=()=>r(292588);const o="workflow_automation_run",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,dedup_key:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_at:n().A.Number,group_id:n().A.UUID,user_actions:n().A.JSON},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},a={workflow:!0},s=i},152565:(e,t,r)=>{r.d(t,{d4:()=>M,YE:()=>T,k:()=>k,cQ:()=>x});r(898992),r(672577);var n=()=>r(496603),o=(r(430670),()=>r(716016)),i=()=>r(713998),a=()=>r(236162),s=()=>r(519831);r(16280),r(944114),r(803949),r(581454);var l=()=>r(134025),c=()=>r(212547),d=()=>r(179034),u=()=>r(96689);const p={derivePrimitiveOperations(e,t,r){const n=[];n.push({...e,command:"insertChildrenBefore"===e.command?"listBeforeMulti":"listAfterMulti",args:{...e.args}});const o=k(e.pointer.table,e.path);if(!o)throw new Error(`Unsupported operation table and operation path ${JSON.stringify(e)} `);return e.args.ids.forEach((t=>{const i={id:t,table:o,spaceId:e.pointer.spaceId};n.push({command:"update",pointer:i,path:[],args:{parent_table:e.pointer.table,parent_id:e.pointer.id,alive:!0}});const a=r(i);if(a&&a.parent_id&&a.parent_table&&a.parent_id!==e.pointer.id)if(i.table===d().ev&&a.parent_table===u().NX){const e={id:a.parent_id,table:a.parent_table,spaceId:a.getSpaceId()},t=r(e);(t?t.getPages():[]).includes(i.id)&&n.push({command:"listRemove",pointer:e,path:["pages"],args:{id:a.id}})}else{const e=T(a.parent_table,o);e?n.push({command:"listRemove",pointer:{id:a.parent_id,table:a.parent_table,spaceId:a.getSpaceId()},path:e,args:{id:a.id}}):function(e){if(!e)throw new Error("Assertion failed in insertChildrenOperationHelper")}(a.parent_table===s().Vl)}})),n},getAdditionalRelatedPointers(e){const t=k(e.pointer.table,e.path);if(!t)throw new Error(`Invalid operation ${JSON.stringify(e)}`);return e.args.ids.map((r=>({id:r,table:t,spaceId:e.pointer.spaceId})))},invert(e){const{operation:t,getRecordValue:r}=e,n=k(t.pointer.table,t.path);if(!n)throw new Error(`Invalid operation ${JSON.stringify(t)}`);return t.args.ids.flatMap((e=>{const o={id:e,table:n,spaceId:t.pointer.spaceId},i=r(o);if(i&&i.parent_table&&i.parent_id){if(T(i.parent_table,n)){const n=r({id:i.parent_id,table:i.parent_table,spaceId:i.space_id});if(n){if(i.parent_id===t.pointer.id&&i.parent_table===t.pointer.table){const r=T(i.parent_table,o.table);if(r){const o=(0,l().OU)(n,r);if(!o||!o.includes(i.id))return[{command:"removeChild",pointer:t.pointer,path:t.path,args:{id:e}}]}}const r=m({oldParentWithTable:c().ms.create(i.parent_table,n),parentTable:i.parent_table,childPointer:o});return r?[r]:[]}return[{command:"removeChild",pointer:t.pointer,path:t.path,args:{id:e}}]}return[{command:"setParent",pointer:o,path:[],args:{parentId:i.parent_id,parentTable:i.parent_table}}]}return[{command:"removeChild",pointer:t.pointer,path:t.path,args:{id:e}}]}))}};function m(e){const{oldParentWithTable:t,parentTable:r,childPointer:n}=e,o=T(t.table,n.table),i={command:"setParent",pointer:n,path:[],args:{parentId:t.value.id,parentTable:r}};if(!o)return i;const a=(0,l().OU)(t.value,o);if(!a)return i;const s=a.indexOf(n.id);if(-1===s)return i;const c={id:t.value.id,table:r,spaceId:n.spaceId};if(0===s){return{command:"insertChildrenBefore",pointer:c,path:o,args:{ids:[n.id]}}}return{command:"insertChildrenAfter",pointer:c,path:o,args:{ids:[n.id],after:a[s-1]}}}var f=()=>r(370085),_=()=>r(363497),y=()=>r(869558),g=()=>r(144081),b=()=>r(743246);var v=()=>r(199378),h=()=>r(343666),A=()=>r(197959);const I={insertChildrenAfter:p,insertChildrenBefore:p,setParent:{derivePrimitiveOperations(e,t,n){const o=[{command:"update",pointer:e.pointer,path:[],args:{parent_table:e.args.parentTable,parent_id:e.args.parentId,alive:!0}}],i=t(e.pointer);if(i&&i.parent_id&&i.parent_table){const t=T(i.parent_table,e.pointer.table);t&&o.push({command:"listRemove",pointer:r(277153).L3.fromPointerLike({id:i.parent_id,table:i.parent_table,spaceId:i.space_id}),path:t,args:{id:e.pointer.id}})}return o},getAdditionalRelatedPointers:e=>[],invert(e){const{operation:t,getRecordValue:r}=e,n=r(t.pointer);if(!n||!n.parent_id||!n.parent_table)return[{command:"set",pointer:t.pointer,path:["alive"],args:!1}];if(n.parent_id===t.args.parentId&&n.parent_table===t.args.parentTable)return[];if(T(n.parent_table,t.pointer.table)){const e=r({id:n.parent_id,table:n.parent_table,spaceId:n.space_id});if(e){const r=m({oldParentWithTable:c().ms.create(n.parent_table,e),parentTable:n.parent_table,childPointer:t.pointer});if(r)return[r]}return[]}return[{command:"setParent",pointer:t.pointer,path:[],args:{parentId:n.parent_id,parentTable:n.parent_table}}]}},removeChild:{derivePrimitiveOperations(e,t,r){const n=[],o=k(e.pointer.table,e.path);let i=!1;if(o===d().ev&&e.pointer.table===u().NX){const t=r(e.pointer);(t?t.getPages():[]).includes(e.args.id)||(i=!0)}if(i||n.push({...e,command:"listRemove"}),!o)throw new Error(`invalid operation ${JSON.stringify(e)}`);return n.push({command:"set",path:["alive"],args:!1,pointer:{table:o,spaceId:e.pointer.spaceId,id:e.args.id}}),n},getAdditionalRelatedPointers(e){const t=k(e.pointer.table,e.path);if(!t)throw new Error(`Invalid operation ${JSON.stringify(e)}`);return[{id:e.args.id,table:t,spaceId:e.pointer.spaceId}]},invert(e){const{operation:t,getRecordValue:r}=e,n=r(t.pointer);if(!n)return[];const o=k(t.pointer.table,t.path);if(!o)throw new Error(`Invalid operation ${JSON.stringify(t)}`);const i=m({oldParentWithTable:c().ms.create(t.pointer.table,n),parentTable:t.pointer.table,childPointer:{id:t.args.id,table:o,spaceId:t.pointer.spaceId}});return i?[i]:[]}},assignAutoIncrementId:{derivePrimitiveOperations(e,t){const{collectionId:r,spaceId:n}=e.args,l=t(e.pointer);if(!l)return[];if(l.is_template)return[];const c=(0,a().zN)({block:l,getRecordValue:t});if((null==c?void 0:c.id)===r){const a=(0,o().f_)({spaceId:n,parentTable:s().Vl,parentId:r}),l=t(a),c=t({table:s().Vl,id:r,spaceId:n});if(c&&l&&l.alive)return(0,o().V_)(c).flatMap((t=>[{pointer:e.pointer,command:"set",path:["properties",t],args:(0,i().$E)(l.next_value)},{pointer:a,command:"set",path:["next_value"],args:l.next_value+1}]))}return[]},getAdditionalRelatedPointers(e){const{collectionId:t,spaceId:r}=e.args;return[(0,o().f_)({spaceId:r,parentTable:s().Vl,parentId:t})]},invert:e=>[]},moveToPrivate:{derivePrimitiveOperations(e){const{pointer:t}=e,{spaceViewPointer:r,userId:n,removeFromParent:o}=e.args;if(t.spaceId!==r.spaceId)throw new Error("Invalid moveToPrivateOperation: Cannot move to a different space");const i=[(0,f().Mr)({pointer:t,userId:n}),(0,f().$F)({pointer:t,parent_table:u().NX,parent_id:r.spaceId,alive:!0}),{pointer:r,path:["private_pages"],command:"listAfter",args:{id:t.id}}];if(o){const e=T(o.table,t.table);e&&i.unshift({pointer:o,path:e,command:"listRemove",args:{id:t.id}})}return i},getAdditionalRelatedPointers:e=>(0,n().oE)([e.args.spaceViewPointer,e.args.removeFromParent]),invert(e){const{operation:t,getRecordValue:n}=e,{pointer:o}=t,{spaceViewPointer:i,removeFromParent:a}=t.args,l=r(792071).b4_.fromGetRecordValueFn(n),c=l(o);if(!c)return[];const d=[{command:"set",pointer:o,path:["permissions"],args:c.getPermissionItems()},(0,f().$F)({pointer:o,parent_table:c.parent_table,parent_id:c.parent_id,alive:c.alive??!0}),{pointer:i,path:["private_pages"],command:"listRemove",args:{id:o.id}}];if(a){const e=T(a.table,o.table);if(e){const t=l(a);if(t&&t.table!==s().Vl&&t.table!==y().Gy&&t.table!==g().zx&&t.table!==r(63128).qm&&t.table!==_().TF&&t.table!==b().C0){const r=t.getChildren(),n=r.indexOf(o.id);n<=0?d.push({pointer:a,path:e,command:"listBefore",args:{id:o.id}}):d.push({pointer:a,path:e,command:"listAfter",args:{id:o.id,after:r[n-1]}})}}}return d}}},S={[d().ev]:[{childTable:d().ev,childPath:["content"]},{childTable:A().$Y,childPath:["discussions"]}],[u().NX]:[{childTable:d().ev,childPath:["pages"]}],[r(84520).mu]:[{childTable:r(548632).YV,childPath:["assistant_session_starters"]}],[A().$Y]:[{childTable:h().SN,childPath:["comments"]}],[h().SN]:[{childTable:d().ev,childPath:["content"]}],[r(854150).yK]:[{childTable:d().ev,childPath:["team_pages"]}],[r(912720).yB]:[{childTable:v().SC,childPath:["action_ids"]}],[v().SC]:[{childTable:d().ev,childPath:["blocks"]}],[y().Gy]:[],[g().zx]:[{childTable:d().ev,childPath:["blocks"]}],[_().TF]:[],[b().C0]:[]};function k(e,t){var r;const o=S[e];if(o)return null===(r=o.find((({childPath:e})=>n().n4(e,t))))||void 0===r?void 0:r.childTable}function T(e,t){var r;const n=S[e];if(n)return null===(r=n.find((e=>t===e.childTable)))||void 0===r?void 0:r.childPath}function x(e){return I[e.operation.command].invert({operation:e.operation,getRecordValue:e.getRecordValue})}function M(e,t,r){return I[e.command].derivePrimitiveOperations(e,t,r)}},155792:(e,t,r)=>{r.d(t,{$J:()=>a,Ay:()=>s,mS:()=>o});var n=()=>r(292588);const o="thread_message",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,step:n().A.JSON,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,data:n().A.JSON},requiredColumns:{version:!0,step:!0,parent_id:!0,parent_table:!0,space_id:!0,created_time:!0,created_by_id:!0,created_by_table:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},a={thread:!0},s=i},158009:(e,t,r)=>{r.d(t,{BZ:()=>c,Ix:()=>d,bq:()=>l,f3:()=>a,is:()=>s});r(581454);var n=()=>r(498212),o=()=>r(292588);const i="|",a="space_permission_group_member";function s(e){return e.table===a&&function(e){const t=e.split(i),[r,o,a]=t;return 3===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)&&(0,n().uj)(a)}(e.id)}function l(e){const{userId:t,spacePermissionGroupId:r,spaceId:n}=e;return`${t}|${r}|${n}`}function c(e){return{id:l(e),table:a,spaceId:e.spaceId}}const d={table:a,columnTypes:{id:o().A.String,space_id:o().A.UUID,space_permission_group_id:o().A.UUID,user_id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,removed_at:o().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},158158:(e,t,r)=>{r.d(t,{A:()=>i,o:()=>o});var n=()=>r(292588);const o="server_integrations__slack_workspace",i={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_enterprise_id:n().A.String,name:n().A.String,icon:n().A.String,preferences:n().A.JSON}}},158816:(e,t,r)=>{r.d(t,{$3:()=>a,Ay:()=>f,J4:()=>p,JO:()=>c,Sp:()=>m,WK:()=>u,_7:()=>d});var n=()=>r(638681),o=()=>r(564766),i=()=>r(292588);const a=["add_email_domains","remove_email_domains","delete","update"],s=["unconfigured","disabled"],l=(n().literals(...s),["configured","enforced","enforced_for_domain"]),c=(n().literals(...l),[...s,...l]),d="saml_config";function u(e){return"unconfigured"===e.status||"disabled"===e.status}function p(e){return o().J4({samlConfigStatus:e.status,emailDomains:e.email_domains,idp_metadata:e.idp_metadata,idp_metadata_url:e.idp_metadata_url})}function m(e){return p(e)&&Boolean(e.idp_metadata)}const f={table:d,columnTypes:{id:i().A.UUID,version:i().A.Number,last_version:i().A.Number,status:i().A.String,email_domains:i().A.StringArray,idp_metadata_url:i().A.String,idp_public_certificate:i().A.String,idp_sign_in_url:i().A.String,idp_sign_out_url:i().A.String,create_account:i().A.Boolean,last_edited_by:i().A.UUID,last_edited_time:i().A.Number,idp_metadata:i().A.XML,owner_table:i().A.String,owner_id:i().A.String},requiredColumns:{status:!0,create_account:!0,last_edited_by:!0,last_edited_time:!0,owner_table:!0,owner_id:!0},defaultColumnValues:{status:"unconfigured",create_account:!1}}},161479:(e,t,r)=>{function n(e){return e}r.d(t,{e:()=>n})},161908:(e,t,r)=>{r.d(t,{DQ:()=>s,XD:()=>i,XX:()=>a});var n=()=>r(416845),o=()=>r(365970);function i(e){return!!e&&o().R.includes(e)}function a(e){return!!e&&o().TW.includes(e)}function s(e){if(!e)throw new(n().rTV)("If refund reason is 'custom' a reason is required",{type:"marketplace_refund_custom_reason_body_required"});if(e.length>=1e3)throw new(n().rTV)("Custom reason must be less than 1000 characters",{type:"marketplace_refund_custom_reason_too_long"});if(e.length<10)throw new(n().rTV)("Custom reason must be at least 10 characters",{type:"marketplace_refund_custom_reason_too_short"})}},172542:(e,t,r)=>{r.d(t,{A:()=>i,g:()=>o});var n=()=>r(292588);const o="user_data_consent_permissions",i={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,expiry_time:n().A.Number}}},173979:(e,t,r)=>{r.d(t,{BX:()=>_,EC:()=>f,KC:()=>u,Ti:()=>m,W4:()=>y,f$:()=>p});r(898992),r(354520),r(581454);var n=()=>r(778078),o=()=>r(534177),i=()=>r(604995),a=()=>r(416504),s=()=>r(436632),l=()=>r(201980),c=()=>r(681373);const d={now:{text:s().H.nowText,description:s().H.nowDescription,fuzzySearchKeywords:s().H.nowKeywords,category:"date",resolve:e=>{const t=i().T_(e.currentTimeZone||(0,a().P)(),e.currentTimestamp);return l().Ww9({...t,date_format:"relative"})}},today:{text:s().H.todayText,description:s().H.todayDescription,fuzzySearchKeywords:s().H.todayKeywords,category:"date",resolve:e=>{const t=i().Ec(e.currentTimeZone||(0,a().P)(),e.currentTimestamp);return l().Ww9({...t,date_format:"relative"})}},me:{text:s().H.meText,description:void 0,fuzzySearchKeywords:s().H.meKeywords,category:"user",resolve:e=>e.currentUserId?l().P4h(e.currentUserId):void 0}};function u(e,t){const r=l().y0Y(e);return d[r.type].resolve(t)}function p(e,t){return e?e.map((e=>function(e,t){const r=l().uPN(e).map((e=>(0,c().go)(e)?u(e,t):e)).filter(o().O9);return l().Ey_(l().N8A(e),r)}(e,t))):[]}function m(e,t){return t.formatMessage(d[e].text)}function f(e,t){const r=d[e].description;if(r)return t.formatMessage(r)}function _(e,t){return d[e].category===t}function y(e,t){return(0,n().Ay)(e,Object.entries(d),(([e,r])=>t.formatMessage(r.fuzzySearchKeywords))).map((([e,t])=>e))}},175482:(e,t,r)=>{r.d(t,{Rf:()=>y,VC:()=>m,dM:()=>g,ir:()=>u,rF:()=>_});r(944114),r(898992),r(354520),r(581454);var n=()=>r(496603),o=()=>r(534177),i=()=>r(700500),a=()=>r(792071),s=()=>r(134025),l=()=>r(439180),c=()=>r(701218),d=()=>r(803884);function u(e){return e.crdt_data||void 0!==e.crdt_format_version?{...e,crdt_data:void 0,crdt_format_version:void 0}:e}function p(e){const{createTextOperations:t}=e;return function(e){const{block:n,legacyNonCrdt:o,sessionId:i}=e,l=a().Bj6.fromBlock(n),c=l.__IM_SORRY__getValue();if(o){return[s().op.set({pointer:l.pointer,path:[],args:v(c)})]}const d=r(855355).Ay.createEmpty((0,r(187534).Fl)(l.pointer.id,"title"),i),u=b(c,d),p=s().op.set({pointer:l.pointer,path:[],args:u}),m=l.getProperty("title");if(!m||0===m.length)return[p];return[p,...t({textSliceTree:d,title:m,pointer:l.pointer})]}}const m=p({createTextOperations:({textSliceTree:e,title:t,pointer:r})=>e.getOperationsForInsertTextValue(0,t,!1).operations.map((e=>l().qA({pointer:r,crdtOperation:e})))}),f=p({createTextOperations:({title:e,pointer:t})=>[{command:"replaceTextInBlock",pointer:t,path:[],opVersion:l().TU,args:{textValue:e}}]});function _(e){const{block:t,existingBlock:r,legacyNonCrdt:n,shouldCreateBlockOnServer:i=!1}=e;return r?function(e){const{existingBlock:t,updatedBlock:r,sessionId:n}=e,i=a().Bj6.fromBlock(t),l=a().Bj6.fromBlock(r).__IM_SORRY__getValue(),{format:d,properties:p,moved:m,crdt_data:f,crdt_format_version:_,...y}=u(l),{title:b,...v}=p??{},h=[s().op.update({pointer:i.pointer,path:[],args:(0,c().hA)(y)}),d&&Object.keys(d).length>0?s().op.update({pointer:i.pointer,path:["format"],args:d}):void 0,i.isCrdtEnabled()?v&&Object.keys(v).length>0?s().op.update({pointer:i.pointer,path:["properties"],args:v}):void 0:p&&Object.keys(p).length>0?s().op.update({pointer:i.pointer,path:["properties"],args:(0,c().hA)(p)}):void 0,m&&Object.keys(m).length>0?s().op.update({pointer:i.pointer,path:["moved"],args:m}):void 0].filter(o().O9);if(!i.isCrdtEnabled())return h;const A=g(i,b,n);return[...h,...A]}({updatedBlock:t,existingBlock:r}):i?f({block:t,legacyNonCrdt:n}):m({block:t,legacyNonCrdt:n})}function y(e){const{blockModelArgs:t,existingBlock:r,legacyNonCrdt:n}=e,o=a().zgg.create({...t,legacyNonCrdt:n}).model;return{blockModel:o,createOrUpdateBlockOperations:_({block:o,existingBlock:r,legacyNonCrdt:n})}}function g(e,t,r){if(!e.isCrdtEnabled())return[s().op.update({pointer:e.pointer,path:["properties"],args:c().hA({title:t})})];const o=e.getBlockTitleTextSliceTree(r);if(!o)return[];const i=o.getTextValue();if(n().n4(i,t))return[];const a=[],d=o.getVisibleCount()>0?o.getOperationsForDeleteText(0,o.getVisibleCount()-1).operations:[];if(a.push(...d),t&&t.length>0){for(const t of d)o.applyDeleteOperation(t);const e=o.getOperationsForInsertTextValue(0,t,!1).operations;a.push(...e)}return a.map((t=>l().qA({pointer:e.pointer,crdtOperation:t})))}function b(e,t){const r=h(e={...e,crdt_data:{title:d().lK(t)},crdt_format_version:c().vH});return(0,c().hA)({...r,properties:{...r.properties,title:t.getTextValue()}})}function v(e){return h({...e,crdt_data:void 0,crdt_format_version:void 0})}function h(e){const{type:t,format:r}=e;return t===i().xd.drawing?(0,c().hA)({...e,format:{drawing_value:void 0,...r}}):(0,c().hA)(e)}},178492:(e,t,r)=>{r.d(t,{Bn:()=>i,Kg:()=>o});const n="notion://untyped",o={priorityHmlProperty:`${n}/priority_hml_property`,aiSummaryProperty:`${n}/ai_summary_property`,aiCustomAutofillProperty:`${n}/ai_custom_autofill_property`,aiTranslationProperty:`${n}/ai_translation_property`,aiKeywordsProperty:`${n}/ai_keywords_property`,progressBarCurrentProperty:`${n}/progress_bar_current_property`,progressBarTargetProperty:`${n}/progress_bar_target_property`,progressBarFormulaProperty:`${n}/progress_bar_progress_formula_property`,ganttInitiativeProperty:`${n}/gantt_initiative_property`,ganttDueDateProperty:`${n}/gantt_due_date_property`,ganttTimelineView:`${n}/gantt_timeline_view`},i={priorityHmlFeature:`${n}/priority_hml_feature`,aiSummaryFeature:`${n}/ai_summary_feature`,aiCustomAutofillFeature:`${n}/ai_custom_autofill_feature`,aiTranslationFeature:`${n}/ai_translation_feature`,aiKeywordsFeature:`${n}/ai_keywords_feature`,progressBarFeature:`${n}/progress_bar_feature`,ganttChartFeature:`${n}/gantt_chart_feature`}},179533:(e,t,r)=>{r.d(t,{NV:()=>o});r(944114);var n=()=>r(244668);function o(e,t){if(t&&(0,n().$t)(e.table))if("space"===e.table){if(e.id!==t)return}else{if(!e.spaceId)return{...e,spaceId:t};if(e.spaceId!==t)return}return e}},183171:(e,t,r)=>{r.d(t,{Ay:()=>i,V1:()=>o});var n=()=>r(292588);const o="marketplace_profile",i={table:o,columnTypes:{id:n().A.UUID,contentful_id:n().A.String,name:n().A.String,username:n().A.String,locales:n().A.StringArray,status:n().A.String,template_creator_status:n().A.String,seller_onboarding_status:n().A.String,consultant_status:n().A.String,stripe_connect_onboarding_phase:n().A.String,stripe_connected_account_id:n().A.String,salesforce_id:n().A.String,attributes:n().A.JSON,number_of_templates:n().A.Number,number_of_duplicates:n().A.Number,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,agents:n().A.StringArray},requiredColumns:{id:!0,contentful_id:!0,name:!0,username:!0,locales:!0,status:!0,seller_onboarding_status:!0,template_creator_status:!0,stripe_connect_onboarding_phase:!0,consultant_status:!0,number_of_templates:!0,number_of_duplicates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},183541:(e,t,r)=>{r.d(t,{Ay:()=>a,e7:()=>o,tE:()=>i});var n=()=>r(292588);const o={space:!0},i="workflow_external_scoped_connection",a={table:i,columnTypes:{created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,id:n().A.UUID,last_version:n().A.Number,module_type:n().A.String,name:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,permission:n().A.JSON,scopes:n().A.StringArray,space_id:n().A.UUID,version:n().A.Number,workflow_external_connection_id:n().A.UUID},requiredColumns:{created_by_id:!0,created_by_table:!0,created_time:!0,module_type:!0,parent_id:!0,parent_table:!0,permission:!0,scopes:!0,space_id:!0,version:!0,workflow_external_connection_id:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},187534:(e,t,r)=>{r.d(t,{Fl:()=>u,Nf:()=>s,QG:()=>d,_3:()=>c,yb:()=>l,zk:()=>a});r(944114);var n=()=>r(498212),o=()=>r(416845),i=()=>r(91913);function a(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:e[0]<t[0]?-1:e[0]>t[0]?1:0}function s(e,t){const r=a(e,t);if(0===r)throw new(o().QkH)("Expected distinct op IDs",{data:{id1:e,id2:t}});return r}function l(e,t){return"start"===e?"start"===t?0:-1:"end"===e?"start"===t?1:"end"===t?0:-1:"start"===t||"end"===t?1:a(e,t)}function c(e,t){const r=l(e,t);if(0===r)throw new(o().QkH)(i().ws,{data:{id1:e,id2:t}});return r}function d(e){const t=[];for(const r of e){const[e,n]=r,[o,i]=e;for(let r=0;r<n;r++)t.push([o,i+r])}return t}function u(e,t){return(0,n().Ct)(`${e}/${t}`)}},187696:(e,t,r)=>{r.d(t,{b:()=>a});var n=()=>r(498140),o=()=>r(201980);const i=new WeakMap;function a(e){if(e&&i.has(e))return i.get(e);const t=function(e){const t=o().Cok(e);if(t.length>0){if("Invalid Date"===t[0].start_date||"Invalid date"===t[0].start_date)return;return t[0]}const r=o().k4p(e);return(0,n().Z$)(r)}(e);return e&&i.set(e,t),t}},188845:(e,t,r)=>{r.d(t,{A:()=>i,j:()=>o});var n=()=>r(292588);const o="space_domain",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,domain:n().A.String,is_autogenerated:n().A.Boolean}}},189141:(e,t,r)=>{r.d(t,{Lv:()=>_,QN:()=>f,Z0:()=>d,p8:()=>c});r(16280);var n=()=>r(973647),o=()=>r(534177);class i{migrateFormat(e){return{value:{type:"custom",version:1,title:e.title,autofillInstructions:e.autofillInstructions,placeholderText:e.placeholderText,context:e.context,searchScope:e.searchScope}}}}class a{migrateFormat(e){if("summarizeThisPage"===e.type)return{value:{...e,version:2}};if("extractKeyPointsFromThisPage"===e.type)return{value:{...e,version:2}};if("custom"===e.type){const{searchScope:t,...r}=e;return{value:{...r,version:2,searchScopes:t?[t]:[]}}}(0,o().HB)(e)}}class s{migrateFormat(e){if("summarizeThisPage"===e.type)return{value:{...e,version:3,searchScopes:[]}};if("extractKeyPointsFromThisPage"===e.type)return{value:{...e,version:3,searchScopes:[]}};if("custom"===e.type){const{dontSearchWorkspaceAndConnectors:t,title:r,placeholderText:n,searchScopes:o,...i}=e;let a=o||[];return o&&0!==o.length||(a=!0===t?[]:[{type:"notion"}]),{value:{...i,version:3,searchScopes:a}}}(0,o().HB)(e)}}const l={0:new i,1:new a,2:new s};function c(e){const t=(new f).migrateToLatest({format:e});return n().Q.isFail(t)?{error:t.error.message}:{value:t.value}}const d={type:"custom",version:3,autofillInstructions:void 0,context:void 0,searchScopes:[{type:"notion"}]};function u(e){const{model:t,getRecordModel:r}=e,n=t.getRenderTitleTextValue({getRecordModel:r}),o=t.getFormatValue("ai_prompt_key");if(!o)return;if("summarize"===o)return{type:"summarizeThisPage",version:3,searchScopes:[]};if("findActionItems"===o)return{type:"extractKeyPointsFromThisPage",version:3,searchScopes:[]};return{type:"custom",version:3,autofillInstructions:n,context:[{type:"currentPage",pageId:t.getParentPointer().id}],searchScopes:[]}}class p extends Error{constructor(e){super(e),this.name="AIBlockFormatMigratorError"}asValidationError(){return new(r(416845).yI4)(this.message)}static is(e){return e instanceof p}}const m=()=>{};class f{constructor(e=m){this.getRecordModel=e}migrateToLatest(e){const{model:t}=e;let r;if(e.format)r=e.format;else{if(!t)return{error:new p("Either format or model must be provided")};{const e=this.getFormatFromModel(t);if(n().Q.isFail(e))return e;r=e.value.format}}const o=this.getFormatVersionFromFormat(r);return n().Q.isFail(o)?o:this.migrateFormatToLatest({format:r,version:o.value.version})}getFormatVersionFromFormat(e){return function(e){return"object"==typeof e&&null!==e&&"context"in e&&"searchScope"in e&&"placeholderText"in e&&"autofillInstructions"in e&&"title"in e}(e)?{value:{version:0}}:"version"in e?{value:{version:e.version}}:{error:new p("Invalid format")}}getFormatFromModel(e){const t=e.getFormatValue("ai_block_configuration_menu");if(t)return{value:{format:t}};if(e.getFormatValue("ai_prompt_key")){const t=u({model:e,getRecordModel:this.getRecordModel});return t?{value:{format:t}}:{error:new p("Failed to migrate V1 to V2")}}return{error:new p("No recognized AI block configuration format found")}}migrateFormatToLatest(e){const{format:t}=e;let r=t,o=e.version||0;for(;o<3;){const e=l[o];if(!e)return{error:new p(`No migrator found for version ${o}`)};const t=e.migrateFormat(r);if(n().Q.isFail(t))return{error:new p(t.error)};r=t.value,o++}return{value:r}}}function _(e){const{model:t,throwOnError:r}=e;if(!t){if(Boolean(r))throw new p("Model is required");return d}const o=(new f).migrateToLatest({model:t});if(n().Q.isFail(o)){if(Boolean(r))throw o.error;return d}return o.value}},190674:(e,t,r)=>{r.d(t,{El:()=>i,kX:()=>s,zg:()=>a});var n=()=>r(778781),o=()=>r(475140);function i(e){const t=Boolean((0,o().LC)(e,n().y6)),r=e.views_main_tab_modules,i=void 0!==r&&Object.keys(r).length>0;return t&&i}function a(e){const t=Boolean((0,o().LC)(e,n().y6)),r=i(e);return Boolean(t&&!r)}function s(e){const t=Boolean((0,o().JO)(e,n().y6)),r=e.views_main_tab_modules,i=void 0!==r&&Object.keys(r).length>0;return t&&i}},191507:(e,t,r)=>{r.d(t,{Ci:()=>d,SC:()=>l,lP:()=>s,tf:()=>i,vX:()=>a,zZ:()=>c});var n=()=>r(179034),o=()=>r(519831);const i="->",a="",s=[{typeName:"collection_pointers",reverseTypeName:"collection_parent_block",sourceTable:n().ev,targetTable:o().Vl,cardinality:"1-to-many"},{typeName:"test_edge",reverseTypeName:"reverse_test_edge",sourceTable:n().ev,targetTable:o().Vl,cardinality:"1-to-many"}],l="relation:";function c(e){return`${l}${e.sourceCollectionId}${a}${e.sourcePropertyId}${i}${e.targetCollectionId}${a}${e.targetPropertyId}`}const d={"many-to-many":{forward:"source-and-target",reverse:"source-and-target"},"1-to-many":{forward:"source-and-target",reverse:"target-only"},"1-to-1":{forward:"source-only",reverse:"target-only"}};n().ev,n().ev,o().Vl,o().Vl},192125:(e,t,r)=>{r.d(t,{A:()=>i,h:()=>o});var n=()=>r(292588);const o="github_student_pack_redemption",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,github_user_id:n().A.Number,space_id:n().A.UUID,user_id:n().A.UUID},requiredColumns:{id:!0,version:!0,created_time:!0,github_user_id:!0,space_id:!0,user_id:!0},model:(0,r(152853).P)({RecordStore:!1})}},192249:(e,t,r)=>{r.d(t,{Ay:()=>i,Hi:()=>o});var n=()=>r(292588);const o="template_creator",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,username:n().A.String,is_template_creator:n().A.Boolean,user_id:n().A.String,attributes:n().A.JSON,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,number_of_templates:n().A.Number,template_image:n().A.JSON,tags:n().A.StringArray,number_of_duplicates:n().A.Number,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,is_featured_creator:n().A.Boolean,is_certified_consultant:n().A.Boolean,stripe_connected_account_id:n().A.String,stripe_connect_onboarding_phase:n().A.String,status:n().A.String,is_technology_partner:n().A.Boolean,seller_onboarding_status:n().A.String},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,username:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,number_of_templates:!0,number_of_duplicates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,status:!0,stripe_connect_onboarding_phase:!0},model:(0,r(152853).P)({RecordStore:!0})}},192481:(e,t,r)=>{r.d(t,{M:()=>o,z:()=>i});r(16280);var n=()=>r(792071);function o(e){return"none"!==e}function i(e){const{undecoratedGetRecordModel:t,logErrorFn:r,from:o}=e;return n().b4_.fromMonomorphicFunctionUnsafe((e=>{const n=t(e);return void 0===n&&"space_user"!==e.table&&"space_bot"!==e.table&&"space_permission_group"!==e.table&&"space_permission_group_member"!==e.table&&"marketplace_profile_member"!==e.table&&r({from:o,type:"NecessaryRecordWasNotProvided",error:new Error(`${o} needed the following record: ${e.table}/${e.id}, but it was not provided`),data:e}),n}),t.getRecordValue)}},193657:(e,t,r)=>{r.d(t,{Ay:()=>i,bh:()=>o});var n=()=>r(292588);const o="integration_listing",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,integration_id:n().A.UUID,creator_id:n().A.UUID,tags:n().A.StringArray,name:n().A.String,slug:n().A.String,locale:n().A.String,info:n().A.JSON,created_at:n().A.Number,last_updated_at:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},197577:(e,t,r)=>{r.d(t,{Ay:()=>i,hR:()=>o});var n=()=>r(292588);const o="template_tag",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,locale:n().A.String,description:n().A.String,contentful_parent_id:n().A.String,icon:n().A.JSON,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,subcategory_contentful_ids:n().A.StringArray,featured_template_contentful_ids:n().A.StringArray,attributes:n().A.JSON,number_of_templates:n().A.Number,template_image:n().A.JSON,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,subcategory_contentful_ids_v2:n().A.StringArray,hide_in_web_gallery:n().A.Boolean,show_in_app:n().A.Boolean,number_of_templates_v2:n().A.Number},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,locale:!0,description:!0,icon:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,attributes:!0,number_of_templates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,hide_in_web_gallery:!0,show_in_app:!0,number_of_templates_v2:!0},model:(0,r(152853).P)({RecordStore:!0})}},197651:(e,t,r)=>{r.d(t,{Ay:()=>i,zi:()=>o});var n=()=>r(292588);const o="marketplace_payout_remainder",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,amount:n().A.Number,currency:n().A.String,source_payout_id:n().A.UUID,settlement_payout_id:n().A.UUID,seller_id:n().A.UUID,seller_account_id:n().A.String,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,amount:!0,currency:!0,source_payout_id:!0,seller_id:!0,seller_account_id:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!1})}},197959:(e,t,r)=>{r.d(t,{$Y:()=>i,Ay:()=>a,yy:()=>o});var n=()=>r(292588);const o={block:!0},i="discussion",a={table:i,columnTypes:{id:n().A.UUID,type:n().A.String,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,context:n().A.JSON,resolved:n().A.Boolean,comments:n().A.StringArray,space_id:n().A.UUID,reactions:n().A.UUIDArray,property_id:n().A.String},requiredColumns:{parent_id:!0,parent_table:!0,resolved:!0,type:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{context:{private:!0}}})}},199378:(e,t,r)=>{r.d(t,{Ay:()=>l,SC:()=>s,ls:()=>i,xC:()=>a});var n=()=>r(292588);const o=(0,r(69708).YK)({defaultEmptyVariableName:{defaultMessage:"Variable 1",id:"AutomationAction.defaultEmptyVariableName"}}),i={automation:!0},a=o.defaultEmptyVariableName,s="automation_action",l={table:s,columnTypes:{id:n().A.UUID,type:n().A.String,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,alive:n().A.Boolean,config:n().A.JSON,blocks:n().A.StringArray},requiredColumns:{id:!0,type:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{config:{getKeyStoreMethod:!1}}})}},201980:(e,t,r)=>{r.d(t,{$6U:()=>Cn,$CJ:()=>fe,$VL:()=>vr,$ch:()=>U().$c,$qC:()=>Ue,$sA:()=>Pt,AGB:()=>Yn,AI5:()=>yn,ANx:()=>mn,AhH:()=>Ke,Aux:()=>U().Au,B8H:()=>Le,BEe:()=>Oe,BQP:()=>U().BQ,CA$:()=>dn,CXp:()=>nn,CY8:()=>ir,C_C:()=>Hr,Cc8:()=>On,Cok:()=>Xt,DH3:()=>Dr,DJ2:()=>fn,Dew:()=>_t,EF0:()=>re,EKZ:()=>F,ELt:()=>Jt,EQ8:()=>U().EQ,ESw:()=>cn,ETy:()=>Tr,E_d:()=>io,EgN:()=>U().Eg,ElW:()=>Xr,Ey_:()=>Sr,FAS:()=>Kt,FAw:()=>Qn,FHi:()=>tt,FLg:()=>rt,Fbh:()=>$t,Ffo:()=>Ar,G0H:()=>un,G6d:()=>le,GCe:()=>st,GQB:()=>U().GQ,GhC:()=>pe,GiG:()=>He,Gsl:()=>St,HPQ:()=>U().HP,HZO:()=>oo,I1e:()=>U().I1,IJr:()=>U().IJ,IQD:()=>zt,ITd:()=>ar,IcF:()=>qt,Ifu:()=>U().BQ,Ii$:()=>en,IjF:()=>U().Ij,JCc:()=>U().JC,JG8:()=>Kn,JIi:()=>K,JJ$:()=>Wn,JJX:()=>yt,JMm:()=>Q,JWU:()=>wn,J_S:()=>Er,JnO:()=>Xn,JzQ:()=>Nn,K7D:()=>wt,K9V:()=>Ae,KGg:()=>nt,KdU:()=>xt,Kxr:()=>$,LPC:()=>hn,M4u:()=>J,MMZ:()=>qe,MTk:()=>eo,MXn:()=>U().MX,MaE:()=>dt,MbB:()=>Dn,MdE:()=>bt,Mdu:()=>ce,Mwp:()=>gn,MzR:()=>ye,N53:()=>U().N5,N5L:()=>rr,N8A:()=>ze,NcG:()=>Ye,NpB:()=>Tt,O3D:()=>U().O3,ORN:()=>U().OR,Omw:()=>Rr,Orm:()=>mt,P4h:()=>wr,P8i:()=>pr,PVS:()=>Ie,Pej:()=>$n,Pqo:()=>Ne,Q0m:()=>U().Q0,QVD:()=>ne,QkK:()=>ct,Qmu:()=>U().Qm,Qri:()=>on,Qt6:()=>je,Qvg:()=>U().Qv,RAd:()=>an,RFR:()=>Gn,RNO:()=>U().RN,RQ:()=>fr,RXL:()=>U().RX,RaC:()=>U().R,S4U:()=>U().S4,SEY:()=>de,SZO:()=>G,Sev:()=>ae,Sez:()=>$r,Si1:()=>U().Si,Sj:()=>O,So_:()=>Xe,SqX:()=>U().Sq,Srj:()=>me,T$c:()=>ut,TEZ:()=>rn,TSJ:()=>At,TVE:()=>ke,Ta1:()=>U().T,U35:()=>Ze,UKc:()=>Ge,UZu:()=>W,Uee:()=>br,Uft:()=>Tn,Umo:()=>Fr,UyS:()=>U().Uy,VS2:()=>L,Vb6:()=>Cr,VtW:()=>be,W3Y:()=>ge,WWE:()=>We,WWk:()=>U().WW,Wov:()=>U().Wo,Ww9:()=>Nr,X$:()=>Gr,XKU:()=>U().XK,XTT:()=>xr,XkZ:()=>U().Xk,Ycj:()=>ln,YhW:()=>hr,Yl$:()=>R,YuY:()=>U().Yu,ZRT:()=>U().ZR,ZW1:()=>Pr,ZrY:()=>Mt,_Nw:()=>lt,_Vv:()=>ue,_XS:()=>U()._X,__s:()=>_n,_g9:()=>Y,_kG:()=>sn,_tF:()=>pt,_vJ:()=>Pn,aIB:()=>U().aI,aLI:()=>Zn,aQj:()=>Zr,air:()=>Yt,azZ:()=>Ce,b$b:()=>Un,bBR:()=>lr,bHQ:()=>Be,bJT:()=>Hn,bMp:()=>qr,bZo:()=>U().bZ,byt:()=>we,cFJ:()=>ot,cQR:()=>Je,c_:()=>ie,cgd:()=>U().cg,ctx:()=>zn,cyx:()=>U().cy,czo:()=>U().cz,dBf:()=>U().dB,dCO:()=>qn,dHc:()=>se,dLT:()=>Dt,dRK:()=>U().dR,dWL:()=>Ur,dei:()=>U().de,dze:()=>ro,fL_:()=>U().fL,fmO:()=>gt,fts:()=>U().ft,g2K:()=>Me,gir:()=>U().gi,go0:()=>U().go,gqr:()=>j,gru:()=>Wr,gsT:()=>An,gwU:()=>bn,h71:()=>zr,hiQ:()=>Mr,i$F:()=>vt,i54:()=>Pe,i8$:()=>z,i8Z:()=>U().i8,iGj:()=>U().iG,iQL:()=>U().iQ,iVq:()=>at,ik2:()=>U().ik,iz3:()=>U().iz,j1D:()=>te,j2Y:()=>Vt,j8e:()=>Ot,jEb:()=>Zt,jIt:()=>U().jI,jR$:()=>Ve,jcO:()=>U().jc,jgW:()=>Wt,jhx:()=>ee,jvm:()=>jt,k4p:()=>gr,kH2:()=>U().kH,kJl:()=>U().kJ,kNd:()=>Gt,lSC:()=>En,lXo:()=>no,ld4:()=>kr,lf7:()=>Jr,lfB:()=>sr,lfl:()=>U().lf,lkI:()=>tn,lqY:()=>_e,lux:()=>Qr,lzV:()=>xn,mIW:()=>Et,moK:()=>tr,muW:()=>U().mu,n5B:()=>U().n5,nG4:()=>Ct,nNl:()=>U().nN,nfR:()=>E,ooo:()=>mr,oxd:()=>U().ox,p5C:()=>it,p5j:()=>U().p5,pbt:()=>$e,q1R:()=>Nt,q4_:()=>yr,qAZ:()=>_r,qMn:()=>ve,qS0:()=>It,qUh:()=>U().qU,qXl:()=>Re,qlU:()=>U().ql,qsB:()=>U().qs,rDy:()=>U().rD,rPg:()=>V,rie:()=>U().ri,rjO:()=>Ee,rlz:()=>U().rl,s1Y:()=>U().$D,sh$:()=>U().sh,snh:()=>oe,tI_:()=>U().tI,tPj:()=>Lr,tVx:()=>Te,tcA:()=>Kr,tyK:()=>Qt,u$N:()=>Lt,uIc:()=>Ut,uLW:()=>jr,uPN:()=>Rt,uoE:()=>he,v55:()=>kt,vSn:()=>Ht,vjW:()=>et,vpH:()=>De,vqC:()=>ht,vu:()=>ft,w9s:()=>X,wQU:()=>Ft,wU2:()=>Vr,wmz:()=>Yr,wuy:()=>kn,x9_:()=>cr,x9d:()=>Ir,x9g:()=>xe,xV3:()=>ur,xbM:()=>Jn,xym:()=>Mn,y0Y:()=>Bt,ynV:()=>U().yn,zBr:()=>Bn,zIw:()=>U().zI,zKJ:()=>Se,zP1:()=>Br,zX2:()=>U().zX});r(18107),r(944114),r(967357),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(908872),r(737550),r(941795),r(814603),r(147566),r(198721);var n=()=>r(99895),o=()=>r(496603),i=()=>r(498212),a=()=>r(534177),s=()=>r(939768),l=()=>r(720665),c=()=>r(902006),d=()=>r(319954),u=()=>r(269288),p=()=>r(869190),m=()=>r(634201),f=()=>r(997769),_=()=>r(402390),y=()=>r(207289),g=()=>r(332737),b=()=>r(795727),v=()=>r(651784),h=()=>r(179034),A=()=>r(824862),I=()=>r(519831),S=()=>r(343666),k=()=>r(837420),T=()=>r(197959),x=()=>r(161479),M=()=>r(437607),w=()=>r(854150),C=()=>r(798880),N=()=>r(7950),P=()=>r(230350),U=()=>r(681373),D=()=>r(220719);const B=8192,O="",R="",E="",F={...U().z7,[U().BQ.FormulaError]:!0,[U().BQ.Inserted]:!0,[U().BQ.Deleted]:!0,[U().BQ.TemporaryComment]:!0,[U().BQ.Discussion]:!0,[U().BQ.SuggestionRemoveText]:!0,[U().BQ.SuggestionUnannotate]:!0,[U().BQ.SuggestionInsertText]:!0,[U().BQ.SuggestionAnnotate]:!0,[U().BQ.Link]:!0,[U().BQ.Equation]:!0,[U().BQ.TemporaryEquation]:!0,[U().BQ.TemporaryInput]:!0,[U().BQ.TemporarySelection]:!0,[U().BQ.TemporaryFindHighlight]:!0,[U().BQ.TemporaryHighlight]:!0,[U().BQ.TemporarySelectedFindHighlight]:!0,[U().BQ.TemporaryCursor]:!0,[U().BQ.TemporaryNativeMABFilter]:!0,[U().BQ.TemporaryDictation]:!0,[U().BQ.TemporaryCommentHighlight]:!0,[U().BQ.TemporarySuggestionUnderline]:!0,[U().BQ.LinkMention]:!0,[U().BQ.TemporarySearchFilter]:!0,[U().BQ.Collection]:!0,[U().BQ.Citation]:!0,[U().BQ.TemporaryCitation]:!0,[U().BQ.DeletionMarker]:!0};function L(e){return!!((0,U().iG)(e)||(0,U().Sq)(e)||(0,U().aI)(e)||(0,U().XK)(e)||(0,U().S4)(e)||(0,U().iQ)(e)||(0,U().ZR)(e)||(0,U().zI)(e)||(0,U().O3)(e)||(0,U().MX)(e)||(0,U().sh)(e)||(0,U().gi)(e)||(0,U().lf)(e)||(0,U().tI)(e)||(0,U().ju)(e)||(0,U().wx)(e)||(0,U().fL)(e)||(0,U().p5)(e)||(0,U().lZ)(e)||(0,U().Qm)(e)||(0,U().Si)(e)||(0,U().yn)(e)||(0,U().n5)(e)||(0,U().RX)(e)||(0,U().kH)(e))}U().BQ.Code;function V(e){return!!(0,U().rl)(e)}const H={[U().BQ.Bold]:!0,[U().BQ.Italic]:!0,[U().BQ.Strike]:!0,[U().BQ.Underline]:!0,[U().BQ.Highlight]:!0};function j(e){return!!((0,U().dR)(e)||(0,U().WW)(e)||(0,U().Eg)(e)||(0,U().cy)(e)||(0,U().Yu)(e))}U().BQ.SuggestionInsertText,U().BQ.SuggestionAnnotate,U().BQ.SuggestionRemoveText;function q(e){if(function(e){switch(e){case U().BQ.Bold:case U().BQ.Italic:case U().BQ.Strike:case U().BQ.Underline:case U().BQ.Highlight:return!0;default:return!1}}(e))return!0;switch(e){case U().BQ.SuggestionInsertText:case U().BQ.SuggestionRemoveText:case U().BQ.SuggestionAnnotate:return!0;default:return!1}}function $(e){return"hb"!==e&&"hf"!==e&&q(e)}function G(e){return!!j(e)||!!((0,U().O3)(e)||(0,U().MX)(e)||(0,U().ZR)(e))}function z(e){return!!V(e)}function W(e){return!!((0,U().iG)(e)||(0,U().Sq)(e)||(0,U().aI)(e)||(0,U().XK)(e)||(0,U().S4)(e)||(0,U().iQ)(e)||(0,U().zI)(e)||(0,U().sh)(e)||(0,U().gi)(e)||(0,U().lf)(e)||(0,U().tI)(e)||(0,U().ju)(e)||(0,U().wx)(e)||(0,U().fL)(e)||(0,U().p5)(e)||(0,U().lZ)(e)||(0,U().Qm)(e)||(0,U().Si)(e)||(0,U().yn)(e)||(0,U().n5)(e)||(0,U().RX)(e)||(0,U().kH)(e))}function K(e){return(0,U().ER)(e)?e:(0,U().Au)(e)}function Q(e,t){return typeof e==typeof t&&(Z(e)||Z(t)?o().n4(e,t):e===t)}function Z(e){return"string"!=typeof e}function J(e){return Z(e)?e[0]:e}function X(e){return!(e??[]).some((e=>!Y(e)))}function Y(e){return 0===ze(e).trim().length}function ee(e){return e.find(U().iG)}function te(e){return e.find(U().gi)}function re(e){return e.filter(U().iQ)}function ne(e){return e.filter(U().I1)}function oe(e){return e.find(U().ri)}function ie(e){return e.find((e=>(0,U().Xk)(e)))}function ae(e){return e.find(U().jI)}function se(e){return e.find(U().mu)}function le(e){return e.find(U().nN)}function ce(e){return e.find(U().de)}function de(e){return e.find(U().R)}function ue(e){return e.find(U().JC)}function pe(e){return e.filter(U().JC).find((e=>"teamspace"===e[3]))}function me(e){return e.find(U().rD)}function fe(e){return e.find(U().qs)}function _e(e){return e.find(U().ik)}function ye(e){return e.find(U().N5)}function ge(e){return e.find(U().rl)}function be(e){return e.find(U().sh)}function ve(e){return e.find(U().HP)}function he(e){return e.find(U().ft)}function Ae(e){return e.find(U().RX)}function Ie(e){return e.find(U().go)}function Se(e){return e.find(U().S4)}function ke(e){return e.find(U().iz)}function Te(e){return e.find(U().$D)}function xe(e){return e.find(U().i8)}function Me(e){return e.find(U().bZ)}function we(e){return e.find(U().aI)}function Ce(e){return e.find(U().XK)}function Ne(e){return e.find(U().ql)}function Pe(e){return e.find(U().n5)}function Ue(e,t){return e.find((e=>(0,U().Yp)(e,t)))}function De(e){return e.find(U().Qm)}function Be(e){return 1===e.length}function Oe(e){if(2===e.length&&!Re(e)&&!He(e)){const[,t]=e;return t.filter(U().T).length===t.length}return!1}function Re(e){if(2===e.length&&e[0]===O){const[,t]=e;return Boolean(t.find(U().iG))}return!1}function Ee(e){if(2===e.length&&e[0]===O){const[,t]=e;return Boolean(t.find(U().jI))}return!1}function Fe(e){return 2===e.length&&e[0]===O&&Boolean(e[1].find(U().qs))}function Le(e){if(2===e.length){const[t,r]=e;if(t===O&&r.find(U().bZ))return!0}return!1}function Ve(e){if(2===e.length&&e[0]===O){const[,t]=e;return Boolean(Ae(t))}return!1}function He(e){if(2===e.length&&e[0]===R){const[,t]=e;return Boolean(t.find(U().gi))}return!1}function je(e){return!!(He(e)||Ee(e)||Le(e))}function qe(e){return"string"==typeof e&&U().rw.includes(e)}function $e(e){return"me"===e}function Ge(e){return"today"===e||"now"===e}function ze(e){return e[0]}function We(e){return m().PE(ze(e)).length}function Ke(e){return e.reduce(((e,t)=>e+We(t)),0)}function Qe(e){if(e&&e[1])return e[1]}function Ze(e){return e[1],e[1]}function Je(e){return Qe(e)}function Xe(e){const t=be(Rt(e));if(t)return Je(t)}function Ye(e){return Qe(e)}function et(e){return Qe(e)}function tt(e){if(e&&e[1]&&e[2])return{groupId:e[1],spaceId:e[2]}}function rt(e){if(e&&e[1]&&e[2]&&"string"==typeof e[3])return{teamId:e[1],spaceId:e[2],mentionType:e[3]}}function nt(e){if(e&&e[1]&&e[2]&&"teamspace"===e[3])return{table:w().yK,id:e[1],spaceId:e[2]}}function ot(e){if(e&&e[1]&&e[2])return(0,M().S4)({spacePermissionGroupId:e[1],spaceId:e[2]})}function it(e){return Qe(e)}function at(e){return Qe(e)}function st(e){return Qe(e)}function lt(e){return"contextValueId"in e}function ct(e){return!("contextValueId"in e)}function dt(e){if(e.collection&&e.property)return{collectionId:e.collection.id,propertyId:e.property}}function ut(e){return Qe(e)}function pt(e){return{table:h().ev,id:ut(e)}}function mt(e){return Qe(e)}function ft(e){return Qe(e)}function _t(e){return e[2]}function yt(e){return Qe(e)}function gt(e){return Qe(e)}function bt(e){if(e&&3===e.length)return{table:S().SN,id:e[1],spaceId:(0,x().e)(e[2])}}function vt(e){if(e&&e[1])return{table:h().ev,id:e[1],spaceId:(0,x().e)(3===e.length&&(0,i().iv)(e[2])?e[2]:void 0)}}function ht(e){if(e&&3===e.length&&"string"==typeof e[2]&&!(0,i().iv)(e[2]))return e[2]}function At(e){return e[1]&&e[2]?{table:I().Vl,id:e[1],spaceId:e[2]}:{table:I().Vl,id:e[1]}}function It(e){if(e&&e[1]&&e[2])return{table:k().e,id:e[1],spaceId:e[2]}}function St(e){if(e&&e[1])return e[1]}function kt(e){return Qe(e)}function Tt(e){return Qe(e)}function xt(e){return{table:I().Vl,id:e[1],spaceId:(0,x().e)(3===e.length?e[2]:void 0)}}function Mt(e){return Qe(e)}function wt(e){return Qe(e)}function Ct(e){return Qe(e)}function Nt(e){return function(e,t){let r=!1;const n={...e};for(const o of t){const t=e[o];o in e&&void 0!==t&&"string"!=typeof t&&(n[o]=`${t}`,r=!0)}return r?n:e}(Qe(e),["link_provider","title","link_author"])}function Pt(e){return Qe(e)}function Ut(e){return Qe(e)}function Dt(e){return Qe(e)}function Bt(e){return Qe(e)}function Ot(e){return Qe(e)}function Rt(e){return e&&e[1]&&Array.isArray(e[1])?e[1]:[]}function Et(e){return Rt((e??[]).at(-1))}function Ft(e){return Rt(e)}function Lt(e){const t=Rt(e).find(U().gi);if(!t)return"";const r=Ze(t);return r}function Vt(e){return o().sb(o().Bq(fr(e).map((e=>function(e){return e.filter(U().Hp)}(Rt(e)).map((e=>gt(e)))))))}function Ht(e){return o().sb(o().Bq(fr(e).map((e=>ne(Rt(e)).map((e=>gt(e)))))))}function jt(e){return o().sb(o().Bq(fr(e).map((e=>{const t=function(e){return e.filter(U().N5)}(Rt(e));return t.map((e=>ut(e)))}))))}function qt(e){const t=[];for(const r of fr(e))if(He(r)){const e=Lt(r);t.push(e)}return t}function $t(e){const t=[];return fr(e).forEach((e=>{Re(e)&&Rt(e).forEach((e=>{if((0,U().ri)(e)){const r=Ye(e);r&&t.push(r)}}))})),t}function Gt(e){const t=[];return fr(e).forEach((e=>{Re(e)&&Rt(e).forEach((e=>{if((0,U().$D)(e)){const r=at(e);r&&t.push(r)}}))})),t}function zt(e){const t=[];return fr(e).forEach((e=>{Re(e)&&Rt(e).forEach((e=>{if((0,U().iz)(e)){const r=st(e);r&&t.push(r)}}))})),t}function Wt(e){const t=[];return fr(e).forEach((e=>{Re(e)&&Rt(e).forEach((e=>{if((0,U().Xk)(e)){const r=et(e);r&&t.push(r)}}))})),t}function Kt(e){const t=[];return fr(e).forEach((e=>{Re(e)&&Rt(e).forEach((e=>{if((0,U().R)(e)){const r=tt(e);r&&t.push(r)}}))})),t}function Qt(e){const t=[];return fr(e).forEach((e=>{Re(e)&&Rt(e).forEach((e=>{if((0,U().JC)(e)){const r=rt(e);r&&t.push(r)}}))})),t}function Zt(e){const{value:t,convertGroupPointersToBeComposite:r}=e,n=[];return fr(t).forEach((e=>{Re(e)&&Rt(e).forEach((e=>{if((0,U().Xk)(e)){const t=et(e);t&&n.push({table:A().GP,id:t})}if((0,U().ri)(e)){const t=Ye(e);t&&n.push({table:C().oo,id:t})}if((0,U().R)(e)){const t=tt(e);if(t){const e=r?(0,M().S4)({spacePermissionGroupId:t.groupId,spaceId:t.spaceId}):{table:M().n,id:t.groupId,spaceId:t.spaceId};n.push(e)}}}))})),n}function Jt(e){const{value:t,includeTemplateVariables:r}=e,n=[];return fr(t).filter((e=>{Re(e)&&Rt(e).forEach((e=>{if(r&&(0,U().go)(e)){const t=Bt(e);t&&"me"===t.type&&n.push(t.type)}else if((0,U().Xk)(e)){const t=et(e);t&&n.push({table:A().GP,id:t})}else if((0,U().ri)(e)){const t=Ye(e);t&&n.push({table:C().oo,id:t})}else if((0,U().R)(e)){const t=tt(e);t&&n.push({table:M().n,id:t.groupId,spaceId:t.spaceId})}}))})),n}function Xt(e){const t=[],r=fr(e);for(const n of r)if(Fe(n)){const[,e]=n,r=fe(e);if(r){const e=wt(r);t.push(e)}}return t}function Yt(e,t){return fr(e).flatMap(Rt).map((e=>er(e,t))).filter(a().O9)}function er(e,t){if(!(0,U().jc)(e)){if((0,U().ri)(e))return function(e){return{table:C().oo,id:Ye(e)}}(e);if((0,U().Xk)(e))return function(e){return{table:A().GP,id:et(e)}}(e);if((0,U().jI)(e))return vt(e);if((0,U().mu)(e))return At(e);if(!((0,U().EQ)(e)||(0,U().zX)(e)||(0,U().qs)(e)||(0,U().Q0)(e))){if((0,U().N5)(e))return pt(e);if(!(0,U().go)(e)){if((0,U().rD)(e))return bt(e);if((0,U().R)(e))return ot(e);if((0,U().JC)(e))return nt(e);if(!(0,U().ik)(e)){if((0,U().nN)(e))return It(e);if((0,U().mu)(e))return At(e);if((0,U().RX)(e)){const[,r]=e;return er(r,t)}if(!(0,U().cg)(e)&&!(0,U().qU)(e)){if((0,U().iQ)(e))return t.spaceId?function(e,t){return{table:T().$Y,id:mt(e),spaceId:t}}(e,t.spaceId):void 0;if(!(0,U().HP)(e)&&!(0,U().ft)(e)){if((0,U().bZ)(e))return function(e){const t=Tt(e);if("query_database_result"!==t.type&&"url"!==t.type&&"helpdoc"!==t.type&&"helpdoc-section"!==t.type&&"webpage"!==t.type&&!io(t))return t.blockId?{table:h().ev,id:t.blockId}:void 0}(e);if(!(0,U().Ij)(e)){if((0,U().I1)(e))return t.spaceId?function(e,t){return{table:T().$Y,id:ft(e),spaceId:t}}(e,t.spaceId):void 0;if((0,U().sh)(e)){if(t.inlinePageLink){const r=no({url:Je(e),baseUrl:t.inlinePageLink.baseUrl,publicDomainName:t.inlinePageLink.publicDomainName});if(r)return{table:h().ev,id:r}}}else(0,U().Yu)(e)||(0,U().gi)(e)||(0,U().lf)(e)||(0,U().tI)(e)||(0,U().fL)(e)||(0,U().$D)(e)||(0,U().iz)(e)||(0,U().Qm)(e)||(0,U().de)(e)||(0,U().Si)(e)||(0,U().$c)(e)||(0,U().kH)(e)||(0,a().HB)(e)}}}}}}}}function tr(e){const t=[];for(const r of fr(e)){const e=Rt(r);if(!e)continue;const n=ae(e);if(!n)continue;const o=vt(n);o&&t.push(o)}return t}function rr(e){const t=[];for(const r of fr(e)){const e=Rt(r);if(!e)continue;const n=ae(e);if(!n)continue;const o=kt(n);o&&t.push(o)}return t}const nr=1,or=1;function ir(e,t=!1){const r=[];return fr(e).forEach(((e,n)=>{if(Re(e))return;const o=ze(e);Rt(e).forEach(((e,i)=>{if(!(0,U().sh)(e))return;const a=Je(e);a&&r.push({name:o,url:a,path:t?[n,nr,i,or]:void 0})}))})),r}function ar(e){return e.map((e=>{if(Oe(e)){const[t,r]=e;return[t,r.map((e=>(0,U().sh)(e)?["_"]:e))]}return e}))}function sr(e){return fr(e.textValue).flatMap((t=>d().r.fromArray(Rt(t)).findByGroupingKey(e.annotationGroupingKey)))}function lr(e){return e.map(((t,r)=>{let n=t;if(0===r)if(Be(n)){const[e]=n;n=[e.trimStart()]}else if(Oe(n)){const[e,t]=n;n=[e.trimStart(),t]}if(r===e.length-1)if(Be(n)){const[e]=n;n=[e.trimEnd()]}else if(Oe(n)){const[e,t]=n;n=[e.trimEnd(),t]}return n}))}function cr(e){return Sr(ze(e),Rt(e))}function dr(e,t){const r=ur(e);return function(e){return e.some(U().iG)}(t)?O:function(e,t){if((0,D().MX)(""===R,"Sanitization code not correctly updated to handle new equation token"),!e.includes(""))return!1;return t.some((e=>(0,U().gi)(e)))}(r,t)?R:r}function ur(e){const t=m().PE(e),r=[];for(const n of t)jn(n)||r.push(n);return r.join("")}function pr(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Array.isArray(t)||"string"!=typeof t[0])return!1;return!0}function mr(e){if(!Array.isArray(e))return[];const t=[];for(const r of e){if(null==r)continue;const e=r&&"string"==typeof r[0]?r[0]:m().PE(r[0]).map(String).join(""),n=[];if(r.length>1&&Array.isArray(r[1])){const e=r[1];for(const t of e){const e=(0,P().v)(t);e&&n.push(e)}}const o=dr(e,n),i=o===R?n:n.filter((e=>!(0,U().gi)(e)));o.length&&t.push(Sr(o,i,{skipSanitization:!0}))}return t}function fr(e){return e&&Array.isArray(e)?e.filter(a().O9):[]}function _r(e){return m().PE(yr(e))}function yr(e){return fr(e).map((e=>ze(e))).join("")}function gr(e){return fr(e).filter((e=>!Re(e))).map((e=>He(e)?Lt(e):ze(e))).join("")}function br(e,t){return function(e,t){const{removeSuggestionAnnotationsAndText:r,removeSuggestionAnnotations:n,removeDiscussions:o}=t,i=[];let a=!1;e:for(const s of fr(e)){const e=[];for(const t of Rt(s))if(!o||!(0,U().iQ)(t)){if((0,U().I1)(t)){if(a=!0,r){if((0,U().O3)(t))continue e;continue}if(n)continue}e.push(t)}i.push(Sr(ze(s),e))}return{value:_n(i),containsSuggestions:a}}(e,t).value}function vr(e,t,r){const n=fr(e);let o="";for(const i of n){const e=i[0],n=Rt(i);e===O||He(i)||(o+=e);for(const i of n)if((0,U().qs)(i))o+=hr(i);else if((0,U().sh)(i)){const e=Je(i),t=s().qg(e);o+=` ${t.hostname||""}${t.pathname||""} `}else if((0,U().gi)(i))o+=Ze(i);else if((0,U().ri)(i)){const e=Ye(i),n=t({table:C().oo,id:e}),a=null==n?void 0:n.getName();a&&!r.user[e]&&(r.user[e]=a);o+=(0,y().X9)("user",e)}}return{text:o,mentions:r}}function hr(e){const t=wt(e);return p().ZF({value:t,date_format:t.date_format,time_format:t.time_format,allowRelativeDates:!1,intl:(0,_().wW)()})}function Ar(e,t,r){const n=fr(e),o=[];let i=0,a=0;for(;i<n.length&&a<r;){const e=n[i];if(a>=t){const t=m().PE(ze(e));if(!(a+t.length<=r)){const n=Rt(e),i=r-a;o.push(Sr(t.slice(0,i).join(""),n));break}o.push(e),a+=t.length,i+=1}else{const n=m().PE(ze(e));if(a+n.length>t){if(!(a+n.length<=r)){const i=Rt(e),s=t-a,l=r-a;o.push(Sr(n.slice(s,l).join(""),i));break}{const r=Rt(e),s=t-a;o.push(Sr(n.slice(s).join(""),r)),a+=n.length,i+=1}}else a+=n.length,i+=1}}return o}function Ir(e){return e?[Sr(e)]:[]}function Sr(e,t,r){const n=(null==r?void 0:r.skipSanitization)??!1?e:ur(e);if(t&&t.length>0){if(n.length>0)return[n,t];{const e=t.filter((e=>(0,U().EQ)(e)||(0,U().zX)(e)||(0,U().lf)(e)||(0,U().fL)(e)||(0,U().wx)(e)||(0,U().lZ)(e)||(0,U().tI)(e)||(0,U().Qm)(e)||(0,U().Si)(e)||(0,U().RX)(e)));return e.length>0?[n,e]:[n]}}return[n]}function kr(e,t,r){return r?["p",e,r]:t?["p",e,t]:["p",e]}function Tr({collectionId:e,spaceId:t,parentCvbId:r}){return r&&t?["ds",e,t,r]:t?["ds",e,t]:["ds",e]}function xr(e){return["ce",e.id,e.spaceId]}function Mr(e,t){return["cm",e,t]}function wr(e){return["u",e]}function Cr(e){return["r",e]}function Nr(e){return["d",e]}function Pr(e){return["plc",e]}function Ur(e,t){return["g",e,t]}function Dr(e,t,r){return["t",e,t,r]}function Br(e){return["sm",e]}function Or(e){return["sf",e]}function Rr(e){return Yr(Or(e))}function Er(e){return Or(["u",e])}function Fr(e){return Or(["p",e])}function Lr(e){return Or(["t",e.teamId,e.spaceId,e.mentionType])}function Vr(e){return Or(["so",e])}function Hr(){return Or(["to"])}function jr(e){const{date:t,mode:r}=e,n=t[1];return"created"===r?Or([U().BQ.SearchFilterCreatedTime,n]):"lastEdited"===r?Or([U().BQ.SearchFilterLastEditedTime,n]):void(0,a().HB)(r)}function qr(e){return["eoi",e]}function $r(e){return["a",e]}function Gr(e){return["ci",e]}function zr(e,t){return t?["aic",e,t]:["aic",e]}function Wr(e){return[U().BQ.LinkMention,e]}function Kr(e){return[U().BQ.ChatSelectionContext,e]}function Qr(e,t){return e.map((e=>{const r=Rt(e);return Sr(ze(e),[...r,$r((0,g().l)(t))])}))}function Zr(e){return[U().BQ.Discussion,e]}function Jr(e,t,r){const n=[e,t,r].join(":");return[U().BQ.TemporaryDictation,Date.now(),n]}function Xr(e){return e[2].split(":")[0]}function Yr(e,t){return Sr(O,[e,...t||[]])}function en(e){return[U().BQ.TemplateVariable,e]}function tn(e){return[U().BQ.TemporaryInput,e]}function rn(){return[U().BQ.TemporaryEquation]}function nn(){return[U().BQ.TemporaryPage]}function on(){return[U().BQ.TemporaryCitation]}function an(){return[U().BQ.TemporaryCollection]}function sn(e,t){switch(e[0]){case"si":case"sr":return[e[0],t];case"sa":case"sua":return[e[0],t,e[2]];default:(0,a().HB)(e[0])}}function ln(e){return["e",e]}function cn(e){return[U().BQ.FormulaPageProperty,e]}function dn(e){return[U().BQ.FormulaContextValue,e]}function un(e,t){const r=ln(e),n=t?[r,...t]:[r];return Sr(R,n)}function pn(e,t){const r=fr(e);let n=0;for(const o of r){const e=n+We(o);if(e>t)return{startIndex:n,endIndex:e,token:o};n=e}}function mn(e,t){const r=pn(e,t);return r&&r.token}function fn(e){return _n(fr(e).map((e=>{if(Re(e))return e;return Sr(ze(e),Rt(e).filter((e=>!(0,U().jc)(e))))})))}function _n(e){if(!e)return[];const t=[];for(const r of fr(e)){const e=d().r.normalize(Rt(r));if(0===t.length||Re((0,D().o9)(t.at(-1)))||!(0,u().c)(Rt((0,D().o9)(t.at(-1))),e)){(ze(r)||e.length)&&t.push(Sr(ze(r),e))}else{(0,D().o9)(t.at(-1))[0]+=ze(r)}}return e.length>0&&0===t.length?[[""]]:t}function yn(e,t,r){const n=fr(e),o=[],i=[],a=[];let s=0;for(const l of n){const e=ze(l),n=Rt(l),c=m().PE(e),d=s,u=s+c.length;if(u<=t)o.push(l);else if(d>=r)i.push(l);else if(d>=t&&u<=r)a.push(l);else if(d<=t&&u>=r){const e=t-d,s=e+r-t,l=c.slice(0,e),u=c.slice(e,s),p=c.slice(s);l.length>0&&o.push(Sr(l.join(""),n)),p.length>0&&i.push(Sr(p.join(""),n)),u.length>0&&a.push(Sr(u.join(""),n))}else if(d>=t&&d<r){const e=r-d,t=c.slice(0,e),o=c.slice(e);o.length>0&&i.push(Sr(o.join(""),n)),t.length>0&&a.push(Sr(t.join(""),n))}else if(d<t&&u>t){const e=t-d,r=c.slice(0,e),i=c.slice(e);r.length>0&&o.push(Sr(r.join(""),n)),i.length>0&&a.push(Sr(i.join(""),n))}s=u}return{tokensBeforeRange:_n(o),tokensInsideRange:_n(a),tokensAfterRange:_n(i)}}function gn(e){const{textValue:t,selection:r,annotation:n}=e,o=Jn(t,r);if(o.startIndex===o.endIndex)return t??[];const{tokensBeforeRange:i,tokensInsideRange:a,tokensAfterRange:s}=yn(t,o.startIndex,o.endIndex);return[...i,...a.map((e=>{const t=ze(e),r=d().r.fromArray(Rt(e));return r.add(n),Sr(t,r.toArray())})),...s]}function bn(e){const{textValue:t,selection:r,annotationKey:n}=e,o=Jn(t,r);if(o.startIndex===o.endIndex)return t??[];const{tokensBeforeRange:i,tokensInsideRange:a,tokensAfterRange:s}=yn(t,o.startIndex,o.endIndex);return[...i,...a.map((e=>{const t=ze(e),r=d().r.fromArray(Rt(e));return"string"==typeof n?r.removeGroupingKey(n):r.remove(n),Sr(t,r.toArray())})),...s]}function vn(e){const{prevSpan:t,currSpan:r}=e;return t.endIndex===r.startIndex&&!(0,U().iG)(r.annotation)&&!(0,U().gi)(r.annotation)&&o().n4(t.annotation,r.annotation)}function hn(e){const t=new(b().A);for(const{annotations:r,startIndex:n,endIndex:o}of In(e))for(const i of r.findByGroupingKey(e.groupingKey)){const e=t.get(i)??[],r=e.at(-1),a={annotation:i,startIndex:n,endIndex:o};r&&vn({prevSpan:r,currSpan:a})?r.endIndex=o:e.push(a),t.set(i,e)}return[...t.values()].flat()}function An(e){const t=new(n().G)((()=>[]));let r=new(N().A);const o=[];for(const{annotations:n,startIndex:a,endIndex:s}of In(e)){for(const r of n.getUniqueAnnotations()){const e=(0,U()._X)(r),n=t.get(e),o=n.at(-1);o&&vn({prevSpan:o,currSpan:{annotation:r,startIndex:a,endIndex:s}})?o.endIndex=s:n.push({annotation:r,startIndex:a,endIndex:s}),t.set(e,n)}const e=[...n.getMultiInstanceAnnotations().values()];try{r.addOrderedAnnotationsInRange({annotationLists:e,startIndex:a,endIndex:s})}catch(i){o.push(...r.getSortedAnnotationRanges()),r=new(N().A),r.addOrderedAnnotationsInRange({annotationLists:e,startIndex:a,endIndex:s})}}return o.push(...r.getSortedAnnotationRanges()),[...[...t.values()].flat(),...o]}function*In(e){const{textValue:t,startIndex:r,endIndex:n}=e;if(r===n)return;(0,D().MX)(r<n,"Annotation start must be less than end");let o=0;for(const i of fr(t)){const e=We(i);if(0===e)continue;const t=o+e;if(t<=r)o+=e;else{if(n<=o)break;yield{startIndex:Math.max(o,r),endIndex:Math.min(t,n),annotations:d().r.fromArray(Rt(i))},o+=e}}}function Sn(e,t,r,n){const o=fr(e);let i=0,a=0;for(;i<r&&a<o.length;){const e=o[a],r=ze(e),s=m().PE(r),l=Rt(e);if(i+s.length>=t){const e=l.findIndex((e=>(0,U()._X)(e)===n));if(-1!==e){return{annotationStartIndex:i+e,annotationEndIndex:i+e+s.length}}}a++,i+=s.length}}function kn(e,t,r,n){return void 0!==Sn(e,t,r,n)}function Tn(e,t,r,n){const o=Sn(e,t,r,n);if(!o)return!1;const{annotationStartIndex:i,annotationEndIndex:a}=o;return i===t||a===r}function xn(e,t,r){const n=fr(e),o=[];let i=0;for(const a of n){const e=ze(a),n=Rt(a),s=m().PE(e),l=i,c=i+s.length;if(c<=t&&c<=r||l>=t&&l>=r)o.push(a);else if(l>=t&&c<=r);else{const e=t-l,i=e+(r-t),a=s.filter(((t,r)=>!(r>=e&&r<=i-1)));o.push(Sr(a.join(""),n))}i=c}return o}function Mn(e,t,r){const n=fr(e);if(n.length>0){const e=[];let o=0,i=!1;for(const a of n){const n=ze(a),s=Rt(a),l=m().PE(n),c=o,d=o+l.length;if(r>=c&&r<=d&&!i){const n=r-c,o=$n(l,0,n),a=$n(l,n);o.length>0&&e.push(Sr(o.join(""),s));for(const r of t)e.push(r);a.length>0&&e.push(Sr(a.join(""),s)),i=!0}else e.push(a);o=d}return e}return t}function wn(e){const{ignoreCase:t,substring:r,textValue:n}=e,i=yr(n),a=t?"gi":"g",s=new RegExp(o().Nt(r),a),l=[];let c;for(;c=s.exec(i);)l.push({startIndex:c.index,endIndex:c.index+r.length});return l}function Cn(e){const t=[];let r=0,n=0;return fr(e).forEach((e=>{n=r+We(e);Re(e)?(Rt(e).forEach((e=>{const o={startIndex:r,endIndex:n};if((0,U().Xk)(e)){const r=et(e);r&&t.push({pointer:{table:A().GP,id:r},selection:o})}else if((0,U().ri)(e)){const r=Ye(e);r&&t.push({pointer:{table:C().oo,id:r},selection:o})}})),r=n):r=n})),t}function Nn(e){const t=[];let r=0,n=0;return fr(e).forEach((e=>{n=r+We(e),Ee(e)&&Rt(e).forEach((e=>{if((0,U().jI)(e)){const o=vt(e);o&&t.push({pointer:o,selection:{startIndex:r,endIndex:n}})}})),r=n})),t}function Pn(e){const t=[];let r=0,n=0;return fr(e).forEach((e=>{n=r+We(e),function(e){if(2===e.length&&e[0]===O){const[,t]=e;return Boolean(t.find(U().mu))}return!1}(e)&&Rt(e).forEach((e=>{if((0,U().mu)(e)){const o=At(e);o&&t.push({pointer:o,selection:{startIndex:r,endIndex:n}})}})),r=n})),t}function Un(e){const t=[];let r=0,n=0;return fr(e).forEach((e=>{n=r+We(e),function(e){if(2===e.length&&e[0]===O){const[,t]=e;return Boolean(t.find(U().ik))}return!1}(e)&&Rt(e).forEach((e=>{if((0,U().ik)(e)){const o=Nt(e);t.push({metadata:{title:o.title,link_provider:o.link_provider,link_author:o.link_author},selection:{startIndex:r,endIndex:n}})}})),r=n})),t}function Dn(e){const{textValue:t,find:r,intl:n}=e,o=[];let i=0,a=0;return fr(t).forEach((e=>{a=i+We(e),Fe(e)&&Rt(e).forEach((e=>{if((0,U().qs)(e)){const t=wt(e);p().ZF({value:t,date_format:t.date_format,time_format:t.time_format,allowRelativeDates:!0,intl:n}).toLowerCase().includes(r.toLowerCase())&&o.push({startIndex:i,endIndex:a})}})),i=a})),o}function Bn(e,t){return o().Ul(e,(e=>Math.abs(t-e.startIndex)+Math.abs(t-e.endIndex)))[0]}function On(e){return e&&l().h_(e,Re).map((e=>{if(Be(e))return e;return[He(e)?Lt(e):ze(e),Rt(e).filter(Rn)]}))}function Rn(e){return!((0,U().rl)(e)||(0,U().iG)(e)||(0,U().gi)(e)||(0,U().lf)(e)||(0,U().Sq)(e)||(0,U().kH)(e))}function En(e){if(1!==e.length)return;const t=e.charCodeAt(0);return t>=55296&&t<=56319?"high":t>=56320&&t<=57343?"low":void 0}function Fn(e){return e.toString(16)}const Ln=[`^[\\u{${Fn(0)}}-\\u{${Fn(8)}}]$`,`^[\\u{${Fn(11)}}-\\u{${Fn(31)}}]$`,"^\\u{2028}$","^\\u{2029}$","^\\u{200b}$","^[\\u{e0000}-\\u{e007f}]$"],Vn=new RegExp(Ln.join("|"),"u");function Hn(e){return m().PE(e).some((e=>jn(e)))}function jn(e){return Vn.test(e)||function(e){return Boolean(En(e))}(e)}function qn(e){let t=!1;for(let r=0;r<e.length;r++){const n=En(e[r]);if("low"===n){if(t){t=!1;continue}return!0}"high"===n&&(t=!0)}return t}function $n(e,t,r){return e.slice(Math.max(t,0),r)}function Gn(e,t){return o().Mp([...e,...t],o().n4)}function zn(e){if(e.startsWith("data:")||e.length>B)return;const t=f().I6(e).filter((({value:t,href:r})=>e===t))[0];if(t){try{const e=new URL(t.href);if([".zip"].some((t=>e.hostname.endsWith(t))))return}catch{return}return t}}function Wn(e,t){return e.map((e=>Sr(ze(e),Rt(e).filter(t))))}function Kn(e,t,r){const n=[];let o=0;for(let i=0;i<e.length;i++){const a=e[i],s=m().PE(ze(a)),l=s.slice(0,t-o),c=Sr(l.join(""),Rt(a));if(n.push(c),o+=l.length,o>=t){const t=l.length<s.length||i<e.length-1;return r&&t&&n.push(...r),n}}return n}function Qn(e){let t=0;for(const r of e)t+=m().PE(ze(r)).length;return t}function Zn(e,t,r){const n=pn(e,t);if(!n)return;if(!r(n.token,void 0))return;const{tokensBeforeRange:o,tokensAfterRange:i}=yn(e,n.startIndex,n.endIndex);let a=0;for(let l=o.length-1;l>-1;l--){const e=o[l];if(!r(e,o[l+1]||n.token))break;a+=We(e)}let s=0;for(let l=0;l<i.length;l++){const e=i[l];if(!r(e,i[l-1]||n.token))break;s+=We(e)}return{startIndex:n.startIndex-a,endIndex:n.endIndex+s}}function Jn(e,t){const r=_r(e).length,n=Math.min(Math.max(t.startIndex,0),r),o=Math.min(Math.max(t.endIndex,0),r);return n===t.startIndex&&o===t.endIndex?t:{startIndex:n,endIndex:o}}function Xn(e){const t=[];if(e){for(const n of e){const e=Rt(n);for(const r of e){if("a"===(0,U()._X)(r)){const e=Je(r);e&&t.push(e)}}}const r=zn(yr(e));r&&r.href&&t.push(r.href)}return t}function Yn(e,t){const r=function(e,t,r=!1){if(void 0===e&&void 0===t)return;if(void 0===e)return"First value is undefined, second has content";if(void 0===t)return"Second value is undefined, first has content";if(e.length!==t.length)return`Token count mismatch: first value has ${e.length} tokens, second value has ${t.length} tokens`;for(let n=0;n<e.length;n++){const i=e[n],a=t[n],[s,l]=i,[c,d]=a;if(s!==c)return r?`Token text mismatch at index ${n}`:`Token ${n} text mismatch: first value has "${s}", second value has "${c}"`;if(void 0!==l||void 0!==d){if(void 0===l||void 0===d){return`Token ${n} annotation presence mismatch: first value ${void 0!==l?"has":"has no"} annotations, second value ${void 0!==d?"has":"has no"} annotations`}if(l.length!==d.length)return`Token ${n} annotation count mismatch: first value has ${l.length} annotations, second value has ${d.length} annotations`;for(let e=0;e<l.length;e++){const t=l[e],i=d[e];if(!o().n4(t,i))return r?`Token annotation mismatch at index ${n}, ${e}: first value is type ${t[0]}, second value is type ${i[0]}`:`Token ${n} annotation ${e} mismatch: first value has ${JSON.stringify(t)}, second value has ${JSON.stringify(i)}`}}}return}(_n(void 0===e||0===e.length?[[""]]:e),_n(void 0===t||0===t.length?[[""]]:t));return!r}function eo(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e)return!1;if(void 0===t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){if(!to(e[r],t[r]))return!1}return!0}function to(e,t){const[r,n]=e,[i,a]=t;if(r!==i)return!1;if(void 0===n&&void 0===a)return!0;if(void 0===n||void 0===a)return!1;if(n.length!==a.length)return!1;for(let s=0;s<n.length;s++){const e=n[s],t=a[s];if(!o().n4(e,t))return!1}return!0}function ro(e,t){const r=br(e||[],{removeSuggestionAnnotationsAndText:!0,removeSuggestionAnnotations:!0,removeDiscussions:!0}),n=br(t||[],{removeSuggestionAnnotationsAndText:!0,removeSuggestionAnnotations:!0,removeDiscussions:!0});return!o().n4(r,n)}function no(e){const{url:t,baseUrl:r,publicDomainName:n}=e;let o;try{o=(0,v().parseRoute)({url:t,isMobile:!1,baseUrl:r,publicDomainName:n,protocol:void 0,currentUrl:void 0})}catch(i){return}if("page"===o.name)return o.peekViewBlockId||o.blockId}function oo(e){const{url:t,baseUrl:r,publicDomainName:n}=e;try{const e=(0,v().parseRoute)({url:t,isMobile:!1,baseUrl:r,publicDomainName:n,protocol:void 0,currentUrl:void 0});if("collection"!==e.name)return;return e.collectionId}catch(o){}}function io(e){return(0,c().SC)(e.type)}},204384:(e,t,r)=>{r.d(t,{Ay:()=>a,ez:()=>i,hz:()=>o});var n=()=>r(292588);const o={comment:!0,discussion:!0},i="reaction",a={table:i,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,icon:n().A.String,actors:n().A.JSON},requiredColumns:{parent_id:!0,parent_table:!0,space_id:!0,icon:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},204742:(e,t,r)=>{r.d(t,{Ay:()=>a,CE:()=>i,Zq:()=>o});var n=()=>r(292588);const o={space:!0},i="internal_domain",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,parent_id:n().A.String,parent_table:n().A.UUID,url:n().A.String,type:n().A.String},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,created_time:!0,space_id:!0,url:!0,type:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},207289:(e,t,r)=>{r.d(t,{KM:()=>l,X9:()=>a});const n="spoXsEWnSOsAMp",o=`<${n}>`,i=`</${n}>`;function a(e,t){return`${o}${e}|${t}${i}`}const s=new RegExp(`${o.replace(/</g,"\\<").replace(/>/g,"\\>")}(.*?)${i.replace(/</g,"\\<").replace(/>/g,"\\>")}`,"g");function l(e){if(e)return e.replace(s,"")}},210610:(e,t,r)=>{r.d(t,{x:()=>d,S:()=>c});r(16280);var n=()=>r(134025),o=()=>r(562815);const i="notion-edge";function a(e,t){return e??t}function s(e,t){const r=function(e){return e??o().D.FIRST}(e),n=function(e){return e??o().D.LAST}(t);if(r>=n)throw new Error(`Unable to compute order key between "${a(e,"START")}" and "${a(t,"END")}" (left must be less than right)`);const s=new(o().D)({ID:i});try{return s.createBetween(r,n)}catch(l){const r=l instanceof Error?l.message:JSON.stringify(l);throw new Error(`Unable to compute order key between "${a(e,"START")}" and "${a(t,"END")}" (${r})`)}}function l(e){return s(e.before,e.after)}function c(e,t){if(!e.spaceId)throw new Error("addEdge operation requires a spaceId");const r=e.edgeId;if(!r)throw new Error("addEdge operation requires an edge id");const n=e.updatedAt??Date.now(),o=e.createdAt??(null==t?void 0:t.created_at)??n,i=function(e){return void 0===e?{}:e}(e.metadata??(null==t?void 0:t.metadata)),a=function(e){const{orderSpec:t}=e,r=null==t?void 0:t.proposedKey;if(r)return r;if(!t)return l({before:void 0,after:void 0});const n=t.anchorKey;return"after"===t.placement?l({before:n,after:void 0}):l({before:void 0,after:n})}({orderSpec:e.orderSpec,currentValue:t}),s=e.version??(null==t?void 0:t.version)??0,c=e.lastVersion??(null==t?void 0:t.last_version),d=e.alive??(null==t?void 0:t.alive)??!0;return{id:r,space_id:e.spaceId,version:s,last_version:c,edge_type:e.edgeType,source_table:e.sourcePointer.table,source_id:e.sourcePointer.id,target_table:e.targetPointer.table,target_id:e.targetPointer.id,alive:d,order_key:a,metadata:i,created_at:o,updated_at:n}}function d(e,t){return n().op.update({pointer:e.pointer,path:[],args:{order_key:null==t?void 0:t.order_key,metadata:null==t?void 0:t.metadata,alive:null==t?void 0:t.alive,updated_at:Date.now()}})}},212547:(e,t,r)=>{r.d(t,{$O:()=>h,A0:()=>A,Eb:()=>S,ms:()=>b,ob:()=>I,rt:()=>T});var n=()=>r(534177),o=()=>r(363497),i=()=>r(548632),a=()=>r(912720),s=()=>r(199378),l=()=>r(926397),c=()=>r(37165),d=()=>r(415292),u=()=>r(526147),p=()=>r(583839),m=()=>r(234459),f=()=>r(749257),_=()=>r(743246),y=()=>r(978234),g=()=>r(244668);const b={create:(e,t)=>({table:e,value:t}),fromModel:e=>b.create(e.table,e.__IM_SORRY__getValue()),isSpaceRecordWithTable:e=>e.table===r(96689).NX,isTeamRecordWithTable:e=>e.table===r(854150).yK,isSpaceShardRecordWithTable:e=>!!(0,g().$t)(e.table),getSpaceId(e){if(b.isSpaceShardRecordWithTable(e)){if(b.isSpaceRecordWithTable(e))return e.value.id;{const{value:t}=e;return t.space_id}}if(e.table===r(801634).kz){return e.value.space_id}if(e.table===r(959044)._p){return e.value.space_id}}},v={block:!0,space_view:!0,collection:!0,collection_view:!0,comment:!0,activity:!0,discussion:!0,slack_integration:!0,snapshot:!0,bot:!0,access_request:!0,page_visit:!0,page_exit:!0,integration:!0,[r(402904).As]:!0,[r(383616).Kl]:!0,[r(840911).Ps]:!0,team:!0,reaction:!0,[l().Hx]:!0,[a().yB]:!0,[r(474989).ns]:!0,[s().SC]:!0,[d().sN]:!0,[u().Fu]:!0,[r(606219).TF]:!0,[r(771927).Nm]:!0,[o().TF]:!0,[r(144081).zx]:!0,[r(421076).yt]:!0,[r(449418)._6]:!0,[r(853040).kf]:!0,[r(204742).CE]:!0,[r(101628).Eu]:!0,[c().lo]:!0,[r(847866).iP]:!0,[i().YV]:!0,[r(63128).Ay]:!0,[p().ZP]:!0,[r(506327).bw]:!0,[_().C0]:!0,[r(145820).QR]:!0,[r(969752).Ec]:!0,[r(541837).ly]:!0,[r(183541).tE]:!0,[y().yM]:!0,[r(758256).U6]:!0,[r(552826).yD]:!0,[m().To]:!0,[r(155792).mS]:!0,[r(374982).QO]:!0,[r(529745).Ht]:!0,[r(471987).XX]:!0,[r(115850).qt]:!0,[r(628720).qr]:!0,[r(232802).GU]:!0,[r(838838).KN]:!0,[r(144986).WQ]:!0,[f().du]:!0,[r(492908).k$]:!0,[r(40117).l]:!0,[r(464912).OC]:!0,[r(949502).yA]:!0,[r(42466).a8w]:!0};function h(e){return(0,n().O)(v,e)&&v[e]}function A(e){return!!(h(e.table)&&"object"==typeof e&&"parent_table"in e&&void 0!==e.parent_table&&"parent_id"in e&&void 0!==e.parent_id)}function I(e){return"object"==typeof e&&null!==e&&"parent_table"in e&&void 0!==e.parent_table&&void 0!==e.parent_id}const S={getSpaceId:e=>{if(e&&I(e))return(0,g().vJ)(e.parent_table)&&"space_id"in e?e.space_id:void 0}},k={block:!0,space_view:!0,collection:!0,collection_view:!0,comment:!0,bot:!0,integration:!0,[l().Hx]:!0,[a().yB]:!0,[s().SC]:!0,[d().sN]:!0,[u().Fu]:!0,[p().ZP]:!0,[o().TF]:!0,[c().lo]:!0,[i().YV]:!0,[y().yM]:!0,[m().To]:!0,[f().du]:!0,[_().C0]:!0};function T(e){return(0,n().O)(k,e)&&k[e]}},214388:(e,t,r)=>{r.d(t,{mi:()=>T,$X:()=>ue,k0:()=>Be,yM:()=>De,Ak:()=>be,c0:()=>Ne,oR:()=>ke,ts:()=>Te,cM:()=>Pe,AY:()=>ye,Lx:()=>_e,wh:()=>J,t6:()=>He,CU:()=>Ve,rg:()=>$e,GV:()=>Ge,U6:()=>fe,GK:()=>j,SM:()=>U,HF:()=>Fe,Rh:()=>G,Zl:()=>M,V6:()=>R,At:()=>Ue,Xz:()=>Oe,ms:()=>te,s1:()=>pe,Ui:()=>x,dU:()=>ve,Cw:()=>N,U0:()=>Ie,t_:()=>qe,fZ:()=>Y,tk:()=>X,B6:()=>ee,$S:()=>ce,G:()=>H,as:()=>O,gc:()=>le,Ol:()=>ie,yX:()=>he,Pq:()=>Q,j:()=>K,v0:()=>P,B9:()=>ze,H$:()=>V,LB:()=>Ae,tn:()=>Le,uU:()=>oe,Wc:()=>E});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(823215),r(354520),r(672577),r(430670),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(268340),a=()=>r(356246);var s=()=>r(604995),l=()=>r(270995);var c=()=>r(335452),d=()=>r(343462),u=()=>r(927826),p=()=>r(478367);r(16280);var m=()=>r(662149),f=()=>r(67657),_=()=>r(748580),y=()=>r(898244),g=()=>r(43864),b=()=>r(713998),v=()=>r(568063),h=()=>r(452540),A=()=>r(239381),I=()=>r(450648),S=()=>r(798880),k=()=>r(201980);const T="50vh";function x(e){return t=e.operator,!!(0,o().O)(a().UL,t);var t}function M(e){return We(e)?[]:Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const w={enum_is:!0,enum_is_not:!0,is_empty:!0,is_not_empty:!0},C=(0,o().uv)(w);function N(e){return"date_is_within"===e.operator||"date_is_relative_to"===e.operator}function P(e){return t=e.operator,!!(0,o().O)(w,t);var t}function U(e){return We(e)?[]:Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const D={enum_contains:!0,enum_does_not_contain:!0,enum_contains_all:!0,is_empty:!0,is_not_empty:!0},B=(0,o().uv)(D);function O(e){return t=e.operator,!!(0,o().O)(D,t);var t}function R(e){return He(e.value)?[]:Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}function E(e,t){const r=e.groups??[],n=e.options??[],o=[];for(const i of t)if("is_group"===i.type){const e=r.find((e=>e.name===i.value));if(e){const t=n.filter((t=>{var r;return null===(r=e.optionIds)||void 0===r?void 0:r.includes(t.id)}));o.push(...t.map((e=>({type:"exact",value:e.value}))))}}else o.push({type:"exact",value:i.value});return o}const F={status_is:!0,status_is_not:!0,is_empty:!0,is_not_empty:!0},L=(0,r(720665).HP)(F);function V(e){return(0,o().O)(F,e.operator)?(e.operator,!0):(e.operator,!1)}function H(e){return function(e){if((0,o().O)(q,e))return!0;return!1}(e.operator)}function j(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const q={location_is:!0,location_is_not:!0},$=(0,o().uv)(q);function G(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const z={relation_contains:!0,relation_does_not_contain:!0,is_empty:!0,is_not_empty:!0},W=(0,o().uv)(z);function K(e){return!!(0,o().O)(z,e)}function Q(e){return K(e.operator)}const Z={is_empty:!0,is_not_empty:!0},J=(0,o().uv)(Z);function X(e){return!!(0,o().O)(Z,e)}function Y(e){return X(e.operator)}const ee=Y;function te(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const re={verification_is:!0,verification_is_not:!0},ne=(0,o().uv)(re);function oe(e){return t=e.operator,!!(0,o().O)(re,t);var t}const ie=Y,ae={text:m().Y,number:d().M,checkbox:x,select:P,multi_select:O,status:V,relation:Q,person:p().I,date:c().n,file:ee,location:H,verification:oe,place:ie},se={string_is:!0,string_is_not:!0,string_contains:!0,string_does_not_contain:!0,string_starts_with:!0,string_ends_with:!0,checkbox_is:!0,checkbox_is_not:!0,enum_is:!0,enum_is_not:!0,enum_contains:!0,enum_contains_all:!0,enum_does_not_contain:!0,status_is:!0,status_is_not:!0,relation_contains:!0,relation_does_not_contain:!0,person_contains:!0,person_does_not_contain:!0,number_equals:!0,number_does_not_equal:!0,number_greater_than:!0,number_less_than:!0,number_greater_than_or_equal_to:!0,number_less_than_or_equal_to:!0,date_is:!0,date_is_before:!0,date_is_after:!0,date_is_on_or_before:!0,date_is_on_or_after:!0,date_is_within:!0,date_is_relative_to:!0,location_is:!0,location_is_not:!0,verification_is:!0,verification_is_not:!0};function le(e){return(0,o().O)(se,e.operator)?(e.operator,!0):(e.operator,!1)}function ce(e,t){return e in ae&&ae[e](t)}const de={any:!0,none:!0,every:!0},ue=(0,o().uv)(de);function pe(e){return(0,o().O)(de,e.operator)?(e.operator,!0):(e.operator,!1)}const me={text:r(935136).I,checkbox:a().Bz,select:C,multi_select:B,status:L,relation:W,person:r(952882).Jz,number:r(466118).T,date:r(754195).qu,file:J,location:$,verification:ne,place:J};function fe({filterValueType:e,propertySchema:t,isConditionalColorRuleContext:r}){const n=me[e];return"multi_select"===e?n.filter((e=>"enum_contains_all"!==e)):r&&"place"===e?n.filter((e=>"is_empty"!==e)):t&&function(e){return"status"===e.type&&void 0!==e.defaultOption||"person"===e.type&&void 0!==e.default}(t)&&!1===r?n.filter((e=>!X(e))):n}const _e={operator:"and",filters:[{property:"title",filter:{operator:"string_contains",value:{type:"exact",value:void 0}}}]},ye={operator:"and",filters:[]},ge={and:!0,or:!0},be=(0,o().uv)(ge);function ve(e){return void 0!==e&&"operator"in e&&ge[e.operator]}function he(e){return void 0!==e&&"property"in e&&"string"==typeof e.property}function Ae(e){return void 0!==e&&"timestamp"in e&&"string"==typeof e.timestamp}function Ie(e){return 0===(e.filters||[]).length}function Se(){return!1}function ke(e){const{context:t,propertyMapping:r,filter:n,sourceCollectionId:i}=e,{userId:a,userTimeZone:s,userStartOfWeek:l}=t,c=n.operator,d=n.filters||[],u=d.map((e=>{let n;return he(e)?n=Te({property:e.property,propertyMapping:r,filter:e.filter,context:t,depth:0,sourceCollectionId:i}):ve(e)?n=ke({context:t,propertyMapping:r,filter:e,sourceCollectionId:i}):Ae(e)?n=Ce({filter:e,userId:a,userTimeZone:s,userStartOfWeek:l,collectionFeatureGates:t.collectionFeatureGates}):(0,o().HB)(e),{shortCircuitOthers:0,latency:0,processed:0,originalFilter:e,compiledFilter:n}}));let p=0;if("or"===c||"and"===c)return e=>{p++,(p<100&&p%25==24||p%100==99)&&(d.length<=1||u.sort(((e,t)=>{const r=(e.shortCircuitOthers+100)/(e.processed+100),n=(t.shortCircuitOthers+100)/(t.processed+100);return(e.latency+100)/(e.processed+100)/r-(t.latency+100)/(t.processed+100)/n})));let t=!0;for(const r of u){const n=Date.now();if(t=r.compiledFilter(e),r.latency+=Date.now()-n,r.processed++,"or"===c&&t)return r.shortCircuitOthers++,t;if("and"===c&&!t)return r.shortCircuitOthers++,t}return t};(0,o().HB)(c)}function Te(e){const{property:t,filter:r,propertyMapping:n,context:i,depth:s,sourceCollectionId:l}=e,{schema:u,userId:p,userTimeZone:g,intl:h,optimizer:A,userStartOfWeek:I,relativeVariableResult:S,currentPageInRelatedCollection:k}=i,T=u[(null==n?void 0:n[t])??t];if(!T)return Se;let x;if("relation"===T.type&&S){const e=(0,y().zO)(T);e&&(x=S[e])}if("formula"===T.type)return xe({context:i,filter:r,property:t,propertySchema:T,depth:s});if("rollup"===T.type)return function(e){const{context:t,property:r,filter:n,propertySchema:i,depth:s,sourceCollectionId:l}=e,{schema:u,userId:p,userTimeZone:_,userStartOfWeek:y,relativeVariableResult:g,currentPageInRelatedCollection:b,intl:h,optimizer:A}=t;if(i.aggregation&&"show_unique"!==i.aggregation){let e;if((0,f().bY)(i.aggregation)||(0,f().fr)(i.aggregation)||(0,f().un)(i.aggregation)||("string"==typeof(I=i.aggregation)?Boolean(a().lM[I]):"object"==typeof I?Boolean(a().lM[I.operator]):void(0,o().HB)(I))){if(!(0,d().M)(n))return Se;e="number"}else if((0,f().Y)(i.aggregation)){if(!(0,c().n)(n))return Se;e="date"}else if((0,f().ET)(i.aggregation)){if(!(0,d().M)(n)&&!(0,m().Y)(n))return Se;e="count_per_group"===i.aggregation.operator?"text":"number"}else(0,o().HB)(i.aggregation);const l=Ne({filter:n,filterType:e,userId:p,userTimeZone:_,userStartOfWeek:y,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:t.collectionFeatureGates});return n=>{const o=(0,v().Pm)({property:r,schema:u,...n,collectionRequestContext:{userId:void 0,userTimeZone:_,intl:h,depth:s,visitedProperties:new Set,resultCache:n.resultCache,regExpCache:n.regExpCache,formatDateCache:n.formatDateCache,formulaTimeoutTimestampMs:n.formulaTimeoutTimestampMs,logFormulaTimeoutFn:n.logFormulaTimeoutFn,experimentService:n.experimentService,collectionFeatureGates:t.collectionFeatureGates,getRelationEdgeList:n.getRelationEdgeList},spaceIdCreator:n.spaceIdCreator});return!!o&&(o.type===e&&l(o))}}var I;if(!pe(n))return Se;let S;const k=(e,o)=>{const i=(0,v().eY)({property:r,schema:u,getRecordModel:e,spaceIdCreator:o});return i?"person"===i.rollupType||pe(n.subfilter)?Se:Te({filter:n.subfilter,property:i.targetProperty,propertyMapping:void 0,context:{schema:i.targetCollectionSchema,userId:p,userTimeZone:_,userStartOfWeek:y,intl:h,optimizer:A,relativeVariableResult:g,currentPageInRelatedCollection:b,collectionFeatureGates:t.collectionFeatureGates},depth:s+1,sourceCollectionId:l}):Se};return e=>{const{block:t,getRecordModel:o,formulaTimeoutTimestampMs:i,logFormulaTimeoutFn:a,spaceIdCreator:s}=e,l=(0,v().yH)({property:r,schema:u,block:t,getRecordModel:o,spaceIdCreator:s,getRelationEdgeList:e.getRelationEdgeList}),c=S??=k(o,s);return Ee(n.operator,l,(t=>c({block:t,getRecordModel:o,propertyMapping:void 0,formulaTimeoutTimestampMs:i,logFormulaTimeoutFn:a,resultCache:e.resultCache,regExpCache:e.regExpCache,formatDateCache:e.formatDateCache,experimentService:e.experimentService,formulasModule:e.formulasModule,spaceIdCreator:e.spaceIdCreator,getRelationEdgeList:e.getRelationEdgeList})))}}({context:i,filter:r,property:t,propertySchema:T,depth:s,sourceCollectionId:l});if("button"===T.type)return Se;const M=(0,_().IS)(T.type);if(!ce(M,r))return Se;const w=Ne({filter:r,filterType:M,userId:p,userTimeZone:g,userStartOfWeek:I,relativeVariableValues:x,currentPageInRelatedCollection:k,collectionFeatureGates:i.collectionFeatureGates}),C=e=>{const{block:r,getRecordModel:n,propertyMapping:o,getRelationEdgeList:i}=e,a=(null==o?void 0:o[t])??t;let s;s="title"===T.type&&"collection_view_page"===r.getType()?(0,b().zP)(r,n):(0,b().yQ)(r,a,n);const c=(0,_().hz)({filterValueType:M,block:r,propertySchema:T,propertyValue:s,getRecordModel:n,filterValueParseContext:{userId:p,userTimeZone:g,intl:h,sourceCollectionId:l,getRelationEdgeList:i},propertyId:t});return w(c)};if(A){const e={schema:u,property:t,userId:p,userTimeZone:g,intl:h,basicFilter:r,compiledBasicFilter:w,compiledFilter:C},n="function"==typeof A?A:null==A?void 0:A[M],o=null==n?void 0:n(e);if(o)return o}return C}function xe(e){return"v2"===e.propertySchema.version?function(e){const{propertySchema:t,filter:r,context:n,property:o,depth:i}=e,{userId:a,userTimeZone:s,userStartOfWeek:l,intl:c}=n;if(!t.formula2)return Se;const d=t.formula2.result_type;if("array"===d.type){const e=(0,A().JK)(d);if("array"===e.type||"select"===e.type||"function"===e.type)return Se;const a="block"===e.type||"unknown"===e.type||"undefined"===e.type?"text":e.type;return function(e){const{propertySchema:t,filter:r,context:n,property:o,subfilterType:i}=e,{userId:a,userTimeZone:s,intl:l,userStartOfWeek:c}=n;if(!pe(r))return Se;let d;const u=()=>pe(r.subfilter)?()=>!1:Ne({filter:r.subfilter,userId:a,userTimeZone:s,userStartOfWeek:c,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,filterType:i,collectionFeatureGates:n.collectionFeatureGates});return a=>{if(!t.formula2)return!1;const{block:c,getRecordModel:p,resultCache:f,regExpCache:_,formatDateCache:y,formulasModule:g,spaceIdCreator:b}=a;if(!g)return!1;const v=g.evaluateCollectionFormula2({block:c,property:o,formulaCode:t.formula2.code,getRecordModel:p,intl:l,userTimeZone:s,depth:e.depth,visitedProperties:new Set,resultCache:f,regExpCache:_,formatDateCache:y,experimentService:a.experimentService,collectionFeatureGates:n.collectionFeatureGates,spaceIdCreator:b});if(!v||"array"!==v.type)return!1;if(!g.hasUniformType(v)&&!(0,m().Y)(r.subfilter))return!1;const h=d??=u();return!!ce(i,r.subfilter)&&Ee(r.operator,v.values,(e=>{if("undefined"===e.type)return!1;const t=we(e,i,p,l,s);return void 0!==t&&h(t)}))}}({context:n,filter:r,property:o,propertySchema:t,depth:i,subfilterType:a})}const u="block"===d.type||"unknown"===d.type||"undefined"===d.type?"text":d.type;if(!ce(u,r))return Se;const p=Ne({filter:r,userId:a,userTimeZone:s,userStartOfWeek:l,filterType:u,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:n.collectionFeatureGates});return i=>{if(!t.formula2)return!1;const{formulasModule:a,spaceIdCreator:l}=i;if(!a)return!1;const d=a.evaluateCollectionFormula2({block:i.block,property:o,formulaCode:t.formula2.code,getRecordModel:i.getRecordModel,intl:c,userTimeZone:s,depth:e.depth,visitedProperties:new Set,formulaTimeoutTimestampMs:i.formulaTimeoutTimestampMs,logFormulaTimeoutFn:i.logFormulaTimeoutFn,resultCache:i.resultCache,regExpCache:i.regExpCache,formatDateCache:i.formatDateCache,experimentService:i.experimentService,collectionFeatureGates:n.collectionFeatureGates,spaceIdCreator:l});if("is_empty"===r.operator)return Me(d);if("is_not_empty"===r.operator)return!Me(d);if(!d||"undefined"===d.type)return!1;const{getRecordModel:m}=i,f=we(d,u,m,c,s);return!!f&&p(f)}}(e):function(e){const{propertySchema:t,filter:r,context:n,property:o,depth:i}=e,{userId:a,userTimeZone:s,userStartOfWeek:l,intl:c,schema:d}=n;if(!t.formula)return Se;const u=t.formula.result_type;if(!u)return Se;if(!ce(u,r))return Se;const p=Ne({filter:r,userId:a,userTimeZone:s,userStartOfWeek:l,filterType:u,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:n.collectionFeatureGates});return e=>{const{formulasModule:t}=e;if(!t)return!1;const r=t.evaluateFormulaProperty({...e,property:o,schema:d,collectionRequestContext:{userId:void 0,userTimeZone:s,depth:i,intl:c,resultCache:e.resultCache,regExpCache:e.regExpCache,formatDateCache:e.formatDateCache,visitedProperties:new Set,formulaTimeoutTimestampMs:e.formulaTimeoutTimestampMs,logFormulaTimeoutFn:e.logFormulaTimeoutFn,experimentService:e.experimentService,collectionFeatureGates:n.collectionFeatureGates,getRelationEdgeList:e.getRelationEdgeList}});return p({type:u,value:r})}}(e)}function Me(e){return!e||"undefined"===e.type||"array"===e.type&&0===e.values.length||"text"===e.type&&0===(0,k().qAZ)(e.value).length}function we(e,t,r,n,i){let a=e.type;if("undefined"!==a){if("block"===a&&(a="text"),"text"===t||"text"===e.type)return{type:"text",value:(0,I().r4)({textValue:(0,A().Ht)(e),getRecordModel:r,intl:n,userTimeZone:i})};if("block"===e.type){const t=r(e.value);if(!t)return;return{type:"text",value:t.getRenderTitle({getRecordModel:r,intl:n,userTimeZone:i})}}return"person"===e.type?{type:"person",value:[e.value]}:"number"===e.type?{type:"number",value:e.value}:"date"===e.type?{type:"date",value:e.value}:"checkbox"===e.type?{type:"checkbox",value:e.value}:void("undefined"!==e.type&&"array"!==e.type&&(0,o().HB)(e))}}function Ce(e){const{filter:t,userId:r,userTimeZone:n,userStartOfWeek:o,collectionFeatureGates:i}=e,a=Ne({filter:t.filter,userId:r,userTimeZone:n,userStartOfWeek:o,filterType:"date",relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:i});return e=>{const{formulasModule:r}=e;if(!r)return!1;const o=r.timestampToFormulaValue({timestampType:t.timestamp,block:e.block,userTimeZone:n});return a({type:"date",value:o})}}function Ne(e){return(0,Re[e.filterType])(e)}function Pe(e){const{filter:t}=e,r=le(t)?R(t):[],i=n().sb(n().oE(r.filter((e=>"is_group"===e.type)).map((e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.toLowerCase()})))),a=r.filter((e=>"is_option"===e.type)).map((e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.toLowerCase()}));return e=>{const{option:n,group:s}=e;if("is_empty"===t.operator)return void 0===n;if("is_not_empty"===t.operator)return void 0!==n;if(0===r.length)return!0;const l=Boolean(s&&i.includes(s.toLowerCase())),c=Boolean(n&&a.includes(n.toLowerCase()));return"status_is"===t.operator?l||c:"status_is_not"===t.operator?!l&&!c:void(0,o().HB)(t.operator)}}function Ue(e){const{operatorValue:t,userTimeZone:r,userStartOfWeek:n}=e;if("relative"===t.type&&"surrounding"===t.value){const{start:e,end:o}=De(t.unit,r,n);return{start:e.valueOf(),end:o.valueOf()}}if("relative"===t.type&&"custom"===t.value)return function(e){const{filterDirection:t,filterCount:r,filterUnit:n,userTimeZone:i}=e,a=Be(t,r,n,i);switch(t){case"future":return{start:s().vF({timezone:i}).startOf("day").valueOf(),end:a.endOf("day").valueOf()};case"past":return{start:a.startOf("day").valueOf(),end:s().vF({timezone:i}).endOf("day").valueOf()};default:(0,o().HB)(t)}}({filterDirection:t.direction,filterCount:t.count,filterUnit:t.unit,userTimeZone:r});if("relative"===t.type)return function(e,t){if("this_week"===e.value)return{start:s().vF({timezone:t}).startOf("week").valueOf(),end:s().vF({timezone:t}).endOf("week").valueOf()};if("the_past_week"===e.value)return{start:s().ah(t).minus({days:8}).valueOf(),end:s().vF({timezone:t}).valueOf()};if("the_past_month"===e.value)return{start:s().vF({timezone:t}).minus({months:1,days:1}).valueOf(),end:s().vF({timezone:t}).valueOf()};if("the_past_year"===e.value)return{start:s().vF({timezone:t}).minus({years:1}).valueOf(),end:s().vF({timezone:t}).valueOf()};const r=s().vF({timezone:t}).minus({days:1}).valueOf();return"the_next_week"===e.value?{start:r,end:s().vF({timezone:t}).plus({weeks:1}).valueOf()}:"the_next_month"===e.value?{start:r,end:s().vF({timezone:t}).plus({months:1}).valueOf()}:"the_next_year"===e.value?{start:r,end:s().vF({timezone:t}).plus({years:1}).valueOf()}:void(0,o().HB)(e)}(t,r);if("exact"===t.type){if(t.value){const{value:e}=t;if(e.start_date&&e.end_date){const t={type:"daterange",start_date:e.start_date,end_date:e.end_date},n=s().AA(t,r);return{start:n.start.valueOf(),end:n.end.endOf("day").valueOf()}}if(e.start_date){const t={type:"date",start_date:e.start_date};return{start:s().HF(t,r).valueOf(),end:void 0}}if(e.end_date){const t={type:"date",start_date:e.end_date};return{start:void 0,end:s().HF(t,r).endOf("day").valueOf()}}return{start:void 0,end:void 0}}return{start:void 0,end:void 0}}(0,o().HB)(t)}function De(e,t,r){const n=s().vF({timezone:t});switch(e){case"day":return{start:n.startOf("day"),end:n.endOf("day")};case"week":return{start:s().iB(n.valueOf(),r,t),end:s().hp(n.valueOf(),r,t)};case"month":return{start:n.startOf("month").startOf("day"),end:n.endOf("month").endOf("day")};case"year":return{start:n.startOf("year").startOf("day"),end:n.endOf("year").endOf("day")};default:(0,o().HB)(e)}}function Be(e,t,r,n){const o="past"===e?-t:t;return s().vF({timezone:n}).plus({[r]:o})}function Oe(e){const{operatorValue:t,userId:r}=e;if("relative"===t.type){if("me"===t.value)return r?{table:S().oo,id:r}:void 0;(0,o().HB)(t)}return t.value}const Re={text:function(e){const{filter:t}=e,n=le(t)?(t.value.value||"").trim().toLowerCase():void 0;return e=>{var i;const a=(e.value||"").trim().toLowerCase();if(!(0,r(806080).Kg)(a))throw new Error(`str is not a string: ${a}`);return"is_empty"===t.operator?0===a.length:"is_not_empty"===t.operator?a.length>0:"string_has_no_alphabet_prefix"===t.operator?Boolean(a&&!(0,r(62371).Wk)(a)):!n||("string_is"===t.operator?a===n:"string_is_not"===t.operator?a!==n:"string_contains"===t.operator?a.indexOf(n)>=0:"string_does_not_contain"===t.operator?a.indexOf(n)<0:"string_starts_with"===t.operator?a.slice(0,n.length)===n:"string_ends_with"===t.operator?a.slice(a.length-n.length)===n:(null===(i=globalThis.__debugPrint__)||void 0===i||i.call(globalThis,"compileTextFilter - operator",t.operator),void(0,o().HB)(t.operator)))}},checkbox:function(e){const{filter:t}=e,r=Boolean(t.value.value),n=e=>{var i,a,s;const l=Boolean(e.value),c="checkbox_is";return t.operator===c?l===r:"checkbox_is_not"===t.operator?l!==r:(null===(i=globalThis.__debugPrint__)||void 0===i||i.call(globalThis,"compileCheckboxFilter - operator",t.operator),null===(a=globalThis.__debugPrint__)||void 0===a||a.call(globalThis,"compileCheckboxFilter - comparison CHECKBOX_IS",c),null===(s=globalThis.__getOptimizationStatus__)||void 0===s||s.call(globalThis,"compileCheckboxFilter",n),void(0,o().HB)(t.operator,(()=>JSON.stringify({message:`Checkbox filter operator ${t.operator} is not supported.`,details:{extra:{eq:t.operator===c,filter:t,filterValue:e,CHECKBOX_IS:c,operatorString:String(t.operator),checkboxIsString:String(c),jsonOperator:JSON.stringify(t.operator),jsonCheckboxIs:JSON.stringify(c),bufferOperator:Buffer.from(t.operator).toString("base64"),bufferCheckboxIs:Buffer.from(c).toString("base64")}}}))))};return n},select:function(e){const{filter:t}=e,r=le(t)?M(t).map((({value:e})=>e)):[];return e=>{const n=e.value;return"is_empty"===t.operator?void 0===n:"is_not_empty"===t.operator?void 0!==n:0===r.length||("enum_is"===t.operator?r.includes(n):"enum_is_not"===t.operator?!r.includes(n):void(0,o().HB)(t.operator))}},multi_select:function(e){const{filter:t}=e,r=le(t)?U(t).map((({value:e})=>e)):[];return e=>{const n=e.value||[];return"is_empty"===t.operator?0===n.length:"is_not_empty"===t.operator?n.length>0:0===r.length||("enum_contains"===t.operator?n.some((e=>r.includes(e))):"enum_does_not_contain"===t.operator?!n.some((e=>r.includes(e))):"enum_contains_all"===t.operator?r.every((e=>e&&n.includes(e))):void(0,o().HB)(t.operator))}},status:Pe,relation:function(e){const{filter:t,relativeVariableValues:r,currentPageInRelatedCollection:n}=e,i=le(t)?(0,g().sU)({filter:t,relativeVariableValue:r,currentPageInRelatedCollection:n}):[],a=e=>{var r,n,s;const l=e.value||[];if("is_empty"===t.operator)return 0===l.length;if("is_not_empty"===t.operator)return l.length>0;if(0===i.length)return!0;const c="relation_contains";return t.operator===c?l.some((e=>i.includes(e.id))):"relation_does_not_contain"===t.operator?!l.some((e=>i.includes(e.id))):(null===(r=globalThis.__debugPrint__)||void 0===r||r.call(globalThis,"compileRelationFilter - operator",t.operator),null===(n=globalThis.__debugPrint__)||void 0===n||n.call(globalThis,"compileRelationFilter - comparison RELATION_CONTAINS",c),null===(s=globalThis.__getOptimizationStatus__)||void 0===s||s.call(globalThis,"compileRelationFilter",a),void(0,o().HB)(t.operator))};return a},person:function(e){const{filter:t,userId:r}=e,n=le(t)?(0,u().W)(t).map((e=>{const t=Oe({operatorValue:e,userId:r});if(t)return(0,h().jV)(t)})).filter(o().O9):[];return e=>{const r=e.value||[];if("is_empty"===t.operator)return 0===r.length;if("is_not_empty"===t.operator)return r.length>0;if(0===n.length&&0===(0,u().W)(t).length)return!0;if(n.some((e=>"mentions_HACK:notion_user"===e)))return!0;const i=new Set(r.map(h().jV));return"person_contains"===t.operator?n.some((e=>i.has(e))):"person_does_not_contain"===t.operator?!n.some((e=>i.has(e))):void(0,o().HB)(t.operator)}},number:function(e){const{filter:t}=e;return e=>{const r=e.value;if("is_empty"===t.operator)return void 0===r||n().yr(r);if("is_not_empty"===t.operator)return void 0!==r&&!n().yr(r);const i=t.value.value;return!(void 0!==i&&!n().yr(i))||(void 0===r||n().yr(r)?"number_does_not_equal"===t.operator:"number_equals"===t.operator?r===i:"number_does_not_equal"===t.operator?r!==i:"number_greater_than"===t.operator?r>i:"number_less_than"===t.operator?r<i:"number_greater_than_or_equal_to"===t.operator?r>=i:"number_less_than_or_equal_to"===t.operator?r<=i:void(0,o().HB)(t.operator))}},date:function(e){const{filter:t,userTimeZone:n,userStartOfWeek:i}=e;if("is_empty"===t.operator)return e=>{const t=e.value;if(!t)return!0;const r=s().AA(t,n);return!!isNaN(r.start.valueOf())||void 0===e.value};if("is_not_empty"===t.operator)return e=>{const t=e.value;if(!t)return!1;const r=s().AA(t,n);return!isNaN(r.start.valueOf())&&void 0!==e.value};if(N(t)){const e=Ue({operatorValue:t.value,userTimeZone:n,userStartOfWeek:i});return r=>{if(void 0===e.start&&void 0===e.end)return!0;const o=r.value;if(!o)return!1;const i=s().AA(o,n),a=i.start.valueOf(),l=i.end?i.end.valueOf():i.start.valueOf(),c=t.use_end?l:a;return(void 0===e.start||c>=e.start)&&(void 0===e.end||c<=e.end)}}const a=t.value;let c=(0,r(799690).$)({operatorValue:a,userTimeZone:n}),d=s().vF({date:c,timezone:n}).endOf("day").valueOf();if("object"==typeof t.value.value&&"datetime"===t.value.value.type){const e=function(e){const{operatorValue:t,userTimeZone:r}=e;if("exact"===t.type){const e=t.value;if(!(0,o().O9)(e))return;return s().ln(e,r)}return(0,l().U)({operatorValue:t,userTimeZone:r})}({operatorValue:t.value,userTimeZone:n});if(!(0,o().O9)(e))return()=>!0;c=e,d=e}return e=>{const r=e.value;if(!(0,o().O9)(c))return!0;if(!r)return!1;const i=s().AA(r,n),a=i.start.valueOf(),l=i.end?i.end.valueOf():i.start.valueOf(),u=t.use_end?l:a;return"date_is"===t.operator?d>=u&&c<=u:"date_is_before"===t.operator?u<c:"date_is_on_or_before"===t.operator?u<=d:"date_is_after"===t.operator?u>d:"date_is_on_or_after"===t.operator?u>=c:void(0,o().HB)(t.operator)}},file:function(e){const{filter:t}=e;return e=>{const r=e.value||[];return"is_empty"===t.operator?0===r.length:"is_not_empty"===t.operator?r.length>0:void(0,o().HB)(t)}},location:function(e){const{filter:t}=e,r=j(t).map((({value:e})=>e));return e=>{const n=e.value;return"location_is"===t.operator?r.includes(null==n?void 0:n.id):"location_is_not"===t.operator?!r.includes(null==n?void 0:n.id):void(0,o().HB)(t.operator)}},verification:function(e){const{filter:t}=e,r=le(t)?te(t).map((({value:e})=>e)):[];return e=>{const n=e.value;return"verification_is"===t.operator?r.includes(n):"verification_is_not"===t.operator?!r.includes(n):void(0,o().HB)(t.operator)}},place:function(e){const{filter:t}=e;return e=>{const r=e.value;return"is_empty"===t.operator?!Boolean(r):"is_not_empty"===t.operator?Boolean(r):void(0,o().HB)(t)}}};function Ee(e,t,r){return"any"===e?0!==t.length&&t.some(r):"none"===e?0===t.length||!t.some(r):"every"===e?0!==t.length&&n().Si(t,r):void(0,o().HB)(e)}function Fe(e){const{schema:t,property:r,getRecordModel:n}=e,o=t[r];if(!o)return"text";if("formula"===o.type){if("v2"===o.version){if(!o.formula2)return"text";const e=o.formula2.result_type.type;if("unknown"===e||"block"===e||"undefined"===e)return"text";if("array"===e){const e=(0,A().JK)(o.formula2.result_type.of).type;return"block"===e||"array"===e||"unknown"===e||"undefined"===e||"function"===e?"text":e}return e}return o.formula&&o.formula.result_type?o.formula.result_type:"text"}if("rollup"===o.type){if(!o.relation_property||!o.target_property)return"text";if(o.aggregation&&"show_unique"!==o.aggregation)return(0,f().ou)((0,f().ZP)(o.aggregation));const e=t[o.relation_property];if(!e||"relation"!==e.type||!(0,y().Nv)(e))return"text";const r=n((0,y().Nv)(e));if(!r)return"text";return Fe({schema:r.getNormalizedSchema(),property:o.target_property,getRecordModel:n})}return"button"===o.type?"text":(0,_().IS)(o.type)}function Le(e,t,r,n){const i=e[t];if(!i)return!1;if("formula"===i.type){if("v2"===i.version){if(i.formula2){const e=i.formula2.result_type.type;return"unknown"===e||("block"===e||"undefined"===e)?(0,m().Y)(r):"array"===e?function(e,t){const r=(0,A().JK)(t);return!("array"===r.type||"function"===r.type||!pe(e))&&("block"===r.type||"unknown"===r.type||"undefined"===r.type?ce("text",e.subfilter):ce(r.type,e.subfilter))}(r,i.formula2.result_type.of):ce(e,r)}return Y(r)}return i.formula&&i.formula.result_type?ce(i.formula.result_type,r):!!Y(r)}if("rollup"===i.type){if(i.aggregation&&"show_unique"!==i.aggregation){return ce((0,f().ou)((0,f().ZP)(i.aggregation)),r)}if(!pe(r))return!1;if(!n)return!0;const a=Fe({schema:e,property:t,getRecordModel:n}),s=pe(r)?r.subfilter:r;if("text"===a)return(0,m().Y)(s);if("relation"===a)return Q(s);if("checkbox"===a)return x(s);if("select"===a||"multi_select"===a)return P(s)||O(s);if("status"===a)return V(s);if("person"===a)return(0,p().I)(s);if("number"===a)return(0,d().M)(s);if("date"===a)return(0,c().n)(s);if("file"===a)return Y(s);if("location"===a)return H(s);if("verification"===a)return oe(s);if("place"===a)return ie(s);(0,o().HB)(a)}if("button"===i.type)return!1;return ce((0,_().IS)(i.type),r)}function Ve(e,t){if(t(e))return e;if(ve(e))for(const r of e.filters||[]){const e=Ve(r,t);if(e)return e}}function He(e){return!e||(Array.isArray(e)?!e.some(je):!je(e))}function je(e){return e&&!Array.isArray(e)&&void 0!==e.value&&""!==e.value}function qe(e){if(he(e)){const t=pe(e.filter)?e.filter.subfilter:e.filter;return le(t)&&He(t.value)}return!1}function $e(e){const{propertyFilters:t,combinatorFilter:r,schema:o}=e;return n().oE([r,...t.map((e=>{const t=(0,g().hs)(e.filter,o);if(t){if(!he(t))return t;{const e=pe(t.filter)?t.filter.subfilter:t.filter;if(!le(e)||!He(e.value))return t}}}))])}function Ge(e){return 1===e.length&&ve(e[0])?e[0]:e.length>0?{operator:"and",filters:e}:void 0}function ze(e){return Boolean(e&&he(e)&&e.property===i().yx.TaskToSprintRelation&&Q(e.filter)&&"relation_contains"===e.filter.operator&&Array.isArray(e.filter.value))}function We(e){return He(e.value)}},230350:(e,t,r)=>{r.d(t,{v:()=>T});r(944114);var n=()=>r(100622),o=()=>r(534177),i=()=>r(597777),a=()=>r(681373);function s(e){return[a().BQ.Bold]}function l(e){return[a().BQ.Italic]}function c(e){return[a().BQ.Strike]}function d(e){return[a().BQ.Code]}function u(e){return[a().BQ.Underline]}function p(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[a().BQ.Link,e[1]]:void 0}function m(e){return 2===e.length&&"string"==typeof e[1]&&(0,n().Fi)(e[1])?[a().BQ.Highlight,e[1]]:void 0}function f(e){const t=e[0];switch(t){case a().BQ.Bold:return s();case a().BQ.Italic:return l();case a().BQ.Strike:return c();case a().BQ.Code:return d();case a().BQ.Underline:return u();case a().BQ.Link:return p(e);case a().BQ.Highlight:return m(e);default:(0,o().HB)(t)}}function _(e){return 2===e.length?[a().BQ.User,"string"==typeof e[1]?e[1]:""]:void 0}function y(e){if(2===e.length||3===e.length)return"string"==typeof e[1]||null===e[1]||void 0===e[1]?3===e.length&&"string"==typeof e[2]?[a().BQ.Page,e[1]??"",e[2]]:[a().BQ.Page,e[1]??""]:void 0}function g(e){return x(e)&&"type"in e&&"string"==typeof e.type&&(0,i().cW)(e.type)?e:{}}function b(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[a().BQ.SearchFilterCreatedTime,g(e[1])]:void 0}function v(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[a().BQ.SearchFilterLastEditedTime,g(e[1])]:void 0}function h(e){return 2===e.length?[a().BQ.Bot,"string"==typeof e[1]?e[1]:""]:void 0}function A(e){return 3===e.length&&null!==e[1]&&void 0!==e[1]&&null!==e[2]&&void 0!==e[2]?[a().BQ.Group,String(e[1]),String(e[2])]:void 0}function I(e){return 4!==e.length||null===e[1]||void 0===e[1]||null===e[2]||void 0===e[2]||null===e[3]||void 0===e[3]||"everyone"!==e[3]&&"teamspace"!==e[3]?void 0:[a().BQ.Team,String(e[1]),String(e[2]),e[3]]}function S(e){return 1===e.length?[a().BQ.TitleOnly]:void 0}const k={[a().BQ.Bold]:s,[a().BQ.Italic]:l,[a().BQ.Strike]:c,[a().BQ.Code]:d,[a().BQ.FormulaError]:function(e){return[a().BQ.FormulaError]},[a().BQ.Underline]:u,[a().BQ.Inserted]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[a().BQ.Inserted,e[1]]:[a().BQ.Inserted]},[a().BQ.Deleted]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[a().BQ.Deleted,e[1]]:[a().BQ.Deleted]},[a().BQ.TemporaryComment]:function(e){return[a().BQ.TemporaryComment]},[a().BQ.User]:_,[a().BQ.Bot]:h,[a().BQ.Page]:y,[a().BQ.Collection]:function(e){if(2===e.length||3===e.length||4===e.length)return"string"==typeof e[1]||null===e[1]||void 0===e[1]?4===e.length&&"string"==typeof e[2]&&"string"==typeof e[3]?[a().BQ.Collection,e[1]??"",e[2],e[3]]:3===e.length&&"string"==typeof e[2]?[a().BQ.Collection,e[1]??"",e[2]]:[a().BQ.Collection,e[1]??""]:void 0},[a().BQ.TemporaryCollection]:function(e){return[a().BQ.TemporaryCollection]},[a().BQ.TemporaryPage]:function(e){return[a().BQ.TemporaryPage]},[a().BQ.Date]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[a().BQ.Date,g(e[1])]:void 0},[a().BQ.SearchFilterCreatedTime]:b,[a().BQ.SearchFilterLastEditedTime]:v,[a().BQ.ExternalObjectInstance]:function(e){return 2===e.length?[a().BQ.ExternalObjectInstance,"string"==typeof e[1]?e[1]:""]:void 0},[a().BQ.TemplateVariable]:function(e){return 2===e.length&&x(e[1])&&"type"in e[1]&&null===a().gv.validator(e[1].type)?[a().BQ.TemplateVariable,{type:e[1].type}]:void 0},[a().BQ.Comment]:function(e){return 3===e.length?[a().BQ.Comment,"string"==typeof e[1]?e[1]:"","string"==typeof e[2]?e[2]:""]:void 0},[a().BQ.Group]:A,[a().BQ.Team]:I,[a().BQ.LinkMention]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[a().BQ.LinkMention,x(e[1])&&"href"in e[1]&&"string"==typeof e[1].href?e[1]:{href:""}]:void 0},[a().BQ.CustomEmoji]:function(e){return 3===e.length&&"string"==typeof e[1]&&e[1].length&&"string"==typeof e[2]&&e[2].length?[a().BQ.CustomEmoji,e[1],e[2]]:void 0},[a().BQ.Citation]:function(e){return e},[a().BQ.TemporaryCitation]:function(e){return[a().BQ.TemporaryCitation]},[a().BQ.Discussion]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[a().BQ.Discussion,e[1]]:void 0},[a().BQ.Link]:p,[a().BQ.Highlight]:m,[a().BQ.Equation]:function(e){return 2===e.length?[a().BQ.Equation,null===e[1]||void 0===e[1]?"":"string"==typeof e[1]?e[1]:"\\invalid"]:void 0},[a().BQ.TemporaryEquation]:function(e){return[a().BQ.TemporaryEquation]},[a().BQ.TemporaryInput]:function(e){return e},[a().BQ.TemporarySelection]:function(e){return[a().BQ.TemporarySelection]},[a().BQ.FormulaPageProperty]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]&&x(e[1])?[a().BQ.FormulaPageProperty,x(e[1])&&"property"in e[1]&&"string"==typeof e[1].property?e[1]:{property:""}]:void 0},[a().BQ.FormulaContextValue]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[a().BQ.FormulaContextValue,x(e[1])&&"id"in e[1]&&"string"==typeof e[1].id?e[1]:{id:""}]:void 0},[a().BQ.TemporaryFindHighlight]:function(e){return[a().BQ.TemporaryFindHighlight]},[a().BQ.TemporarySelectedFindHighlight]:function(e){return[a().BQ.TemporarySelectedFindHighlight]},[a().BQ.TemporaryCursor]:function(e){return[a().BQ.TemporaryCursor]},[a().BQ.SuggestionInsertText]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[a().BQ.SuggestionInsertText,e[1]]:void 0},[a().BQ.SuggestionRemoveText]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[a().BQ.SuggestionRemoveText,e[1]]:void 0},[a().BQ.SuggestionAnnotate]:function(e){if(3!==e.length||"string"!=typeof e[1]||!e[1].length||!Array.isArray(e[2])||!(0,a().gV)(e[2][0]))return;const t=f(e[2]);return t?[a().BQ.SuggestionAnnotate,e[1],t]:void 0},[a().BQ.SuggestionUnannotate]:function(e){if(3!==e.length||"string"!=typeof e[1]||!Array.isArray(e[2])||!(0,a().gV)(e[2][0]))return;const t=f(e[2]);return t?[a().BQ.SuggestionUnannotate,e[1],t]:void 0},[a().BQ.TemporaryHighlight]:function(e){return e},[a().BQ.TemporaryNativeMABFilter]:function(e){return e},[a().BQ.TemporaryDictation]:function(e){return e},[a().BQ.AssistantInstructionsCollection]:function(e){return e},[a().BQ.TemporaryCommentHighlight]:function(e){return[a().BQ.TemporaryCommentHighlight]},[a().BQ.TemporarySuggestionUnderline]:function(e){if(2===e.length&&"string"==typeof e[1]&&e[1].length)return[a().BQ.TemporarySuggestionUnderline,e[1]]},[a().BQ.Place]:function(e){if(2===e.length){const t=e[1];if(x(t)&&"lat"in t&&"lon"in t&&"number"==typeof t.lat&&"number"==typeof t.lon){const e="name"in t&&"string"==typeof t.name?t.name:void 0;return[a().BQ.Place,{lat:t.lat,lon:t.lon,...Boolean(e)&&{name:e}}]}}},[a().BQ.SlackSpecialMention]:function(e){return 2!==e.length||e[0]!==a().BQ.SlackSpecialMention||"here"!==e[1]&&"channel"!==e[1]?void 0:[a().BQ.SlackSpecialMention,e[1]]},[a().BQ.ChatSelectionContext]:function(e){if(2!==e.length||!x(e[1]))return;const t=e[1];if("type"in t&&"string"==typeof t.type&&"text"in t&&"string"==typeof t.text){if("blocks"===t.type){if(!("blocks"in t)||!Array.isArray(t.blocks))return;const e=[];for(const r of t.blocks)x(r)&&"id"in r&&"string"==typeof r.id&&e.push({id:r.id,..."spaceId"in r&&"string"==typeof r.spaceId?{spaceId:r.spaceId}:{}});if(0===e.length)return;return[a().BQ.ChatSelectionContext,{type:"blocks",text:t.text,blocks:e}]}if("text"===t.type){if(!("start"in t)||!x(t.start))return;if(!("end"in t)||!x(t.end))return;const e=e=>{if("id"in e&&"string"==typeof e.id&&"index"in e&&"number"==typeof e.index)return{id:e.id,index:e.index,..."spaceId"in e&&"string"==typeof e.spaceId?{spaceId:e.spaceId}:{}}},r=e(t.start),n=e(t.end);if(!r||!n)return;return[a().BQ.ChatSelectionContext,{type:"text",text:t.text,start:r,end:n}]}}},[a().BQ.TemporarySearchFilter]:function(e){if(2!==e.length)return;const[t,...r]=e;if(2!==r.length)return;const[n,...o]=r;let i;switch(n){case a().BQ.User:i=_([n,...o]);break;case a().BQ.Page:i=y([n,...o]);break;case a().BQ.SearchFilterCreatedTime:i=b([n,...o]);break;case a().BQ.SearchFilterLastEditedTime:i=v([n,...o]);break;case a().BQ.Bot:i=h([n,...o]);break;case a().BQ.Group:i=A([n,...o]);break;case a().BQ.Team:i=I([n,...o]);break;case a().BQ.TitleOnly:i=S([n,...o]);break;default:return}return i?[a().BQ.TemporarySearchFilter,i]:void 0},[a().BQ.TitleOnly]:S,[a().BQ.Sort]:function(e){const t=e[1];if(2===e.length)return"lea"===t||"led"===t||"cta"===t||"ctd"===t?[a().BQ.Sort,t]:void 0},[a().BQ.DeletionMarker]:function(e){if(2===e.length&&"string"==typeof e[1]&&e[1].length)return[a().BQ.DeletionMarker,e[1]]}};function T(e){if(Array.isArray(e)&&0!==e.length&&"string"==typeof e[0]&&e[0]in k)return k[e[0]](e)}function x(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}},231460:(e,t,r)=>{r.d(t,{Ay:()=>i,sB:()=>o});var n=()=>r(292588);const o="space_user_entitlement_usage",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,space_id:n().A.UUID,user_id:n().A.UUID,type:n().A.String,usage:n().A.Number,unit:n().A.String},requiredColumns:{id:!0,version:!0,created_at:!0,updated_at:!0,space_id:!0,user_id:!0,type:!0,usage:!0,unit:!0},model:(0,r(152853).P)({})}},232802:(e,t,r)=>{r.d(t,{Ay:()=>d,GU:()=>s,Jo:()=>c,rU:()=>a});var n=()=>r(534177),o=()=>r(292588);const i=["business","enterprise","ai","ai_credit_pack"];function a(e){return Boolean((0,n().Xk)(i,e))}const s="upgrade_request",l={table:s,columnTypes:{id:o().A.UUID,space_id:o().A.UUID,request:o().A.String,created_time:o().A.Number,created_by_id:o().A.UUID,created_by_table:o().A.String,last_edited_time:o().A.Number,last_edited_by_id:o().A.UUID,last_edited_by_table:o().A.String,parent_id:o().A.UUID,parent_table:o().A.String,entrypoint:o().A.String,reason_for_request:o().A.String,request_status:o().A.String,request_declined_reason:o().A.String,admins_to_notify:o().A.UUIDArray,version:o().A.Number,last_version:o().A.Number},requiredColumns:{space_id:!0,request:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,parent_id:!0,parent_table:!0,entrypoint:!0,version:!0},defaultColumnValues:{},model:(0,r(152853).P)({})},c={space_view:!0},d=l},234459:(e,t,r)=>{r.d(t,{Ay:()=>s,OW:()=>a,To:()=>o});var n=()=>r(292588);const o="thread",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,messages:n().A.UUIDArray,data:n().A.JSON,permissions:n().A.JSON,space_id:n().A.UUID,current_inference_id:n().A.UUID,current_inference_lease_expiration:n().A.Number,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,updated_time:n().A.Number,updated_by_id:n().A.UUID,updated_by_table:n().A.String,file_ids:n().A.StringArray,created_source:n().A.String,alive:n().A.Boolean,type:n().A.String},requiredColumns:{alive:!0,version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_time:!0,created_by_id:!0,created_by_table:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},a={workflow:!0,block:!0,space:!0},s=i},236162:(e,t,r)=>{r.d(t,{SH:()=>m,wC:()=>c,yR:()=>f,zN:()=>p});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(700500),o=()=>r(999515),i=()=>r(792071),a=()=>r(277153),s=()=>r(179034),l=()=>r(519831);async function c(e){const t=await d({blockModel:e.block,loadRecordModel:e.loadRecordModel});if(t)return t;const r=e.block.type;return e.bypassValidation||(0,n().NC)(r)?g(e):void 0}async function d(e){const{loadRecordModel:t,blockModel:r}=function(e){return"loadRecordModel"in e?e:{blockModel:i().Bj6.fromBlock(e.blockValue),loadRecordModel:i().h0Y.fromLoadRecordValueFn(e.loadRecordValue)}}(e),n=r.getParentPointer();if(n.table===l().Vl)return await t(n)}function u(e){return"getRecordModel"in e?e:{block:i().Bj6.fromBlock(e.block),getRecordModel:i().b4_.fromGetRecordValueFn(e.getRecordValue)}}function p(e){const t=u(e),r=m(t);if(r)return t.getRecordModel.getRecordValue(r.pointer)}function m(e){const t=u(e),r=function(e){const{getRecordModel:t,block:r}=e,n=r.getParentPointer();if(n.table===l().Vl)return t(n)}(t);if(r)return r;const o=t.block.getType();return(0,n().NC)(o)?y(t):void 0}function f(e){var t;const r=u(e),o=function(e){const{block:t}=e,r=t.getParentPointer();if(r.table===l().Vl)return r}(r);if(o)return o;const i=r.block.getType();return(0,n().NC)(i)?null===(t=y(r))||void 0===t?void 0:t.pointer:void 0}function*_(e){const{block:t}=e,r=new Set;let n=t.getParentPointer();for(;n&&!r.has(n.id);){if(r.add(n.id),a().L3.isEqual(n,t.pointer))return;if(n.table!==s().ev)return;const e=yield*o().q.fetchRecord(n);if(!e)return;if(!e.isCollectionView()){n=e.getParentPointer();continue}const i=e.getCollectionPointers();if(1!==i.length)return;const l=i[0],c=yield*o().q.fetchRecord(l);if(!c)return;const d=c.getRootPagePointer();return c.isPageTreeCollection()&&d&&a().L3.isEqual(d,n)?c:void 0}}function y(e){return o().q.runSync(e.getRecordModel,_(e))}async function g(e){return await o().q.runAsync(e.loadRecordModel,_(e))}},239381:(e,t,r)=>{r.d(t,{Re:()=>ot,zV:()=>ee,o2:()=>Ke,CL:()=>Y,i3:()=>Ne,o7:()=>Me,h8:()=>xe,zg:()=>Se,s7:()=>et,CM:()=>tt,Hz:()=>W,XH:()=>ve,Bk:()=>de,_H:()=>Je,q$:()=>ie,IV:()=>ne,U:()=>V,bW:()=>Ue,rk:()=>H,dK:()=>Ee,E:()=>Re,oH:()=>oe,Ht:()=>z,y5:()=>me,pg:()=>Z,Dj:()=>Q,JK:()=>K,ve:()=>X,Mu:()=>Le,lH:()=>at,Ix:()=>ce,sM:()=>ae,E9:()=>se,Pf:()=>re,ab:()=>te,Kp:()=>Qe,XZ:()=>Ce,qU:()=>Xe,vu:()=>we,el:()=>$e,KH:()=>We,T3:()=>Ye,ix:()=>Ze,IF:()=>fe,li:()=>De,o5:()=>nt,R2:()=>Be,P_:()=>Te,Df:()=>J,qk:()=>it,nF:()=>rt,K5:()=>je,$y:()=>pe,Yi:()=>he,GH:()=>ue,A$:()=>be,QE:()=>Ae,e2:()=>Ie,QF:()=>ge});r(16280),r(18107),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(823215),r(354520),r(672577),r(430670),r(803949),r(581454),r(737550);var n=r.n(r(625473)),o=()=>r(496603),i=()=>r(973647),a=()=>r(534177),s=()=>r(764880),l=()=>r(423517),c=()=>r(335997),d=()=>r(581793),u=()=>r(363170);var p=()=>r(67657),m=()=>r(898244),f=()=>r(713998),_=()=>r(455348),y=()=>r(452540),g=()=>r(175482),b=()=>r(597777),v=()=>r(604995),h=()=>r(416504);r(296540);const A={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,r(474848).jsx)("path",{d:"M6.25 3.125a.625.625 0 1 1 0 1.25h-1a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h1a.625.625 0 1 1 0 1.25h-1a2.125 2.125 0 0 1-2.125-2.125v-9.5c0-1.174.951-2.125 2.125-2.125zm8.5 0c1.174 0 2.125.951 2.125 2.125v9.5a2.125 2.125 0 0 1-2.125 2.125h-1a.625.625 0 1 1 0-1.25h1a.875.875 0 0 0 .875-.875v-9.5a.875.875 0 0 0-.875-.875h-1a.625.625 0 1 1 0-1.25z"})},I=(0,r(340498).wt)("bracket",A,"default");var S=()=>r(394593),k=()=>r(11356),T=()=>r(681873),x=()=>r(792071),M=()=>r(134025),w=()=>r(277153),C=()=>r(450648),N=()=>r(199378),P=()=>r(179034),U=()=>r(519831),D=()=>r(798880),B=()=>r(201980),O=()=>r(510916),R=()=>r(247331),E=()=>r(696446),F=()=>r(106714),L=()=>r(349835);function V(e){return{type:"array",values:e.values.flatMap((e=>"array"===e.type?V(e).values:[e]))}}function H(e){const{result:t,currentPropertyValue:r,propertyId:n,page:o,action:i,propertySchema:s}=e,c=[];switch(t.type){case"text":if(!m().DQ(s)){const e=z(t);B().MTk(e,r)||c.push(...G({page:o,propertyId:n,propertySchema:s,textValue:e}));break}if("multi_select"===s.type){const e=(s.options??[]).map((e=>e.value)),a=(0,B().q4_)(t.value);if(!e.includes(a))return;return q({currentValues:(0,f().o2)(r,s.options||[]),newValues:[a],action:i,propertySchema:s,equalityFn:(e,t)=>e===t,createReplaceOperations:e=>G({page:o,propertyId:n,propertySchema:s,textValue:(0,f().rK)(e)}),createAddOperation:e=>({command:"addSelectOptionAfter",pointer:o.pointer,path:["properties",n],args:{option:e,after:void 0}}),createRemoveOperation:e=>({command:"removeSelectOption",pointer:o.pointer,path:["properties",n],args:{option:e}})})}{const e=(s.options??[]).map((e=>e.value)),i=(0,B().q4_)(t.value);if(!e.includes(i))return;const a=(0,f().U8)(i);B().MTk(a,r)||c.push(...G({page:o,propertyId:n,propertySchema:s,textValue:a}))}break;case"number":case"date":case"undefined":case"function":{const e=z(t);B().MTk(e,r)||c.push(...G({page:o,propertyId:n,propertySchema:s,textValue:e}));break}case"checkbox":{const e=(0,l().r)(t.value);B().MTk(e,r)||c.push(...G({page:o,propertyId:n,propertySchema:s,textValue:e}));break}case"person":case"block":c.push(...j({flatArray:{type:"array",values:[t]},currentPropertyValue:r,propertyId:n,page:o,action:i,propertySchema:s}));break;case"array":{const e=V(t);c.push(...j({flatArray:e,currentPropertyValue:r,propertyId:n,page:o,action:i,propertySchema:s}));break}default:(0,a().HB)(t)}return c}function j(e){const{flatArray:t,currentPropertyValue:r,propertyId:n,page:i,action:s,propertySchema:l}=e,c=t.values[0];if(!c)return[];const p=i.getSpaceShardedPointer();if("person"===c.type){const e=i.getCreatedByPointer();let c=o().oE(t.values.map((e=>"person"===e.type?e.value:void 0)));const m=c.length>0;let f=(0,u().e)({textValue:r,propertySchema:l,blockCreatorPointer:e,skipDefault:m});return"person"===l.type&&(0,a().O9)(l.default)&&!r&&1===f.length&&(c=[...f,...c],f=[]),q({currentValues:f,newValues:c,action:s,propertySchema:l,equalityFn:(e,t)=>(0,y().jV)(e)===(0,y().jV)(t),createReplaceOperations:e=>G({page:i,propertyId:n,propertySchema:l,textValue:(0,d().h)(e)}),createAddOperation:e=>({command:"addPersonAfter",pointer:p,path:["properties",n],args:{pointer:e,after:void 0}}),createRemoveOperation:e=>({command:"removePerson",pointer:p,path:["properties",n],args:{pointer:e}})})}if("block"===c.type)return q({currentValues:(0,f().n)(r),newValues:o().oE(t.values.map((e=>"block"===e.type?e.value:void 0))),action:s,propertySchema:l,equalityFn:(e,t)=>(0,y().jV)(e)===(0,y().jV)(t),createReplaceOperations:e=>G({page:i,propertyId:n,propertySchema:l,textValue:(0,f().Ap)(e)}),createAddOperation:e=>({command:"addRelationAfter",pointer:p,path:["properties",n],args:{id:e.id,spaceId:e.spaceId,after:void 0}}),createRemoveOperation:e=>({command:"removeRelation",pointer:p,path:["properties",n],args:{id:e.id,spaceId:e.spaceId}})});if("text"===c.type){if(!m().DQ(l))return G({page:i,propertyId:n,propertySchema:l,textValue:z(t)});const e=(l.options??[]).map((e=>e.value)),a=o().oE(t.values.map((e=>"text"===e.type?(0,B().q4_)(e.value):void 0))).filter((t=>e.includes(t)));return q({currentValues:(0,f().o2)(r,l.options||[]),newValues:a,action:s,propertySchema:l,equalityFn:(e,t)=>e===t,createReplaceOperations:e=>G({page:i,propertyId:n,propertySchema:l,textValue:(0,f().rK)(e)}),createAddOperation:e=>({command:"addSelectOptionAfter",pointer:p,path:["properties",n],args:{option:e,after:void 0}}),createRemoveOperation:e=>({command:"removeSelectOption",pointer:p,path:["properties",n],args:{option:e}})})}return[]}function q(e){const{currentValues:t,newValues:r,action:n,propertySchema:o,equalityFn:i,createReplaceOperations:s,createAddOperation:l,createRemoveOperation:c}=e,d=m().sO(o)?o.limit:void 0;if("replace"===n){const e=$(r,d);return e.length===t.length&&e.every(((e,r)=>i(e,t[r])))?[]:s(e)}if("append"===n){const e=function(e){const{currentValues:t,newValues:r,limit:n,equalityFn:o}=e,i=[];for(const s of r)t.find((e=>o(e,s)))||i.push(s);const a=$([...t,...i],n);if(a.length<=t.length)return[];return a.slice(t.length)}({currentValues:t,newValues:r,limit:d,equalityFn:i});return e.map(l)}if("remove"===n){const e=function(e){const{currentValues:t,valuesToRemove:r,equalityFn:n}=e;return r.filter((e=>t.find((t=>n(t,e)))))}({currentValues:t,valuesToRemove:r,equalityFn:i});return e.map(c)}if("toggle"===n){const{valuesToAdd:e,valuesToRemove:n}=function(e){const{currentValues:t,valuesToToggle:r,limit:n,equalityFn:o}=e;let i=[];const a=[];for(const s of r)t.find((e=>o(e,s)))?a.push(s):i.push(s);if(n){const e=t.length-a.length+i.length-n;e>0&&(i=i.slice(0,i.length-e))}return{valuesToAdd:i,valuesToRemove:a}}({currentValues:t,valuesToToggle:r,limit:d,equalityFn:i});return[...n.map(c),...e.map(l)]}(0,a().HB)(n)}function $(e,t){return(0,a().O9)(t)?e.slice(0,t):e}function G(e){const{page:t,propertyId:r,propertySchema:n,textValue:o}=e;return function(e){return"title"===e.type}(n)?g().dM(t,o):[M().op.update({pointer:t.getSpaceShardedPointer(),path:["properties"],args:{[r]:o}})]}function z(e){switch(e.type){case"text":return e.value;case"number":return(0,c().h)(e.value);case"checkbox":return(0,B().x9d)(e.value?"true":"false");case"date":return(0,f().m5)(e.value);case"person":return(0,d().h)([e.value]);case"block":return(0,f().Ap)([e.value]);case"array":return(0,B().__s)((0,T().G)(e.values,(()=>({type:"text",value:(0,B().x9d)(",")}))).flatMap((e=>z(e))));case"function":case"undefined":return[];default:(0,a().HB)(e)}}function W(e,t){if(Array.isArray(t))return t.some((t=>W(e,t)));switch(t.type){case"text":case"number":case"checkbox":case"date":case"person":return e.type===t.type;case"array":return"array"===e.type&&e.values.every((e=>W(e,t.of)));case"unknown":case"undefined":case"expression":return!0;case"block":return"block"===e.type;case"select":case"function":return!1;default:(0,a().HB)(t)}}function K(e){return"array"!==e.type?e:K(e.of)}function Q(e){return"array"!==e.type?e:Q(e.values[0])}function Z(e){return"array"!==e.type?e:Z(e.of)}function*J(e,t,r){switch(r.type){case"title":case"text":case"email":case"phone_number":case"url":case"select":case"auto_increment_id":case"status":case"place":return{type:"text"};case"number":return{type:"number"};case"checkbox":return{type:"checkbox"};case"file":case"multi_select":return{type:"array",of:{type:"text"}};case"date":case"created_time":case"last_edited_time":case"last_visited_time":return{type:"date"};case"person":return{type:"array",of:{type:"person"}};case"created_by":case"last_edited_by":return{type:"person"};case"relation":return{type:"array",of:{type:"block",collection:r.collection_pointer},sourceRelationPropertyId:e};case"rollup":if(void 0!==r.aggregation&&"show_unique"!==r.aggregation){return{type:(0,p().ou)((0,p().ZP)(r.aggregation))}}const o=yield*(0,E().OH)(e,t);if(void 0===o)return{type:"text"};if("person"===o.rollupType)return{type:"text"};const{targetCollectionSchema:i,targetProperty:s,targetPropertySchema:l}=o,c=yield*J(s,i,l);if(void 0===c)return;return{type:"array",of:K(c)};case"formula":switch(r.version){case void 0:var n;return void 0!==(null===(n=r.formula)||void 0===n?void 0:n.result_type)?{type:r.formula.result_type}:{type:"unknown"};case"v2":return r.formula2?r.formula2.result_type:{type:"unknown"};default:return(0,a().HB)(r.version)}case"button":case"location":case"verification":return;default:(0,a().HB)(r)}}function X(e,t){switch(t){case"title":const r=e.getProperty("title");return void 0!==r?{type:"text",value:r}:{type:"undefined"};case"created_by":const n=e.getCreatedByPointer();return n?{type:"person",value:n}:{type:"undefined"};case"created_time":const o=e.getCreatedTime();return void 0!==o?{type:"date",value:(0,v().KQ)(o,(0,h().P)())}:{type:"undefined"};case"last_edited_by":const i=e.getLastEditedByPointer();return i?{type:"person",value:i}:{type:"undefined"};case"last_edited_time":const s=e.getLastEditedTime();return void 0!==s?{type:"date",value:(0,v().KQ)(s,(0,h().P)())}:{type:"undefined"};default:(0,a().HB)(t)}}function Y(e){return!("checkbox"===e.type&&!1===e.value||"undefined"===e.type||"number"===e.type&&0===e.value||"array"===e.type&&0===e.values.length||"text"===e.type&&!e.value.some((e=>(0,B().WWE)(e)>0)))}function*ee(e,t,r){if("text"===e.type&&"text"===t.type){const[n,o]=yield*xe([e.value,t.value],r);return n===o}if("number"===e.type&&"number"===t.type)return e.value===t.value;if("checkbox"===e.type&&"checkbox"===t.type)return e.value===t.value;if("date"===e.type&&"date"===t.type)return(0,b().Zo)(e.value,t.value);if("person"===e.type&&"person"===t.type)return(0,w().Z2)(e.value,t.value);if("array"===e.type&&"array"===t.type){if(e.values.length!==t.values.length)return!1;if(0===e.values.length&&0===t.values.length)return!0;return(yield*(0,E().KZ)(e.values.map(((e,n)=>ee(e,t.values[n],r))))).every((e=>!0===e))}return"block"===e.type&&"block"===t.type?e.value.id===t.value.id:"undefined"===e.type&&"undefined"===t.type}function te(e){var t;return(null===(t=e.parameters)||void 0===t||null===(t=t.expected)||void 0===t?void 0:t.filter((e=>!0!==e.optional)).length)??0}function re(e,t){var r,n;const o=null===(r=e.parameters)||void 0===r||null===(r=r.expected)||void 0===r?void 0:r[t];if(void 0!==o)return o;const i=null===(n=e.parameters)||void 0===n?void 0:n.varargs;if(void 0!==i&&i.length>0){var a;return i[(t-((null===(a=e.parameters)||void 0===a||null===(a=a.expected)||void 0===a?void 0:a.length)??0))%i.length]}}function ne(e,t){return e.find((e=>e.kind===R().FormulaContextValueKind.ContextValue&&e.id===t))}function oe(e,t){return e.kind===R().FormulaContextValueKind.Binding?t.kind===R().FormulaContextValueKind.Binding&&e.name===t.name:e.kind===R().FormulaContextValueKind.ContextValue?t.kind===R().FormulaContextValueKind.ContextValue&&e.id===t.id:e.kind===R().FormulaContextValueKind.ThisRow?t.kind===R().FormulaContextValueKind.ThisRow:void(0,a().HB)(e)}function ie(e,t){return e.find((e=>e.kind===R().FormulaContextValueKind.ContextValue&&e.id===t))}function ae(e){if(e.kind===R().FormulaContextValueKind.ContextValue||e.kind===R().FormulaContextValueKind.Binding)return e.name;if(e.kind===R().FormulaContextValueKind.ThisRow)throw new Error("Not implemented yet.");(0,a().HB)(e)}function se(e){return e.kind===R().FormulaContextValueKind.ContextValue?e.tooltipName??e.name:ae(e)}const le={text:r(467248).i,number:r(813197).L,date:r(42583).D,checkbox:r(396350).i,block:r(955363).arrowDiagonalUpRightIcon,person:r(922189).personCircleFillIcon,select:r(430401).b,array:I,function:r(585639).v,unknown:S().z,undefined:S().z};function ce(e){const t=e.type;return"array"===t&&"block"===e.of.type?k().G:le[t]}function de(e){return encodeURIComponent(e)}function ue(e){return decodeURIComponent(e)}function pe(e){return n()(e)}function me(e){return JSON.parse(e)}function fe(e){if(e.kind!==R().FormulaContextValueKind.ContextValue)return!1;const t=me(e.id);return"action"===t.source&&"variable"===t.action_output_type}function _e(e){if(e.kind!==R().FormulaContextValueKind.ContextValue)return!1;return"global"===me(e.id).source}function ye(e){if(e.kind!==R().FormulaContextValueKind.ContextValue)return!1;const t=me(e.id);return"action"===t.source&&"page"===t.action_output_type}function ge(e){return e}function be(e){return e}function ve(e){return encodeURIComponent(e)}function he(e){return decodeURIComponent(e)}function Ae(e){return e}function Ie(e){return e}function Se(e){return t=>({getRecordModel:e})}function ke(e){switch(e.type){case"date":return`date|${e.start_date}`;case"daterange":return`daterange|${e.start_date}|${e.end_date}`;case"datetime":return`datetime|${e.start_date}|${e.start_time}|${e.time_zone}`;case"datetimerange":return`datetimerange|${e.start_date}|${e.start_time}|${e.end_date}|${e.end_time}|${e.time_zone}`}}function Te(e){const[t,...r]=e.split("|");switch(t){case"date":return{type:"date",start_date:r[0]};case"daterange":return{type:"daterange",start_date:r[0],end_date:r[1]};case"datetime":return{type:"datetime",start_date:r[0],start_time:r[1],time_zone:r[2]};case"datetimerange":return{type:"datetimerange",start_date:r[0],start_time:r[1],end_date:r[2],end_time:r[3],time_zone:r[4]};default:throw new Error("Invalid serialized date")}}function*xe(e,t){const r=e.flatMap((e=>(0,f().dg)(e))),n=r.length?(yield{recordPointers:r}).getRecordModel:x().b4_.constant(void 0);return e.map((e=>void 0!==e?(0,C().r4)({textValue:e,getRecordModel:n,userTimeZone:t.userTimeZone,deterministic:!0,disableAnnotationPrefix:!0,intl:t.intl}):""))}function*Me(e,t){const r=(0,f().dg)(e),n=r.length?(yield{recordPointers:r}).getRecordModel:x().b4_.constant(void 0);return(0,C().r4)({textValue:e,getRecordModel:n,userTimeZone:t.userTimeZone,deterministic:!0,disableAnnotationPrefix:!0,intl:t.intl})}function we(e){switch(e.type){case"block":case"person":return[e.value];case"text":return(0,f().dg)(e.value);case"array":return e.values.flatMap(we);case"number":case"checkbox":case"date":case"function":case"undefined":return[];default:(0,a().HB)(e)}}function Ce(e){switch(e.type){case"block":return(0,a().O9)(e.collection)?e.collection:void 0;case"array":return Ce(e.of);case"select":return e.collection;case"person":case"text":case"number":case"checkbox":case"date":case"function":case"unknown":case"undefined":return;default:(0,a().HB)(e)}}function Ne(e,t,r){const n=(0,v().ln)(e,r),o=(0,v().ln)(t,r);return n>o?1:n<o?-1:0}const Pe=1e-6;function Ue(e,t){const r=i().Q.unwrap(e);switch(typeof t){case"string":return"text"===r.type&&(0,B().q4_)(r.value)===t;case"number":return"number"===r.type&&Math.abs(r.value-t)<Pe;case"boolean":return"checkbox"===r.type&&r.value===t;case"undefined":return"undefined"===r.type;case"object":return"date"===r.type&&(0,b().Zo)(r.value,t)}}function De(e){return"node"in e}function Be(e){return De(e)&&e.type!==L().uW.FunctionCallArgumentWrongType&&e.type!==L().uW.FunctionCallUnexpectedArgument}function Oe(e,t,r){const n=ve(e),o=de(t),i=function(e){return encodeURIComponent(e)}(r);return`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.BlockProperty}:context_value:${n}:${o}:${i}${R().FORMULA_TOKEN_SUFFIX}`}function Re(e){const t=(0,B().tVx)(e);if(void 0!==t){const e=de((0,B().iVq)(t).id);return`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.ContextValue}:${e}${R().FORMULA_TOKEN_SUFFIX}`}const r=(0,B().TVE)(e);if(void 0!==r){const e=(0,B().GCe)(r),t=ve(e.property);return"contextValueId"in e?Oe(e.property,e.contextValueId,e.valueSnapshot):void 0!==e.collection?`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.BlockProperty}:${t}:${e.collection.id}:${e.collection.spaceId}${R().FORMULA_TOKEN_SUFFIX}`:`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.BlockProperty}:${t}${R().FORMULA_TOKEN_SUFFIX}`}const n=(0,B().$CJ)(e);if(void 0!==n){const e=(0,B().K7D)(n);return o=e,`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.Date}:${ke(o)}${R().FORMULA_TOKEN_SUFFIX}`}var o;const i=(0,B().Sev)(e);if(void 0!==i){const e=(0,B().i$F)(i);if(void 0!==e)return`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.Block}:${e.id}${void 0!==e.spaceId?`:${e.spaceId}`:""}${R().FORMULA_TOKEN_SUFFIX}`}const a=(0,B().snh)(e);if(void 0!==a){const e=(0,B().NcG)(a);return`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.Person}:${R().PERSON_ENTITY_USER_TOKEN}:${e}${R().FORMULA_TOKEN_SUFFIX}`}const s=(0,B().SEY)(e),l=s?(0,B().FHi)(s):void 0;if(void 0!==l)return`${R().FORMULA_TOKEN_PREFIX}${R().FormulaTokenType.Person}:${R().PERSON_ENTITY_GROUP_TOKEN}:${l.groupId}:${l.spaceId}${R().FORMULA_TOKEN_SUFFIX}`}function Ee(e,t,r,n,o){const i=(0,B().tVx)(e);if(void 0!==i){const e=(0,B().iVq)(i);if(!o)return e.id;const t=Je(o,e.id);return t&&t.kind===R().FormulaContextValueKind.ContextValue?_e(t)||ye(t)?`${R().FORMULA_CONTEXT_WRAPPER}("${t.name}")`:fe(t)?`${R().FORMULA_VARIABLE_WRAPPER}("${t.name}")`:t.name:e.id}const a=(0,B().TVE)(e);if(void 0!==a){var s;const e=(0,B().GCe)(a);if((0,B()._Nw)(e))return e.contextValueId;if(!e.collection)return`prop("${(0,O().i)(`${e.property}`)}")`;const r=t(e.collection);if(!r)return;const n=null===(s=r.getNormalizedSchema()[e.property])||void 0===s?void 0:s.name;if(!n)return;return`prop("${n}")`}const l=(0,B().$CJ)(e);if(void 0!==l){return ke((0,B().K7D)(l))}const c=(0,B().Sev)(e);if(void 0!==c){const e=(0,B().i$F)(c);if(void 0===e)return;const o=t(e);if(!o)return;return o.getRenderTitle({getRecordModel:t,intl:r,userTimeZone:n})}const d=(0,B().snh)(e);if(void 0!==d){const e=t({id:(0,B().NcG)(d),table:D().oo});if(!e)return;return e.getFullName(r)}}function Fe(e){switch(e){case"Created Time":return R().FormulaTokenSupportedBlockSystemProperty.CreatedTime;case"Last Edited Time":return R().FormulaTokenSupportedBlockSystemProperty.LastEditedTime;case"Last Edited By":return R().FormulaTokenSupportedBlockSystemProperty.LastEditedBy;case"Created By":return R().FormulaTokenSupportedBlockSystemProperty.CreatedBy;case"Page Name":return R().FormulaTokenSupportedBlockSystemProperty.Title;default:return}}function Le(e){const t=new Set;return Ve(e,t),Array.from(t)}function Ve(e,t){if(void 0!==e)switch(e.kind){case L().NM.Conditional:return Ve(e.condition,t),Ve(e.expIfFalse,t),void Ve(e.expIfTrue,t);case L().NM.Equality:case L().NM.Relational:case L().NM.Additive:case L().NM.Multiplicative:case L().NM.Exponentiation:return Ve(e.lhs,t),void Ve(e.rhs,t);case L().NM.Call:return Ve(e.expression,t),void e.arguments.forEach((e=>Ve(e,t)));case L().NM.Unary:case L().NM.UnifiedFunctionProperty:return void Ve(e.expression,t);case L().NM.LogicalAnd:case L().NM.LogicalOr:case L().NM.Array:return void e.elements.forEach((e=>Ve(e,t)));case L().NM.NotionToken:return void(e.token.type===R().FormulaTokenType.BlockProperty&&He(e.token.property,t));case L().NM.MemberBlockProperty:return void He(e.propertyToken.property,t);case L().NM.RecoveryNode:case L().NM.String:case L().NM.Boolean:case L().NM.Identifier:case L().NM.Number:return;default:(0,a().HB)(e)}}function He(e,t){R().FormulaTokenSupportedBlockSystemPropertyList.includes(e)||t.add(he(e))}function je(e){const{formulasModule:t,getRecordModel:r,textValue:n,featureGates:o,valueTypes:i,spaceId:a}=e;let s=n;i.some((e=>e.kind===R().FormulaContextValueKind.ContextValue))&&(s=qe({textValue:s,valueTypes:i,regex:R().FORMULA_CONTEXT_REGEX,wrapperName:R().FORMULA_CONTEXT_WRAPPER,wrapperChecker:_e}),s=qe({textValue:s,valueTypes:i,regex:R().FORMULA_CONTEXT_REGEX,wrapperName:R().FORMULA_CONTEXT_WRAPPER,wrapperChecker:ye}),s=qe({textValue:s,valueTypes:i,regex:R().FORMULA_VARIABLE_REGEX,wrapperName:R().FORMULA_VARIABLE_WRAPPER,wrapperChecker:fe}));let[l,c]=[s,!0],d=0;for(;c&&d<100;)[l,c]=Ge({formulasModule:t,getRecordModel:r,spaceId:a,textValue:l,featureGates:o,valueTypes:i}),d++;return l}function qe(e){const{textValue:t,valueTypes:r,regex:n,wrapperName:o,wrapperChecker:i}=e,a=[];let s=!1;for(const l of t){if(!B().bHQ(l)){a.push(l);continue}const e=l[0];let t,c=0;for(n.lastIndex=0;null!==(t=n.exec(e));){t.index>c&&a.push([e.substring(c,t.index)]);const l=t[2];let d;for(const e of r)if(e.kind===R().FormulaContextValueKind.ContextValue&&i(e)&&e.name===l){d=e.id;break}if(d){const e=(0,B().wmz)((0,B().CA$)({id:d}));a.push(e),s=!0}else a.push([`${o}("${l}")`]);c=n.lastIndex}c<e.length&&a.push([e.substring(c)])}return s?a:t}function $e(e){for(const t of e)if(t.kind===R().FormulaContextValueKind.ThisRow&&"block"===t.type.type)return t.type}function Ge(e){const{formulasModule:t,getRecordModel:r,spaceId:n,textValue:o,featureGates:a,valueTypes:s}=e,[l,c]=t.processFormulaInput(o),[d]=t.parseFormulaInputToCst(l),u=t.convertFormulaCSTToAST(d);if(i().Q.isFail(u))return[o,!1];const p=$e(s),m={valueTypes:s,handleDataRequest:Se(r),spaceId:n,featureGates:a},{node:f}=t.addTypesToFormulaAST(u.value,m);let y=!1;const g=[];let b=0;for(const i of o){if(y){g.push(i);continue}if(!B().bHQ(i)){b+=1,g.push(i);continue}const e=i[0],t=[];let n,a=0,s=!1;const l=R().FORMULA_PROP_REGEX;for(l.lastIndex=0;null!==(n=l.exec(e))&&!y;){const i=Qe(f,(0,F().NZ)(c,b+n.index-1)).at(-1);let d=null==p?void 0:p.collection;if(i){let e=K(i.type);if(i.kind===L().NM.UnifiedFunctionProperty&&i.expression){const t=K(i.expression.type);"block"===t.type&&t.collection&&(e=t)}"block"===e.type&&e.collection&&(d=e.collection)}if(!d)continue;const u=n[2],m=r(d);let g;if(m){const e=(0,_().EC)(u,m.getNormalizedSchema());if(e){const[t,r]=e;g=(0,B().wmz)((0,B().ESw)({collection:m.pointer,property:t,name:r.name}))}else{const e=Fe(u);e&&(g=(0,B().wmz)((0,B().ESw)({collection:void 0,property:e,name:u})))}}if(n.index>a&&t.push([e.substring(a,n.index)]),!g)return[o,!1];t.push(g),s=!0,y=!0,a=l.lastIndex}s?(a<e.length&&t.push([e.substring(a)]),g.push(...t)):g.push(i),b+=e.length}return y?[g,y]:[o,!1]}function ze(e,t,r=new Set){const n=[];for(const o of e)if(void 0!==o){const e=We(o,t,r);e.length>0&&n.push.apply(n,e)}return n}function We(e,t,r=new Set){var n;if(r.has(e))return[];if(r.add(e),!t&&e.kind!==L().NM.Call&&"function"===(null==e||null===(n=e.type)||void 0===n?void 0:n.type))return[{type:L().IA.FunctionCallExpected,node:e,functionName:e.type.libraryFunction.name}];let o=[];switch(e.kind){case L().NM.Conditional:o=ze([e.condition,e.expIfTrue,e.expIfFalse],!1,r);break;case L().NM.Equality:case L().NM.Relational:case L().NM.Additive:case L().NM.Multiplicative:case L().NM.Exponentiation:o=ze([e.lhs,e.rhs],!1,r);break;case L().NM.Call:const n=e.expression;n.kind===L().NM.Identifier&&("let"===n.text||"lets"===n.text)?(o=[...ze(e.arguments.slice(0,e.arguments.length-1),!0,r),...ze([e.expression],!0,r)],e.arguments.length>2&&e.arguments.length%3==0&&o.push(...ze([e.arguments.at(-1)],t,r))):o=[...ze(e.arguments,!1,r),...ze([e.expression],!0,r)];break;case L().NM.Unary:case L().NM.UnifiedFunctionProperty:o=ze([e.expression],!1,r);break;case L().NM.LogicalAnd:case L().NM.LogicalOr:case L().NM.Array:o=ze(e.elements,!1);break;case L().NM.RecoveryNode:case L().NM.String:case L().NM.Boolean:case L().NM.Identifier:case L().NM.NotionToken:case L().NM.MemberBlockProperty:case L().NM.Number:o=[];break;default:(0,a().HB)(e)}return o}function Ke(e){const t=new Map;return e.forEach((e=>{const r=(0,B().uPN)(e),n=(0,B().TVE)(r);if(!n)return;const o=(0,B().GCe)(n);o.name&&t.set(o.property,o.name)})),t}function Qe(e,t){if(!e)return[];if(void 0!==e.startOffset&&t<e.startOffset||void 0!==e.endOffset&&t>e.endOffset+1)return[];const r=e.kind;switch(r){case L().NM.Number:case L().NM.String:case L().NM.Boolean:case L().NM.NotionToken:case L().NM.Identifier:case L().NM.RecoveryNode:return[e];case L().NM.Conditional:{const r=Qe(e.condition,t);if(r.length>0)return[e,...r];const n=Qe(e.expIfTrue,t);if(n.length>0)return[e,...n];if(void 0!==e.expIfFalse){const r=Qe(e.expIfFalse,t);if(r.length>0)return[e,...r]}return[e]}case L().NM.Equality:case L().NM.Relational:case L().NM.Additive:case L().NM.Multiplicative:case L().NM.Exponentiation:{const r=Qe(e.lhs,t);if(r.length>0)return[e,...r];const n=Qe(e.rhs,t);return n.length>0?[e,...n]:[e]}case L().NM.LogicalOr:case L().NM.LogicalAnd:case L().NM.Array:for(const r of e.elements){const n=Qe(r,t);if(n.length>0)return[e,...n]}return[e];case L().NM.Unary:{const r=Qe(e.expression,t);return r.length>0?[e,...r]:[e]}case L().NM.Call:{const r=Qe(e.expression,t);if(r.length>0)return[e,...r];for(const n of e.arguments){const r=Qe(n,t);if(r.length>0)return[e,...r]}return[e]}case L().NM.UnifiedFunctionProperty:case L().NM.MemberBlockProperty:const n=Qe(e.expression,t);return n.length>0?[e,...n]:[e];default:(0,a().HB)(r)}}function Ze(e){return e.type===R().FormulaTokenType.BlockProperty&&"contextValueId"in e}function Je(e,t){for(const r of e)if(r.kind===R().FormulaContextValueKind.ContextValue&&r.id===t)return r}function Xe(e,t){switch(e.kind){case R().FormulaContextValueKind.ContextValue:{const r=[],n=me(e.id);switch(n.source){case"action":r.push({id:n.action_id,spaceId:t,table:N().SC});break;case"global":break;default:(0,a().HB)(n)}const o=Ce(e.type);return o&&r.push(o),r}case R().FormulaContextValueKind.Binding:case R().FormulaContextValueKind.ThisRow:{const t=Ce(e.type);return t?[t]:[]}default:(0,a().HB)(e)}}function Ye(e){return!(e.table!==U().Vl&&e.table!==P().ev&&!(0,s().Pu)(e))}function et(e,t){return Array.isArray(t)?t.some((t=>et(e,t))):"unknown"===t.type||"expression"===t.type||e.type===t.type&&("block"===e.type||"select"===e.type||"function"===e.type?ot(e,t):"array"!==e.type||"array"!==t.type||et(e.of,t.of))}function tt(e,t){return!!et(e,t)||(et({type:"checkbox"},t)?{type:"checkbox"}:!!et({type:"text"},t)&&{type:"text"})}function rt(e){return!et({type:"unknown"},e)}function nt(e,t,r=!1){const n=r?ot:(e,t)=>e.type===t.type;return n(e,t)||"array"===e.type&&n(e.of,t)}function ot(e,t){return e.type===t.type&&("block"===e.type&&"block"===t.type?void 0===e.collection?void 0===t.collection:void 0!==t.collection&&(0,w().Z2)(e.collection,t.collection):"select"===e.type&&"select"===t.type?(0,w().Z2)(e.collection,t.collection)&&e.property===t.property:"array"===e.type&&"array"===t.type?ot(e.of,t.of):"function"!==e.type||"function"!==t.type||e.libraryFunction===t.libraryFunction&&void 0!==e.boundTargetType==(void 0!==t.boundTargetType))}function it(e,t){return void 0===e||void 0===t?{type:"unknown"}:"undefined"===e.type&&"undefined"!==t.type?t:"undefined"===t.type&&"undefined"!==e.type||ot(e,t)?e:{type:"unknown"}}function at(e){switch(e.type){case"date":case"block":case"person":case"number":case"array":return"unknown";default:return!0}}},244668:(e,t,r)=>{r.d(t,{Ss:()=>d,kW:()=>u,vJ:()=>l,RP:()=>p,$t:()=>c});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(42466);o().Oa6,o().eBi,o().jft,o().KNP,o().l1b,o().y$R,o().Wuo,o().cKY,o().OfD,o().Ok8,o().kf7,o().k$w,o().hrX,o().H3H,o().GPl,o().hGr,o()._0W,o().rqL,o().$XM,o().eUD,o().$2J,o().r1d,o().HxG,o().m2N,o().$kK,o().vjA,o().XHn,o().gEh,o().adQ,o().AsL,o().$MF,o().HBA,o().PsW,o().DHr,o().kMj,o().T2,o().W8A,o().hyq,o().hxQ,o().Wnz,o().$$c,o().Lij,o().bhs,o().Q4N,o().bnG,o().CEK,o().Yxw,o().aFA,o().PXw,o().dPx,o().IF6,o().HtE,o().jvE,o().uLb,o().QOF,o().KcW,o().pEW,r(949502).yA,r(107072).a8,o().KqJ,o()._ig,o().ULG,o().UNl,o().EgT,o().ziV,o().V1v,o().qtq,o().qrH,o().lMK,o().enP,o().XXy,o().J6M,o().OCn,o().SS3,o().es0,o().Sd1,o().MOG,o().oo9,o().wl6,o().mEg,o().pkG,o().y75,o().vbv,o().MRl,o().eV7,o().KWb,o().Z4m,o()._6L,o().AvP,o()._71,o().GFx,o().Ghx,o().nsO,o().mlj,o().sLR,o().H53,o().eqd,o().G4T,o().oJm,o().Q$N,o().ojG,o().VY8,o().Kq7,o().aSp,o().j0B,o().$RT,o().qcA,o().gDn,o().JrE,o().oNS,o().yiT,o().XXO,o().bf7,o().vnT,o().Hik,o()._FR,o().hRD,o().R$c,o().wI1,o().IvX,o().B7B,o().yvd,o().gDt,o().S6u,o()._0B,o().rNM,o().CsX,o().bJl,o().GDR,o().pVl,o().xMx,o().lyl,o().NkI,o().PuY;const i=[o().kzt],a=[o().Wdc,o().TFd,o().Nm7,o().YVp,o().yBS,o().SC1,o().evP,o().qPS,o().qmW,o().VlP,o().Gy1,o().SNf,o().e4Z,o().$YH,o().ITT,o().hWt,o().Klg,o().rGg,o().OjI,o().Cy3,o().lo9,o().iEO,o().joQ,o().yDO,o().SBl,o().Yxt,o().zx0,o().ozN,o().nYQ,o().ouC,o().F9f,o().ez7,o().sNL,o().Fub,o().iPf,o().Ws0,o().bwd,o().Xiz,o().Xh,o().kW7,o().Crh,o().ZPG,o().EuC,o().Xwe,o().NXh,o().m3J,o().Jmj,o().naB,o().f3c,o().aJN,o().sB_,o().PcJ,o().mu7,o().ytf,o().yKj,o().HAA,o().Toz,o().mSw,o().A3P,o().GUg,o().WQd,o().TFg,o().du1,o().C0E,o().U6v,o().QRx,o().tEp,o().yMG,o().yHj,o().EcF,o().ef6],s=[o()._pz];function l(e){return!!(c(e)||d(e)||u(e))}function c(e){return!!(0,n().y$)(m,e)}function d(e){return!!(0,n().y$)(f,e)}function u(e){return!!(0,n().Xk)(_,e)}function p(e){return c(e.table)?(e.table,!0):(e.table,!1)}const m=new Set(a),f=new Set(i),_=s},247331:(e,t,r)=>{r.r(t),r.d(t,{CURRENT_INDEX_NAME:()=>E,CURRENT_VALUE_NAME:()=>R,FLATTENS_NUMBER_ARRAY_FNS:()=>O,FORMULAS_SUPPORTED_COLLECTION_PROPERTY_TYPES:()=>L,FORMULA_CONTEXT_REGEX:()=>N,FORMULA_CONTEXT_WRAPPER:()=>P,FORMULA_LOADING:()=>V,FORMULA_MAX_DEPTH:()=>F,FORMULA_PROP_REGEX:()=>w,FORMULA_PROP_WRAPPER:()=>C,FORMULA_TOKEN_PREFIX:()=>c,FORMULA_TOKEN_REGEX:()=>b,FORMULA_TOKEN_SUFFIX:()=>d,FORMULA_VARIABLE_REGEX:()=>U,FORMULA_VARIABLE_WRAPPER:()=>D,FormulaContextValueKind:()=>n,FormulaEditorInfoCompletionKind:()=>o,FormulaTokenSupportedBlockSystemProperty:()=>a,FormulaTokenSupportedBlockSystemPropertyList:()=>s,FormulaTokenSupportedBlockSystemPropertyToType:()=>l,FormulaTokenType:()=>i,PERSON_ENTITY_GROUP_TOKEN:()=>p,PERSON_ENTITY_USER_TOKEN:()=>u,TREAT_UNDEFINED_AS_ZERO_FNS:()=>B,globalTokenBlockPropertyOptionalCollectionPattern:()=>S,tokenBlockPattern:()=>v,tokenBlockPropertyContextValueIdPattern:()=>k,tokenBlockPropertyOptionalCollectionPattern:()=>I,tokenCheckboxPattern:()=>T,tokenContextValuePattern:()=>x,tokenDatePattern:()=>M,tokenPersonPatternForGroup:()=>A,tokenPersonPatternForUser:()=>h});let n=function(e){return e[e.Binding=0]="Binding",e[e.ContextValue=1]="ContextValue",e[e.ThisRow=2]="ThisRow",e}({}),o=function(e){return e[e.Binding=0]="Binding",e[e.Token=1]="Token",e[e.Builtin=2]="Builtin",e[e.LibraryFunction=3]="LibraryFunction",e}({}),i=function(e){return e.Checkbox="checkbox",e.Block="block",e.Person="person",e.BlockProperty="block_property",e.Date="date",e.ContextValue="context",e}({}),a=function(e){return e.Title="title",e.CreatedBy="created_by",e.CreatedTime="created_time",e.LastEditedBy="last_edited_by",e.LastEditedTime="last_edited_time",e}({});const s=Object.values(a),l={[a.Title]:{type:"text"},[a.CreatedBy]:{type:"person"},[a.CreatedTime]:{type:"date"},[a.LastEditedBy]:{type:"person"},[a.LastEditedTime]:{type:"date"}},c="{{notion:",d="}}",u="user",p="group",m="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",f=c.replace(/\{/g,"\\{"),_=d.replace(/\}/g,"\\}"),y="[^:]+",g="[^}]+",b=new RegExp(`${f}.*${_}`),v=new RegExp(`^${f}${i.Block}:(${m})(:${m})?${_}`),h=new RegExp(`^${f}${i.Person}:${u}:(${m})${_}`),A=new RegExp(`^${f}${i.Person}:${p}:(${m}):(${m})${_}`),I=new RegExp(`^${f}${i.BlockProperty}:(${y})(:(${m}):(${m}))?${_}`),S=new RegExp(`${f}${i.BlockProperty}:(${y})(:(${m}):(${m}))?${_}`,"g"),k=new RegExp(`^${f}${i.BlockProperty}:context_value:(${y}):(${g}):([\\w-]+)${_}`),T=new RegExp(`^${f}${i.Checkbox}:(true|false)${_}`),x=new RegExp(`^${f}${i.ContextValue}:(${g})${_}`),M=new RegExp(`^${f}${i.Date}:([^}]+)${_}`),w=new RegExp(/prop\((["'])(.*?)(["'])\)/g),C="prop",N=new RegExp(/context\((["'])(.*?)(["'])\)/g),P="context",U=new RegExp(/var\((["'])(.*?)(["'])\)/g),D="var",B=["add","subtract","multiply","divide","sum"],O=["min","max","mean","median"],R="current",E="index",F=15,L=["title","text","url","email","phone_number","place","checkbox","person","created_by","last_edited_by","select","multi_select","status","number","date","created_time","last_edited_time","last_visited_time","formula","relation","rollup","auto_increment_id"],V=Symbol("FORMULA_LOADING")},247821:(e,t,r)=>{r.d(t,{Ay:()=>a,NR:()=>i,jv:()=>o});var n=()=>r(292588);const o="marketplace_badge",i=["sales-certification","technical-certification","admin-certification","service-certification","notion-academy-essentials","notion-academy-workflows","notion-academy-advanced"],a={table:o,columnTypes:{id:n().A.UUID,type:n().A.String,name:n().A.String,slug:n().A.String,attributes:n().A.JSON,supported_tables:n().A.StringArray,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number},requiredColumns:{id:!0,type:!0,name:!0,slug:!0,attributes:!0,version:!0,supported_tables:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},251481:(e,t,r)=>{r.d(t,{i:()=>n});const n=(0,r(69708).YK)({placeholder:{defaultMessage:"AI Meeting Notes",id:"TranscriptionBlockHeading.placeholder"},searchPlaceholder:{defaultMessage:"Search for a meeting...",id:"TranscriptionBlockHeading.searchPlaceholder"}})},251822:(e,t,r)=>{r.d(t,{cy:()=>s,jS:()=>c,lM:()=>l});r(944114),r(898992),r(803949);var n=()=>r(800065),o=()=>r(778781);const i={page_main:{cover:!0,normalizedTitleWithIcon:!0},page_details:{},form_layout_schema:{cover:!0,formTitle:!0},views_main_tab_modules:{},form_conditional_modules:{},person_profile_page_main:{cover:!0,normalizedTitleWithIcon:!0},person_profile_page_details:{},dashboard_layout_schema:{}},a={page_layout_schema:{cover:!0,titleWithIcon:!0},page_info_layout_schema:{},form_layout_schema:{cover:!0,formTitle:!0},views_main_tab_modules:{},form_conditional_modules:{},person_profile_page_main:{cover:!0,titleWithIcon:!0},person_profile_page_details:{},dashboard_layout_schema:{}};function s(e,t){return t.type in i[e]}function l(e,t){const r=[],i=[],s=[],l=[];return t.forEach((t=>{(0,o().cn)(t)||(!function(e,t){return t.type in a[e]}(e,t)?!function(e,t){const r={page_layout_schema:{inlinePageSections:!0,expandedBacklinks:!0,bottomControls:!0,viewsMain:!0},page_info_layout_schema:{},form_layout_schema:{formSubmit:!0},views_main_tab_modules:{},form_conditional_modules:{},person_profile_page_main:{},person_profile_page_details:{},dashboard_layout_schema:{}};return t.type in r[e]}(e,t)?(0,n().xU)(t)?i.push(t):(0,n().LU)(t)&&s.push(t):l.push(t):r.push(t))})),{nonMoveableHeaderRawModules:r,moveableCenterRawModules:i,moveableFooterRawModules:s,nonMoveableFooterRawModules:l,moveableRawModules:[...i,...s]}}function c(e,t){const r=[],i=[],a=[],l=[];return t.forEach((t=>{(0,o().cn)(t)||(s(e,t)?r.push(t):!function(e,t){const r={page_main:{inlinePageSections:!0,expandedBacklinks:!0,bottomControls:!0,viewsMain:!0},page_details:{},form_layout_schema:{formSubmit:!0},views_main_tab_modules:{},form_conditional_modules:{},person_profile_page_main:{},person_profile_page_details:{},dashboard_layout_schema:{}};return t.type in r[e]}(e,t)?(0,n().LJ)(t)?i.push(t):(0,n().Lo)(t)&&a.push(t):l.push(t))})),{nonMoveableHeaderModules:r,moveableCenterModules:i,moveableFooterModules:a,nonMoveableFooterModules:l,moveableModules:[...i,...a]}}},254947:(e,t,r)=>{r.d(t,{M_:()=>f,P0:()=>a,QV:()=>o,gh:()=>p,jc:()=>i,ml:()=>m,nX:()=>s,oz:()=>d,p7:()=>l,wC:()=>u});var n=()=>r(69708);const o="To-do",i="In progress",a="Complete",s="Current",l="Future",c=[o,i,a,s,l],d=(0,n().YK)({statusGroupNameTodo:{id:"database.statusProperty.groupName.todo",defaultMessage:"To-do"},statusGroupNameInProgress:{id:"database.statusProperty.groupName.inProgress",defaultMessage:"In progress"},statusGroupNameComplete:{id:"database.statusProperty.groupName.complete",defaultMessage:"Complete"},statusGroupNameFuture:{id:"database.statusProperty.groupName.future",defaultMessage:"Complete"},statusGroupNameCurrent:{id:"database.statusProperty.groupName.current",defaultMessage:"Complete"}});function u(e){return!!c.includes(e)}function p(e){switch(e){case o:return d.statusGroupNameTodo;case i:return d.statusGroupNameInProgress;case a:return d.statusGroupNameComplete;case s:return d.statusGroupNameCurrent;case l:return d.statusGroupNameFuture;default:return d.statusGroupNameTodo}}const m={[o]:"gray",[i]:"blue",[a]:"green",[s]:"gray",[l]:"gray"},f=(0,n().YK)({statusOptionNotStarted:{id:"database.statusProperty.option.notStarted",defaultMessage:"Not started"},statusOptionInProgress:{id:"database.statusProperty.option.inProgress",defaultMessage:"In progress"},statusOptionDone:{id:"database.statusProperty.option.done",defaultMessage:"Done"},typedStatusOptionArchived:{id:"appTemplates.tasks.archived",defaultMessage:"Archived"}})},257642:(e,t,r)=>{r.d(t,{A:()=>i,y:()=>o});var n=()=>r(292588);const o="workflow_property_edit_attribution",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,alive:n().A.Boolean,space_id:n().A.UUID,block_id:n().A.UUID,property_id:n().A.String,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String},requiredColumns:{version:!0,space_id:!0,block_id:!0,property_id:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},258911:(e,t,r)=>{r.d(t,{A:()=>i,h:()=>o});var n=()=>r(292588);const o="external_authentication_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,refresh_token:n().A.String,bot_id:n().A.String,user_id:n().A.String,integration_id:n().A.String,space_id:n().A.String,expires_at:n().A.Number}}},265229:(e,t,r)=>{r.d(t,{Ay:()=>i,hG:()=>o});var n=()=>r(292588);const o="bot_token",i={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,bot_id:n().A.UUID,created_at:n().A.Number,revoked_at:n().A.Number,secret:n().A.String,secret_hash:n().A.String,key_id:n().A.String,refresh_token:n().A.String,refresh_token_hash:n().A.String,parent_bot_token_id:n().A.UUID}}},266442:(e,t,r)=>{r.d(t,{Ay:()=>a,UN:()=>i,Vu:()=>o});var n=()=>r(292588);const o=[1,2,3,4,5],i="marketplace_listing_review",a={table:i,columnTypes:{id:n().A.UUID,title:n().A.String,rating:n().A.Number,acquisition_id:n().A.String,serialized_content:n().A.JSON,serialized_creator_response:n().A.JSON,status:n().A.String,attributes:n().A.JSON,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,version:!0,rating:!0,acquisition_id:!0,status:!0,created_time:!0,updated_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},268340:(e,t,r)=>{r.d(t,{CY:()=>u,IZ:()=>c,It:()=>I,JS:()=>s,Lu:()=>a,QW:()=>b,Qx:()=>y,RS:()=>A,Zc:()=>p,Zy:()=>m,e4:()=>d,fH:()=>g,iJ:()=>_,pE:()=>h,sP:()=>f,vQ:()=>l,yx:()=>i});var n=()=>r(496603),o=()=>r(254947);const i={Status:"notion://tasks/status_property",Assign:"notion://tasks/assign_property",AiSummary:"notion://tasks/ai_summary_property",DueDate:"notion://tasks/due_date_property",Priority:"notion://tasks/priority_property",Tags:"notion://tasks/tags_property",AutoIncrementId:"notion://tasks/auto_increment_id_property",Description:"notion://tasks/description_property",Estimates:"notion://tasks/estimates_property",Reporter:"notion://tasks/reporter_property",Type:"notion://tasks/task_type_property",CreatedTime:"notion://tasks/created_time_property",LastEditedTime:"notion://tasks/last_edited_time_property",LastEditedBy:"notion://tasks/last_edited_by_property",Location:"notion://tasks/location_property",DuplicatesRelation:"notion://tasks/task_duplicates_relation",DuplicateOfRelation:"notion://tasks/task_duplicate_of_relation",ParentTaskRelation:"notion://tasks/parent_task_relation",SubTaskRelation:"notion://tasks/sub_task_relation",TaskToSprintRelation:"notion://tasks/task_sprint_relation",SprintStatusRollup:"notion://tasks/task_sprint_status_rollup",TaskToProjectRelation:"notion://tasks/task_to_project_relation",BlockingRelation:"notion://tasks/task_blocking_relation",BlockedRelation:"notion://tasks/task_blocked_by_relation",GithubPrsRelation:"notion://tasks/task_to_github_prs_relation",GithubPrsToTaskRelation:"notion://tasks/github_prs_to_task_relation",JiraSyncIssueToTaskRelation:"notion://tasks/jira_sync_issue_to_task_relation",JiraSyncTaskToConnectedIssueRelation:"notion://tasks/jira_sync_task_to_connected_issue_relation"},a="notion://tasks/tasks_current_sprint_view",s="notion://tasks/tasks_sprint_planning_view",l="notion://tasks/tasks_with_no_sprint_view",c="notion://tasks/relative_current_sprint_filter",d="notion://projects/tutorial/tasks/create_a_task",u="notion://tasks/tasks_by_project_view",p="notion://tasks/tasks_table_view",m="notion://tasks/tasks_board_view",f="notion://tasks/my_tasks_view",_="notion://tasks/tasks_by_due_date_view",y="notion://tasks/tasks_by_person_view",g="notion://tasks/tasks_by_status_view",b="notion://tasks/tasks_with_no_sprints_sprint_empty_filter",v=(0,r(69708).YK)({taskTitleProperty:{defaultMessage:"Task name",id:"databaseTypes.taskTypes.taskTitleProperty"},assignProperty:{defaultMessage:"Assignee",id:"databaseTypes.taskTypes.assigneeProperty"},statusProperty:{defaultMessage:"Status",id:"databaseTypes.taskTypes.statusProperty"},dueDateProperty:{defaultMessage:"Due",id:"databaseTypes.taskTypes.dueDateProperty"},notStarted:{defaultMessage:"Not started",id:"databaseTypes.taskTypes.notStarted"},todo:{defaultMessage:"To-do",id:"appTemplates.tasks.todo"},inProgress:{defaultMessage:"In progress",id:"databaseTypes.taskTypes.inProgress"},complete:{defaultMessage:"Complete",id:"databaseTypes.taskTypes.completed"},done:{defaultMessage:"Done",id:"databaseTypes.taskTypes.done"},archived:{defaultMessage:"Archived",id:"databaseTypes.taskTypes.archived"},taskCreatedByProperty:{defaultMessage:"Created by",id:"databaseTypes.taskTypes.taskCreatedByProperty"},createdTimeProperty:{defaultMessage:"Created time",id:"databaseTypes.taskTypes.createdTimeProperty"},lastEditedTimeProperty:{defaultMessage:"Last edited time",id:"databaseTypes.taskTypes.lastEditedTimeProperty"},lastEditedByProperty:{defaultMessage:"Last edited by",id:"databaseTypes.taskTypes.lastEditedByProperty"},locationProperty:{defaultMessage:"Source",id:"databaseTypes.taskTypes.sourceProperty"}});function h(e){return{title:{type:"title",name:e.formatMessage(v.taskTitleProperty)},[i.Assign]:{type:"person",name:e.formatMessage(v.assignProperty)},[i.Status]:{name:e.formatMessage(v.statusProperty),type:"status",groups:[{id:"todo-status-group",name:o().QV,color:"gray",optionIds:["not-started"]},{id:"in-progress-status-group",name:o().jc,color:"blue",optionIds:["in-progress"]},{id:"complete-status-group",name:o().P0,color:"green",optionIds:["done","archived"]}],options:[{id:"not-started",value:e.formatMessage(v.notStarted)},{id:"in-progress",color:"blue",value:e.formatMessage(v.inProgress)},{id:"done",color:"green",value:e.formatMessage(v.done)},{id:"archived",color:"gray",value:e.formatMessage(v.archived)}],defaultOption:e.formatMessage(v.notStarted)},[i.DueDate]:{type:"date",name:e.formatMessage(v.dueDateProperty)}}}function A(e){return{...h(e),[i.Reporter]:{type:"created_by",name:e.formatMessage(v.taskCreatedByProperty)},[i.CreatedTime]:{type:"created_time",name:e.formatMessage(v.createdTimeProperty)},[i.LastEditedTime]:{type:"last_edited_time",name:e.formatMessage(v.lastEditedTimeProperty)},[i.LastEditedBy]:{type:"last_edited_by",name:e.formatMessage(v.lastEditedByProperty)},[i.Location]:{type:"location",name:e.formatMessage(v.locationProperty),location_type:"parent"}}}function I(e){return n().oE([S,k,e?T:void 0,x])}const S={hidden:!1,property:i.TaskToSprintRelation,value:{type:"relation",value:{type:"relative",value:{type:"builtin",variable:"current"}}}},k={hidden:!1,property:i.TaskToSprintRelation,value:{type:"relation",value:{type:"relative",value:{type:"builtin",variable:"next"}}}},T={hidden:!1,property:i.TaskToSprintRelation,value:{type:"relation",value:{type:"relative",value:{type:"builtin",variable:"last"}}}},x={hidden:!1,property:i.TaskToSprintRelation,value:{type:"relation",value:void 0}}},269288:(e,t,r)=>{r.d(t,{c:()=>i,y:()=>o});var n=()=>r(496603);function o(e,t){return e.length===t.length&&(1===e.length?e[0]===t[0]:n().n4(e,t))}function i(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!o(e[r],t[r]))return!1;return!0}},270995:(e,t,r)=>{r.d(t,{U:()=>i});var n=()=>r(534177),o=()=>r(604995);function i(e){const{operatorValue:t,userTimeZone:r}=e;return"today"===t.value?o().ah(r).valueOf():"tomorrow"===t.value?o().ah(r).plus({days:1}).valueOf():"yesterday"===t.value?o().ah(r).minus({days:1}).valueOf():"one_week_from_now"===t.value?o().ah(r).plus({weeks:1}).valueOf():"one_week_ago"===t.value?o().ah(r).minus({weeks:1}).valueOf():"one_month_from_now"===t.value?o().ah(r).plus({months:1}).valueOf():"one_month_ago"===t.value?o().ah(r).minus({months:1}).valueOf():void(0,n().HB)(t)}},273900:(e,t,r)=>{r.d(t,{$q:()=>w,I$:()=>L,II:()=>C,IL:()=>N,Pr:()=>O,SK:()=>K,WH:()=>G,Y1:()=>D,ch:()=>M,dI:()=>R,i0:()=>H,lD:()=>$,nK:()=>x,or:()=>Z,q_:()=>U,sG:()=>B,sO:()=>Q,tp:()=>J});r(16280),r(18107),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(354520),r(672577),r(430670),r(581454),r(908872),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(700500),a=()=>r(799288),s=()=>r(363170),l=()=>r(842599),c=()=>r(416845),d=()=>r(792071),u=()=>r(142748),p=()=>r(179034),m=()=>r(824862),f=()=>r(519831),_=()=>r(197959),y=()=>r(96689),g=()=>r(296900),b=()=>r(437607),v=()=>r(848538),h=()=>r(854150),A=()=>r(798880),I=()=>r(42466),S=()=>r(468006),k=()=>r(192481),T=()=>r(68263);function x(e,t){return!(!e||!t)&&((0,T().B2)(e)&&(0,T().B2)(t)||(0,T().Jx)(e)&&(0,T().Jx)(t)?e.user_id===t.user_id:(0,T().P3)(e)&&(0,T().P3)(t)?e.bot_id===t.bot_id:(0,T().Ds)(e)&&(0,T().Ds)(t)?e.group_id===t.group_id:(0,T().nl)(e)&&(0,T().nl)(t)||(0,T().gl)(e)&&(0,T().gl)(t)?e.team_id===t.team_id:(0,T().tb)(e)&&(0,T().tb)(t)?"person"===e.property_info.type&&"person"===t.property_info.type?e.property_info.property_id===t.property_info.property_id:"page_creator"===e.property_info.type&&"page_creator"===t.property_info.type:e.type===t.type)}function M(e){return(0,u().c6)(e).map(((t,r)=>{if(t.table===p().ev){const e=d().Bj6.isAnyModel(t)?t.getPermissionItems():t.value.permissions,r=d().Bj6.isAnyModel(t)?t.id:t.value.id;if(e&&e.length>0)return{from:{table:p().ev,blockId:r},permissions:e}}else if(t.table===h().yK){const e=d().Bj6.isAnyModel(t)?t.getPermissionItems():t.value.permissions,r=d().Bj6.isAnyModel(t)?t.id:t.value.id;if(e&&e.length>0)return{from:{table:h().yK,teamId:r},permissions:e}}else if(t.table===f().Vl){const n=d().Bj6.isAnyModel(t)?t.getPermissionItems():t.value.permissions,o=d().Bj6.isAnyModel(t)?t.id:t.value.id;if(n&&n.length>0){const t=(()=>{if(!n.some(T().tb))return;if(r<=0)return;const t=e[r-1];return t.table===p().ev?d().Bj6.isAnyModel(t)?t.id:t.value.id:void 0})();return{from:{table:f().Vl,collectionId:o,...t?{collectionDirectChildId:t}:{}},permissions:n}}}})).filter(o().O9)}function w(...e){let t=0,r="none";for(const i of e)if("string"==typeof i)t=Math.max(t,T().hV.indexOf(i));else for(const e of(0,o().uv)(i))i[e]&&(r=P(r,e));const n=T().hV[t];return"editor"===n||"read_and_write"===n||"membership_admin"===n?n:"none"!==r&&Object.keys(r).length?("reader"!==n&&"comment_only"!==n&&"content_only_editor"!==n||(r=P(r,"read_content")),r):n}function C(e){return"object"==typeof e}function N(e){return!(!(0,a().cT)(e)&&!(0,a().ML)(e)&&"none"!==e)}function P(e,t){let r;return"none"===e?"read_content"===t?r={read_content:!0}:"update_content"===t?r={update_content:!0}:"insert_content"===t?r={insert_content:!0}:"read_property"===t||"update_property"===t||"insert_property"===t?r={read_property:!0}:"read_comment"===t?r={read_comment:!0}:"insert_comment"===t?r={insert_comment:!0}:"interact_with_agents"===t?r={interact_with_agents:!0}:(0,o().HB)(t):(r={...e},"read_content"===t?(r.read_content=!0,delete r.read_property):"update_content"===t?(r.update_content=!0,delete r.update_property):"insert_content"===t?(r.insert_content=!0,delete r.insert_property):"read_property"===t?r.read_content||(r.read_property=!0):"update_property"===t?r.update_content||(r.update_property=!0):"insert_property"===t?r.insert_content||(r.insert_property=!0):"read_comment"===t?r.read_comment=!0:"insert_comment"===t?r.insert_comment=!0:"interact_with_agents"===t?r.interact_with_agents=!0:(0,o().HB)(t)),r}function U(e,t){if("string"==typeof e&&"string"==typeof t)return O(e,t);if("string"==typeof e){if("editor"===e||"membership_admin"===e)return!0;e=T().UA[e]}if("string"==typeof t){if("editor"===t||"membership_admin"===t)return!1;t=T().UA[t]}return function(e,t){if("none"===t)return!0;if("none"===e)return!1;let r=!0;for(const n of(0,o().uv)(t))"read_property"===n?r&&=e.read_property||e.read_content:"update_property"===n?r&&=e.update_property||e.update_content:"insert_property"===n?r&&=e.insert_property||e.insert_content:"read_content"===n?r&&=e.read_content:"update_content"===n?r&&=e.update_content:"insert_content"===n?r&&=e.insert_content:"read_comment"===n?r&&=e.read_comment:"insert_comment"===n?r&&=e.insert_comment:"interact_with_agents"===n?r&&=e.interact_with_agents:"link_preview"===n||"synced_database"===n||(0,o().HB)(n);return Boolean(r)}(e,t)}function D(e,t){return T().hV.indexOf(e)<=T().hV.indexOf(t)}function B(e,t){return T().hV.indexOf(e)<T().hV.indexOf(t)}function O(e,t){return T().hV.indexOf(e)>=T().hV.indexOf(t)}function R(e,t){return T().hV.indexOf(e)>T().hV.indexOf(t)}function E(e,t){return void 0!==t?t:void 0!==e&&e}function F(e){const{inheritedPermissionToCompare:t,mostPermissivePermissionLoose:r}=e,n=r;if((0,T().Ni)(n.permissionItem)&&!(0,T().Ni)(t.permissionItem))return t;const o=n.permissionItem.role,i=t.permissionItem.role,a=w(o,i),s=a!==o||o===i&&(0,T().i4)(t.permissionItem)&&!0===t.permissionItem.can_create_pages_in_collection?t:n;return{from:s.from,permissionItem:{...s.permissionItem,role:a}}}function L(e){return e?(0,T().B2)(e)||(0,T().Jx)(e)?`${e.type}:${e.user_id}`:(0,T().P3)(e)?`${e.type}:${e.bot_id}`:(0,T().Ds)(e)?`${e.type}:${e.group_id}`:(0,T().gl)(e)||(0,T().nl)(e)?`${e.type}:${e.team_id}`:(0,T().tb)(e)?"person"===e.property_info.type?`${e.type}:${e.property_info.property_id}`:`${e.type}:page_creator`:e.type:""}function V(e){return 1===e.length?e[0]:e.reduce(((e,t)=>{if(!x(e.permissionItem,t.permissionItem))throw Error("Items should be grouped by target, but given items have different targets");return(0,T().B2)(t.permissionItem)||(0,T().Jx)(t.permissionItem)||(0,T().Lg)(t.permissionItem)||(0,T().cd)(t.permissionItem)||(0,T().sk)(t.permissionItem)||(0,T().un)(t.permissionItem)||(0,T().un)(t.permissionItem)||(0,T().T$)(t.permissionItem)||(0,T()._d)(t.permissionItem)||(0,T().Ds)(t.permissionItem)||(0,T().P3)(t.permissionItem)||(0,T().tb)(t.permissionItem)?F({mostPermissivePermissionLoose:e,inheritedPermissionToCompare:t}):(0,T().FP)(t.permissionItem)?function(e){const{mostPermissivePermissionLoose:t,inheritedPermissionToCompare:r}=e,n=F({mostPermissivePermissionLoose:t,inheritedPermissionToCompare:r});var o,i,a,s;return n.permissionItem={...n.permissionItem,allow_duplicate:(a=n.permissionItem.allow_duplicate,s=r.permissionItem.allow_duplicate,void 0!==s?s:void 0===a||a),allow_search_engine_indexing:E(n.permissionItem.allow_search_engine_indexing,r.permissionItem.allow_search_engine_indexing),expiration_timestamp:(o=n.permissionItem.expiration_timestamp,i=r.permissionItem.expiration_timestamp,o&&i?Math.max(o,i):o||i),is_public_share_link:E(n.permissionItem.is_public_share_link,r.permissionItem.is_public_share_link),is_site:E(n.permissionItem.is_site,r.permissionItem.is_site)},n}({mostPermissivePermissionLoose:e,inheritedPermissionToCompare:t}):(0,T().Ny)(t.permissionItem)?{...e,from:t.from}:(0,T().T6)(t.permissionItem)?e:void(0,o().HB)(t.permissionItem)}),e[0])}function H(e,t=!1){const r=e.flatMap((e=>{const{permissions:t,from:r}=e;return t.map((e=>({from:r,permissionItem:e})))}));r.reverse();const o=n().$z(r,(e=>L(e.permissionItem))),i=n().LG(o,V),a=new Set,s=[];for(const n of r){const e=L(n.permissionItem);a.has(e)||(a.add(e),s.push(i[e]))}if(!t){const e=s.find((e=>(0,T().Ny)(e.permissionItem)));if(e)return[e]}return s}function j(e){return e.table===h().yK}function q({groupId:e,spaceRole:t,ancestorSpaceId:r,userActorMembership:n}){if(!r||!(0,v().MN)(t)||!n)return!1;const o=n.getGroupRole({groupId:e,spaceId:r});return(0,k().M)(o)}function $({from:e,ancestors:t,permissionItem:r,actorPointer:n,spaceRole:i,ancestorSpaceId:a,userActorMembership:l,collectionPropertyPermissionsNewMembershipChecksEnabled:c}){var d;if(e.table!==f().Vl||!e.collectionDirectChildId)return!1;const u=t.find((t=>{if(t.table!==p().ev)return!1;return t.id===e.collectionDirectChildId})),m=t.find((t=>t.table===f().Vl&&t.id===e.collectionId));if((null==u?void 0:u.table)!==p().ev||(null==m?void 0:m.table)!==f().Vl)return!1;if(c&&(0,v().$I)(i)&&"bot"!==n.table)return!1;const _=r.property_info.type;switch(_){case"page_creator":return u.created_by_id===n.id;case"person":const e=r.property_info.property_id,t=null===(d=m.getSchema())||void 0===d?void 0:d[e],c=u.getProperty(e),p=(0,s().e)({textValue:c,propertySchema:t,blockCreatorPointer:u.getCreatedByPointer()}),f=p.filter((e=>e.table!==b().n)),y=p.filter((e=>e.table===b().n)),g=f.some((e=>e.id===n.id)),v=y.some((e=>q({groupId:e.id,spaceRole:i,ancestorSpaceId:a,userActorMembership:l})));return g||v;default:(0,o().HB)(_)}}function G(e){const{actorPointer:t,userActorEmail:r,ancestors:n,permissionsContext:i}=e,a=n.at(0),s=d().b4_.fromRecordMap(i.ancestorsRecordMap);if(a&&(0,u().Ou)(a,s))return[];const c=(0,u().wR)(n);if(e.restrictOrphanedBlock&&!c)return[];const p=c||(n.length>0&&null!=a&&a.spaceId?i.ancestorsRecordMap.getModel({table:y().NX,id:null==a?void 0:a.spaceId}):void 0),f=(null==p?void 0:p.getSpaceId())??(null==a?void 0:a.spaceId),b=(null==t?void 0:t.table)===m().GP?t:void 0,h=n.find(j),I=null==h?void 0:h.pointer.id;if(b&&b.spaceId&&p&&f!==b.spaceId)return[];const k=M(n).map((e=>{const{permissions:r,from:a}=e,s=function(e){const{actorPointer:t,actorMemberships:r,ancestorSpaceId:n,ancestorTeamId:i,ancestors:a,from:s,permissionsContext:l}=e;if(!t)return e=>!!(0,T().FP)(e);if(t.table===m().GP)return e=>(0,T().tb)(e)?$({from:s,ancestors:a,permissionItem:e,actorPointer:t,spaceRole:"none",ancestorSpaceId:n,userActorMembership:void 0,collectionPropertyPermissionsNewMembershipChecksEnabled:!0}):!((0,T().B2)(e)||(0,T().Jx)(e)||(0,T().Ds)(e)||(0,T()._S)(e)||(0,T().ZK)(e)||(0,T().gl)(e)||(0,T().nl)(e)||(0,T().un)(e)||(0,T().cd)(e))&&(!(0,T().P3)(e)||e.bot_id===t.id);if(t.table===A().oo){const e=r.getActorMembership(t);return r=>{if((0,T().P3)(r))return!1;const o=n&&(null==e?void 0:e.getSpaceRole(n))||"none";if((0,T()._S)(r)){if(!i||!n||(0,v().$I)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:i,spaceId:n}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,T().ZK)(r)){if(!i||!n||(0,v().$I)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:i,spaceId:n}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,T().B2)(r)||(0,T().Jx)(r))return!(0,v().$I)(o)&&r.user_id===t.id;if((0,T().Ds)(r))return q({groupId:r.group_id,spaceRole:o,ancestorSpaceId:n,userActorMembership:e});if((0,T().gl)(r)){if(!n||!(0,v().MN)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:r.team_id,spaceId:n}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,T().nl)(r)){if(!n||!(0,v().MN)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:r.team_id,spaceId:n}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,T().un)(r)){if(!n)return!1;return"team_level_guest"===((null==e?void 0:e.getTeamRole({teamId:r.team_id,spaceId:n}))||"none")}return(0,T().cd)(r)?!!n&&(0,v().Jm)(o):(0,T().tb)(r)?$({from:s,ancestors:a,permissionItem:r,actorPointer:t,spaceRole:o,ancestorSpaceId:n,userActorMembership:e,collectionPropertyPermissionsNewMembershipChecksEnabled:Boolean(l.collectionPropertyPermissionsNewMembershipChecksEnabled)}):!(0,T().Lg)(r)||(!(!l.trustedDomainPermissionRedesignEnabled||"none"!==o||!(0,T().Tt)(r.role))||z(o))}}(0,o().HB)(t)}({actorPointer:t,actorMemberships:i.actorMemberships,ancestorSpaceId:f,ancestorTeamId:I,ancestors:n,from:a,permissionsContext:i});return{from:a,permissions:r.filter(s)}})),x=H(k),w=!a||(0,u()._n)(a,s),C=n.some((e=>Boolean(e.table===_().$Y&&e.resolved))),N=Boolean(e.ignorePublicPermissions)||!w||Boolean(b);let P;var U;p&&(P=null===(U=i.domainLinkSharingEnabledDomainsMap)||void 0===U?void 0:U.get(p.id));const D=function(e){const{permissionsContext:t,trustedEmailDomainsForSpace:r,mostPermissivePermissions:n}=e;if(!t.trustedDomainPermissionRedesignEnabled||!r||0===r.length)return n;const o=n.find((e=>(0,T().Lg)(e.permissionItem)&&(0,T().Tt)(e.permissionItem.role))),i=n.filter((e=>!(0,T().sk)(e.permissionItem)));o&&i.push({from:o.from,permissionItem:{type:"trusted_domain_permission",role:"reader",source:"implicit_from_space_permission"}});return i}({permissionsContext:i,trustedEmailDomainsForSpace:P,mostPermissivePermissions:x}),B=Boolean(f&&t&&function(e,t,r){if(e.table!==A().oo)return!1;if(!r)return!1;if(!r.get(e.id))return!1;const n=r.get(e.id);return!(!n||0===n.size)&&n.has(t)}(t,f,i.userToRestrictedSpacesMap)),O=B?D.filter((({permissionItem:e})=>(0,T().FP)(e))):D,R=function(e){const{isAlive:t,hasResolvedDiscussion:r,ignorePublicPermissions:n,actorMemberships:i,actorPointer:a,ancestorTeamId:s,ancestorSpaceId:c,userActorEmail:d,trustedEmailDomainsForSpace:u,ancestors:p,permissionsContext:f}=e;return e=>{const{permissionItem:_,from:y}=e;if(!(0,T().hI)(_))return!1;if((!t||r)&&(0,T().h9)(_.role)&&!(0,T().P3)(_))return!1;if(!n&&(0,T().FP)(_)&&!(0,T().OA)(_))return!0;if(void 0===a)return!1;if(a.table===m().GP){const e=i.getActorMembership(a);if((0,T().P3)(_)&&_.bot_id===a.id)return!0;if((0,T().tb)(_)&&$({from:y,ancestors:p,permissionItem:_,actorPointer:a,spaceRole:"none",ancestorSpaceId:c,userActorMembership:void 0,collectionPropertyPermissionsNewMembershipChecksEnabled:!0}))return!0;if((0,T().Lg)(_)){if(!c)return!1;const t=null==e?void 0:e.getSpaceRole(c);return Boolean(t&&"none"!==(0,g().C6)(t))}return!1}if(a.table===A().oo){const e=i.getActorMembership(a),t=c&&(null==e?void 0:e.getSpaceRole(c))||"none";if(((0,T().B2)(_)||(0,T().Jx)(_))&&_.user_id===a.id)return!(0,v().$I)(t);if((0,T()._S)(_)){if(!s||!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:s,spaceId:c}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,T().ZK)(_)){if(!s||!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:s,spaceId:c}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,T().gl)(_)){if(!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:_.team_id,spaceId:c}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,T().nl)(_)){if(!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:_.team_id,spaceId:c}))||"none";return(0,S().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,T().un)(_)){if(!c)return!1;return"team_level_guest"===((null==e?void 0:e.getTeamRole({teamId:_.team_id,spaceId:c}))||"none")}if((0,T().Lg)(_)){if(!c)return!1;return z(null==e?void 0:e.getSpaceRole(c))}if((0,T().cd)(_)){if(!c)return!1;const t=null==e?void 0:e.getSpaceRole(c);return Boolean(t&&(0,v().Jm)(t))}if((0,T().Ds)(_)){if(!c)return!1;const t=null==e?void 0:e.getGroupRole({groupId:_.group_id,spaceId:c});return Boolean(t&&"none"!==t)}if((0,T().sk)(_)){if(!u||0===u.length)return!1;const t=c?null==e?void 0:e.getSpaceRole(c):"none";return!(0,v().GN)(t)&&((0,v().MN)(t??"none")||function(e,t){return void 0!==t&&(0,l().Wy)(e,t)}(u,d))}return!!(0,T().tb)(_)&&$({from:y,ancestors:p,permissionItem:_,actorPointer:a,spaceRole:t,ancestorSpaceId:c,userActorMembership:e,collectionPropertyPermissionsNewMembershipChecksEnabled:Boolean(f.collectionPropertyPermissionsNewMembershipChecksEnabled)})}(0,o().HB)(a)}}({isAlive:w,hasResolvedDiscussion:C,ignorePublicPermissions:N,actorMemberships:i.actorMemberships,actorPointer:t,ancestorTeamId:I,ancestorSpaceId:f,userActorEmail:r,trustedEmailDomainsForSpace:P,ancestors:n,permissionsContext:i});return O.filter(R).map((e=>{const{from:r,permissionItem:o}=e,[a,s]=n;return J({record:a,parent:s,from:r,permissionItem:o})?{...e,permissionItem:{...o,role:K({ancestors:n,from:r})}}:function(e){const{permissionItem:t,actorPointer:r,actorMemberships:n,ancestorSpaceId:o}=e;if(!o||!(0,T().Lg)(t))return!1;if((null==r?void 0:r.table)!==m().GP)return!1;if(!(0,T().Tt)(t.role))return!1;const i=n.getActorMembership(r),a=null==i?void 0:i.getSpaceRole(o);return"reader"===a}({permissionItem:o,actorPointer:t,actorMemberships:i.actorMemberships,ancestorSpaceId:f})?{...e,permissionItem:{...o,role:"reader"}}:e}))}function z(e){return!!e&&("owner"===e||"membership_admin"===e||"member"===e||"restricted_member"!==e&&"page_guest"!==e&&"none"!==e&&(0,o().HB)(e))}function W(e,t){return!!t&&(e.table===p().ev?t.table===p().ev&&t.id===e.blockId:e.table===f().Vl?t.table===f().Vl&&t.id===e.collectionId:e.table===I().Toz?t.table===I().Toz&&t.id===e.threadId:e.table===I().C0E?t.table===I().C0E&&t.id===e.workflowId:e.table===h().yK?t.table===h().yK&&t.id===e.teamId:(0,o().HB)(e))}function K(e){const{ancestors:t,from:r}=e;return function(e,t){if(t.table!==p().ev)return!1;const r=e.findIndex((e=>e.table===p().ev&&e.type===i().xd.page&&e.is_template));if(r<0)return!1;const n=e[r+2];if(!n)return!1;if(n.table!==p().ev)return!1;return n.isType(i().w8)&&n.id===t.blockId}(t,r)?"comment_only":"read_and_write"}function Q(e,t){return w(e,t)===e}function Z({teamValue:e,permissionRole:t}){const r=(0,S().ST)(e);if(!r)throw new(c().yI4)("Couldn't find team's default permission");return w(t,r)===r&&t!==r}function J(e){const{record:t,parent:r,from:n,permissionItem:o}=e;return!!t&&(!(void 0===o.role||!(0,T().uQ)(o.role))&&(n.table!==p().ev&&n.table!==f().Vl||!W(n,t)&&(!W(n,r)||"block"===t.table)))}},274147:(e,t,r)=>{r.d(t,{A:()=>i,g:()=>o});var n=()=>r(933449);class o{constructor(e=0){this.value=e}get(){return this.value}set(e){this.value=e}}class i{constructor(e=0){this.valueHolder=void 0,this.valueHolder="number"==typeof e?new o(e):e,(0,n().MX)(this.valueHolder.get()>=0,"Clock value must be non-negative")}reserveTicks(e){(0,n().MX)(e>0,"Reserved ticks must be greater than 0");const t=this.valueHolder.get(),r=t+1;return this.valueHolder.set(t+e),r}maybeUpdateClock(e){return e>this.valueHolder.get()&&(this.valueHolder.set(e),!0)}getValue(){return this.valueHolder.get()}}},277153:(e,t,r)=>{r.d(t,{L3:()=>v,tr:()=>h,Yt:()=>A,w1:()=>b,TX:()=>I,Z2:()=>S});var n=()=>r(498212),o=()=>r(534177),i=()=>r(212547),a=()=>r(115850),s=()=>r(603557),l=()=>r(885316),c=()=>r(158158),d=()=>r(296900),u=()=>r(437607),p=()=>r(158009),m=()=>r(848538),f=()=>r(674770),_=()=>r(244668),y=()=>r(42466);y().Wdc,y().YVp,y().qPS,y().e4Z,y().ITT,y().OjI,y().lo9,y().iEO,y().joQ,y().yDO,y().zx0,y().ozN,y().nYQ,y().sNL,y().Fub,y().iPf,y().bwd,y().Xiz,y().EuC,y().m3J,y().Jmj,y().naB,y().f3c,y().aJN,y().sB_,y().PcJ,y().ytf,y().HAA,y().A3P,y().WQd,y().TFg,y().U6v,y().QRx,y().tEp,y().yHj,y().EcF,y().ef6,y().TFd,y().Nm7,y().yBS,y().SC1,y().qmW,y().SNf,y().$YH,y().hWt,y().Klg,y().rGg,y().Cy3,y().SBl,y().Yxt,y().ouC,y().F9f,y().Ws0,y().Xh,y().kW7,y().Crh,y().ZPG,y().Xwe,y().Toz,y().mSw,y().GUg,y().du1,y().C0E,y().yMG;const g=[y().evP,y().VlP,y().Gy1,y().ez7,y().NXh,y().mu7,y().yKj];function b(e){return(0,_().$t)(e)&&!(0,o().Xk)(g,e)||(0,_().Ss)(e)||(0,_().kW)(e)}const v={fromSpaceShardRecordId:(e,t)=>({id:e.id,spaceId:e.spaceId,table:t}),fromPointerLike(e){const{table:t,id:r,spaceId:n}=e;return{table:t,id:r,spaceId:n}},fromRecordWithTable(e){const t=e.table,r=e.value.id,n=i().ms.getSpaceId(e);return void 0!==n?{table:t,id:r,spaceId:n}:{table:t,id:r}},getParentPointerFromRecordWithParent(e){const t=e.parent_id,r=e.parent_table,n=i().Eb.getSpaceId(e);return void 0!==n?{table:r,id:t,spaceId:n}:{table:r,id:t}},uniq:e=>r(496603).hS(e,(e=>`${e.table}:${e.id}`)),toKey:e=>e.spaceId?`${e.spaceId}:${e.table}:${e.id}`:`${e.table}:${e.id}`,toIdTableKey:e=>`${e.table}:${e.id}`,isEqualIdTable:(e,t)=>e.id===t.id&&e.table===t.table,isEqual(e,t){return this.isEqualIdTable(e,t)&&e.spaceId===t.spaceId}},h={toKey:e=>`${e.userId}:${v.toKey(e.pointer)}`};function A(e,t){return"function"==typeof t?t(e.table):e.table===t}function I(e){return(0,n().uj)(e.id)||"temporary_password"===e.table||e.table===c().o||e.table===l().s||e.table===f().yv||(0,m().l3)(e)||(0,d().jW)(e)||(0,u().hI)(e)||(0,p().is)(e)||(0,a().FH)(e)||(0,s()._8)(e)}function S(e,t){return e.table===t.table&&e.id===t.id}},277816:(e,t,r)=>{r.d(t,{A:()=>o,h:()=>i});var n=()=>r(292588);const o="trusted_domain",i={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,email_domain:n().A.String,domain_link_sharing_enabled:n().A.Boolean,join_space_method:n().A.String,request_membership_customization_redirect_url:n().A.String,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},278132:(e,t,r)=>{r.d(t,{Nl:()=>i,PK:()=>o,VS:()=>n});const n=(0,r(69708).YK)({slackAutomationDefaultName:{id:"automationStore.slackAutomation.defaultName",defaultMessage:"{hasCreatorName, select, true {{creatorName}s notifications} other {Notifications}}"},automationDefaultName:{id:"automatonStore.automation.defaultName",defaultMessage:"{hasCreatorName, select, true {{creatorName}s automation} other {Automation}}"},automationPrivateName:{id:"automatonStore.automation.privateName",defaultMessage:"An automation"},automationDeletedName:{defaultMessage:"A deleted automation",id:"automationStore.automation.deletedName"},automationPossessiveContextValueProperty:{defaultMessage:"{contextValueName}s {propertyName}",id:"automations.possessiveContextValueProperty.title"}});function o(e,t){return e.formatMessage(n.automationDefaultName,{hasCreatorName:Boolean(t),creatorName:t})}function i(e,t,r){return e.formatMessage(n.automationPossessiveContextValueProperty,{contextValueName:t,propertyName:r})}},278238:(e,t,r)=>{r.d(t,{DV:()=>l,Sp:()=>m,T8:()=>s,VA:()=>d,_O:()=>c,eR:()=>f,ez:()=>u,jd:()=>g,l8:()=>y,u9:()=>p,v3:()=>_});r(898992),r(672577);var n=()=>r(676510),o=()=>r(697284);const i=/^(?:https:\/\/(?:www\.)?notion\.so\/icons\/|notion\.so\/icons\/|\/?icons\/)([^\/]+)$/,a=/^([a-z1-9\-]+)_?([a-z]*)\.svg$/;function s(e){return e.startsWith("/icons/")}function l(e){const t=e.match(i),[,r]=t??[],n=null==r?void 0:r.match(a),[,o,s]=n??[];if(o){return{iconName:o,color:_.find((e=>e===s))}}}function c(e){return e.startsWith("/images/app-packages/")}function d(e){const t=m(e);return _.find((e=>e===t))??"gray"}function u({icon:e,mode:t,useLightGrayColor:r}){return p({color:d(e),useLightGrayColor:r,mode:t})}function p(e){const{color:t,useLightGrayColor:r,mode:i}=e,a="lightgray"===t?"gray":t;return r&&"gray"===t?"light"===i?"rgba(55,53,47,.06)":n().$.dark.translucentGray[200]:o().D[a][i].background.secondaryTranslucent}function m(e){const t=e.split(/[/_.]/)[3];return _.find((e=>e===t))}function f(e,t){const r=d(e),o="lightgray"===r?"gray":r;return n().$[t][o][200]}const _=["gray","lightgray","brown","yellow","orange","green","blue","purple","pink","red"],y={dark:{blue:"#2E7CD1",brown:"#AA755F",gray:"#D3D3D3",green:"#2D9964",lightgray:"#7F7F7F",orange:"#D87620",pink:"#C94079",purple:"#8D5BC1",red:"#CD4945",yellow:"#CA8E1B"},light:{blue:"#337ea9",brown:"#9F6B53",gray:"#55534E",green:"#448361",lightgray:"#A6A299",orange:"#d9730d",pink:"#C14C8A",purple:"#9065B0",red:"#D44C47",yellow:"#CB912F"}},g=(0,r(69708).YK)({blue:{defaultMessage:"Blue",id:"iconPickerColorPicker.color.blue"},brown:{defaultMessage:"Brown",id:"iconPickerColorPicker.color.brown"},lightgray:{defaultMessage:"Light Gray",id:"iconPickerColorPicker.color.lightgray"},green:{defaultMessage:"Green",id:"iconPickerColorPicker.color.green"},gray:{defaultMessage:"Default",id:"iconPickerColorPicker.color.default"},orange:{defaultMessage:"Orange",id:"iconPickerColorPicker.color.orange"},pink:{defaultMessage:"Pink",id:"iconPickerColorPicker.color.pink"},purple:{defaultMessage:"Purple",id:"iconPickerColorPicker.color.purple"},red:{defaultMessage:"Red",id:"iconPickerColorPicker.color.red"},yellow:{defaultMessage:"Yellow",id:"iconPickerColorPicker.color.yellow"}})},285179:(e,t,r)=>{r.d(t,{Cx:()=>n,hQ:()=>o});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(803949);function n(e){const t={};return e.forEach((e=>t[e]=!0)),t}const o=750},287772:(e,t,r)=>{r.d(t,{A:()=>i,u:()=>o});var n=()=>r(292588);const o="marketplace_badge_assignment",i={table:o,columnTypes:{id:n().A.UUID,badge_id:n().A.UUID,assignee_table:n().A.String,assignee_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number},requiredColumns:{id:!0,badge_id:!0,assignee_table:!0,assignee_id:!0,version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},294712:(e,t,r)=>{r.d(t,{Ay:()=>i,GD:()=>o});var n=()=>r(292588);const o="user_root",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_views:n().A.StringArray,space_view_pointers:n().A.JSON,left_spaces:n().A.StringArray,deleted_email:n().A.String},model:(0,r(152853).P)({RecordStore:!0,properties:{space_views:{getMethod:!1},space_view_pointers:{getMethod:!1}}})}},295043:(e,t,r)=>{r.d(t,{Ay:()=>a,Xw:()=>i,gj:()=>o});var n=()=>r(292588);const o={block:!0,collection:!0},i="snapshot";const a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,collection_ids:n().A.UUIDArray,inline_collection_block_ids:n().A.UUIDArray,timestamp:n().A.String,authors:n().A.JSON,space_id:n().A.UUID,key_schema_version:n().A.String},model:(0,r(152853).P)({})}},296344:(e,t,r)=>{r.d(t,{Ay:()=>l,Dv:()=>o,HH:()=>s,O:()=>i,_y:()=>a});r(18107),r(967357);var n=()=>r(292588);const o={block:!0,space:!0,team:!0},i="access_request";function a(e){return void 0!==e.resolved_time}function s(e){var t,r,n;return Boolean("page_access_request"===e.type&&"read_and_write"===(null===(t=e.attributes)||void 0===t||null===(t=t.permission_records_and_roles)||void 0===t||null===(t=t.at(0))||void 0===t?void 0:t.role)&&("reader"===(null===(r=e.attributes)||void 0===r?void 0:r.existing_permissions)||"comment_only"===(null===(n=e.attributes)||void 0===n?void 0:n.existing_permissions)))}const l={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,for_actor_table:n().A.String,for_actor_id:n().A.UUID,granted_time:n().A.Number,granted_by_table:n().A.String,granted_by_id:n().A.UUID,created_time:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,resolved_time:n().A.Number,resolved_by_table:n().A.String,resolved_by_id:n().A.UUID,message:n().A.String,status:n().A.String,attributes:n().A.JSON,type:n().A.String},model:(0,r(152853).P)({RecordStore:!0,properties:{resolved_by_id:{getRelationalPointerMethod:!1},for_actor_id:{getRelationalPointerMethod:!1},granted_by_id:{getRelationalPointerMethod:!1},created_by_id:{getRelationalPointerMethod:!1}}})}},296749:(e,t,r)=>{r.d(t,{A:()=>i,j:()=>o});var n=()=>r(292588);const o="free_chart",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,free_chart_view_ids:n().A.UUIDArray},requiredColumns:{id:!0,version:!0,space_id:!0,free_chart_view_ids:!0},model:(0,r(152853).P)({RecordStore:!0})}},296900:(e,t,r)=>{r.d(t,{$I:()=>f,Ay:()=>y,C6:()=>u,Jm:()=>m,YS:()=>c,bx:()=>l,gZ:()=>d,jW:()=>s,m3:()=>_,rf:()=>p});var n=()=>r(498212),o=()=>r(534177),i=()=>r(416845),a=()=>r(292588);function s(e){return e.table===_&&function(e){const t=e.split("|"),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}(e.id)}function l(e){const t=e.split("|"),[r,o]=t;if(!(2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)))throw new(i().yI4)("invalid SpaceBotId",{data:{id:e}});return{botId:r,spaceId:o}}function c(e){const{botId:t,spaceId:r}=e;return`${t}|${r}`}function d(e){const{botId:t,spaceId:r}=e;return{id:c({botId:t,spaceId:r}),table:_,spaceId:r}}function u(e){return"bot_owner"===e?"editor":"none"===e?"none":"reader"===e?"reader":void(0,o().HB)(e)}function p(e){return u(e)}function m(e){return"bot_owner"===e}function f(e){return"none"===e}const _="space_bot",y={table:_,columnTypes:{id:a().A.String,bot_id:a().A.String,space_id:a().A.String,membership_type:a().A.String,bot_parent_table:a().A.String,bot_parent_id:a().A.UUID,version:a().A.Number,last_version:a().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},299294:(e,t,r)=>{r.d(t,{A:()=>i,O:()=>o});var n=()=>r(292588);const o="billing_contract",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,external_id:n().A.String,provider:n().A.String,start_date:n().A.Number,expiration_date:n().A.Number,alive:n().A.Boolean,msa_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,data:n().A.JSON},requiredColumns:{id:!0,version:!0,external_id:!0,provider:!0,start_date:!0,expiration_date:!0,alive:!0,msa_version:!0,created_time:!0,updated_time:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},299816:(e,t,r)=>{r.d(t,{A:()=>i,y:()=>o});var n=()=>r(292588);const o="ai_waitlist",i={table:o,columnTypes:{id:n().A.UUID,created_at:n().A.UUID,updated_at:n().A.UUID,user_id:n().A.UUID,referring_id:n().A.UUID,enrolled:n().A.Boolean,email:n().A.String,position:n().A.Number,version:n().A.Number,invite_code:n().A.String,space_id:n().A.String,qna_priority:n().A.Boolean},model:(0,r(152853).P)({RecordStore:!0})}},299919:(e,t,r)=>{r.d(t,{Y:()=>n});class n extends WeakMap{constructor(e,t){t?(super(t),this.defaultFactory=void 0):(super(),this.defaultFactory=void 0),this.defaultFactory=e}get(e){if(!super.has(e)){const t=this.defaultFactory(e);super.set(e,t)}return super.get(e)}}},302107:(e,t,r)=>{r.d(t,{DZ:()=>n,dR:()=>i,mf:()=>a,o7:()=>s,sq:()=>o});r(898992),r(672577),r(737550);const n=(0,r(69708).YK)({changePropertyTypeWarningMessage:{id:"collectionPropertyPermissionHelpers.changePropertyType.warningModal.message",defaultMessage:"Changing this property type will break its associated permission rule"},changePropertyTypeWarningDescription:{id:"collectionPropertyPermissionHelpers.changePropertyType.warningModal.description",defaultMessage:"Users who had access through this rule will lose access. To restore access, change the property type back to Person."},changePropertyTypeWarningButtonLabel:{id:"collectionPropertyPermissionHelpers.changePropertyType.warningModal.changeButton.label",defaultMessage:"Change"},deletePropertyTypeWarningMessage:{id:"collectionPropertyPermissionHelpers.deletePersonProperty.modal.warning",defaultMessage:"Deleting this property will break its associated permission rule"},deletePropertyTypeWarningDescription:{id:"collectionPropertyPermissionHelpers.deletePersonProperty.modal.description",defaultMessage:"Users who had access through this rule will lose access. To restore access, recover the property from Deleted Properties."},defaultCreatedByRuleDisplayName:{id:"collectionPropertyPermissionHelpers.createdByRule.displayName",defaultMessage:"Created by"},defaultUntitledPropertyDisplayName:{defaultMessage:"Untitled property",id:"propertyPermissions.untitledProperty.label"}});function o({collectionSchema:e,permissionItem:t}){if("person"!==t.property_info.type)return!0;const r=t.property_info.property_id,n=null==e?void 0:e[r];return Boolean(n&&"person"===n.type)}function i({propertyId:e,propertyType:t,permissionItems:r}){return"person"===t&&r.some((r=>{if("collection_property_permission"!==r.type)return!1;const{property_info:n}=r;return"person"===t&&"person"===n.type&&n.property_id===e}))}function a(e){const{intl:t,collectionSchema:r}=e,o=Object.values(r).find((e=>"created_by"===(null==e?void 0:e.type)));return o&&o.name?o.name:t.formatMessage(n.defaultCreatedByRuleDisplayName)}function s(e){const{collectionSchema:t,permissionItem:r}=e;if("person"===r.property_info.type){const e=t[r.property_info.property_id];return e?"person"!==e.type?"incorrect_property_type":void 0:"property_not_found"}}},302322:(e,t,r)=>{r.d(t,{M:()=>i});var n=()=>r(72135),o=()=>r(201980);function i(e){const t=o().k4p(e);return n().$J(t)}},305785:(e,t,r)=>{r.d(t,{s:()=>a});var n=()=>r(498212),o=()=>r(584262),i=()=>r(530199);function a(e){const t={},{pageVisitSource:r,queryId:a,analyticsNotificationId:s,chatThreadId:l}=e;if(r){const[e,n]=(0,o().DU)(r);t[e]=n}return a&&(t[o().CW]=a),s&&(t[o().rh]=(0,n().S2)(s)),l&&(t[i().P5]=(0,n().S2)(l)),t}},309956:(e,t,r)=>{r.d(t,{K:()=>o});var n=()=>r(496603);function o(e){return{...n().mg({...e,crdt_data:void 0}),crdt_data:e.crdt_data?JSON.parse(JSON.stringify(e.crdt_data)):void 0}}},315771:(e,t,r)=>{r.d(t,{H:()=>o,p:()=>n});r(16280),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);function n(e,t){const r=new Set(e),n=new Set,o=new Array,i=new Array;for(const a of t)n.add(a),r.has(a)||i.push(a);for(const a of e)n.has(a)||o.push(a);return{created:i,deleted:o}}function o(e,t,r){const n=new Map,o=new Map,i=new Array,a=new Array;for(const s of e)n.set(r(s),s);for(const s of t){const e=r(s);o.set(e,s),n.has(e)||a.push(e)}for(const s of e){const e=r(s);o.has(e)||i.push(e)}return{created:a.map((e=>{const t=o.get(e);if(!t)throw new Error("After map did not contain value.");return t})),deleted:i.map((e=>{const t=n.get(e);if(!t)throw new Error("Before map did not contain value.");return t}))}}},316065:(e,t,r)=>{r.d(t,{DG:()=>i});const n="-deleted@notion.so",o="-deleted@makenotion.com";function i(e){return e.endsWith(n)||e.endsWith(o)}},317727:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>i});var n=()=>r(292588);const o="cookie_consent",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,consent_id:n().A.UUID,update_time:n().A.Number,permission:n().A.JSON,document_version:n().A.String}}},319954:(e,t,r)=>{r.d(t,{r:()=>i});r(944114),r(898992),r(581454),r(941795);var n=()=>r(269288),o=()=>r(681373);class i{constructor(){this.unique=new Map,this.multi=new(r(99895).G)((()=>new(r(400017).A)))}static fromArray(e){const t=new this;for(const r of e)(0,o().ER)(r)?t.add(r):(0,o()._X)(r)!==o().BQ.Highlight&&(0,o()._X)(r)!==o().BQ.TemporaryHighlight&&t.unique.has((0,o().Au)(r))||t.add(r);return t}static normalize(e){return this.fromArray(e).toArray()}static compareByGroupingKey([e,t],[r,n]){return e===r?0:e<r?-1:1}*[Symbol.iterator](){for(const e of this.getUniqueAnnotations())yield e;for(const[,e]of this.getMultiInstanceAnnotations())for(const t of e)yield t}toArray(){return Array(...this)}findFirstOfGroupingKey(e){return this.findByGroupingKey(e)[0]}findByGroupingKey(e){if(this.multi.has(e))return this.multi.get(e).valuesArray();const t=this.unique.get(e);return t?[t]:[]}find(e){const t=[];for(const r of this)e(r)&&t.push(r);return t}add(e){if((0,o().ER)(e)){const t=(0,o().Au)(e);this.multi.get(t).add(e)}else{const t=(0,o().Au)(e);this.unique.set(t,e)}}removeGroupingKey(e){if(this.multi.has(e)){const t=this.multi.get(e).size;return this.multi.delete(e),t>0}return!!this.unique.has(e)&&this.unique.delete(e)}remove(e){if((0,o().ER)(e)){const t=(0,o().Au)(e),r=this.multi.get(t);let i=0;for(const o of r)(0,n().y)(o,e)&&(r.delete(o),i++);return i>0}{const t=(0,o().Au)(e),r=this.unique.get(t);return!(void 0===r||!(0,n().y)(r,e))&&this.unique.delete(t)}}getUniqueAnnotations(){return[...this.unique.entries()].sort(i.compareByGroupingKey).map((([,e])=>e))}getMultiInstanceAnnotations(){return new Map([...this.multi.entries()].sort(i.compareByGroupingKey).map((([e,t])=>[e,[...t]])))}}},324694:(e,t,r)=>{r.d(t,{A:()=>i,y:()=>o});var n=()=>r(292588);const o="synthetic_trial",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,start_date:n().A.Number,end_date:n().A.Number,converted_date:n().A.Number,canceled_date:n().A.Number,offer_campaign:n().A.String,auto_convert:n().A.Boolean,items:n().A.JSON},requiredColumns:{space_id:!0,start_date:!0,end_date:!0,auto_convert:!0,items:!0},model:(0,r(152853).P)({RecordStore:!0})}},326215:(e,t,r)=>{r.d(t,{$2:()=>o,Ap:()=>y,Ay:()=>i,C5:()=>d,DS:()=>g,iV:()=>l,nC:()=>m,nb:()=>a,qC:()=>_,tX:()=>s,xB:()=>p,xd:()=>f});var n=()=>r(292588);const o="customer",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,customer_id:n().A.String,offers:n().A.JSON,sales_assisted_plan:n().A.String}},a=["free","personal_free","team_free","student","personal","plus","business","enterprise"],s=["personal","plus","business","enterprise"],l=["ambassador_plus_free","ambassador_plus_free_yearly","ambassador_business_free","ambassador_business_free_yearly","ambassador_enterprise_free","ambassador_enterprise_free_yearly","nonprofit_free","nonprofit_free_yearly","student_free","student_free_yearly","student_free_eur","student_free_yearly_eur","student_free_gbp","student_free_yearly_gbp","student_free_jpy","student_free_yearly_jpy","student_free_krw","student_free_yearly_krw","student_club_monthly","student_club_yearly"],c=["enterprise_trial","enterprise_trial_eur","enterprise_trial_gbp","enterprise_trial_jpy","enterprise_trial_krw","business_trial","business_trial_eur","business_trial_gbp","business_trial_jpy","business_trial_krw","plus_trial_eur","plus_trial_gbp","plus_trial_jpy","plus_trial_krw","enterprise_free","enterprise_sales_assisted_eur","enterprise_sales_assisted_gbp","enterprise_sales_assisted_jpy","enterprise_sales_assisted_krw","business_sales_assisted","business_sales_assisted_eur","business_sales_assisted_gbp","business_sales_assisted_jpy","business_sales_assisted_krw","plus_sales_assisted","plus_sales_assisted_eur","plus_sales_assisted_gbp","plus_sales_assisted_jpy","plus_sales_assisted_krw"],d=["bundled_ai_business_sales_assisted","bundled_ai_enterprise_sales_assisted"],u=["enterprise_monthly_18","enterprise_monthly_180","enterprise_monthly_eur_17","enterprise_yearly_eur_168","enterprise_monthly_gbp_15","enterprise_yearly_gbp_150","enterprise_monthly_jpy_3000","enterprise_yearly_jpy_30000","enterprise_monthly_krw_25200","enterprise_yearly_krw_252000","enterprise_monthly_10","enterprise_yearly_96","enterprise_monthly_eur_9_50","enterprise_yearly_eur_90","enterprise_monthly_gbp_8_50","enterprise_yearly_gbp_84","enterprise_monthly_jpy_2000","enterprise_yearly_jpy_19800","enterprise_monthly_krw_16800","enterprise_yearly_krw_168000","enterprise_monthly_8","enterprise_monthly_12","enterprise_monthly_14","enterprise_monthly_16","enterprise_monthly_20","enterprise_yearly_80","enterprise_yearly_120","enterprise_yearly_144","enterprise_yearly_168","enterprise_yearly_192","enterprise_yearly_216"],p=[...c,...u,...d],m=["employee_plus_free"],f=[...l,...c,"employee_plus_free","marketing_team_free","marketing_business_free","marketing_enterprise_free","personal_free","team_free"],_=["marketing_business_free","marketing_enterprise_free","ambassador_business_free","ambassador_business_free_yearly","ambassador_enterprise_free","ambassador_enterprise_free_yearly"],y=["personal_monthly_5","personal_yearly_48","team_monthly_10","team_yearly_96","plus_monthly_usd_202407","plus_yearly_usd_202407","business_monthly_usd_202505","business_yearly_usd_202505","business_monthly","business_yearly","enterprise_monthly_usd_202505","enterprise_yearly_usd_202505","enterprise_monthly_25","enterprise_yearly_240","plus_monthly_eur","plus_yearly_eur","plus_monthly_eur_202407","plus_yearly_eur_202407","business_monthly_eur_202505","business_yearly_eur_202505","business_monthly_eur","business_yearly_eur","enterprise_monthly_eur","enterprise_yearly_eur","enterprise_monthly_eur_202505","enterprise_yearly_eur_202505","plus_monthly_gbp","plus_yearly_gbp","plus_monthly_gbp_202407","plus_yearly_gbp_202407","business_monthly_gbp_202505","business_yearly_gbp_202505","business_monthly_gbp","business_yearly_gbp","enterprise_monthly_gbp","enterprise_yearly_gbp","enterprise_monthly_gbp_202505","enterprise_yearly_gbp_202505","plus_monthly_jpy","plus_yearly_jpy","plus_monthly_jpy_202407","plus_yearly_jpy_202407","business_monthly_jpy_202505","business_yearly_jpy_202505","business_monthly_jpy","business_yearly_jpy","enterprise_monthly_jpy","enterprise_yearly_jpy","enterprise_monthly_jpy_202505","enterprise_yearly_jpy_202505","plus_monthly_krw","plus_yearly_krw_202407","business_monthly_krw_202505","business_yearly_krw_202505","business_monthly_krw","business_yearly_krw","enterprise_monthly_krw","enterprise_yearly_krw","enterprise_monthly_krw_202505","enterprise_yearly_krw_202505",...f,...u,...d,"legacy_enterprise_monthly_8","legacy_enterprise_monthly_10","legacy_enterprise_monthly_18","legacy_enterprise_monthly_20","legacy_enterprise_yearly_96","legacy_enterprise_yearly_168","legacy_enterprise_yearly_180","legacy_enterprise_yearly_216","personal_monthly_0.50","personal_monthly_1.50","personal_monthly_2.50","personal_monthly_3.50","team_monthly_0.10","team_monthly_0.50","team_monthly_0.80","team_monthly_0.90","team_monthly_1","team_monthly_1.20","team_monthly_1.50","team_monthly_2","team_monthly_2.40","team_monthly_2.50","team_monthly_3","team_monthly_3.20","team_monthly_3.50","team_monthly_4","team_monthly_4.50","team_monthly_5","team_monthly_5.60","team_monthly_6","team_monthly_7","team_monthly_8","personal_yearly_4.80","personal_yearly_14.40","personal_yearly_24","personal_yearly_33.60","team_yearly_1","team_yearly_5","team_yearly_8","team_yearly_9","team_yearly_9.60","team_yearly_12","team_yearly_15","team_yearly_20","team_yearly_24","team_yearly_25","team_yearly_28.80","team_yearly_32","team_yearly_35","team_yearly_40","team_yearly_45","team_yearly_48","team_yearly_56","team_yearly_60","team_yearly_67.20","team_yearly_80"];(0,r(496603).Lc)(y,[...m,..._]);function g(e){return y.includes(e)}},326399:(e,t,r)=>{r.d(t,{Ay:()=>c,DP:()=>a,XB:()=>i,XH:()=>l,iI:()=>s});var n=()=>r(534177),o=()=>r(292588);function i(e,t){switch(e){case"unrestricted":return t.formatMessage({id:"emailDomain.workspaceCreationSetting.auditLog.unrestricted",defaultMessage:"Unrestricted"});case"admins_only":return t.formatMessage({id:"emailDomain.workspaceCreationSetting.auditLog.workspaceOwnersOnly",defaultMessage:"Workspace Owners Only"});default:(0,n().HB)(e)}}const a="180_day",s={"1_hour":36e5,"2_hour":72e5,"4_hour":144e5,"8_hour":288e5,"12_hour":432e5,"1_day":864e5,"2_day":1728e5,"3_day":2592e5,"4_day":3456e5,"7_day":6048e5,"14_day":12096e5,"21_day":18144e5,"30_day":2592e6,"60_day":5184e6,"90_day":7776e6,"180_day":15552e6},l="email_domain",c={table:l,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,created_time:o().A.Number,created_by_table:o().A.String,created_by_id:o().A.UUID,last_edited_time:o().A.Number,last_edited_by_table:o().A.String,last_edited_by_id:o().A.UUID,domain:o().A.String,space_ids:o().A.UUIDArray,workspace_creation_enum:o().A.String,settings:o().A.JSON},model:(0,r(152853).P)({properties:{created_by_id:{getRelationalPointerMethod:!1},last_edited_by_id:{getRelationalPointerMethod:!1}}})}},328876:(e,t,r)=>{r.r(t),r.d(t,{applyOperationsToRecordMap:()=>Ce,applyRecordOperations:()=>Me,cloneAndSetValueAtPath:()=>Se,invertOperation:()=>Te,isCopyFileOperation:()=>xe,performPrimitiveOperation:()=>ke,visibleForTesting:()=>Pe});r(16280),r(944114),r(898992),r(803949),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(720665),a=()=>r(91913),s=()=>r(187534);function l(){const e="production";switch(e){case"local":case"staging":case"development":case"production":return e;default:return"production"}}var c=()=>r(426234);var d=()=>r(837788),u=()=>r(210610),p=()=>r(152565),m=()=>r(416845);r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(354520),r(672577),r(581454);function f(e,t,r=!1){return r&&"string"==typeof e&&"string"==typeof t?e.toLowerCase()===t.toLowerCase():e===t}function _(e,t){let r=Array.isArray(t)?t:[];return r=r.filter((t=>t!==e.id)),r}function y(e,t){const r=e.key??"id";let n=Array.isArray(t)?t:[];return n=n.filter((t=>t&&t[r]&&!f(t[r],e.remove[r],e.caseInsensitive))),n}var g=()=>r(792071),b=()=>r(134025),v=()=>r(273900),h=()=>r(68263);var A=()=>r(713998),I=()=>r(277153),S=()=>r(179034),k=()=>r(201980),T=()=>r(764880),x=()=>r(998687),M=()=>r(437607);function w(e,t){const r=(0,k().jEb)({value:t});return O({addedValue:e.args.pointer,previousValues:r,equalityFn:C,createRemoveOpFn:t=>({pointer:e.pointer,path:e.path,command:"removePerson",args:{pointer:t}}),createAddAfterOpFn:t=>({pointer:e.pointer,path:e.path,command:"addPersonAfter",args:{pointer:t}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addPersonBefore",args:{pointer:t,before:r}})})}function C(e,t){return"me"===e||"me"===t?"me"===e&&"me"===t:(0,T().Pu)(e)?!!(0,T().Pu)(t)&&I().L3.isEqualIdTable(e,t):!!(0,M().I6)(e)&&(!!(0,M().I6)(t)&&I().L3.isEqualIdTable(e,t))}function N(e,t){return e.trim().toLowerCase()===t.trim().toLowerCase()}function P(e,t){const r=(0,A().yH)(t);return O({addedValue:e.args.option,previousValues:r,equalityFn:N,createRemoveOpFn:t=>({pointer:e.pointer,path:e.path,command:"removeSelectOption",args:{option:t}}),createAddAfterOpFn:t=>({pointer:e.pointer,path:e.path,command:"addSelectOptionAfter",args:{option:t}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addSelectOptionBefore",args:{option:t,before:r}})})}function U(e){const{value:t,after:r,currentValueAtPath:o,fromTextValueFn:i,toTextValueFn:a,equalityFn:s}=e,l=B({value:t,currentValues:i(o),equalityFn:s});let c;if(r){const e=l.findIndex((e=>s(e,r)));c=n().Mp([...l.slice(0,e+1),t,...l.slice(e+1)],s)}else c=n().Mp([...l,t],s);return a(c)}function D(e){const{value:t,before:r,currentValueAtPath:o,fromTextValueFn:i,toTextValueFn:a,equalityFn:s}=e,l=B({value:t,currentValues:i(o),equalityFn:s});let c;if(r){const e=l.findIndex((e=>s(e,r)));c=n().Mp([...l.slice(0,e),t,...l.slice(e)],s)}else c=n().Mp([t,...l],s);return a(c)}function B(e){const{value:t,currentValues:r,equalityFn:n}=e;return r.filter((e=>!n(e,t)))}function O(e){const{addedValue:t,previousValues:r,equalityFn:n,createRemoveOpFn:o,createAddAfterOpFn:i,createAddBeforeOpFn:a}=e,s=r.findIndex((e=>n(e,t)));return s<0?o(t):s===r.length-1?i(t):a(t,r[s+1])}function R(e){const{removedValue:t,previousValues:r,equalityFn:n,createAddAfterOpFn:o,createAddBeforeOpFn:i}=e,a=r.findIndex((e=>n(e,t)));return a<0?o(t):0===a?i(t,r.length>1?r[1]:void 0):o(t,r[a-1])}function E(e,t){const r=(0,A().n)(t);return O({addedValue:{id:e.args.id,spaceId:e.args.spaceId,table:S().ev},previousValues:r,equalityFn:I().L3.isEqualIdTable,createRemoveOpFn:t=>({pointer:e.pointer,path:e.path,command:"removeRelation",args:{id:t.id,spaceId:t.spaceId}}),createAddAfterOpFn:t=>({pointer:e.pointer,path:e.path,command:"addRelationAfter",args:{id:t.id,spaceId:t.spaceId}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addRelationBefore",args:{id:t.id,before:null==r?void 0:r.id,spaceId:t.spaceId}})})}var F=()=>r(54006),L=()=>r(561190),V=()=>r(468006),H=(r(823215),()=>r(115997)),j=()=>r(309956),q=()=>r(701218),$=()=>r(388536),G=()=>r(519664),z=()=>r(135460),W=()=>r(803884),K=()=>r(933449),Q=()=>r(165358),Z=()=>r(41273),J=()=>r(439180);function X(e){return"text"===e.type}function Y(e){const{insertOperation:t,searchLabelTextSlices:r,env:n,enforceMonotonicInsertTextOperations:o=!1,logger:i,getErrorContext:a}=e;let s;try{s=(0,Z().C5)({originId:t.originId,searchLabelTextSlices:r,newItemId:t.id})}catch(u){if((0,$().L)(u))throw new(m().mh_)("newItemId found while searching for originId",{data:{...u.data??{},searchLabel:t.searchLabel,idSession:t.id[0],idClockStart:t.id[1],idClockEnd:(0,G().b)(t)}});throw u}let l,c,d=[];if(null==i||i.addTagsToCurrentSpan({"crdt.backfill":"undefined","crdt.backfill.partial_item_encountered":"undefined","crdt.backfill.flag_enabled":"undefined"}),s)null==i||i.addTagsToCurrentSpan({"crdt.backfill.invoked":!1,"crdt.backfill":"skipped","crdt.backfill.partial_item_encountered":"skipped","crdt.backfill.flag_enabled":"skipped"}),d=[s.searchLabel],l=s.textSlice,c=s.originPresentInTextSlice;else{null==i||i.addTagsToCurrentSpan({"crdt.backfill.invoked":!0});const e={...a(),...["development","local"].includes(n)?{searchLabelTextSlices:(0,Z()._G)(r),insertOperation:t}:{textInstanceId:t.textInstanceId,searchLabel:t.searchLabel,originId:t.originId}},o=(0,K().o9)(t.prevItems,"No prevItems available",e);(0,Q().log)({level:"info",from:"applyInsertOperation",type:"backfilling prev items"});const s=performance.now(),u=ie.backfillPrevItems({prevItems:o,searchLabelTextSlices:r,textInstanceId:t.textInstanceId,errorContext:e,logger:i}),p=performance.now()-s,m=(0,K().o9)((0,Z().C5)({originId:t.originId,searchLabelTextSlices:r,newItemId:t.id}),"Failed to find target text slice after backfilling",e);d=[...u],u.has(m.searchLabel)||d.push(m.searchLabel),l=m.textSlice,c=m.originPresentInTextSlice,null==i||i.addTagsToCurrentSpan({"crdt.backfill":"success","crdt.backfill.latency_ms":p})}return l.applyInsertTextOperation({op:t,originPresentInTextSlice:c,enforceMonotonicInsertTextOperations:o,logger:i}),d}function ee(e){const{deleteOperation:t,searchLabelTextSlices:r}=e,n=[];for(const[o,i]of r){i.textSlice.applyDeleteTextOperation(t)&&n.push(o)}return n}function te({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}){switch(r){case"start":case"startend":return e.start;case"end":case"middle":return{id:t.getStartItem().id,anchor:"before"};default:(0,o().HB)(r)}}function re({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}){switch(r){case"end":case"startend":return e.end;case"start":case"middle":return{id:t.getEndItem().id,anchor:"after"};default:(0,o().HB)(r)}}function ne({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}){return{...e,start:te({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}),end:re({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r})}}function oe(e){const{annotationOperation:t,searchLabelTextSlices:r,errorContext:n,logger:o}=e,i=[];let a=!1,s=!1;for(const l of Array.from(r.keys()).sort()){const e=(0,K().o9)(r.get(l),"Search label pointing at missing container");let n;if(!a){if(!e.textSlice.containsItemWithId(t.start.id))continue;a=!0,n="start"}!s&&e.textSlice.containsItemWithId(t.end.id,{includeEndItem:!0})&&(s=!0,n=Boolean(n)?"startend":"end"),n=n??"middle";const c=ne({annotationOperation:t,textSlice:e.textSlice,textSliceAnnotationFragment:n});if(e.textSlice.applyAnnotationOperation({op:c,logger:o}),i.push(l),s)break}return(0,K().MX)(a,"Unable to apply annotation operation due to start missing",n),(0,K().MX)(s,"Unable to apply annotation operation due to end missing",n),i}const ie={backfillPrevItems:function({prevItems:e,searchLabelTextSlices:t,textInstanceId:r,errorContext:n={},logger:o}){const i=[];let a=!1;(0,K().o9)(e[0],"Cannot backfill empty list of prev items",n);let s=!1;for(const p of e){const e=(0,Z().WE)({itemId:"start"===p.type?"start":p.id,searchLabelTextSlices:t});if(void 0!==(null==e?void 0:e.textSlice)){if(s=!0,"start"===p.type||"split"===p.type){(0,Q().log)({level:"warning",from:"backfillPrevItems",type:"backfill unnecessary because start or split prev item found in text slice already",data:{miscDataToConvertToString:n}});break}const t=ie.getPartialMissingItem(p,null==e?void 0:e.textSlice);t?(i.unshift(t),a=!0):(0,Q().log)({level:"warning",from:"backfillPrevItems",type:"backfill unnecessary because all opIds from text prev item exist in text slice already",data:{miscDataToConvertToString:n}});break}const r=(0,K().Wg)(p,X,"Cannot backfill prev item that is not a text item",{...n,itemType:p.type});i.unshift(r);const o=(0,Z().C5)({originId:r.originId,searchLabelTextSlices:t,newItemId:r.id});if(void 0!==(null==o?void 0:o.textSlice)){s=!0;break}}(0,K().MX)(s,"Insertion origin not found in text slice",n),null==o||o.addTagsToCurrentSpan({"crdt.backfill.prev_items_length":e.length,"crdt.backfill.missing_items_length":i.length,"crdt.backfill.partial_item_encountered":a?"yes":"no"}),(0,Q().log)({level:"info",from:"backfillPrevItems",type:"backfilling missing text items",data:{miscDataToConvertToString:{errorContext:n,missingItemsLength:i.length}}});const l=new Set;for(const p of i){let e;try{const i=(0,K().o9)((0,Z().C5)({originId:p.originId,searchLabelTextSlices:t,newItemId:p.id}),"missingItem origin id not found",n),a=(0,K().o9)(i.textSlice,"missing item's TextSlice not found",n);e=(0,K().o9)(i.searchLabel,"affectedSearchLabel not found",n),l.add(e);const s={textInstanceId:r,searchLabel:e,id:p.id,originId:p.originId};p.deleted?a.backfillDeletedTextItem(p.id,p.originId,p.length,i.originPresentInTextSlice,o):a.applyInsertTextOperation({op:{type:"insertText",content:p.content,...s},originPresentInTextSlice:i.originPresentInTextSlice,logger:o})}catch(u){throw new(m().QkH)("Failed to backfill missing items",{error:u,data:{...n,textInstanceId:r,searchLabel:e,missingItemId:p.id,missingItemOriginID:p.originId,deleted:p.deleted}})}}const c=new Set,d=i.flatMap((e=>[...e.annotationOpsBefore??[],...e.annotationOpsAfter??[]]));(0,Q().log)({level:"info",from:"backfillPrevItems",type:"backfilling annotations",data:{miscDataToConvertToString:{errorContext:n,annotationOperationsToBackfillLength:d.length}}});for(const p of d){const e=p.id.join("_");if(c.has(e))continue;const r=oe({annotationOperation:p,searchLabelTextSlices:t,errorContext:n});c.add(e);for(const t of r)l.add(t)}return l},getPartialMissingItem:function(e,t){const r=[...e.id];for(;t.containsItemWithId(r)&&r[1]<e.id[1]+e.length;)r[1]++;if(r[1]!==e.id[1]+e.length)return{type:"text",originId:r[1]===e.id[1]?e.originId:[r[0],r[1]-1],id:r,length:e.length-(r[1]-e.id[1]),annotationOpsBefore:r[1]===e.id[1]?e.annotationOpsBefore:void 0,annotationOpsAfter:e.annotationOpsAfter,...e.content?{content:e.content.slice(r[1]-e.id[1]),deleted:!1}:{content:void 0,deleted:!0}}},applyInsertOperation:Y,applyDeleteOperation:ee};var ae=()=>r(793909),se=()=>r(976617);function le(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:o,textSliceBlockMappingMap:i,textOperation:s,logger:l,env:c,debugUserAction:d}=e,u=d??"",p=l?(...e)=>l.traceSync(...e):({fn:e})=>e(),m=e=>p({operation:"applyMoveTextSliceOperation.cloneBlockValue",fn:()=>(0,j().K)(e),minDurationMs:100,tags:{blockId:e.id,userAction:u}});function f(e){const n=m((0,K().o9)(t.getRecordValue(e),a().pr));n.version+=2,r({pointer:e,newValue:n})}const _=(0,K().o9)((0,Z().Gh)({getRecordModel:t,textInstanceBlocksMap:o,textInstanceId:s.args.textInstanceId,searchLabel:s.args.sourceSearchLabel,textSliceStartItemId:s.args.textSliceStartItemId,env:c}),"Block containing text slice start item not found"),y=m(_),g=(0,Z().$e)(y,l),b=p({operation:"applyMoveTextSliceOperation.findSourceTextSliceTree",fn:()=>(0,K().o9)(g.findTextSliceTreeContainingItemWithId(s.args.textInstanceId,s.args.textSliceStartItemId),a().Dp),minDurationMs:100,tags:{blockId:y.id,userAction:u}});(0,K().MX)(b!==g,"Text slice tree node to move should not be root node of block.");const v=g.getTextValue(),h=Array.from(g.getTextInstanceIds()),A=(0,K().o9)((0,Z().Zf)({getRecordModel:t,textInstanceBlocksMap:o,textInstanceId:s.args.targetTextInstanceId,searchLabel:s.args.targetSearchLabel,textSliceEndItemId:s.args.targetTextSliceEndItemId,env:c}),"Target block expected to exist."+("development"===c?` Context: ${(0,H().A)({textOperation:s,textInstanceBlocksMap:o})}`:"")),I=A.id===_.id,T=I?y:m(A),x=I?g:(0,Z().$e)(T,l),M=(0,K().o9)(x.findTextSliceTreeContainingItemWithId(s.args.targetTextInstanceId,s.args.targetTextSliceEndItemId,{type:"end"}),a().Dp);(0,K().MX)(b!==M,"Source text slice tree node should not be the same as the target node."),l&&l.traceSync({operation:"applyMoveTextSliceOperation.logReadFanOut",fn:()=>{const e=(0,K().o9)(o.get(s.args.textInstanceId),"Move text operation text instance must be in block map").length;if(l.logReadFanOut(e),!I){const e=(0,K().o9)(o.get(s.args.targetTextInstanceId),"Move text operation text instance must be in block map").length;l.logReadFanOut(e)}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,userAction:u}});const w=I?v:x.getTextValue(),C=s.pointer,N={table:S().ev,id:s.args.targetBlockId,spaceId:s.pointer.spaceId},P=Array.from(x.getTextInstanceIds()),U=p({operation:"applyMoveTextSliceOperation.detachFromParent",fn:()=>{b.detachFromParent();const e=[...b.iterateTextSliceTrees()].map((e=>e.getTextSlice()));try{M.appendChild(b)}catch(t){return f(C),N.id!==C.id&&N.id!==T.id&&f(N),{exit:!0}}if(s.args.isMerge){const e=g.getTextValue();null==l||l.logRemainingTextAfterMerge(k().AhH(e))}return{affectedTextSlices:e}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,userAction:u}});if("exit"in U)return;const D=U.affectedTextSlices;p({operation:"applyMoveTextSliceOperation.updateSourceBlock",fn:()=>{(0,Z().B4)({blockValue:y,textSliceTree:g,originalTextValue:v})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,userAction:u}}),p({operation:"applyMoveTextSliceOperation.updateTextInstanceBlockListMappingSourceBlock",fn:()=>{const e=Array.from(g.getTextInstanceIds()),t=n().R9(h,e);for(const r of t){const e=o.get(r);e?n().TF(e,(e=>e.id===y.id)):(0,K().MX)(r!==s.args.textInstanceId&&r!==s.args.targetTextInstanceId,"Text instance ID not in block mapping should not be in operation args.")}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,userAction:u}});const B={table:S().ev,id:y.id,spaceId:y.space_id};r({pointer:B,newValue:y});const O=T!==y?{table:S().ev,id:T.id,spaceId:T.space_id}:B;return T!==y&&(p({operation:"applyMoveTextSliceOperation.updateTargetBlockIfDifferent.setTextSliceTree",fn:()=>{(0,Z().B4)({blockValue:T,textSliceTree:x,originalTextValue:w})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,userAction:u}}),p({operation:"applyMoveTextSliceOperation.updateTargetBlockIfDifferent.updateTextInstanceBlocks",fn:()=>{const e=x.getTextInstanceIds(),t=[],r=new Set(P);for(const n of e)r.has(n)||t.push(n);for(const n of t){let e=o.get(n);void 0===e&&(e=[],o.set(n,e)),e.push(O)}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,numTargetTextInstanceIdsBefore:P.length,userAction:u}}),p({operation:"applyMoveTextSliceOperation.updateTargetBlockIfDifferent.setNewValue",fn:()=>{r({pointer:O,newValue:T})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,userAction:u}})),p({operation:"applyMoveTextSliceOperation.updateTextSliceBlockMappingEntries",fn:()=>{!function({textSliceBlockMappingMap:e,affectedTextSlices:t,sourceBlockPointer:r,targetBlockPointer:n,setNewValue:o}){if(r.id===n.id)return;for(const i of t){const t=(0,K().o9)(e.get(i.textInstanceId),"text_slice_block_mapping: text instance id doesn't exist"),a=(0,K().o9)(t.get(i.getSearchLabel()),"text_slice_block_mapping: search label doesn't exist");(0,K().MX)(r.id===a.block_id,"text_slice_block_mapping: old block ID should match");const s={...a,block_id:n.id,version:a.version+1};t.set(i.getSearchLabel(),s);o({pointer:{table:se().H,id:s.id,spaceId:s.space_id},newValue:s})}}({textSliceBlockMappingMap:i,affectedTextSlices:D,sourceBlockPointer:B,targetBlockPointer:O,setNewValue:r})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,numAffectedTextSlices:D.length,numTextSliceBlockMapping:i.size,userAction:u}}),y.alive||null==l||l.addTagsToCurrentSpan(s.args.isMerge?{"apply_move_text_slice_operation.merge_from_deleted_block":!0}:{"apply_move_text_slice_operation.split_deleted_block":!0}),T.alive||null==l||l.addTagsToCurrentSpan({"apply_move_text_slice_operation.merge_into_deleted_block":!0}),p({operation:"applyMoveTextSliceOperation.incrementMismatchedBlockVersion",fn:()=>{C.id!==y.id&&(f(C),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer()),N.id!==C.id&&N.id!==T.id&&(f(N),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer())},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:T.id,userAction:u}}),{sourceBlockPointer:B,targetBlockPointer:O}}var ce=()=>r(498212),de=()=>r(1591);function ue(e){const t=e.splitIntoSlices();return(0,K().MX)(2===t.length,"Text slice expected to be split into two slices"),{splitTextSlice:t[0],newTextSlice:t[1]}}function pe(e){var t;const{getRecordModel:r,setNewValue:o,textInstanceBlocksMap:i,textSliceBlockMappingMap:s,textOperation:l,logger:d,env:u,debugUserAction:p}=e,m=r.getRecordValue({id:l.args.targetBlockId,spaceId:l.pointer.spaceId,table:"block"}),f=(0,K().o9)(null==m||null===(t=m.crdt_data)||void 0===t?void 0:t.title,a().cf),_=W().iu({sessionId:(0,ae().b)(),serialized:f}).getTextSlice().textInstanceId,y=le({getRecordModel:r,setNewValue:o,textInstanceBlocksMap:i,textSliceBlockMappingMap:s,textOperation:{command:"moveTextSlice",pointer:l.pointer,path:[],opVersion:J().TU,args:{...l.args,sourceSearchLabel:l.args.sourceSearchLabel,targetTextInstanceId:_,targetSearchLabel:c().DI,targetTextSliceEndItemId:"end"}},logger:d,env:u,debugUserAction:p});if(!y)return;const{sourceBlockPointer:g,targetBlockPointer:b}=y;!function(e){var t;const{getRecordModel:r,setNewValue:o,sourceBlockPointer:i,targetBlockPointer:s}=e,l=(0,K().o9)(r.getRecordValue(i),a().pr),c=(0,K().o9)(r.getRecordValue(s),a().pr);if(l.parent_table!==S().ev||c.parent_table!==S().ev)return;if(l.id===c.id)return;if(c.parent_id===l.id&&c.id===(null===(t=l.content)||void 0===t?void 0:t[0]))return;const d={table:S().ev,id:l.parent_id,spaceId:l.space_id},u=(0,K().o9)(r.getRecordValue(d),a().pr),p={table:S().ev,id:c.parent_id,spaceId:c.space_id},m=p.id===d.id?u:(0,K().o9)(r.getRecordValue(p),a().pr);let f=(0,K().o9)(u.content,a().T_).indexOf(l.id);const _=(0,K().o9)(m.content,a().T_).indexOf(c.id);if(!l.alive)return;if((0,K().MX)(f>=0,"Expected source block to be in its parent's content array"),(0,K().MX)(_>=0,"Expected target block to be in its parent's content array"),c.parent_id===l.parent_id&&_===f+1)return;const y=(0,j().K)(u),g=p.id===d.id?y:(0,j().K)(m);(0,K().o9)(g.content,a().T_).splice(_,1);const b=(0,K().o9)(y.content,a().T_);if(f=b.indexOf(l.id),(0,K().MX)(f>=0,"Expected source block to be in content array"),b.splice(f+1,0,c.id),y.version+=1,o({pointer:d,newValue:y}),g!==y){const e=n().mg(c);e.parent_id=y.id,e.version+=1,o({pointer:s,newValue:e}),g.version+=1,o({pointer:p,newValue:g})}}({getRecordModel:r,setNewValue:o,sourceBlockPointer:g,targetBlockPointer:b})}var me=r.n(r(702189)),fe=()=>r(957705),_e=()=>r(826081);var ye=()=>r(855355);function ge(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:o,textSliceBlockMappingMap:i,textOperation:s,logger:l,env:c}=e,d=s.pointer;let u;try{u=function(e){const{getRecordModel:t,textInstanceBlocksMap:r,crdtOperation:o,env:i,textSliceBlockMappingMap:a,logger:s}=e,l=o.textInstanceId,c=(0,Z().rf)({getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:l,env:i}).map(n().mg),d=(0,Z().TA)(c,l,o.searchLabel,a,s),u=(0,Z().C5)({originId:o.originId,searchLabelTextSlices:d,newItemId:o.id});if(void 0===u)return;const{searchLabel:p,textSlice:m,originPresentInTextSlice:f}=u;m.applySplitTextOperation({op:o,originPresentInTextSlice:f,logger:s});const{splitTextSlice:_,newTextSlice:y}=ue(m);de().Ay.updateSearchLabelAfterSplit({splitTextSlice:_,newTextSlice:y});const g=(0,K().o9)(d.get(p),"textSliceWithContext for split not found"),b=g.textSliceBlockMappingValue,v={...b,search_label:_.getSearchLabel(),version:b.version+1},h={...b,id:(0,ce().lZ)(),search_label:y.getSearchLabel(),last_version:0,version:0};return{sourceBlockValue:g.blockValue,splitTextSlice:_,newTextSlice:y,splitTextSliceBlockMappingValue:v,newTextSliceBlockMappingValue:h,originalUnchangedSearchLabel:p}}({getRecordModel:t,textInstanceBlocksMap:o,textSliceBlockMappingMap:i,crdtOperation:J().k3(s),env:c,logger:l})}catch(h){if(h instanceof m().AMh)return;throw h}const{sourceBlockValue:p,splitTextSlice:f,newTextSlice:_,splitTextSliceBlockMappingValue:y,newTextSliceBlockMappingValue:g,originalUnchangedSearchLabel:b}=(0,K().o9)(u,"splitTextSliceResult must exist");p.version++;r({pointer:{table:S().ev,id:p.id,spaceId:p.space_id},newValue:p}),function(e){const{setNewValue:t,textSliceBlockMappingMap:r,splitTextSlice:n,newTextSlice:o,splitTextSliceBlockMappingValue:i,newTextSliceBlockMappingValue:a,originalUnchangedSearchLabel:s}=e,l={table:se().H,id:i.id,spaceId:i.space_id};t({pointer:l,newValue:i});const c={table:se().H,id:a.id,spaceId:a.space_id};t({pointer:c,newValue:a});const d=n.textInstanceId,u=(0,K().o9)(r.get(d),"text_slice_block_map entry for text instance expected to exist.");u.delete(s),u.set(n.getSearchLabel(),i),u.set(o.getSearchLabel(),a)}({setNewValue:r,textSliceBlockMappingMap:i,splitTextSlice:f,newTextSlice:_,splitTextSliceBlockMappingValue:y,newTextSliceBlockMappingValue:g,originalUnchangedSearchLabel:b});const v=function(e,t,r,n){const o=t.textInstanceId,i=(0,Z().$e)(e,n),s=(0,K().o9)(i.findTextSliceTreeContainingItemWithId(o,t.getStartItem().id),a().Dp);s.replaceTextSlice(t);const l=new(ye().Ay)((0,ae().b)(),r);return[...s.children].forEach((e=>{e.detachFromParent(),l.appendChild(e)})),s.appendChild(l),i}(p,f,_,l);if(function(e,t){e.crdt_data={title:W().lK(t)},e.crdt_format_version=q().vH,e.properties??={},e.properties.title=t.getTextValue()}(p,v),l){const e=(0,K().o9)(o.get(s.args.textInstanceId),"Split operation text instance not found in blocks map").length;l.logReadFanOut(e)}if(d.id!==p.id){const e=(0,j().K)((0,K().o9)(t.getRecordValue(d),a().pr));e.version+=2,r({pointer:d,newValue:e}),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer()}}function be(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:i,operation:s,logger:l,env:c,enforceMonotonicInsertTextOperations:d,debugUserAction:u,debugTags:p}=e;try{switch(s.command){case"insertText":case"deleteText":case"addAnnotation":case"removeAnnotation":return void function(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:i,textOperation:s,logger:l,env:c,enforceMonotonicInsertTextOperations:d=!1,debugUserAction:u}=e,p=s.pointer,f=J().k3(s),_=f.textInstanceId,y=(0,Z().rf)({getRecordModel:t,textInstanceBlocksMap:n,textInstanceId:_,env:c,logContext:{blockId:p.id,spaceId:p.spaceId}});(0,K().MX)(y.every((({space_id:e})=>e===y[0].space_id)),"Blocks containing slices of the same text instance should be in the same space.");const g=f.searchLabel,b=(0,Z().TA)(y,_,g,i,l);let v=[];const h={blockId:p.id,spaceId:p.spaceId,userAction:u,allBlockValuesIncludesBlockId:y.map((e=>e.id)).includes(p.id)},A=()=>({...h,textInstanceBlocksMap:(0,H().A)(n),textSliceBlockMappingMap:(0,H().A)(i)});try{const e={"crdt.op.text_instance_id":f.textInstanceId,"crdt.op.search_label":f.searchLabel};switch(f.type){case"insertText":v=Y({insertOperation:f,searchLabelTextSlices:b,env:c,enforceMonotonicInsertTextOperations:d,logger:l,getErrorContext:A}),null==l||l.addTagsToCurrentSpan({...e,"crdt.op.id_session":f.id[0],"crdt.op.id_clock_start":f.id[1],"crdt.op.id_clock_end":(0,G().b)(f),"crdt.op.origin_id":JSON.stringify(f.originId)});break;case"deleteText":v=ee({deleteOperation:f,searchLabelTextSlices:b}),null==l||l.addTagsToCurrentSpan(e);break;case"addAnnotation":case"removeAnnotation":v=oe({annotationOperation:f,searchLabelTextSlices:b,errorContext:h,logger:l}),null==l||l.addTagsToCurrentSpan(e);break;default:(0,o().HB)(f)}}catch(T){if(T instanceof m().AMh||T instanceof m().mh_)return;throw T}const I=new Map;for(const o of v){const{blockValue:e,textSlice:t}=(0,K().o9)(b.get(o),"Search label pointing at missing container"),r=t.getSliceKey(),n=e.id,i=I.get(n)??(0,j().K)(e),s=(0,K().o9)(i.crdt_data,a().bp);(0,K().MX)((0,q().Ux)(i),"Invalid CRDT version"),(0,K().o9)(s.title[W().p.nodes][r],"Title expected to exist")[W().p.textSlice]=z().lK(t),I.set(n,i)}const k=new Set;for(const[o,a]of I){const e={table:S().ev,id:o,spaceId:a.space_id},n=(0,K().o9)(t.getRecordValue(e),"Original block value expected to exist");let i,d;try{i=(0,Z().$e)(n,l)}catch(x){throw new(m().QkH)("Failed to parse text slice tree from original block value",{error:x,data:{...["local","development"].includes(c)&&{crdtOperation:s}}})}try{d=(0,Z().$e)(a,l)}catch(x){throw new(m().QkH)("Failed to parse text slice tree from new block value",{error:x,data:{...["local","development"].includes(c)&&{crdtOperation:s}}})}d.equals(i)||(k.add(o),(0,Z().B4)({blockValue:a,textSliceTree:d,originalTextValue:i.getTextValue()}),r({pointer:e,newValue:a}),a.alive||null==l||l.addTagsToCurrentSpan({"apply_basic_text_operation.edit_to_deleted_block":!0}))}if(null==l||l.logReadFanOut(I.size),null==l||l.logWriteFanOut(k.size),"deleteText"!==f.type&&k.size<=0){const e=(0,Z()._G)(b),t=5e3;(0,K().MX)(!1,`At least one block should have been modified by ${f.type} operation`,["development","local"].includes(c)?{searchLabelTextSlices:e.length<t?e:`${e.slice(0,t)} trimmed`}:{})}if(k.size>1||1===k.size&&[...k][0]!==p.id){const e=(0,j().K)((0,K().o9)(t.getRecordValue(p),"Modified block value expected to exist"));e.version+=2,r({pointer:p,newValue:e}),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer()}}({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:i,textOperation:s,logger:l,env:c,enforceMonotonicInsertTextOperations:d,debugUserAction:u});case"splitText":return void ge({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:i,textOperation:s,logger:l,env:c});case"moveTextSlice":return void le({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:i,textOperation:s,logger:l,env:c,debugUserAction:u});case"moveTextSliceIntoBlock":return void pe({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:i,textOperation:s,logger:l,env:c});case"replaceTextInBlock":return void function(e){const{getRecordModel:t,setNewValue:r,textOperation:n,logger:o,debugUserAction:i}=e,s=i??"",l=o?(...e)=>o.traceSync(...e):({fn:e})=>e(),c=(e=>l({operation:"applyReplaceTextInBlockOperation.cloneBlockValue",fn:()=>(0,j().K)(e),minDurationMs:100,tags:{blockId:e.id,userAction:s}}))((0,K().o9)(t.getRecordValue(n.pointer),a().pr)),d=(e=>l({operation:"applyReplaceTextInBlockOperation.getTextSliceTreeFromBlock",fn:()=>(0,Z().$e)(e,o),minDurationMs:100,tags:{blockId:e.id,userAction:s}}))(c),u=d.getTextValue(),p=(0,k().q4_)(u),m=(0,k().q4_)(n.args.textValue),f=(0,_e().rE)(p,m);let _=0;for(const[a,b]of f)switch(a){case me().DIFF_DELETE:d.deleteText(_,_+b.length-1);break;case me().DIFF_INSERT:d.insertTextValue(_,[[b]]),_+=b.length;break;case me().DIFF_EQUAL:_+=b.length;break;default:throw new Error(`unhandled diff type: ${a}`)}const{originalAnnotationRanges:y,newAnnotationRanges:g}=l({operation:"applyReplaceTextInBlockOperation.getAnnotationRanges",fn:()=>({originalAnnotationRanges:(0,fe().k)(d.getTextValue()),newAnnotationRanges:(0,fe().k)(n.args.textValue)}),minDurationMs:100,tags:{blockId:c.id,userAction:s}});l({operation:"applyReplaceTextInBlockOperation.removeOriginalAnnotations",fn:()=>{for(const e of y.values()){e.sort(((e,t)=>e.sortIndex-t.sortIndex));for(const{startIndex:t,endIndex:r,annotation:n}of e){const e=(0,k().JIi)(n);d.removeAnnotation(t,r,e,!0)}}},minDurationMs:100,tags:{blockId:c.id,numOriginalAnnotationRanges:y.size,userAction:s}}),l({operation:"applyReplaceTextInBlockOperation.addNewAnnotations",fn:()=>{for(const e of g.values()){e.sort(((e,t)=>e.sortIndex-t.sortIndex));for(const{startIndex:t,endIndex:r,annotation:n}of e)d.addAnnotation(t,r,n)}},minDurationMs:100,tags:{blockId:c.id,numNewAnnotationRanges:g.size,userAction:s}}),l({operation:"applyReplaceTextInBlockOperation.setTextSliceTreeAndUpdateDiscussions",fn:()=>{(0,Z().B4)({blockValue:c,textSliceTree:d,originalTextValue:u})},minDurationMs:100,tags:{blockId:c.id,userAction:s}}),r({pointer:n.pointer,newValue:c})}({getRecordModel:t,setNewValue:r,textOperation:s,logger:l,debugUserAction:u});default:(0,o().HB)(s)}}catch(f){throw(0,m().ubK)(f)&&(f.data={...f.data??{},transactionCreatedWhileOffline:(null==p?void 0:p.includes("tx_tag.created_while_offline"))??!1}),f}}var ve=()=>r(220719);const he={set:function(e){return n().mg(e)},update:function(e,t={}){return{...t,...n().mg(e)}},listBefore:function(e,t){let r=Array.isArray(t)?t:[];r=_({id:e.id},r);const n=r.findIndex((t=>t===e.before));return n>=0?r.splice(n,0,e.id):r.unshift(e.id),r},listAfter:function(e,t){let r=Array.isArray(t)?t:[];r=_({id:e.id},r);const n=r.findIndex((t=>t===e.after));return n>=0?r.splice(n+1,0,e.id):r.push(e.id),r},listRemove:_,listReplace:function(e,t){let r=Array.isArray(t)?t:[];return r=r.map((t=>t===e.id?e.newId:t)),r},listAfterMulti:function(e,t){const r=new Set(e.ids),n=(Array.isArray(t)?t:[]).filter((e=>!r.has(e))),o=n.findIndex((t=>t===e.after));return o>=0?n.splice(o+1,0,...e.ids):n.push(...e.ids),n},listBeforeMulti:function(e,t){const r=new Set(e.ids),n=(Array.isArray(t)?t:[]).filter((e=>!r.has(e))),o=n.findIndex((t=>t===e.before));return o>=0?n.splice(o,0,...e.ids):n.unshift(...e.ids),n},keyedObjectListBefore:function(e,t){const r=e.key??"id",o=(0,n().mg)(e.value);let i=Array.isArray(t)?t:[];i=y({key:r,remove:o,caseInsensitive:e.caseInsensitive},i);const a=e.before?e.before[r]:void 0,s=i.findIndex((t=>t&&void 0!==t[r]&&void 0!==a&&f(t[r],a,e.caseInsensitive)));return s>=0?i.splice(s,0,o):i.unshift(o),i},keyedObjectListAfter:function(e,t){const r=e.key??"id",o=(0,n().mg)(e.value);let i=Array.isArray(t)?t:[];i=y({key:r,remove:o,caseInsensitive:e.caseInsensitive},i);const a=e.after?e.after[r]:void 0,s=i.findIndex((t=>t&&void 0!==t[r]&&void 0!==a&&f(t[r],a,e.caseInsensitive)));return s>=0?i.splice(s+1,0,o):i.push(o),i},keyedObjectListRemove:y,keyedObjectListUpdate:function(e,t){const r=e.key??"id",o=(0,n().mg)(e.value),i=Array.isArray(t)?[...t]:[],a=i.findIndex((t=>t&&t[r]&&f(t[r],e.value[r],e.caseInsensitive)));return a>=0?i[a]={...i[a],...o}:i.push(o),i},appendActivity:r(813206).up,setPermissionItem:function(e,t){let r=t||[];if("public_permission"===e.type){const t=r.filter((e=>(0,h().FP)(e))).map((e=>e.added_timestamp||0));t.length>0?e.added_timestamp=Math.min(...t):e.added_timestamp=(new Date).getTime()}return r=r.filter((t=>!(0,v().nK)(t,e))),r.push(e),r=r.filter((e=>!(0,h().hI)(e)||"none"!==(0,h().Lw)(e)||(0,h().i4)(e)&&void 0!==e.can_create_pages_in_collection)),r},temporarySetPermissionItemForBackfill:function(e,t){let r=t||[];return r=r.filter((t=>!(0,v().nK)(t,e))),r.push(e),r=r.filter((e=>!(0,h().hI)(e)||"none"!==(0,h().Lw)(e))),r},setSingletonPermissionItem:function(e,t){const{singletonPermissionItem:r,set:n}=e;let o=t||[];return o=o.filter((e=>!(0,v().nK)(e,r))),n&&o.push(r),o},addRelationAfter:function(e,t){return U({value:{id:e.id,spaceId:e.spaceId,table:S().ev},after:e.after?{id:e.after,spaceId:e.spaceId,table:S().ev}:void 0,currentValueAtPath:t,fromTextValueFn:A().n,toTextValueFn:A().Ap,equalityFn:I().L3.isEqualIdTable})},addRelationBefore:function(e,t){return D({value:{id:e.id,spaceId:e.spaceId,table:S().ev},before:e.before?{id:e.before,spaceId:e.spaceId,table:S().ev}:void 0,currentValueAtPath:t,fromTextValueFn:A().n,toTextValueFn:A().Ap,equalityFn:I().L3.isEqualIdTable})},addRelations:function(e,t){const r=n().Gv(t)?t:{},o={...r};for(const n in e){const t=e[n],i=(0,A().n)(r[n]),a=I().L3.uniq([...i,...t.map((e=>({id:e.id,spaceId:e.spaceId,table:S().ev})))]);o[n]=(0,A().Ap)(a)}return o},removeRelation:function(e,t){return(0,A().Ap)(B({value:{id:e.id,spaceId:e.spaceId,table:S().ev},currentValues:(0,A().n)(t),equalityFn:I().L3.isEqualIdTable}))},addPersonAfter:function(e,t){return U({value:e.pointer,after:e.after,currentValueAtPath:t,fromTextValueFn:e=>(0,k().ELt)({value:e,includeTemplateVariables:!0}),toTextValueFn:x().R,equalityFn:C})},addPersonBefore:function(e,t){return D({value:e.pointer,before:e.before,currentValueAtPath:t,fromTextValueFn:e=>(0,k().ELt)({value:e,includeTemplateVariables:!0}),toTextValueFn:x().R,equalityFn:C})},removePerson:function(e,t){return(0,x().R)(B({value:e.pointer,currentValues:(0,k().ELt)({value:t,includeTemplateVariables:!0}),equalityFn:C}))},addSelectOptionAfter:function(e,t){return U({value:e.option,after:e.after,currentValueAtPath:t,fromTextValueFn:A().yH,toTextValueFn:A().rK,equalityFn:N})},addSelectOptionBefore:function(e,t){return D({value:e.option,before:e.before,currentValueAtPath:t,fromTextValueFn:A().yH,toTextValueFn:A().rK,equalityFn:N})},removeSelectOption:function(e,t){const r=B({value:e.option,currentValues:(0,A().yH)(t),equalityFn:N});return r.length>0?(0,A().rK)(r):[]},addEdge:u().S,copyFile:function(e,t){const r=t.file_ids||[];return r.includes(e.fileId)?{...t}:{...t,file_ids:[...r,e.fileId]}},removeTeamMembershipItem:V().Gy,setTeamMembershipItem:V().aw,ensureScheduleId:function(e,t){const{id:r,scheduleId:n}=e,i=t||{};return(0,o().O9)(i[r])?i:{...i,[r]:n}}};function Ae(e,t){return function(e,t){return e.pointer.table===S().ev&&0===e.path.length&&(0,o().Gv)(e.args)&&!Array.isArray(e.args)&&(0,o().Gv)(t)&&!Array.isArray(t)&&0===Object.keys(t).length}(e,t)||function(e,t){return e.pointer.table===F().IT&&0===e.path.length&&(0,o().Gv)(e.args)&&!Array.isArray(e.args)&&(0,o().Gv)(t)&&!Array.isArray(t)&&0===Object.keys(t).length}(e,t)?{pointer:e.pointer,path:[],command:"update",args:{alive:!1}}:{pointer:e.pointer,path:e.path,command:"set",args:i().pN(t)?null:t}}function Ie(e){return void 0===e.size?1:e.size}function Se(e,t,r){if(0===t.length)throw new(m().Umn)("Empty path to set");const o=n().mg(e);let i=o;for(let a=0;a<t.length;a++){const e=t[a],o=(0,b().JZ)(e)?n().SL(i,{id:e.id}):e;if(a===t.length-1)i[o]=r;else{let e=i[o];null==e&&(e="number"==typeof t[a+1]?[]:{}),i[o]=e,i=e}}return o}function ke(e,t,r={}){const n=t||{},o=e.path.length>0?(0,b().OU)(n,e.path):n,a=n.version?n.version+Ie(e):Ie(e),s=he[e.command];if(!s)throw new Error(`Unknown operation command ${e.command}.`);if(void 0!==e.expectedVersion&&n.version&&e.expectedVersion!==n.version){if(!e.onlyLogVersionMismatch)throw new(m().KhW)("Mismatching expected and actual versions for the record",{clientData:{type:"operation_conflict",expectedVersion:e.expectedVersion,currentVersion:n.version,command:e.command,path:e.path,pointer:e.pointer}});var l;null===(l=r.logExpectedVersionMismatch)||void 0===l||l.call(r)}const c=s(e.args,o),u=e.path.length>0?Se(n,e.path,c):c,p=L().Ay[e.pointer.table],f=p.requiredColumns||{},_=p.defaultColumnValues||{};for(const d of Object.keys(f))!t||i().pN(t[d])||u&&!i().pN(u[d])||(u[d]=_.hasOwnProperty(d)?_[d]:t[d]);if(u&&t){const e=t.file_ids||[];if((u.file_ids||[]).length<e.length){var y;if(r.allowFileIdsRemoval)null===(y=r.logFileIdsRemoval)||void 0===y||y.call(r);r.allowFileIdsRemoval||(u.file_ids=e)}}return{...(0,d().A)(u,"mangle-class-instances",e.path||[]),id:e.pointer.id,version:a}}function Te(e,t){let r;switch(t=t||{},r=e.path.length>0?(0,b().OU)(t,e.path):t,e.command){case"set":return Ae(e,r);case"update":return function(e,t){t||(t={});const r={};return Object.keys(e.args).forEach((e=>{r[e]=t[e],void 0===r[e]&&(r[e]=null)})),{pointer:e.pointer,path:e.path,command:"update",args:r}}(e,r);case"listBefore":return function(e,t){const r=Array.isArray(t)?t:[],n=r.findIndex((t=>t===e.args.id));if(n>=0){if(n+1===r.length)return{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id}};const t=r[n+1];return{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id,before:t}}}return{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}}(e,r);case"listAfter":return function(e,t){const r=Array.isArray(t)?t:[],n=r.findIndex((t=>t===e.args.id));if(n>0){const t=r[n-1];return{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:t}}}return 0===n?{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id}}:{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}}(e,r);case"listRemove":return function(e,t){const r=Array.isArray(t)?t:[],n=r.findIndex((t=>t===e.args.id)),o=r[n-1];return o?{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:o}}:{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id}}}(e,r);case"keyedObjectListBefore":return function(e,t){const r=e.args.key??"id",n=Array.isArray(t)?t:[],o=n.findIndex((t=>t&&t[r]&&f(t[r],e.args.value[r],e.args.caseInsensitive)));if(o>=0){if(o+1===n.length)return{pointer:e.pointer,path:e.path,command:"keyedObjectListAfter",args:{...e.args,value:n[o]}};const t=n[o+1];return{pointer:e.pointer,path:e.path,command:"keyedObjectListBefore",args:{key:r,value:n[o],before:t,caseInsensitive:e.args.caseInsensitive}}}return{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.value,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"keyedObjectListAfter":return function(e,t){const r=e.args.key??"id",n=Array.isArray(t)?t:[],o=n.findIndex((t=>t&&t[r]&&f(t[r],e.args.value[r],e.args.caseInsensitive)));if(o>0){const t=n[o-1];return{pointer:e.pointer,path:e.path,command:"keyedObjectListAfter",args:{key:r,value:n[o],after:t,caseInsensitive:e.args.caseInsensitive}}}return 0===o?{pointer:e.pointer,path:e.path,command:"keyedObjectListBefore",args:{key:r,value:n[o],caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.value,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"keyedObjectListRemove":return function(e,t){const r=e.args.key??"id",n=Array.isArray(t)?t:[],o=n.findIndex((t=>t&&t[r]&&f(t[r],e.args.remove[r],e.args.caseInsensitive))),i=n[o],a=n[o-1];return i?a?{pointer:e.pointer,path:e.path,command:"keyedObjectListAfter",args:{key:r,value:i,after:a,caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListBefore",args:{key:r,value:i,caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.remove,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"keyedObjectListUpdate":return function(e,t){const r=e.args.key??"id";t||(t={});const n=(Array.isArray(t)?t:[]).find((t=>t&&t[r]&&f(t[r],e.args.value[r],e.args.caseInsensitive)));return n?{pointer:e.pointer,path:e.path,command:"keyedObjectListUpdate",args:{key:r,value:n,caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.value,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"addEdge":return u().x(e,r);case"addRelationAfter":case"addRelationBefore":return E(e,r);case"removeRelation":return function(e,t){const r=(0,A().n)(t);return R({removedValue:{id:e.args.id,spaceId:e.args.spaceId,table:S().ev},previousValues:r,equalityFn:I().L3.isEqualIdTable,createAddAfterOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addRelationAfter",args:{id:t.id,after:null==r?void 0:r.id,spaceId:t.spaceId}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addRelationBefore",args:{id:t.id,before:null==r?void 0:r.id,spaceId:t.spaceId}})})}(e,r);case"addPersonAfter":case"addPersonBefore":return w(e,r);case"removePerson":return function(e,t){const r=(0,k().jEb)({value:t});return R({removedValue:e.args.pointer,previousValues:r,equalityFn:C,createAddAfterOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addPersonAfter",args:{pointer:t,after:r}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addPersonBefore",args:{pointer:t,before:r}})})}(e,r);case"addSelectOptionAfter":case"addSelectOptionBefore":return P(e,r);case"removeSelectOption":return function(e,t){const r=(0,A().yH)(t);return R({removedValue:e.args.option,previousValues:r,equalityFn:N,createAddAfterOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addSelectOptionAfter",args:{option:t,after:r}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addSelectOptionBefore",args:{option:t,before:r}})})}(e,r);case"appendActivity":case"listReplace":case"setPermissionItem":case"temporarySetPermissionItemForBackfill":case"setSingletonPermissionItem":case"addRelations":case"copyFile":case"listBeforeMulti":case"listAfterMulti":case"removeTeamMembershipItem":case"setTeamMembershipItem":case"ensureScheduleId":return;default:(0,o().HB)(e)}}function xe(e){return"copyFile"===e.command}function Me(e){const{getRecordModel:t,setNewValue:r,recordOperations:n,updateOnly:o,options:i}=e;for(const a of n)if((0,b().mP)(a)){const e=(0,p().d4)(a,t.getRecordValue,t);for(const n of e)we({primitiveOperation:n,getRecordModel:t,setNewValue:r,updateOnly:o,options:i})}else we({primitiveOperation:a,getRecordModel:t,setNewValue:r,updateOnly:o,options:i})}function we(e){const{getRecordModel:t,setNewValue:r,primitiveOperation:n,updateOnly:o,options:i}=e,a=t.getRecordValue(n.pointer);if(!o||a){var s,l;const e=null===(s=i.getBlockCrdtDataForRestore)||void 0===s?void 0:s.call(i,n),t=ke(n,a,i);r({pointer:n.pointer,newValue:t}),null===(l=i.onPrimitiveOperationApplied)||void 0===l||l.call(i,{primitiveOperation:n,blockCrdtDataBeforeOperation:e})}}function Ce(e){const{recordMap:t,operations:r,updateOnly:n=!1,options:o={}}=e,i=g().b4_.fromRecordMap(t),a=e=>t.setValue(e.pointer,e.newValue),s=r.some((e=>(0,J().ph)(e))),{textInstanceBlocksMap:c,textSliceBlockMappingMap:d}=e.crdtMaps??(s?Pe.getCrdtMapsFromRecordMap(t):{textInstanceBlocksMap:new Map,textSliceBlockMappingMap:new Map});for(const u of r)(0,J().ph)(u)?((0,ve().MX)(s,"TextOperation requires CRDT handling"),be({getRecordModel:i,setNewValue:a,textInstanceBlocksMap:c,textSliceBlockMappingMap:d,operation:u,env:l()})):("set"===u.command&&s&&Ne(u,c,d),Me({getRecordModel:i,setNewValue:a,recordOperations:[u],updateOnly:n,options:o}));return{textInstanceBlocksMap:c,textSliceBlockMappingMap:d}}function Ne(e,t,r){if(e.pointer.table!==S().ev)return;const n=(0,s().Fl)(e.pointer.id,"title"),o=(0,ve().o9)(e.pointer.spaceId??("object"==typeof e.args&&null!==e.args&&"space_id"in e.args&&"string"==typeof e.args.space_id?e.args.space_id:void 0));t.set(n,[e.pointer]),r.set(n,function({id:e,blockId:t,spaceId:r,textInstanceId:n}){const o={id:e,space_id:r,text_instance_id:n,search_label:c().DI,block_id:t,version:0,last_version:0};return new Map([[c().DI,o]])}({id:"in-memory-only",textInstanceId:n,blockId:e.pointer.id,spaceId:o}))}const Pe={getCrdtMapsFromRecordMap:function(e){const t=new Map,r=new Map;for(const n of e.getModelsByTable(S().ev)){if(!n.isCrdtEnabled())continue;const e=(0,ve().o9)(n.getBlockTitleTextSliceTree(),a().cf),o=e.getTextInstanceIds();for(const r of o){const e=t.get(r);e?e.push(n.pointer):t.set(r,[n.pointer])}const i=n.getSpaceId();for(const t of e.iterateTextSliceTrees()){const e=t.getTextSlice(),o=e.textInstanceId,a=e.getSearchLabel(),s={id:"in-memory-only",space_id:i,text_instance_id:o,search_label:a,block_id:n.pointer.id,version:0,last_version:0},l=r.get(o);if(l)l.set(a,s);else{const e=new Map([[a,s]]);r.set(o,e)}}}return{textInstanceBlocksMap:t,textSliceBlockMappingMap:r}}}},329251:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>i});var n=()=>r(292588);const o="external_entity",i={table:o,columnTypes:{id:n().A.UUID,entity_type:n().A.String,external_identifier:n().A.String,external_display_name:n().A.String,metainfo:n().A.JSON,external_integration_id:n().A.String,bot_id:n().A.String,user_id:n().A.UUID,space_id:n().A.UUID,alive:n().A.Boolean,version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.String,updated_by_table:n().A.String,updated_by_id:n().A.String,external_workspace_id:n().A.String},model:(0,r(152853).P)({})}},332737:(e,t,r)=>{r.d(t,{l:()=>o});var n=()=>r(997769);function o(e){const t=n().I6(e);if(t[0]){const r=t[0].href;return e.startsWith(r)&&e.slice(r.length).match(/^[^\s]+$/)?e:r}return e}},335452:(e,t,r)=>{r.d(t,{n:()=>i});var n=()=>r(534177),o=()=>r(754195);function i(e){return t=e.operator,!!(0,n().O)(o().hV,t);var t}},335997:(e,t,r)=>{function n(e){return void 0===e||isNaN(e)?[]:[[e.toString()]]}r.d(t,{h:()=>n})},338180:(e,t,r)=>{r.d(t,{A:()=>i,o:()=>o});var n=()=>r(292588);const o="legal_hold_page",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,legal_hold_id:n().A.UUID,block_id:n().A.UUID},requiredColumns:{id:!0,version:!0,space_id:!0,legal_hold_id:!0,block_id:!0},model:(0,r(152853).P)({RecordStore:!1})}},338528:(e,t,r)=>{r.d(t,{r:()=>o});r(898992),r(908872);var n=()=>r(803884);function o(e,t,r){if(!e)return;const o=n().Zx(e),i=Array.from(o).reduce(((e,r)=>{const n=t({value:0,textInstanceId:r});return e[r]=n,e}),{});return n().iu({sessionId:r,serialized:e,opClockValueHolderMap:i})}},343462:(e,t,r)=>{r.d(t,{M:()=>i});var n=()=>r(534177),o=()=>r(466118);function i(e){return t=e.operator,!!(0,n().O)(o().g,t);var t}},343666:(e,t,r)=>{r.d(t,{Ay:()=>a,SN:()=>i,r0:()=>o});var n=()=>r(292588);const o={discussion:!0},i="comment";const a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,text:n().A.JSON,created_time:n().A.Number,last_edited_time:n().A.Number,alive:n().A.Boolean,created_by_table:n().A.String,created_by_id:n().A.UUID,space_id:n().A.UUID,content:n().A.UUIDArray,reactions:n().A.UUIDArray,display_name:n().A.JSON},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},343747:(e,t,r)=>{r.d(t,{Ay:()=>a,RB:()=>o,rG:()=>i});var n=()=>r(292588);const o={avatar:"avatar",identifier:"identifier",title:"title",primary:"primary",secondary:"secondary",body:"body",entity:"entity",embed:"embed",background:"background"},i="external_object",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_edited_time:n().A.Number,external_created_at:n().A.Number,external_last_edited_time:n().A.Number,bot_id:n().A.UUID,space_id:n().A.UUID,uri:n().A.String,attributes:n().A.JSON,error:n().A.JSON,schema:n().A.JSON,external_collection_uris:n().A.StringArray,sync_state:n().A.JSON,metadata:n().A.JSON}}},349835:(e,t,r)=>{r.d(t,{FormulaDependencyLimitError:()=>u,I3:()=>d,IA:()=>p,Lc:()=>c,M9:()=>o,NM:()=>n,uW:()=>s,v3:()=>i,x4:()=>a});r(16280);let n=function(e){return e.Number="number",e.String="string",e.Boolean="boolean",e.Array="array",e.Identifier="identifier",e.NotionToken="notionToken",e.Conditional="conditional",e.LogicalOr="logicalOr",e.LogicalAnd="logicalAnd",e.Equality="equality",e.Relational="relational",e.Additive="additive",e.Multiplicative="multiplicative",e.Exponentiation="exponentiation",e.Unary="unary",e.Call="call",e.UnifiedFunctionProperty="unifiedFunctionProperty",e.MemberBlockProperty="memberProperty",e.RecoveryNode="recovery",e}({});Object.values(n);let o=function(e){return e.InvalidCharacter="InvalidCharacter",e.UnclosedStringLiteral="UnclosedStringLiteral",e.UnclosedComment="UnclosedComment",e.TokenExpected="TokenExpected",e.StringLiteralContainsToken="StringLiteralContainsToken",e.ExpressionExpected="ExpressionExpected",e.PropertyTokenOrFunctionExpected="PropertyTokenOrFunctionExpected",e.EndOfInputExpected="EndOfInputExpected",e.UnexpectedError="UnexpectedError",e.TooDeeplyNested="TooDeeplyNested",e}({}),i=function(e){return e.DateInvalidDurationUnit="DateInvalidDurationUnit",e.TryingToGetIdWithoutThisRow="TryingToGetIdWithoutThisRow",e.LetBindingNameNotIdentifier="LetBindingNameNotIdentifier",e.NotEnoughArguments="NotEnoughArguments",e.UserNotFound="UserNotFound",e.CannotUseToNumberOnList="CannotUseToNumberOnList",e.CannotRoundToNonInteger="CannotRoundToNonInteger",e.CannotRoundToTooManyDecimalPlaces="CannotRoundToTooManyDecimalPlaces",e.NumberFormatInvalid="NumberFormatInvalid",e}({});class a extends Error{constructor(e){super(),this.info=void 0,this.info=e}toFormulaEvaluatorError(e,t){return new d({type:s.LibraryFunctionExecutionError,node:e,libraryFunction:t,error:this})}}let s=function(e){return e.MissingThisRow="MissingThisRow",e.MissingSchemaPropertyOnThisRow="MissingSchemaPropertyOnThisRow",e.MissingSchemaPropertyOnCollection="MissingSchemaPropertyOnCollection",e.ThisRowBlockPropertyMismatchCollection="ThisRowBlockPropertyMismatchCollection",e.MissingContextVariable="MissingContextVariableEval",e.IdentifierNotFound="IdentifierNotFound",e.CannotRelativelyCompareTypes="CannotRelativelyCompareTypesEval",e.CannotDoMathOnType="CannotDoMathOnTypeEval",e.CannotCallNonFunction="CannotCallNonFunction",e.UnifiedFunctionPropertyNotFound="UnifiedFunctionPropertyNotFound",e.LibraryFunctionExecutionError="LibraryFunctionExecutionError",e.FunctionCallTooFewArguments="FunctionCallTooFewArgumentsEval",e.FunctionCallUnexpectedArgument="FunctionCallUnexpectedArgumentEval",e.FunctionCallArgumentWrongType="FunctionCallArgumentWrongTypeEval",e.AccessingPropertyOnNonBlock="AccessingPropertyOnNonBlock",e.MissingDataDependencyBlock="MissingDataDependencyBlock",e.MissingDataDependencyPerson="MissingDataDependencyPerson",e.MemberPropertyMismatchCollection="MemberPropertyMismatchCollectionEval",e.MissingPropertyOnSchemaForMemberProperty="MissingPropertyOnSchemaForMemberProperty",e.UnaryMinusOnNonNumber="UnaryMinusOnNonNumberEval",e.UnexpectedRecoveryNode="UnexpectedRecoveryNode",e.UnexpectedError="UnexpectedEvalError",e.DepthExceeded="DepthExceeded",e.CycleDetected="CycleDetected",e.DownstreamParseFailure="DownstreamParseFailure",e.MaxEvaluationTimeExceeded="MaxEvaluationTimeExceeded",e.ContextVariableWrongType="ContextVariableWrongType",e.DisallowedValueType="DisallowedValueType",e.TotalDependencyLimitExceeded="TotalDependencyLimitExceeded",e.PerFormulaDependencyLimitExceeded="PerFormulaDependencyLimitExceeded",e}({});const l=[s.CycleDetected,s.DepthExceeded,s.MaxEvaluationTimeExceeded,s.TotalDependencyLimitExceeded,s.PerFormulaDependencyLimitExceeded];function c(e){return l.includes(e.type)}class d extends Error{constructor(e){super(e.type),this.info=void 0,this.info=e,this.name="FormulaEvaluatorError"}}class u extends Error{constructor(e){super(`Formula dependency limit exceeded: ${e.limitType}`),this.limitType=void 0,this.loaded=void 0,this.limit=void 0,this.name="FormulaDependencyLimitError",this.limitType=e.limitType,this.loaded=e.loaded,this.limit=e.limit}}let p=function(e){return e.ThisRowTypeNotFound="ThisRowTypeNotFound",e.ThisRowNotBlockWithCollection="ThisRowNotBlockWithCollection",e.ContextVariableNotBlockWithCollection="ContextVariableNotBlockWithCollection",e.MissingPropertyOnThisRow="MissingPropertyOnThisRow",e.MissingPropertyOnContextVariable="MissingPropertyOnContextVariable",e.MissingContextVariable="MissingContextVariable",e.MissingBlock="MissingBlock",e.CallingNotFunction="CallingNotFunction",e.FunctionCallTooFewArguments="FunctionCallTooFewArguments",e.FunctionCallUnexpectedArgument="FunctionCallUnexpectedArgument",e.FunctionCallArgumentWrongType="FunctionCallArgumentWrongType",e.CallingFunctionWithUnknownArgument="CallingFunctionWithUnknownArgument",e.MemberPropertyMismatchCollection="MemberPropertyMismatchCollection",e.MemberPropertyMissing="MemberPropertyMissing",e.MemberPropertyTargetNotBlock="MemberPropertyTargetNotBlock",e.MemberPropertyTypeInvalid="MemberPropertyTypeInvalid",e.UndefinedIdentifier="UndefinedIdentifier",e.InvalidPropCall="InvalidPropCall",e.InvalidContextCall="InvalidContextCall",e.InvalidVariableCall="InvalidVariableCall",e.UnifiedFunctionCannotFindFunction="UnifiedFunctionCannotFindFunction",e.UnifiedFunctionNoArguments="UnifiedFunctionNoArguments",e.UnifiedFunctionTargetWrongType="UnifiedFunctionTargetWrongType",e.CallingFunctionWithUnknownTarget="CallingFunctionWithUnknownTarget",e.CannotRelativelyCompareTypes="CannotRelativelyCompareTypes",e.CannotDoMathOnType="CannotDoMathOnType",e.UnaryMinusOnNonNumber="UnaryMinusOnNonNumber",e.IdentifierExpected="IdentifierExpected",e.FunctionCallExpected="FunctionCallExpected",e.RenamedIdentifier="RenamedIdentifier",e.RemovedFunction="RemovedFunction",e.BlockPropertyTypeInvalid="BlockPropertyTypeInvalid",e.DisallowedReturnType="DisallowedReturnType",e.CrossSpacePropertyNotSupported="CrossSpacePropertyNotSupported",e.CalledFunctionOnEmptyValue="CalledFunctionOnEmptyValue",e}({})},356246:(e,t,r)=>{r.d(t,{Bz:()=>u,I1:()=>o,QO:()=>c,UL:()=>d,ZO:()=>s,h4:()=>a,lM:()=>l,oP:()=>i});var n=()=>r(534177);const o="Yes",i="No",a=[[o]],s=[[i]],l={checked:!0,unchecked:!0,percent_checked:!0,percent_unchecked:!0},c=(0,n().uv)(l),d={checkbox_is:!0,checkbox_is_not:!0},u=(0,n().uv)(d)},363170:(e,t,r)=>{r.d(t,{e:()=>i});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(452540),o=()=>r(201980);function i(e){const{textValue:t,propertySchema:r,blockCreatorPointer:i,bypassLimit:a,skipDefault:s,convertGroupPointersToBeComposite:l}=e;if("person"!==(null==r?void 0:r.type))return[];const c=o().jEb({value:t,convertGroupPointersToBeComposite:l}),d=new Set;let u=[];for(const o of c){const e=(0,n().jV)(o);d.has(e)||(d.add(e),u.push(o))}return 0===u.length&&"created_by"===r.default&&i&&!s&&(u=[i]),r.limit&&!a?u.slice(0,1):u}},363497:(e,t,r)=>{r.d(t,{Ay:()=>a,TF:()=>o,oe:()=>i});var n=()=>r(292588);const o="assistant_chat_session",i={space_view:!0},a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,created_time:n().A.Number,chat_step_id:n().A.UUID,type:n().A.String,parent_external_id:n().A.String,alive:n().A.Boolean,properties:n().A.JSON,file_ids:n().A.StringArray},requiredColumns:{id:!0,version:!0,space_id:!0,type:!0,created_time:!0,alive:!0,chat_step_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},365970:(e,t,r)=>{r.d(t,{Ay:()=>l,R:()=>o,TW:()=>i,en:()=>s,y_:()=>a});var n=()=>r(292588);const o=["creator_intervention","requested","processing","stripe_processing"],i=["cancelled","successful","denied"],a=["not_as_described","not_wanted","not_needed","unable_to_use","not_added","custom"],s="marketplace_refund",l={table:s,columnTypes:{id:n().A.UUID,requester_table:n().A.String,requester_id:n().A.UUID,acquisition_id:n().A.UUID,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,status:n().A.String,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,requester_table:!0,requester_id:!0,acquisition_id:!0,created_time:!0,updated_time:!0,status:!0},model:(0,r(152853).P)({RecordStore:!0})}},370085:(e,t,r)=>{r.d(t,{$F:()=>i,Mr:()=>s,TQ:()=>l,mJ:()=>a,yx:()=>c});r(898992),r(354520);var n=()=>r(179034),o=()=>r(96689);function i(e){const{pointer:t,parent_table:r,parent_id:n,alive:o}=e;return{pointer:t,command:"update",path:[],args:{parent_id:n,parent_table:r,alive:o}}}function a(e){return{pointer:{table:o().NX,id:e.spaceParentId},path:["pages"],command:"insertChildrenAfter",args:{ids:[e.recordId],after:e.afterId}}}function s(e){const{pointer:t,userId:r}=e;return{command:"set",pointer:t,path:["permissions"],args:[{type:"user_permission",role:"editor",user_id:r}]}}function l(e){return{pointer:{table:n().ev,id:e.blockParentId},path:["content"],command:"removeChild",args:{id:e.recordId}}}function c(e){return{pointer:{table:n().ev,id:e.blockParentId},path:["content"],command:"insertChildrenAfter",args:{ids:[e.recordId],after:e.afterId}}}},374982:(e,t,r)=>{r.d(t,{Ay:()=>a,QO:()=>o,Vf:()=>i});var n=()=>r(292588);const o="marketplace_coupon",i={[r(192249).Hi]:!0,[r(183171).V1]:!0},a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,code:n().A.String,active:n().A.Boolean,discount:n().A.JSON,eligible_listing_ids:n().A.UUIDArray,coupon_usage:n().A.JSON,start_time:n().A.Number,end_time:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,created_by:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,apply_to_all:n().A.Boolean,deleted_time:n().A.Number},requiredColumns:{id:!0,version:!0,code:!0,discount:!0,coupon_usage:!0,active:!0,created_time:!0,updated_time:!0,created_by:!0,apply_to_all:!0,parent_id:!0,parent_table:!0},defaultColumnValues:{apply_to_all:!1},model:(0,r(152853).P)({RecordStore:!0})}},379922:(e,t,r)=>{r.d(t,{A:()=>i,o:()=>o});var n=()=>r(292588);const o="signup_tracking",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,email:n().A.String,variant:n().A.String,temporary_password:n().A.String,csrf_token:n().A.String,attribution_data:n().A.JSON,created_at:n().A.Number,user_id:n().A.UUID,link_opened:n().A.Boolean,link_opened_at:n().A.Number}}},379951:(e,t,r)=>{r.d(t,{Ay:()=>c,JN:()=>i,PX:()=>o,V2:()=>s,gM:()=>a,sn:()=>l});var n=()=>r(292588);const o="legal_hold",i=5,a=10,s=16461216e5,l="https://www.notion.com/help/legal-holds",c={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,name:n().A.String,description:n().A.String,icon:n().A.String,status:n().A.String,start_date:n().A.Number,end_date:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,user_interaction_type:n().A.StringArray,owner_id:n().A.UUID,owner_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String},requiredColumns:{id:!0,version:!0,status:!0,start_date:!0,created_by_id:!0,created_by_table:!0,created_time:!0,user_interaction_type:!0,owner_id:!0,owner_table:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{icon:{getMethod:"getRawIcon"}}})}},383616:(e,t,r)=>{r.d(t,{Ay:()=>a,Kl:()=>i,hB:()=>o});var n=()=>r(292588);const o={workflow_module:!0,workflow:!0,space:!0},i="external_connection",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,updated_time:n().A.Number,integration_type:n().A.String,external_id:n().A.String,name:n().A.String,description:n().A.String,status:n().A.String,scopes:n().A.StringArray,data:n().A.JSON,secret:n().A.String,secret_hash:n().A.String},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_by_id:!0,created_by_table:!0,created_time:!0,integration_type:!0,status:!0,scopes:!0,data:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!1})}},384148:(e,t,r)=>{r.d(t,{Ay:()=>i,eq:()=>o});var n=()=>r(292588);const o="server_integrations__slack_unique_global_user",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_global_user_id:n().A.String,slack_enterprise_id:n().A.String,preferences:n().A.JSON}}},384813:(e,t,r)=>{r.d(t,{c:()=>a});r(944114),r(898992),r(354520),r(581454);var n=()=>r(534177),o=()=>r(713998),i=()=>r(522419);function a(e,t,r){const n=[],a=e.getProperties(),l=e.isCrdtEnabled()&&e.getBlockTitleTextSliceTree();if(l){const e=s(o().pJ(l.getTextValue()),t,r);n.push(...e)}if(a){const e=Object.keys(a);for(const i of e){if("title"===i)continue;const e=a[i],l=s(e?o().pJ(e):void 0,t,r);n.push(...l)}}const c=e.getFormat();if(c){const{page_cover:e,page_icon:o}=c;if(e){const o=(0,i().EY)(e,t,r);o&&n.push(o)}if(o){const e=(0,i().EY)(o,t,r);e&&n.push(e)}}return{fileIds:n}}function s(e,t,r){return void 0===e?[]:e.map((e=>(0,i().EY)(e.url,t,r))).filter(n().O9)}},387358:(e,t,r)=>{r.d(t,{Op:()=>o,k9:()=>i,qB:()=>a});const n="addProperty-";function o(e){return{key:`${n}${e}`,draggable:!1}}function i(e){return e.startsWith(n)}function a(e){return e.slice(n.length)}},388536:(e,t,r)=>{r.d(t,{L:()=>i});var n=()=>r(416845),o=()=>r(91913);function i(e){return e instanceof n().QkH&&e.message===o().ws}},388693:(e,t,r)=>{r.d(t,{Ei:()=>x,Gk:()=>k,Gw:()=>T,Hn:()=>p,Hy:()=>y,IQ:()=>A,Jc:()=>I,Ry:()=>w,UI:()=>M,Z1:()=>g,cx:()=>f,kG:()=>h,mt:()=>b,oA:()=>C,qh:()=>N,rM:()=>u,rf:()=>v,sP:()=>_,v_:()=>m});r(898992),r(354520),r(672577),r(581454);var n=()=>r(534177),o=()=>r(939768),i=()=>r(148307),a=()=>r(617871),s=()=>r(206267),l=()=>r(792071),c=()=>r(332393),d=()=>r(193657);(0,r(69708).YK)({dlp:{id:"integrationHelpers.integrationTypes.dlp",defaultMessage:"DLP"},siem:{id:"integrationHelpers.integrationTypes.siem",defaultMessage:"SIEM"},ediscovery:{id:"integrationHelpers.integrationTypes.ediscovery",defaultMessage:"eDiscovery"}});const u=200;function p(e){if(e){if(l().Bj6.isAnyModel(e)){if("internal"!==e.getType())return;const t=e.getInfo();return"source"in t?t.source:void 0}if("internal"===e.type)return e.info.source}}function m(e){if(void 0===e)return!1;const t=l().Bj6.isAnyModel(e)?e.getCapabilities():e.capabilities;return!0===(null==t?void 0:t.link_preview)||!0===(null==t?void 0:t.synced_database)}function f(e){if(void 0===e)return!1;const t=l().Bj6.isAnyModel(e)?e.getCapabilities():e.capabilities;return!0===t.workspace_page_export||!0===t.workspace_search||!0===t.read_teamspace}function _(e){if(void 0===e)return!1;return!0===(l().Bj6.isAnyModel(e)?e.getCapabilities():e.capabilities).webhooks}function y(e){return m(e)}function g(e){var t;if(!m(e))return!1;if(e.id===a().mn||e.id===a().Iy)return!0;const r=l().Bj6.fromValue(c().Li,e);return Boolean(null==r||null===(t=r.getInfo().original_url_patterns)||void 0===t?void 0:t.find((e=>{var t;return!0===(null===(t=e.additional_types)||void 0===t?void 0:t.collection)})))}function b(e){return void 0!==e&&"external"===e.type&&a().AC.includes(e.id)}function v(e){const{baseUrl:t,redirectUri:r,allowNotionDomains:n=!1}=e,i=o().q7(r);if(!i)return!1;const a=o().qg(i);if(!a.hostname)return!1;if("http:"===a.protocol&&"localhost"===a.hostname)return!0;if("https:"!==a.protocol)return!1;if(!n){const{hostname:e}=o().qg(t);if(!e)return!1;const r=e.split(".").slice(-2,-1).join("."),n=`${r}.so`,i=`${r}.com`;if(a.hostname===n||a.hostname.endsWith(`.${n}`)||a.hostname===i||a.hostname.endsWith(`.${i}`))return!1}return!0}function h(e,t){const r=t.match(/^(h|$)(t|$)(t|$)(p|$)(s|$)(:|$)(\/|$)(\/|$).*$/),o=t.match(/^(h|$)(t|$)(t|$)(p|$)(:|$)(\/|$)(\/|$).*$/);return[t,r?void 0:`https://${t}`,o?void 0:`http://${t}`].filter(n().O9).filter((t=>t&&v({baseUrl:e,redirectUri:t})))}const A="legacy-google-integration",I="legacy-slack-integration",S={id:A,name:"Google Drive",alive:!0,status:"published",info:{icon:i().A.images.import.googleDrivePng,tagline:"Easily bring Google Docs, Sheets, and Slides into Notion",description:"Connect Google Drive with Notion to easily bring all your files into Notion - including Google Sheets, Google Docs, and Google Slides.",developer_name:"Notion",website_url:"https://www.notion.so/",privacy_policy_url:"https://www.notion.so/notion/Terms-and-Privacy-28ffdd083dc3473e9c2da6ec011b58ac",screenshots:[i().A.images.integrations.screenshots.googleDriveIntegrationPng]},updated_at:0},k={id:I,name:"Slack",alive:!0,status:"published",info:{icon:i().A.images.externalIntegrations.slackIconPng,tagline:"See Slack messages directly in Notion for easy sharing and collaboration",description:"Slack is a messaging app for business that connects people to the information they need. Notion's link preview integration with Slack allows you to see Slack messages directly in a Notion page by simply pasting a link, for easy sharing and collaboration across teams.",developer_name:"Notion",website_url:"https://www.notion.so/",privacy_policy_url:"https://www.notion.so/notion/Terms-and-Privacy-28ffdd083dc3473e9c2da6ec011b58ac"},updated_at:0},T=[S,k],x=T.map((e=>e.id));function M(e){return`${e}/eap/app/authorize`}function w(e){const{locale:t,integrationId:r}=e;return(0,s().gB)(JSON.stringify({table:d().bh,locale:t,id:r}))}const C={USER:"User",ADMIN:"Admin"},N={REAUTHENTICATION_REQUIRED:"RE_AUTH",FAILED_TO_FETCH_SALESFORCE_PROPERTIES:"FAILED_TO_FETCH_SALESFORCE_PROPERTIES",NO_PROPERTIES_FOUND:"NO_PROPERTIES_FOUND",NO_USER_API_ACCESS:"NO_USER_API_ACCESS",NOT_FOUND:"NOT_FOUND"}},388821:(e,t,r)=>{r.r(t),r.d(t,{RecordMap:()=>c,RecordMapPolymorphic:()=>l,RecordMapV4:()=>p,RecordMapWithRole:()=>u,RecordValueMap:()=>m,isRecordMapJsonV3:()=>s,isRecordMapWithRoleEntryOfTable:()=>d,partialRecordMapToRecordMap:()=>f});r(16280),r(898992),r(354520),r(803949),r(581454);var n=()=>r(534177),o=()=>r(792071),i=()=>r(244668);function a(e){return(0,n().uv)(e).filter((e=>!e.startsWith("__")))}function s(e){return 3===e.__version__}const l={create(e){if(e){if(s(e))return p.fromJsonV3(e);if(void 0===e.__version__)return p.fromJsonV1(e);throw new Error("Unknown RecordMapJson version")}return new p(void 0,3)}};class c{constructor(e){this.inner=void 0,this.inner=l.create(e)}has(e){return void 0!==this.getValue(e)}getValue(e){return this.inner.get(e)}getModel(e){const t=this.getValue(e);if(t)return o().Bj6.fromValue(e.table,t)}pointerWasExplicitlySet(e){return this.inner.pointerWasExplicitlySet(e)}getTables(){return this.inner.iterateTables()}getByTable(e){return this.inner.getByTable(e)}getModelsByTable(e){return this.inner.getByTable(e).map((t=>o().Bj6.fromValue(e,t.value))).filter((e=>void 0!==e))}getPointersByTable(e){return this.inner.getByTable(e).map((e=>e.pointer))}getModels(e){return e.map((e=>this.getModel(e)))}setValue(e,t){return this.inner.set(e,t),this}setModel(e,t){const r=null==t?void 0:t.__IM_SORRY__getValue();return this.setValue(e,r)}addModel(e){return this.setModel(e.pointer,e)}*[Symbol.iterator](){for(const{pointer:e,value:t}of this.inner)yield{pointer:e,model:o().Bj6.fromValue(e.table,t)}}delete(e){return this.inner.delete(e),this}deleteAll(){return this.inner.deleteAll(),this}getSize(){return this.inner.getSize()}clone(){const e=new c;for(const t of this)e.setModel(t.pointer,t.model);return e}toJson(){return this.inner.toJson()}assign(e){for(const{pointer:t,model:r}of e)this.setModel(t,r);return this}assignNewerVersion(e){for(const{pointer:t,model:r}of e){const e=this.getModel(t);(!e||!r||r.getVersion()>=e.getVersion())&&this.setModel(t,r)}return this}static merge(e){const t=new c;return e.forEach((e=>t.assign(e))),t}static mergeByVersion(e){const t=new c;return e.forEach((e=>t.assignNewerVersion(e))),t}static create(e){return new c(e)}static createFromModels(...e){const t=c.create();for(const r of e)t.addModel(r);return t}toRecordPointerSet(){const e=new(r(728272).d);for(const{pointer:t,model:r}of this)r&&e.add(t);return e}}function d(e,t){return e.pointer.table===t}class u{constructor(e){this.inner=void 0,this.inner=l.create(e)}has(e){return void 0!==this.getRole(e)}getValue(e){var t;return null===(t=this.inner.get(e))||void 0===t?void 0:t.value}getModel(e){const t=this.getValue(e);if(t)return o().Bj6.fromValue(e.table,t)}getModelWithBackfilledSpaceId(e){var t;if(!(0,i().kW)(e.table)&&!(0,i().$t)(e.table))return{model:this.getModel(e),pointer:e};if(e.table===r(96689).NX)return{model:this.getModel(e),pointer:e};if(e.spaceId)return{model:this.getModel(e),pointer:e};const a=this.inner.getEntryWithBackfilledSpaceId(e);return a?{model:(0,n().O9)(null===(t=a.value)||void 0===t?void 0:t.value)?o().Bj6.fromValue(e.table,a.value.value):void 0,pointer:a.pointer}:void 0}getModelsByTable(e){return this.getByTable(e).map((t=>{var r,n;return null!==(r=t.value)&&void 0!==r&&r.value?o().Bj6.fromValue(e,null===(n=t.value)||void 0===n?void 0:n.value):void 0})).filter(n().O9)}getRole(e){var t;return null===(t=this.inner.get(e))||void 0===t?void 0:t.role}getTables(){return this.inner.iterateTables()}getByTable(e){return this.inner.getByTable(e)}getPointersByTable(e){return this.inner.getByTable(e).map((e=>e.pointer))}setValueAndRole(e,t,r){return this.inner.set(e,{value:t,role:r}),this}setModelAndRole(e,t,r){const n=null==t?void 0:t.__IM_SORRY__getValue();return this.setValueAndRole(e,n,r)}*[Symbol.iterator](){for(const e of this.inner[Symbol.iterator]())e.value&&(yield{pointer:e.pointer,model:o().Bj6.fromValue(e.pointer.table,e.value.value),role:e.value.role})}delete(e){return this.inner.delete(e),this}deleteAll(){return this.inner.deleteAll(),this}clone(){const e=new u;for(const{pointer:t,model:r,role:n}of this)e.setModelAndRole(t,r,n);return e}getSize(){return this.inner.getSize()}assign(e){for(const{pointer:t,model:r,role:n}of e)this.setModelAndRole(t,r,n);return this}assignNewerVersion(e){for(const t of e){if(!this.has(t.pointer)){this.setModelAndRole(t.pointer,t.model,t.role);continue}const e=this.getModel(t.pointer),r=t.model;e&&r?r.getVersion()>=e.getVersion()&&this.setModelAndRole(t.pointer,r,t.role):this.setModelAndRole(t.pointer,t.model,t.role)}return this}static merge(e){const t=new u;return e.forEach((e=>t.assign(e))),t}static mergeByVersion(e){const t=new u;return e.forEach((e=>t.assignNewerVersion(e))),t}toJson(){return this.inner.toJson()}toRecordMap(){const e=c.create();for(const{pointer:t,model:r}of this)r&&e.setModel(t,r);return e}static create(e){return new u(e)}static difference(e,t){const n=u.create();for(const{pointer:o,model:i,role:a}of e)t.has((0,r(452540).jV)(o))||n.setModelAndRole(o,i,a);return n}static fromRecordMap(e,t){const r=u.create();for(const{pointer:n,model:o}of e)o&&r.setModelAndRole(n,o,t);return r}}class p{static fromJsonV1(e){const t=new p(void 0,1);for(const r of a(e)){const n=e[r];if(!n)continue;const o=Object.keys(n),i=o.length;for(let e=0;e<i;e++){const i=o[e],a={table:r,id:i},s=n[i];t.set(a,s)}}return t}static fromJsonV3(e){const t=new Map,r=a(e),n=r.length;for(let o=0;o<n;o++){const n=r[o],i=e[n];if(!i)continue;const a=Object.keys(i),s=a.length;if(0===s)continue;const l=new Map;t.set(n,l);for(let e=0;e<s;e++){const t=a[e],r=i[t];l.set(t,r)}}return new p(t,3)}constructor(e,t){this.data=void 0,this.toJsonVersion=void 0,this.data=e??new Map,this.toJsonVersion=t}get(e){var t;return null===(t=this.data.get(e.table))||void 0===t||null===(t=t.get(e.id))||void 0===t?void 0:t.value}getEntryWithBackfilledSpaceId(e){var t;const r=null===(t=this.data.get(e.table))||void 0===t?void 0:t.get(e.id);if(r)return{pointer:{table:e.table,id:e.id,spaceId:r.spaceId},value:r.value}}pointerWasExplicitlySet(e){var t;return Boolean(null===(t=this.data.get(e.table))||void 0===t?void 0:t.has(e.id))}delete(e){const t=this.data.get(e.table);return t?(t.delete(e.id),0===t.size&&this.data.delete(e.table),this):this}deleteAll(){return this.data.clear(),this}clone(){const e=new Map;for(const[t,r]of this.data)e.set(t,new Map(r));return new p(e,this.toJsonVersion)}getSize(){const e=this.data;let t=0;for(const r of e.values())t+=r.size;return t}getByTable(e){const t=this.data.get(e);if(!t)return[];const r=new Array(t.size);let n=0;for(const[o,i]of t){const t={pointer:{table:e,id:o,spaceId:i.spaceId},value:i.value};r[n]=t,n++}return r}set(e,t){var r;let n=this.data.get(e.table);n||(n=new Map,this.data.set(e.table,n));const o=null===(r=n.get(e.id))||void 0===r?void 0:r.spaceId,i=e.spaceId??o;return n.set(e.id,{spaceId:i,value:t}),this}*[Symbol.iterator](){const e=this.data;for(const[t,r]of e)for(const[e,n]of r){const{value:r,spaceId:o}=n;yield{pointer:{id:e,table:t,spaceId:o},value:r}}}toJson(){switch(this.toJsonVersion){case 3:return this.toJsonV3();case 1:return this.toJsonV1();default:(0,n().HB)(this.toJsonVersion,(()=>`Unknown RecordMapJson version: ${this.toJsonVersion}`))}}toJsonV3(){const e={__version__:3};return this.data.forEach(((t,r)=>{const n={};t.forEach(((e,t)=>{n[t]=e})),e[r]=n})),e}toJsonV1(){const e={};return this.forEach((({pointer:t,value:r})=>{(e[t.table]??={})[t.id]=r})),e}forEachInTable(e,t){const r=this.data.get(e);r&&r.forEach(((r,n)=>{const o={table:e,pointer:{table:e,id:n,spaceId:r.spaceId},value:r.value};t(o)}))}*iterateTable(e){const t=this.data.get(e);if(t)for(const[r,n]of t){const t={table:e,pointer:{table:e,id:r,spaceId:n.spaceId},value:n.value};yield t}}iterateTables(){return this.data.keys()}forEach(e){for(const t of this.iterateTables())this.forEachInTable(t,e)}}class m extends p{constructor(){super(void 0,3)}toJson(){return super.toJson()}}function f(e){const t=c.create();for(const{pointer:r,value:n}of e)t.setValue(r,n);return t}},390066:(e,t,r)=>{r.d(t,{I:()=>_,L:()=>u});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(901610),a=()=>r(708685),s=()=>r(62371),l=()=>r(898244),c=()=>r(43864),d=()=>r(651124);function u(e,t,r,n){if(e||(e={}),n===d().jf.Table||n===d().jf.Relation){if(e={...e,table_properties:f(e.table_properties||[],t,"force",!0),collection_group_by:v(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),table_frozen_column_index:void 0!==e.table_frozen_column_index?Math.max(e.table_frozen_column_index,-1):-1,board_columns_by:void 0,subitem_filter_scope:S(e,n)},n===d().jf.Relation){const r=f(e.table_properties||[],t,"force",!0);e.collection_relation_options||(e.collection_relation_options={});if(r.filter((e=>{var r;return"relation"===(null===(r=t[e.property])||void 0===r?void 0:r.type)})).map((t=>{e.collection_relation_options&&!e.collection_relation_options[t.property]&&(e.collection_relation_options[t.property]={})})),e.collection_relation_options){const t={};Object.entries(e.collection_relation_options).map((([e,r])=>{const n=r.related_properties;let o;if(n)if(n.find((e=>"title"===e.property)))if(n.find((e=>"title"===e.property&&!e.visible))){const e=n.find((e=>"title"===e.property&&!e.visible));e&&(e.visible=!0)}else o=n;else o=[{property:"title",visible:!0},...n];else o=[{property:"title",visible:!0}];t[e]={related_properties:o}})),e.collection_relation_options=t}}}else if(n===d().jf.Board){const o=p(e.board_cover,t),i=e.board_properties||[];!0!==(e={...e,board_columns_by:b(e,t,r),board_cover:o,board_columns:e.board_columns||e.board_groups2||[],board_properties:_({propertyFormats:e.board_properties||[],schema:t,titleProperty:(0,d().zl)(o)?"allow":"force"}),collection_group_by:v(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),table_wrap:void 0===e.table_wrap||e.table_wrap,subitem_filter_scope:S(e,n)}).board_title_visible||i.find((e=>"title"===e.property))||(e.board_properties=(0,d().Cn)(e.board_properties||[],"title",!0),delete e.board_title_visible)}else if(n===d().jf.Calendar)e={...e,calendar_properties:_({propertyFormats:e.calendar_properties||[],schema:t,titleProperty:"force"}),property_filters:A(e,t),conditional_color_rules:I(e,t),subitem_filter_scope:S(e,n)};else if(n===d().jf.List)e={...e,list_properties:_({propertyFormats:e.list_properties||[],schema:t,titleProperty:"force"}),collection_group_by:v(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),board_columns_by:void 0,subitem_filter_scope:S(e,n)};else if(n===d().jf.Feed)e={...e,feed_properties:_({propertyFormats:e.feed_properties||[],schema:t,titleProperty:"disallow"}),property_filters:A(e,t),board_columns_by:void 0};else if(n===d().jf.Gallery){const r=p(e.gallery_cover,t);!0===(e={...e,gallery_cover:r,gallery_properties:_({propertyFormats:e.gallery_properties||[],schema:t,titleProperty:(0,d().zl)(r)?"allow":"force"}),board_columns_by:void 0,collection_group_by:v(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),subitem_filter_scope:S(e,n)}).gallery_title_visible&&(e.gallery_properties=(0,d().Cn)(e.gallery_properties||[],"title",!0),delete e.gallery_title_visible)}else if(n===d().jf.Timeline){const r=f(e.timeline_table_properties||[],t,"allow",!1),o=r.some((({visible:e})=>Boolean(e))),i=(0,d().w3)(Boolean(e.timeline_show_table),r);e={...e,timeline_properties:_({propertyFormats:e.timeline_properties||[],schema:t,titleProperty:i?"allow":"force"}),timeline_table_properties:r,timeline_show_table:Boolean(e.timeline_show_table&&o),collection_group_by:v(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),board_columns_by:void 0,subitem_filter_scope:S(e,n)}}else if(n===d().jf.Page||n===d().jf.Collection){var o;const r=_({propertyFormats:e.collection_page_properties||[],schema:t,titleProperty:"disallow"}),n={};if(e.property_visibility)for(const t of e.property_visibility)n[t.property]=t.visibility;const i=new Set(["hide","hide_if_empty"]),a=r.some((e=>i.has(n[e.property])))?"hide_if_empty":"show";e={...e,page_section_visibility:e.page_section_visibility||{backlinks:"section_collapsed",comments:"section_show",margin_comments:"inline"},property_visibility:r.map((e=>({property:e.property,visibility:n[e.property]||a}))),collection_page_sections:null===(o=e.collection_page_sections)||void 0===o?void 0:o.filter((e=>{var r;return!!e&&"relation"===(null===(r=t[e.section])||void 0===r?void 0:r.type)})),collection_page_properties:r}}else n===d().jf.PageView?e={...e}:n===d().jf.Chart&&(e={...e,chart_subgroups:e.chart_subgroups||[],chart_config:y(e.chart_config,t),subitem_filter_scope:S(e,n)});const i=e.inline_collection_first_load_limit;return i&&"load_all"===i.type&&(e.inline_collection_first_load_limit={type:"load_limit",limit:100}),e}function p(e,t){if(e&&"property"===e.type){const r=t[e.property];return r&&"file"===r.type?e:void 0}return e}function m(e){const t=Object.keys(e);return n().Ul(t,(t=>{if(l().NM(t))return"";{const r=e[t];return r?r.name:""}}))}function f(e,t,r,o){let i=[...e];i=i.filter((e=>e&&Boolean(t[e.property])));const a=l().ol(t);"allow"===r?i=(0,d().Cn)(i,a,!1):"disallow"===r?i=g(i,a):"force"===r&&(i=(0,d().Cn)(i,a,!0));const s=i.some((e=>!e.visible)),c=m(t);for(const n of c){if(l().cC(n))continue;l().cP(n)&&(i=g(i,"title"));const r=e.find((e=>e.property===n)),a=t[n];let c=!1;a&&l().nC(a)&&a.hideByDefaultInUnconfiguredViews&&(c=!0),r||(s||!o||c?i.push({property:n,visible:!1}):i.push({property:n,visible:!0}))}return i=i.map((e=>{if(e.width)return e;{const t=l().NM(e.property)?d().Xv:d().kp;return{...e,width:t}}})),i=n().hS(i,(({property:e})=>e)),i}function _(e){const{propertyFormats:t,schema:r,titleProperty:o}=e;let i;i=t.filter((e=>e&&Boolean(r[e.property]))),"allow"===o?i=(0,d().Cn)(i,"title",!1):"disallow"===o?i=g(i,"title"):"force"===o&&(i=(0,d().Cn)(i,"title",!0));const a=new Map(i.map((e=>[e.property,e]))),s=m(r);for(const n of s)if(!l().NM(n)){if(!a.get(n)){const e={property:n,visible:!1};i.push(e),a.set(n,e)}}return i=n().hS(i,(({property:e})=>e)),i}function y(e,t){var r;if(!e)return e;if("placeholder"===e.type)return e;const o=n().mg(e);if(o.chartFormat&&void 0===o.chartFormat.mainSort&&void 0!==o.chartFormat.axisSort&&(o.chartFormat.mainSort=o.chartFormat.axisSort,o.chartFormat.axisSort=void 0),"groups_reducer"===(null===(r=o.dataConfig)||void 0===r?void 0:r.type)){const e=h(o.dataConfig.groupBy,t);if(e&&(o.dataConfig.groupBy=e),(0,i().m)(o)){var a;const e=null===(a=o.dataConfig.aggregationConfig.stackOptions)||void 0===a?void 0:a.groupBy;if(e){const r=h(e,t);r&&(o.dataConfig.aggregationConfig.stackOptions.groupBy=r)}}}return o}function g(e,t){return e.filter((({property:e})=>e!==t))}function b(e,t,r){let n;if(e.board_columns_by)n=h(e.board_columns_by,t);else if(r&&r.group_by){const e=t[r.group_by];e&&(0,s().lN)(e)&&(n={property:r.group_by,type:e.type,sort:{type:"manual"}})}return n}function v(e,t){let r;return e.collection_group_by&&(r=h(e.collection_group_by,t)),r}function h(e,t){if(!e)return;const r=t[e.property];if(r&&(0,s().Eg)(r)){if("formula"===e.type){let t=(0,a().getFormulaPropertySchemaResultType)(r);return"block"===t&&(t="relation"),t===e.groupBy.type?e:(0,s().V0)({property:e.property,propertySchema:r})}return r.type===e.type&&e.sort&&(0,s().Nf)(e).includes(e.sort.type)?e:(0,s().V0)({property:e.property,propertySchema:r})}}function A(e,t){if(e.property_filters){const r=e.property_filters.map((({id:e,filter:r})=>{const n=(0,c().hs)(r,t);return n&&{id:e,filter:n}}));return n().oE(r)}}function I(e,t){if(!e.conditional_color_rules)return;return e.conditional_color_rules.map((e=>{const r=(0,c().hs)({property:e.conditional_filter.property,filter:e.conditional_filter.filter},t);if(r)return{...e,conditional_filter:r}})).filter(o().O9)}function S(e,t){const r=e.subitem_display_mode??"show";if("disabled"===r)return"parents_and_subitems";if(e.subitem_filter_scope)return e.subitem_filter_scope;const n=t===d().jf.Board||t===d().jf.Gallery||t===d().jf.Calendar;return"hidden"===r||"show"===r&&(n||t===d().jf.Chart)?"parents":"parents_and_subitems"}},394593:(e,t,r)=>{r.d(t,{z:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"6.07 3.77 7.85 12.28",svg:(0,r(474848).jsx)("path",{d:"M7.309 6.71c.22-.88 1.251-1.68 2.656-1.68 1.635 0 2.708 1.036 2.708 2.047 0 .603-.368 1.203-1.048 1.617l-.014.008-1.242.849-.003.002c-.805.556-1.31 1.45-1.31 2.417a.625.625 0 0 0 1.25 0c0-.522.275-1.046.769-1.388l1.215-.83c.944-.58 1.633-1.536 1.633-2.675 0-1.945-1.905-3.297-3.958-3.297-1.812 0-3.474 1.044-3.869 2.625a.625.625 0 1 0 1.213.303m3.435 8.351a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})},o=(0,r(340498).wt)("questionMark",n,"default")},395868:(e,t,r)=>{r.d(t,{A7:()=>d,Ay:()=>m,Cr:()=>p,FO:()=>c,VL:()=>l,X3:()=>u,Yw:()=>s});var n=()=>r(534177),o=()=>r(292588);const i=["favorites","private","shared","recents","myMeetings","teamspaces"],a=[...i,"list"];function s(e){return!!(0,n().Xk)(a,e)}function l(e){return!!(0,n().Xk)(i,e)}function c(e){const{spaceIdCreator:t,userId:r,sectionType:n}=e;return l(n)?t.deterministicIdInSavedSpace(p,`${r}:${n}`):t.idInSavedSpace(p)}function d(e){return{id:c(e),table:p,spaceId:e.spaceIdCreator.getSpaceId()}}function u(e){return{table:p,id:c(e),spaceId:e.spaceIdCreator.getSpaceId()}}const p="sidebar_section",m={table:p,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,user_id:o().A.UUID,space_id:o().A.UUID,section_type:o().A.String,properties:o().A.JSON,alive:o().A.Boolean,created_at:o().A.Number},requiredColumns:{user_id:!0,space_id:!0,section_type:!0,alive:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},396350:(e,t,r)=>{r.d(t,{i:()=>i});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 1 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,n.jsx)("path",{d:"M5.25 3.125A2.125 2.125 0 0 0 3.125 5.25v9.5c0 1.174.951 2.125 2.125 2.125h9.5a2.125 2.125 0 0 0 2.125-2.125v-9.5a2.125 2.125 0 0 0-2.125-2.125zM4.375 5.25c0-.483.392-.875.875-.875h9.5c.483 0 .875.392.875.875v9.5a.875.875 0 0 1-.875.875h-9.5a.875.875 0 0 1-.875-.875z"})]})},i=(0,r(340498).wt)("checkmarkSquare",o,"default")},397277:(e,t,r)=>{r.d(t,{Nk:()=>u,Tw:()=>l,ZU:()=>p,eD:()=>a,ev:()=>d,hp:()=>i,uZ:()=>s,wF:()=>f,xi:()=>m});r(898992),r(672577),r(430670),r(803949),r(581454),r(908872);var n=()=>r(496603),o=()=>r(201980);const i=[o().BQP.TemporaryHighlight,{light:"#105FAD",dark:"#4FA7FF"}],a=[o().BQP.TemporaryHighlight,{light:"#2383E291",dark:"#2383E291"}],s=[o().BQP.TemporaryHighlight,{light:"#C7C6C4",dark:"#FFFFFF21"}],l=[o().BQP.TemporaryHighlight,{light:"#ACA9A9",dark:"#5A5A5A"}],c=["property_title","block_format_suggestion","property_caption","table_row"];function d(e){return e.map((e=>{const t=(0,o().uPN)(e),r=n().$z(t,o()._XS),i=r[o().Ifu.SuggestionAnnotate]||[],a=r[o().Ifu.SuggestionUnannotate]||[];return i.forEach((e=>{if((0,o().MXn)(e)){const t=(0,o().Dew)(e),n=(0,o()._XS)(t);r[n]||(r[n]=[t])}})),a.forEach((e=>{if((0,o().zIw)(e)){const t=(0,o().Dew)(e),n=(0,o()._XS)(t);r[n]&&delete r[n]}})),(0,o().Ey_)((0,o().N8A)(e),n().Bq(Object.values(r)),{skipSanitization:!0})}))}function u(e){return e.flatMap((e=>(0,o().uPN)(e).flatMap((e=>o().I1e(e)?[o().vu(e)]:[]))))}function p(e){const{suggestions:t,...r}=e;return r}function m(e){const{blockModel:t,exclude:r,discussionId:n}=e;return c.filter((e=>!(null!=r&&r.has(e)))).reduce(((e,r)=>{if(e)return!0;switch(r){case"property_title":return u(t.getProperty("title")??[]).includes(n);case"property_caption":return u(t.getProperty("caption")??[]).includes(n);case"block_format_suggestion":return Boolean(t.getAllBlockSuggestions().find((e=>e.discussionId===n)));case"table_row":if("table_row"===t.getType())for(const e of Object.keys(t.getProperties())){if(u(t.getPropertiesStore().getKeyStore(e).getValue()??[]).includes(n))return!0}return!1}}),!1)}function f(e,t){if(!t)return{first:[...e],second:[]};const r=e.indexOf(t);if(-1===r)return{first:[...e],second:[]};return{first:e.slice(0,r+1),second:e.slice(r+1)}}},400017:(e,t,r)=>{r.d(t,{A:()=>o});r(898992),r(672577),r(803949),r(581454),r(737550);class n{constructor(e){this.map=void 0,this.map=new(r(795727).A)({getKey:e})}add(...e){for(const t of e)this.map.set(t,t)}delete(e){return this.map.delete(e)}valuesArray(){return this.map.valuesArray()}has(e){return this.map.has(e)}some(e){return this.valuesArray().some(e)}find(e){return this.valuesArray().find(e)}equals(e){if(this.size!==e.size)return!1;for(const t of e)if(!this.has(t))return!1;return!0}get size(){return this.map.size}[Symbol.iterator](){return this.map.values()}static fromArray(e){const{values:t,getKeyFn:r}=e,o=void 0!==r?new n(r):new n;return t.forEach((e=>o.add(e))),o}}const o=n},400846:(e,t,r)=>{r.d(t,{A:()=>i,e:()=>o});var n=()=>r(292588);const o="admin_api_log",i={table:o,columnTypes:{id:n().A.UUID,timestamp:n().A.Number,admin_user_id:n().A.UUID,event_name:n().A.String,params:n().A.JSON,version:n().A.Number,last_version:n().A.Number,did_write:n().A.Boolean},requiredColumns:{id:!0,event_name:!0,admin_user_id:!0,timestamp:!0,version:!0}}},402904:(e,t,r)=>{r.d(t,{As:()=>i,Ay:()=>a,ht:()=>o});var n=()=>r(292588);const o={bot:!0},i="external_authentication",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_edited_time:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,space_id:n().A.UUID,user_id:n().A.UUID,integration_id:n().A.UUID,account_key:n().A.String,account_name:n().A.String},model:(0,r(152853).P)({})}},404235:(e,t,r)=>{function n(e){const t=e.toString().replace(/[\r\n]/g,"").trim();return`${t.substring(0,60)}${t.length>60?"":""}`}r.d(t,{p:()=>n})},412742:(e,t,r)=>{r.d(t,{Ay:()=>i,_0:()=>o});var n=()=>r(292588);const o="user_export",i=(r(638681).literals("member_list","space","block","space_analytics_search","space_analytics_content","space_analytics_users","admin_content_search","audit_log","post_workspace_consolidation_report","domain_claimable_spaces","marketplace_purchases","legal_hold_content_summary","legal_hold_content"),{table:o,columnTypes:{id:n().A.UUID,created_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,file_ids:n().A.StringArray,type:n().A.String,version:n().A.Number,last_version:n().A.Number,s3_bucket:n().A.String},model:(0,r(152853).P)({properties:{created_by_id:{getRelationalPointerMethod:!1}}})})},415292:(e,t,r)=>{r.d(t,{Ay:()=>s,gD:()=>l,r9:()=>i,sN:()=>a});var n=()=>r(498212),o=()=>r(292588);const i={collection:!0},a="record_counter",s={table:a,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,space_id:o().A.UUID,parent_table:o().A.String,parent_id:o().A.UUID,next_value:o().A.Number,alive:o().A.Boolean},requiredColumns:{space_id:!0,parent_table:!0,parent_id:!0,next_value:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0})};function l(e){const{spaceId:t,parentTable:r,parentId:o}=e;return(0,n().gB)(`${t}-${r}-${o}`)}},415622:(e,t,r)=>{r.d(t,{PL:()=>n,Pc:()=>o});const n=Object.freeze({}),o=Object.freeze([]);Object.freeze([])},420532:(e,t,r)=>{r.d(t,{A:()=>i,q:()=>o});var n=()=>r(292588);const o="space_invite_link",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.String,invite_link_code:n().A.String,inviter_user_id:n().A.UUID,channel:n().A.String},model:(0,r(152853).P)({RecordStore:!0})}},420948:(e,t,r)=>{r.d(t,{A:()=>i,Q:()=>o});var n=()=>r(292588);const o="integration_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,integration_id:n().A.UUID,created_at:n().A.Number,revoked_at:n().A.Number,token_hash:n().A.String}}},421076:(e,t,r)=>{r.d(t,{Ay:()=>a,Bd:()=>o,yt:()=>i});var n=()=>r(292588);const o={space:!0},i="subscription_banner",a={table:i,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,banner_type:n().A.String,banner_key:n().A.String,audience:n().A.String,banner_text:n().A.String,active_at:n().A.Number,expired_at:n().A.Number},requiredColumns:{space_id:!0,version:!0,parent_id:!0,parent_table:!0,banner_type:!0,banner_key:!0,audience:!0,active_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},422200:(e,t,r)=>{r.d(t,{Ay:()=>c,es:()=>i});var n=()=>r(638681),o=()=>r(292588);const i="mfa_settings",a={table:i,columnTypes:{id:o().A.UUID,user_id:o().A.UUID,created_at:o().A.Number,enabled:o().A.Boolean,is_primary:o().A.Boolean,method:o().A.String,setting:o().A.JSON,version:o().A.Number,last_version:o().A.Number}},s=(n().literals("totp","sms","backup_code"),n().literals("totp","sms"),n().literals("bcrypt")),l=n().literals("crypto-service"),c=(n().object({required:{backup_codes:n().array(n().object({required:{codeHash:n().string(),hasBeenUsed:n().boolean()},optional:{}})),hash_method:s},optional:{recovery:n().boolean()}}),n().object({required:{phone_number:n().string(),masked_phone_number:n().string()},optional:{}}),n().object({required:{totp_secret:n().string(),encryption_method:l,key_version:n().string(),friendly_name:n().string()},optional:{}}),a)},423517:(e,t,r)=>{r.d(t,{r:()=>o});var n=()=>r(356246);function o(e){return e?n().h4:n().ZO}},425877:(e,t,r)=>{r.d(t,{fn:()=>d,mc:()=>c,of:()=>u,pC:()=>l});var n=()=>r(534177),o=()=>r(980090),i=()=>r(673337),a=()=>r(933449);class s{constructor(e){this.prev=void 0,this.next=void 0,this.annotationOpSetBefore=void 0,this.annotationOpSetAfter=void 0,this.id=e}startsWithId(e){return this.containsId(e)}endsWithId(e){return this.containsId(e)}containsId(e){return(0,i().lS)(this.id,e)}getAnnotationOpSetForAnchor(e){return"before"===e?this.annotationOpSetBefore:"after"===e?this.annotationOpSetAfter:void(0,n().HB)(e)}getAnnotations(e){var t;return(null===(t=this.getAnnotationOpSetForAnchor(e))||void 0===t?void 0:t.getOps())||[]}maybeCreateAnnotationOpSetForAnchor(e,t){var r;if("before"===e)this.annotationOpSetBefore??=(null!=t&&t.deserializationSkipCloning?null==t?void 0:t.opSet:null==t||null===(r=t.opSet)||void 0===r?void 0:r.clone())??new(o().A);else if("after"===e){var i;this.annotationOpSetAfter??=(null!=t&&t.deserializationSkipCloning?null==t?void 0:t.opSet:null==t||null===(i=t.opSet)||void 0===i?void 0:i.clone())??new(o().A)}else(0,n().HB)(e)}copyAnnotationOpSetTo(e){this.annotationOpSetBefore&&(e.annotationOpSetBefore=this.annotationOpSetBefore.clone()),this.annotationOpSetAfter&&(e.annotationOpSetAfter=this.annotationOpSetAfter.clone())}equals(e){return typeof this==typeof e&&o().A.equals(this.annotationOpSetBefore,e.annotationOpSetBefore)&&o().A.equals(this.annotationOpSetAfter,e.annotationOpSetAfter)}toString(){return`[${this.className}]`}getAnnotationOpsCount(){var e,t;return((null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.count())??0)+((null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.count())??0)}}class l extends s{constructor(e,t,r,n){super(e),this.className="TextItem",this.deleted=!1,this.prev=void 0,this.next=void 0,this.id=e,this.originId=t,this.content=r,this.length=n,this.verifyValueAndLength()}verifyValueAndLength(){(0,a().MX)(!this.content||this.content.length===this.length,"TextItem content length must match item length"),(0,a().MX)(this.length>0,"TextItem must have nonzero length")}getStartId(){return this.id}getEndId(){const e=this.id;return[e[0],e[1]+this.length-1]}startsWithId(e){return(0,i().lS)(this.getStartId(),e)}endsWithId(e){return(0,i().lS)(this.getEndId(),e)}containsId(e){return"start"!==e&&"end"!==e&&this.id[0]===e[0]&&this.id[1]<=e[1]&&e[1]<=this.id[1]+this.length-1}getDefinedContent(){return(0,a().o9)(this.content,"Text item content is not defined")}isDeleted(){return this.deleted}setDeleted(){this.deleted=!0,this.content=void 0}splitBeforeId(e){return this.split(e,"before")}splitAfterId(e){return this.split(e,"after")}split(e,t){var r;(0,a().MX)(this.length>1,"Text item must have more than one item to split"),(0,a().MX)(this.containsId(e),"Text item must contain op id to split");const n=e[1]-this.id[1]+("after"===t?1:0);(0,a().MX)(0<n&&n<this.length,"Split offset must be between 0 and item length");const o=[this.id[0],this.id[1]+n],i=[this.id[0],this.id[1]+n-1],s=this.deleted?l.createDeleted(o,i,this.length-n):l.create(o,i,this.getDefinedContent().slice(n));this.annotationOpSetAfter&&(s.annotationOpSetAfter=this.annotationOpSetAfter.clone());const c=this.next;return this.next=s,s.prev=this,c&&(s.next=c,c.prev=s),this.content=null===(r=this.content)||void 0===r?void 0:r.slice(0,n),this.length=n,this.verifyValueAndLength(),this.annotationOpSetAfter=void 0,this.next=s,s}maybeMergeWithNext(){const e=this.next;if(!(e instanceof l))return!1;const t=this.getEndId(),r=e.getStartId();return!(!(0,i().lS)(t,e.originId)||t[0]!==r[0]||t[1]!==r[1]-1||this.deleted!==e.deleted||void 0!==this.annotationOpSetAfter||void 0!==e.annotationOpSetBefore)&&(this.content&&e.content&&(this.content+=e.content),this.length+=e.length,this.verifyValueAndLength(),e.annotationOpSetAfter&&(this.annotationOpSetAfter=e.annotationOpSetAfter.clone()),this.next=e.next,e.next&&(e.next.prev=this),e.prev=void 0,e.next=void 0,!0)}getLength(){return this.length}clone(){const e=this.deleted?l.createDeleted(this.id,this.originId,this.length):l.create(this.id,this.originId,this.getDefinedContent());return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof l&&(0,i().lS)(this.id,e.id)&&(0,i().lS)(this.originId,e.originId)&&this.deleted===e.deleted&&this.content===e.content&&this.length===e.length}static create(e,t,r){return new l(e,t,r,r.length)}static createDeleted(e,t,r){const n=new l(e,t,void 0,r);return n.setDeleted(),n}toString(){return this.deleted?`[${this.className} (deleted)]`:`[${this.className} ${this.content}]`}toPrevItem(){var e,t;return{type:"text",originId:this.originId,id:this.id,length:this.length,annotationOpsBefore:null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.getOps(),annotationOpsAfter:null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.getOps(),...this.deleted?{deleted:!0,content:void 0}:{deleted:!1,content:this.getDefinedContent()}}}}class c extends s{constructor(){super("start"),this.className="StartItem",this.prev=void 0,this.next=void 0,this.id="start"}clone(){const e=new c;return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof c}toPrevItem(){var e,t;return{type:"start",annotationOpsBefore:null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.getOps(),annotationOpsAfter:null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.getOps()}}}class d extends s{constructor(){super("end"),this.className="EndItem",this.prev=void 0,this.next=void 0,this.id="end",this.originId="start"}clone(){const e=new d;return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof d}}class u extends s{constructor(e,t){super(e),this.className="SplitItem",this.prev=void 0,this.next=void 0,this.id=e,this.originId=t}clone(){const e=new u(this.id,this.originId);return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof u&&(0,i().Dx)(this.id,e.id)&&(0,i().lS)(this.originId,e.originId)}toPrevItem(){var e,t;return{type:"split",originId:this.originId,id:this.id,annotationOpsBefore:null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.getOps(),annotationOpsAfter:null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.getOps()}}}},426234:(e,t,r)=>{r.d(t,{DH:()=>y,DI:()=>p,K9:()=>f,UD:()=>l,i_:()=>s,lD:()=>m});r(581454);var n=()=>r(933449);Symbol("CRDT_SEARCH_LABEL");const o=62,i=61,a=String.fromCharCode(i+o+1);function s(e){return e}function l(e,t){return e===t?0:e<t?-1:1}function c(e){return(0,n().MX)(0<=e&&e<=o,"SearchLabel out of valid range",e),(0,n().MX)(31!==e,"Root is an invalid search label"),String.fromCharCode(i+e)}function d(e){(0,n().MX)(1===e.length,"Decode expected a single character");const t=e.charCodeAt(0)-i;return(0,n().MX)(0<=t&&t<=o,"SearchLabel out of valid range",e),(0,n().MX)(31!==t,"Root is an invalid search label"),t}function u(e){(0,n().MX)(0<=e&&e<=o,"SearchLabel out of valid range",e);let t=0;for(;e%2==1;)t++,e>>=1;return t}const p="";function m(e){if(e.length>0){const t=d(e[e.length-1]);if(t%2!=0){const r=e.slice(0,-1),n=1<<u(t)-1;return[r+c(t-n),r+c(t+n)]}}return[e+c(15),e+c(47)]}function f(e,t){const[r,n]=function(e){if(e===p)return["",a];const t=e.slice(0,-1),r=d(e[e.length-1]),n=(1<<u(r))-1;return[t+c(r-n),t+c(r+n)+a]}(t);return r<=e&&e<=n}function _(e){(0,n().MX)(1===e.length,"charToLR expected a single character");const t=d(e);let r="";const o=u(t);for(let n=5;n>o;n--){r+=0==(t&1<<n)?"L":"R"}return r}function y(e){return e.split("").map(_).join("")}},426302:(e,t,r)=>{r.d(t,{Ay:()=>a,Yx:()=>i,gp:()=>o});var n=()=>r(292588);const o="group",i="invite",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,flow_id:n().A.UUID,space_id:n().A.UUID,target_id:n().A.UUID,target_table:n().A.String,inviter_id:n().A.UUID,inviter_table:n().A.String,invitee_id:n().A.UUID,invitee_table_or_group:n().A.String,message:n().A.String,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,target_id:!0,target_table:!0,inviter_id:!0,inviter_table:!0,invitee_id:!0,invitee_table_or_group:!0,created_time:!0,attributes:!0}}},429251:(e,t,r)=>{r.d(t,{i:()=>b,l:()=>g});var n=()=>r(534177),o=()=>r(425877),i=()=>r(933449),a=(r(581454),()=>r(980090)),s=()=>r(426234);const l={before:"b",after:"a",addAnnotation:"a",removeAnnotation:"r",id:"i",anchor:"a",type:"t",textInstanceId:"x",searchLabel:"l",start:"s",end:"e",annotation:"a",annotationKey:"k"};function c(e){return"before"===e?l.before:"after"===e?l.after:(0,n().HB)(e)}function d(e){return e===l.before?"before":e===l.after?"after":(0,n().HB)(e)}function u(e){switch(e.type){case"addAnnotation":return function(e){return{[l.type]:l.addAnnotation,[l.textInstanceId]:e.textInstanceId,[l.searchLabel]:e.searchLabel,[l.id]:e.id,[l.start]:{[l.id]:e.start.id,[l.anchor]:c(e.start.anchor)},[l.end]:{[l.id]:e.end.id,[l.anchor]:c(e.end.anchor)},[l.annotation]:e.annotation}}(e);case"removeAnnotation":return function(e){return{[l.type]:l.removeAnnotation,[l.textInstanceId]:e.textInstanceId,[l.searchLabel]:e.searchLabel,[l.id]:e.id,[l.start]:{[l.id]:e.start.id,[l.anchor]:c(e.start.anchor)},[l.end]:{[l.id]:e.end.id,[l.anchor]:c(e.end.anchor)},[l.annotationKey]:e.annotationKey}}(e)}}function p(e){switch(e.t){case l.addAnnotation:return function(e){return{type:"addAnnotation",textInstanceId:e[l.textInstanceId],searchLabel:s().i_(e[l.searchLabel]),id:e[l.id],start:{id:e[l.start][l.id],anchor:d(e[l.start][l.anchor])},end:{id:e[l.end][l.id],anchor:d(e[l.end][l.anchor])},annotation:e[l.annotation]}}(e);case l.removeAnnotation:return function(e){return{type:"removeAnnotation",textInstanceId:e[l.textInstanceId],searchLabel:s().i_(e[l.searchLabel]),id:e[l.id],start:{id:e[l.start][l.id],anchor:d(e[l.start][l.anchor])},end:{id:e[l.end][l.id],anchor:d(e[l.end][l.anchor])},annotationKey:e[l.annotationKey]}}(e)}}function m(e){return e.getOps().map(u)}function f(e){return new(a().A)(e.map(p))}const _={type:"t",id:"i",originId:"o",length:"l",content:"c",annotationOpsBefore:"b",annotationOpsAfter:"a"},y={start:"s",end:"e",text:"t",split:"p"};function g(e){let t;e instanceof o().mc?t={[_.type]:y.start}:e instanceof o().fn?t={[_.type]:y.end}:e instanceof o().of?t=function(e){return{[_.type]:y.split,[_.id]:e.id,[_.originId]:e.originId}}(e):e instanceof o().pC?t=function(e){return{[_.type]:y.text,[_.id]:e.id,[_.originId]:e.originId,[_.length]:e.isDeleted()?-e.getLength():e.getLength(),[_.content]:e.isDeleted()?void 0:e.getDefinedContent()}}(e):(0,n().HB)(e);const r=e.getAnnotationOpSetForAnchor("before");r&&(t[_.annotationOpsBefore]=m(r));const i=e.getAnnotationOpSetForAnchor("after");return i&&(t[_.annotationOpsAfter]=m(i)),t}function b(e){let t,r=0;switch(e.t){case y.start:t=new(o().mc);break;case y.end:t=new(o().fn);break;case y.split:const a=function(e){return new(o().of)(e[_.id],e[_.originId])}(e);t=a,r=Math.max("string"==typeof a.originId?0:a.originId[1],a.id[1]);break;case y.text:const s=function(e){return e[_.length]<0?o().pC.createDeleted(e[_.id],e[_.originId],-e[_.length]):o().pC.create(e[_.id],e[_.originId],(0,i().o9)(e[_.content],"Content not found for serialized text item"))}(e);t=s,r=Math.max("string"==typeof s.originId?0:s.originId[1],s.getEndId()[1]);break;default:(0,n().HB)(e)}const a=e[_.annotationOpsBefore];if(a){t.maybeCreateAnnotationOpSetForAnchor("before",{opSet:f(a),deserializationSkipCloning:!0});for(const e of a){const t=e[l.start][l.id],n=e[l.end][l.id];r=Math.max(r,e[l.id][1],"string"==typeof t?0:t[1],"string"==typeof n?0:n[1])}}const s=e[_.annotationOpsAfter];if(s){t.maybeCreateAnnotationOpSetForAnchor("after",{opSet:f(s),deserializationSkipCloning:!0});for(const e of s){const t=e[l.start][l.id],n=e[l.end][l.id];r=Math.max(r,e[l.id][1],"string"==typeof t?0:t[1],"string"==typeof n?0:n[1])}}return{item:t,maxTimestamp:r}}},429485:(e,t,r)=>{r.d(t,{Ay:()=>i,Xh:()=>o});var n=()=>r(292588);const o="scheduled_digest_message",i={table:o,columnTypes:{id:n().A.UUID,user_id:n().A.UUID,space_id:n().A.UUID,scheduling_key:n().A.String,content_module_requests:n().A.JSON,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number},requiredColumns:{id:!0,user_id:!0,space_id:!0,scheduling_key:!0,content_module_requests:!0,created_time:!0,updated_time:!0,version:!0},model:(0,r(152853).P)({RecordStore:!1})}},430401:(e,t,r)=>{r.d(t,{b:()=>i});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.144 8.954a.718.718 0 0 1 .62-1.079h4.472c.554 0 .9.6.62 1.08l-2.236 3.833a.718.718 0 0 1-1.24 0z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},i=(0,r(340498).wt)("arrowTriangleDownCircle",o,"default")},433337:(e,t,r)=>{r.d(t,{I0:()=>a().I0,wZ:()=>a().wZ,Fh:()=>a().Fh,AA:()=>a().AA,yH:()=>a().yH,BF:()=>a().BF,Nn:()=>a().Nn,TC:()=>a().TC,Y8:()=>a().Y8,rv:()=>o().rv,bq:()=>a().bq,Tw:()=>a().Tw,WX:()=>a().WX,tP:()=>a().tP,ud:()=>a().ud,Vq:()=>a().Vq,IE:()=>a().IE,nl:()=>i().nl,du:()=>i().du,Xk:()=>i().Xk,fv:()=>i().fv,Jd:()=>i().Jd,el:()=>i().el,tO:()=>i().tO,aJ:()=>i().aJ,av:()=>a().av,IB:()=>a().IB,d0:()=>a().d0,Zy:()=>n().Zy,iJ:()=>n().iJ,Qx:()=>n().Qx,CY:()=>n().CY,fH:()=>n().fH,e4:()=>n().e4,IZ:()=>n().IZ,Lu:()=>n().Lu,sP:()=>n().sP,JS:()=>n().JS,Zc:()=>n().Zc,QW:()=>n().QW,vQ:()=>n().vQ,dC:()=>a().dC,W:()=>a().W,no:()=>a().no,iH:()=>a().iH,pO:()=>a().pO,sz:()=>a().sz,pW:()=>a().pW,TZ:()=>a().TZ,X:()=>a().X,G2:()=>a().G2,TS:()=>a().TS,K4:()=>o().K4,xh:()=>o().xh,Hx:()=>i().Hx,It:()=>n().It,Qr:()=>i().Qr,yx:()=>n().yx,pE:()=>n().pE});var n=()=>r(268340);var o=()=>r(515478),i=()=>r(128443),a=()=>r(13643);const s="existing_team",l="quick_capture",c="typed_db_migration",d="template_gallery";a().WX,a().I0,a().ud,a().sz,a().Y8,a().Vq,a().WX,a().I0,a().ud,a().Y8,a().sz,a().dC,a().Tw,a().av,a().BF,a().yH,a().TC,a().pW,a().iH,a().dC,a().Tw,a().dC,a().dC,a().Tw,a().av,a().BF,a().yH,a().TC,a().pW},435826:(e,t,r)=>{r.d(t,{Ay:()=>i,aF:()=>o});var n=()=>r(292588);const o="ip_restriction",i={table:o,columnTypes:{id:n().A.UUID,name:n().A.String,enabled:n().A.Boolean,ip_restriction_type:n().A.String,ip_addresses:n().A.CIDRArray,organization_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,alive:n().A.Boolean,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String},requiredColumns:{id:!0,name:!0,enabled:!0,ip_restriction_type:!0,ip_addresses:!0,organization_id:!0,version:!0,alive:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0},model:(0,r(152853).P)({RecordStore:!0})}},436632:(e,t,r)=>{r.d(t,{H:()=>n});const n=(0,r(69708).YK)({nowText:{defaultMessage:"Now",id:"mentionMenu.templateVariables.text.now"},nowDescription:{defaultMessage:"Time when duplicated",id:"mentionMenu.templateVariables.description.now"},nowKeywords:{defaultMessage:"now",id:"mentionMenu.templateVariables.keywords.now"},todayText:{defaultMessage:"Today",id:"mentionMenu.templateVariables.text.tday"},todayDescription:{defaultMessage:"Date when duplicated",id:"mentionMenu.templateVariables.description.today"},todayKeywords:{defaultMessage:"today",id:"mentionMenu.templateVariables.keywords.today"},meText:{defaultMessage:"Me",id:"mentionMenu.templateVariables.text.me"},meKeywords:{defaultMessage:"me",id:"mentionMenu.templateVariables.keywords.me"}})},437607:(e,t,r)=>{r.d(t,{HT:()=>u,I6:()=>f,S4:()=>m,cq:()=>_,gK:()=>p,hI:()=>c,n:()=>l,uh:()=>a});var n=()=>r(498212),o=()=>r(416845),i=()=>r(292588);const a="",s="|",l="space_permission_group";function c(e){return e.table===l&&d(e.id)}function d(e){if("string"!=typeof e)return!1;const t=e.split(s),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}function u(e){const t=e.split(s),[r,i]=t;if(!(2===t.length&&(0,n().uj)(r)&&(0,n().uj)(i)))throw new(o().yI4)("invalid SpacePermissionGroupId",{data:{id:e}});return{spacePermissionGroupId:r,spaceId:i}}function p(e){const{spacePermissionGroupId:t,spaceId:r}=e;return d(t)?t:`${t}|${r}`}function m(e){const{spacePermissionGroupId:t,spaceId:r}=e;return{id:p({spacePermissionGroupId:t,spaceId:r}),table:l,spaceId:r}}function f(e){return e.table===l}const _={table:l,columnTypes:{id:i().A.String,version:i().A.Number,last_version:i().A.Number,name:i().A.String,icon:i().A.String,space_id:i().A.UUID,group_id:i().A.UUID,created_by_id:i().A.UUID,created_by_table:i().A.String,created_at:i().A.Number,last_edited_by_table:i().A.String,last_edited_by_id:i().A.UUID,last_edited_at:i().A.Number,deleted_at:i().A.Number,settings:i().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},439180:(e,t,r)=>{r.d(t,{TU:()=>o,k3:()=>l,ph:()=>a,qA:()=>s});var n=()=>r(534177);const o=2,i={insertText:!0,deleteText:!0,splitText:!0,moveTextSliceIntoBlock:!0,moveTextSlice:!0,addAnnotation:!0,removeAnnotation:!0,replaceTextInBlock:!0};function a(e){return Boolean(i[e.command])}function s(e){const{pointer:t,crdtOperation:r}=e,i=r.type;switch(i){case"insertText":return{command:"insertText",pointer:t,path:[],opVersion:o,args:r};case"deleteText":return{command:"deleteText",pointer:t,path:[],opVersion:o,args:r};case"addAnnotation":return{command:"addAnnotation",pointer:t,path:[],opVersion:o,args:r};case"removeAnnotation":return{command:"removeAnnotation",pointer:t,path:[],opVersion:o,args:r};case"splitText":return{command:"splitText",pointer:t,opVersion:o,path:[],args:r};default:(0,n().HB)(i)}}function l(e){const t=e.command;switch(t){case"insertText":{const{textInstanceId:t,searchLabel:r,id:n,originId:o,content:i,prevItems:a}=e.args;return{type:"insertText",textInstanceId:t,searchLabel:r,id:n,originId:o,content:i,prevItems:a}}case"deleteText":{const{textInstanceId:t,searchLabel:r,idRanges:n}=e.args;return{type:"deleteText",textInstanceId:t,searchLabel:r,idRanges:n}}case"addAnnotation":{const{textInstanceId:t,searchLabel:r,id:n,start:o,end:i,annotation:a}=e.args;return{type:"addAnnotation",textInstanceId:t,searchLabel:r,id:n,start:o,end:i,annotation:a}}case"removeAnnotation":{const{textInstanceId:t,searchLabel:r,id:n,start:o,end:i,annotationKey:a}=e.args;return{type:"removeAnnotation",textInstanceId:t,searchLabel:r,id:n,start:o,end:i,annotationKey:a}}case"splitText":{const{textInstanceId:t,searchLabel:r,id:n,originId:o}=e.args;return{type:"splitText",textInstanceId:t,searchLabel:r,id:n,originId:o}}default:(0,n().HB)(t)}}},443239:(e,t,r)=>{r.d(t,{U:()=>n,u:()=>o});const n=" ";function o(e){return e[0]===n}},449418:(e,t,r)=>{r.d(t,{Ay:()=>s,_6:()=>a,hY:()=>i,nK:()=>o});var n=()=>r(292588);const o=25,i={space:!0},a="public_domain",s={table:a,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,domain_name:n().A.String,domain_type:n().A.String,domain_status:n().A.String,is_default:n().A.Boolean,is_autogenerated:n().A.Boolean,public_home_page:n().A.String,parent_id:n().A.String,parent_table:n().A.UUID,created_time:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,last_edited_time:n().A.Number,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID},requiredColumns:{id:!0,space_id:!0,version:!0,domain_name:!0,domain_type:!0,domain_status:!0,is_default:!0,is_autogenerated:!0,parent_id:!0,parent_table:!0},model:(0,r(152853).P)({RecordStore:!0})}},450648:(e,t,r)=>{r.d(t,{DZ:()=>S,Px:()=>x,qs:()=>C,r4:()=>k,t2:()=>T,zF:()=>M});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(581454);var n=()=>r(700500),o=()=>r(713998),i=()=>r(869190),a=()=>r(239381),s=()=>r(792071),l=()=>r(96330),c=()=>r(179034),d=()=>r(519831),u=()=>r(837420),p=()=>r(437607),m=()=>r(854150),f=()=>r(798880),_=()=>r(914462),y=()=>r(201980),g=()=>r(404235),b=()=>r(919767),v=()=>r(173979),h=()=>r(861170),A=()=>r(251481),I=()=>r(695608);const S=(0,r(69708).YK)({untitledTextAsString:{defaultMessage:"Not found",id:"textRenderHelpers.untitledTextAsString"}});function k(e){const{textValue:t,getRecordModel:r,userTimeZone:n,intl:o,seenBlocks:i=new Set,deterministic:a=!1,disableAnnotationPrefix:s=!1,disableInsertedAnnotations:l=!1,renderDateAnnotationsAsISO:c=!1,externalIntegrations:d,valueTypes:u}=e,p=y().RQ(t),m=s?"":"@";let f="";for(const _ of p){const e=T({token:_,getRecordModel:r,intl:o,prefix:m,seenBlocks:i,userTimeZone:n,renderDateAnnotationsAsISO:c,deterministic:a,externalIntegrations:d,disableInsertedAnnotations:l,valueTypes:u});null!=e&&e.length&&(f+=e)}return f}function T(e){const{token:t,getRecordModel:r,intl:o,prefix:s,seenBlocks:d,userTimeZone:h,renderDateAnnotationsAsISO:A,deterministic:k,externalIntegrations:T,disableInsertedAnnotations:x,valueTypes:M}=e,w=y().uPN(t),N=y().N8A(t);if(!w.length)return N;for(const P of w){const[e]=P;switch(e){case y().BQP.User:{const e=y().NcG(P);if(e){const t=r({table:f().oo,id:e});return`${s}${(0,I().c6)(o,t)}`}return}case y().BQP.Group:{const e=y().FHi(P);if(e){const{groupId:t,spaceId:n}=e,i=r((0,p().S4)({spaceId:n,spacePermissionGroupId:t}));return`${s}${(0,_().n)({intl:o,permissionGroupModel:i})}`}return}case y().BQP.Team:{const e=y().FLg(P),t=null==e?void 0:e.mentionType;if(e&&"everyone"===t){return`${s}${o.formatMessage({id:"posts.teamMenuItem.everyoneMentionNoAmpersand",defaultMessage:"everyone"})}`}if(e&&"teamspace"===t){const t=r({table:m().yK,id:e.teamId});if(!t)return`${s}AnonymousPlaceholderTeamspace`;return`${s}${null==t?void 0:t.getName()}`}return}case y().BQP.Page:{const e=y().v55(P);return e&&!d.has(e)?(d.add(e),`${s}${C({blockId:e,getRecordModel:r,intl:o,userTimeZone:h,seenBlocks:d})||o.formatMessage(S.untitledTextAsString)}`):void 0}case y().BQP.Collection:{const e=r(y().TSJ(P));return e?`${s}${e.getName()}`:void 0}case y().BQP.SlackSpecialMention:return`${s}${y().p5C(P)}`;case y().BQP.Date:{const e=y().K7D(P);if(e){const{date_format:t,time_format:r,...n}=e;return A?`${s}${(0,i().wh)(n,h)}`:`${s}${(0,i().ZF)({value:n,date_format:t,time_format:r,userTimeZone:h,intl:o,...k?{allowRelativeDates:!1}:{allowRelativeDates:!0}})}`}return}case y().BQP.LinkMention:{const e=y().q1R(P);if(e){return[e.link_author||e.link_provider,e.title||e.description].filter((e=>Boolean(null==e?void 0:e.trim()))).map(g().p).join(" ")}return}case y().BQP.ChatSelectionContext:if(y().fts(P)){return y().$sA(P).text}return;case y().BQP.Equation:{const e=y().j1D(w);if(e){return`$${y().U35(e)}$`}return}case y().BQP.ExternalObjectInstance:{const e=y().MzR(w);if(e){if(!T)return;const t=y().T$c(e);if(!t)return;const i=r({table:c().ev,id:t});if(null==i||!i.isType(n().xd.externalObjectInstance))return;return(0,b().h)({blockModel:i,getRecordModel:r,externalIntegrations:T,intl:o})}return}case y().BQP.TemplateVariable:{const e=y().PVS(w);if(e){return`${s}${(0,v().Ti)(y().y0Y(e).type,o)}`}return}case y().BQP.FormulaContextValue:case y().BQP.FormulaPageProperty:return y().x9g(w)?(0,a().dK)(w,r,o,h,M):void 0;case y().BQP.CustomEmoji:{const e=y().G6d(w);if(e){const[t,n,o]=e,i=r({table:u().e,id:n,spaceId:o});return null==i?void 0:i.getRenderTitle()}return}case y().BQP.Place:{const e=y().Mdu(w);if(e){const t=y().nG4(e),r=(0,l().X1)(t);if(r)return`${s}${r}`}return}case y().BQP.Citation:return;case y().BQP.Inserted:if(x)return}}return N}function x(e,t){return e.filter((e=>!(y().rie(e)||y().RaC(e)||y().JCc(e)||y().jIt(e)||y().qsB(e)||y().gir(e)||t&&y().aIB(e)||y().go0(e)||y().i8Z(e)||y().dei(e)||y().fts(e)||y().bZo(e))))}function M(e,t){const{blockId:r,getRecordModel:n,intl:i,userTimeZone:a,usePlaceholder:l}=e,u=n({table:c().ev,id:r});if(!u)return l?i.formatMessage(S.untitledTextAsString):"";const p=u.getRenderFormatPointer(n);if(!p)return l?u.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:a,intl:i}):"";if(p.table===c().ev){if(u.isCollectionView()){const r=(0,o().yQ)(u,"title");return r?t({...e,textValue:r,deterministic:!1}):u.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:a,intl:i})}const r=n(p);if(r){const o=w({block:r,getRecordModel:n,intl:i}),s=t({...e,textValue:o,deterministic:!1,disableInsertedAnnotations:!0});return 0===o.length&&l?r.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:a,intl:i}):s}}else if(p.table===d().Vl){const r=n(p);if(!r)return l?i.formatMessage(S.untitledTextAsString):"";const o=s().Bj6.fromCollection(r),a=o.getNormalizedName();if(a){const r=t({...e,textValue:a,deterministic:!1,disableInsertedAnnotations:!0});return!r&&l?o.getEmptyTitlePlaceholder({intl:i,getRecordModel:n}):r}}return l?u.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:a,intl:i}):""}function w(e){const{block:t,getRecordModel:r,intl:i}=e,a=(0,o().yQ)(t,"title")||[];if(t.getParentTable()!==c().ev)return a;if(t.isType(n().xd.callout)&&0===a.length){const n=t.getContentIds()[0];if(n){const o=r({table:c().ev,id:n,spaceId:t.getSpaceId()});if(o)return w({...e,block:o})}}const s=r({table:c().ev,id:t.getParentId(),spaceId:t.getSpaceId()});if(null==s||!s.isTranscriptionBlock())return a;let l=(0,o().yQ)(s,"title")||[];0===l.length&&(l=(0,y().x9d)(i.formatMessage(A().i.placeholder)));const d=(0,h().wb)({transcriptionBlockFormat:s.getFormat(),tabBlockId:t.id});if(!d)return l;const u=(0,y().Ey_)(" / "),p=(0,y().Ey_)(i.formatMessage(d));return[...l,u,p]}function C(e){return M(e,k)}},452540:(e,t,r)=>{r.d(t,{W8:()=>a,gK:()=>l,jV:()=>o,sZ:()=>s,wx:()=>i});var n=()=>r(277153);function o(e){const{table:t,id:r}=e;return`${r}:${t}`}function i(e){const{table:t,id:r,spaceId:n}=e;return n?`${n}:${r}:${t}`:o(e)}function a(e){const{combinedId:t,spaceId:r}=e,o=t.split(":"),i=2===o.length?n().L3.fromPointerLike({table:o[1],id:o[0]}):n().L3.fromPointerLike({table:o[2],id:o[1],spaceId:o[0]});return r&&(i.spaceId=r),i}function s(e){return`:${e.id}`}function l(e){const t=e.split(":");return{id:t[1],spaceId:""===t[0]?void 0:t[0]}}},452665:(e,t,r)=>{r.d(t,{Ay:()=>i,J6:()=>o});var n=()=>r(292588);const o="marketplace_service",i={table:o,columnTypes:{id:n().A.UUID,creator_id:n().A.UUID,listing_id:n().A.UUID,name:n().A.String,slug:n().A.String,locales:n().A.StringArray,booking_status:n().A.String,price_range_start:n().A.Number,price_range_end:n().A.Number,currency:n().A.String,attributes:n().A.JSON,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number},requiredColumns:{id:!0,creator_id:!0,name:!0,slug:!0,locales:!0,attributes:!0,version:!0,created_time:!0,updated_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},455348:(e,t,r)=>{r.d(t,{EC:()=>g,aG:()=>b,dW:()=>u,u9:()=>c,zC:()=>m});r(16280),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(908872);var n=()=>r(496603),o=()=>r(973647),i=()=>r(534177),a=()=>r(489242),s=()=>r(796237),l=()=>r(254947);const c={fromViewPropertyIds:(e,t)=>e.map((e=>c.fromViewPropertyId(e,t))),fromViewPropertyId:(e,t)=>(null==t?void 0:t[e])??e,toViewSchema(e,t){const r={},o=t?n().B8(t):{},i=new Set(Object.keys(t??{}));for(const[n,a]of Object.entries(e)){const e=(null==o?void 0:o[n])??n;i.has(n)&&r[e]||(r[e]=a)}return r},derivePropertyUri(e,t){const r=(t?n().B8(t):{})[e];return(0,a().xw)(r)?r:void 0},derivePropertyUris(e,t){const r=t?n().B8(t):{};return new Set(Object.keys(e).map((e=>r[e])).filter(a().xw))}};class d extends Error{constructor(e,t,r){super(`Cannot merge property schemas for property "${e}": ${t.type} <> ${r.type}`)}}function u(e){const{schemas:t,onlyPropertyIds:r,prioritizeLooserLimitRule:a}=e,s={},l=r??n().KC(...t.map(Object.keys));for(const n of l){const e=t.map((e=>e[n])).filter(i().O9);if(!(0,i().EI)(e))continue;const r=o().Q.reduce(e,((e,t)=>{const r=f(e,t,a);if(void 0===r){return{error:new d(n,e,t)}}return{value:r}}));if(o().Q.isFail(r))return{error:r.error};s[n]=r.value}return{value:s}}const p=new WeakMap;function m(e,t,r){if("typed"!==e)return r.getNormalizedSchema();const n=p.get(r);if(!n){var o;const e=r.getNormalizedSchema(),n=u({schemas:[t,c.toViewSchema(e,null===(o=r.getFormat())||void 0===o?void 0:o.app_uri_map)],prioritizeLooserLimitRule:!1});if(n.error)throw n.error;return p.set(r,n.value),n.value}return n}function f(e,t,r){if("select"===e.type||"multi_select"===e.type){if(e.type!==t.type)return;const r=e.options||[],o=t.options||[],i=n().RK(r,o,(e=>e.id));return{type:t.type,name:t.name,icon:t.icon,options:i}}if("status"===e.type){if(e.type!==t.type)return;return function(e,t){const r=[e,t].flatMap((e=>e.groups??[])),o=n().hS(r,(e=>y(e.id,e.name))).map((e=>({id:e.id,name:y(e.id,e.name),color:e.color,optionIds:[]}))),i=new Map;for(const n of o){var a,l;const r=null===(a=e.groups)||void 0===a?void 0:a.find((e=>y(e.id,e.name)===n.name)),o=null===(l=t.groups)||void 0===l?void 0:l.find((e=>y(e.id,e.name)===n.name)),s=(e.options??[]).filter((e=>((null==r?void 0:r.optionIds)??[]).includes(e.id))),c=e=>{const t=e.value,r=i.get(t);if(void 0===r)i.set(t,{option:e,collectionIdSet:new Set(e.collectionIds),group:n});else for(const n of e.collectionIds??[])r.collectionIdSet.add(n)};(t.options??[]).filter((e=>((null==o?void 0:o.optionIds)??[]).includes(e.id))).forEach(c),s.forEach(c)}const c=new Set,d=[];for(const{group:n,option:u,collectionIdSet:p}of i.values()){let e=u.id;c.has(e)&&(e=`${e}-${s().lF(u.value)}`),c.add(e),d.push({...u,id:e,...p.size>0?{collectionIds:[...p]}:{}}),(n.optionIds??=[]).push(e)}return{type:"status",name:t.name,defaultOption:t.defaultOption,groups:o,options:d}}(e,t)}if("number"===e.type){if(e.type!==t.type)return;return{type:t.type,name:t.name,icon:t.icon,number_format:_(e,t,"number_format"),show_as:_(e,t,"show_as")}}if("date"===e.type||"created_time"===e.type||"last_edited_time"===e.type||"last_visited_time"===e.type){if(e.type!==t.type)return;return{type:t.type,name:t.name,icon:t.icon,time_format:_(e,t,"time_format"),date_format:_(e,t,"date_format")}}if("person"===e.type){if(e.type!==t.type)return;const n=_(e,t,"limit");return{type:t.type,name:t.name,icon:t.icon,limit:n??(r?void 0:t.limit),default:_(e,t,"default")??t.default}}if("relation"===e.type){if(e.type!==t.type||!n().n4(e.autoRelate,t.autoRelate))return;const o=_(e,t,"limit");return{type:t.type,name:t.name,icon:t.icon,autoRelate:_(e,t,"autoRelate"),property:_(e,t,"property"),limit:o??(r?void 0:t.limit),version:"v2",collection_pointer:_(e,t,"collection_pointer"),connectedRelation:_(e,t,"connectedRelation"),collection_id:_(e,t,"collection_id")}}if("rollup"===e.type){if(e.type!==t.type||e.relation_property!==t.relation_property||e.aggregation!==t.aggregation)return;return{type:t.type,name:t.name,icon:t.icon,relation_property:t.relation_property,aggregation:t.aggregation,show_as:_(e,t,"show_as"),target_property:_(e,t,"target_property"),target_property_type:_(e,t,"target_property_type")}}if("formula"===e.type){if("v2"===e.version){var o,a;if(e.type!==t.type||e.version!==t.version||!n().n4(null===(o=e.formula2)||void 0===o?void 0:o.code,null===(a=t.formula2)||void 0===a?void 0:a.code))return;return{type:t.type,name:t.name,icon:t.icon,formula2:t.formula2,number_format:_(e,t,"number_format"),show_as:_(e,t,"show_as")}}if(e.type!==t.type||e.version!==t.version||!n().n4(e.formula,t.formula))return;return{type:t.type,name:t.name,icon:t.icon,formula:t.formula,number_format:_(e,t,"number_format"),show_as:_(e,t,"show_as")}}if("auto_increment_id"===e.type){if(e.type!==t.type)return;return t}if("title"===e.type||"file"===e.type||"text"===e.type||"checkbox"===e.type||"url"===e.type||"email"===e.type||"phone_number"===e.type||"created_by"===e.type||"last_edited_by"===e.type||"button"===e.type||"location"===e.type||"verification"===e.type||"place"===e.type){if(e.type!==t.type)return;return t}(0,i().HB)(e)}function _(e,t,r){return n().n4(e[r],t[r])?e[r]:void 0}function y(e,t){return"todo-status-group"===e?l().QV:"in-progress-status-group"===e?l().jc:"complete-status-group"===e?l().P0:"current-status-group"===e?l().nX:"future-status-group"===e?l().p7:t}function g(e,t){for(const r in t){const n=t[r];if((null==n?void 0:n.name)===e)return[r,n]}}function b(e,t){var r;if(e)return null===(r=Object.entries(e).find((([e,r])=>(null==r?void 0:r.type)===t)))||void 0===r?void 0:r[0]}},463776:(e,t,r)=>{r.d(t,{A:()=>i,M:()=>o});var n=()=>r(292588);const o="organization_space",i={table:o,columnTypes:{id:n().A.UUID,organization_id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,alive:n().A.Boolean},requiredColumns:{id:!0,version:!0,organization_id:!0,space_id:!0,alive:!0},model:(0,r(152853).P)({})}},464192:(e,t,r)=>{function n(e){return"none"!==e.role&&Boolean(e.is_public_share_link)}r.d(t,{v:()=>n})},464912:(e,t,r)=>{r.d(t,{Ay:()=>a,OC:()=>o,dO:()=>i});var n=()=>r(292588);const o="marketplace_service_request",i={space:!0},a={table:o,columnTypes:{id:n().A.UUID,creator_id:n().A.UUID,customer_id:n().A.UUID,service_id:n().A.UUID,locale:n().A.String,price_range_start:n().A.Number,price_range_end:n().A.Number,attributes:n().A.JSON,seller_resolved_time:n().A.Number,seller_status:n().A.String,customer_resolved_time:n().A.Number,customer_status:n().A.String,destination_id:n().A.UUID,destination_table:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,project_status:n().A.String,project_resolved_time:n().A.Number,project_resolved_by:n().A.UUID,owner_id:n().A.UUID,project_status_v2:n().A.String},requiredColumns:{id:!0,customer_id:!0,locale:!0,attributes:!0,version:!0,created_time:!0,updated_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},466118:(e,t,r)=>{r.d(t,{T:()=>o,g:()=>n});const n={number_equals:!0,number_does_not_equal:!0,number_greater_than:!0,number_less_than:!0,number_greater_than_or_equal_to:!0,number_less_than_or_equal_to:!0,is_empty:!0,is_not_empty:!0},o=(0,r(534177).uv)(n)},467248:(e,t,r)=>{r.d(t,{i:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.27 4.37 15.45 11.25",directional:!0,svg:(0,r(474848).jsx)("path",{d:"M2.9 4.375a.625.625 0 1 0 0 1.25h14.2a.625.625 0 1 0 0-1.25zm0 3.333a.625.625 0 0 0 0 1.25h14.2a.625.625 0 1 0 0-1.25zM2.275 15c0-.345.28-.625.625-.625H10a.625.625 0 1 1 0 1.25H2.9A.625.625 0 0 1 2.275 15m.625-3.958a.625.625 0 1 0 0 1.25h14.2a.625.625 0 0 0 0-1.25z"})},o=(0,r(340498).wt)("textJustifyLeft",n,"default")},468006:(e,t,r)=>{r.d(t,{$C:()=>H,CG:()=>I,E:()=>x,Gy:()=>R,Jo:()=>S,Jt:()=>M,KF:()=>O,MA:()=>N,O1:()=>T,Pf:()=>P,Q6:()=>C,ST:()=>k,Sh:()=>b,Vv:()=>y,WU:()=>j,ZF:()=>L,Zf:()=>v,aw:()=>E,eF:()=>h,gP:()=>U,gm:()=>g,nT:()=>V,oZ:()=>F,qu:()=>B,ri:()=>_,tQ:()=>A,tr:()=>D,uo:()=>m});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),i=()=>r(12193),a=()=>r(90907),s=()=>r(835607),l=()=>r(737693),c=()=>r(792071),d=()=>r(68263),u=()=>r(848538),p=()=>r(854150);function m(e,t){return{id:e,table:p().yK,spaceId:t}}function f(e){return e instanceof c().dCz?e.getRawMembership():void 0===e.membership?[]:e.membership}function _({rawMembers:e,groupsInSpace:t}){if(!e||!t)return[];const r=function({rawMembers:e}){if(!e)return[];return n().oE(e.flatMap((e=>"group"===e.entity_type?e.group_id:void 0)))}({rawMembers:e}),o=n().pY(t,(e=>e.group_id)),i=r.flatMap((e=>o[e]));return n().oE(i)}function y(e){const t=new Set,r=new Set,n=f(e);for(const o of n)"owner"===o.type&&"user"===o.entity_type&&t.add(o.user_id),"owner"===o.type&&"group"===o.entity_type&&r.add(o.group_id);return{userIds:Array.from(t),groupIds:Array.from(r)}}function g(e){const t=f(e);return n().oE(t.map((e=>{if("team_level_guest"===e.type)return e.user_id})))}function b(e){return Boolean(e.archived_by)}function v(e){const{team:t,userPermissionGroups:r,spaceUser:n,userId:o}=e;let i=[];if(n){if(i=function(e){const{team:t,userPermissionGroups:r,spaceUser:n}=e,o=t.getRawMembership(),i=[],a=o.find((e=>"user"===e.entity_type&&e.user_id===n.user_id));if(!(0,u().MN)(n.membership_type)&&"team_level_guest"!==(null==a?void 0:a.type))return[];a&&i.push(a);o.filter((e=>"group"===e.entity_type&&r.has(e.group_id))).forEach((e=>{i.push(e)})),t.is_default&&0===i.length&&function(e){return(0,u().KM)(e)}(n.membership_type)&&i.push({type:"member",entity_type:"user",user_id:n.user_id});return i}({team:t,spaceUser:n,userPermissionGroups:r}),0===i.length)return"none"}else I({team:t,userId:o})&&i.push({type:"team_level_guest",entity_type:"user",user_id:o});return h(...i.map((e=>e.type)))}function h(...e){let t=0;for(const r of e)t=Math.max(t,p().y.indexOf(r));return p().y[t]}function A(e){const{givenTeamRole:t,comparisonTeamRole:r}=e;return p().y.indexOf(t)>=p().y.indexOf(r)}function I({team:e,userId:t}){return f(e).some((e=>"team_level_guest"===e.type&&e.user_id===t))}function S({team:e,userId:t,userPermissionGroups:r,spaceUser:n}){const i=v({team:e,userPermissionGroups:r,spaceUser:n,userId:t});switch(i){case"owner":case"member":case"team_level_guest":return!0;case"none":return!1;default:(0,o().HB)(i)}}function k(e){if(!e.permissions)return"none";const t=e.permissions.find((t=>T(t,e.id)));return t?t.role:"none"}function T(e,t){return(0,d().gl)(e)?e.team_id===t:(0,d()._S)(e)}function x(e,t){return!!(0,d().un)(e)&&e.team_id===t}function M(e,t){return!(!(0,d().nl)(e)||e.team_id!==t)||(0,d().ZK)(e)}function w(e){return"user"===e.entity_type?`${e.entity_type}|${e.user_id}`:"group"===e.entity_type?`${e.entity_type}|${e.group_id}`:void(0,o().HB)(e)}function C(e,t){return w(e)===w(t)}function N(e){return"self_join"===e.space_member_join_access?"open":"team_members"===e.visibility?"private":"closed"}function P(e){switch(e){case"default":return i().globeIcon;case"open":return l().V;case"closed":return s().F;case"private":return a().lockIcon;default:(0,o().HB)(e)}}function U(e){const{accessLevel:t,isDefault:r}=e,{id:n,permissions:i,settings:a}=e.teamValue,s={type:"explicit_team_owner_permission",role:"editor",team_id:n},l=(null==i?void 0:i.find(d().gl))||{type:"explicit_team_permission",role:"editor",team_id:n},c={visibility:"space_members",space_member_join_access:"self_join",invite_access:"team_members"};if(r)return{settings:c,permissions:[s,l,{type:"space_permission",role:l.role},{type:"explicit_team_guest_permission",role:"none",team_id:n}]};if("open"===t){const e=null==i?void 0:i.find(d().Lg),t=(null==e?void 0:e.role)??"none";return{settings:c,permissions:[s,l,{type:"space_permission",role:(0,d().Tt)(t)?t:l.role}]}}return"closed"===t?{settings:{visibility:"space_members",space_member_join_access:"invite_only",invite_access:a.invite_access},permissions:[s,l,{type:"space_permission",role:"none"}]}:"private"===t?{settings:{visibility:"team_members",space_member_join_access:"invite_only",invite_access:null==a?void 0:a.invite_access},permissions:[s,l,{type:"space_permission",role:"none"}]}:void(0,o().HB)(t)}function D({spaceUserModel:e,teamModel:t,spaceModel:r,userPermissionGroups:n,userId:o}){if(void 0===(null==e?void 0:e.getUserId())||void 0===t||void 0===r)return!1;if("private"!==N(t.getSettings()))return!1;return"none"===v({team:t,userPermissionGroups:n??new Set,spaceUser:e,userId:o})}function B(e){const{userIds:t,groupIds:r}=y(e);return t.length+r.length<1}function O({groupId:e,teamMember:t}){return"group"===t.entity_type&&t.group_id===e}function R(e,t){return t?t.filter((t=>!C(t,e))):[]}function E(e,t){return(t=(t=t??[]).filter((t=>!C(t,e)))).push(e),t}function F({spaceModel:e,teamModel:t,setting:r}){const n=e&&e[r];return t&&t.getSettings()[r]?{disabled:!0,disabledBy:n?"space":"team"}:!t&&n?{disabled:!0,disabledBy:"space"}:{disabled:!1}}function L({numDefaultActiveTeams:e,teamAccessLevel:t}){return 0===e&&"open"===t}function V({isDefault:e}){return{archived_by:void 0,archived_at:void 0,is_default:e}}function H(e){var t;const{space:r,spaceView:n,relyOnOverride:o}=e;if(null==r?void 0:r.getSettings().was_in_personal_home_default_treatment)return!0;const i=Boolean(null==n||null===(t=n.getPersonalHomeSettings())||void 0===t?void 0:t.home_landing_page_enabled_v2);return o&&i}function j(e){const{membershipType:t}=e;switch(t){case"owner":case"membership_admin":case"member":case"restricted_member":return!0;case"page_guest":case"none":case void 0:return!1;default:return(0,o().HB)(t)}}},471987:(e,t,r)=>{r.d(t,{Ay:()=>a,XX:()=>i,qz:()=>o});var n=()=>r(292588);const o={[r(192249).Hi]:!0,[r(183171).V1]:!0},i="marketplace_seller",a={table:i,columnTypes:{id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,stripe_connected_account_id:n().A.String,stripe_connect_onboarding_phase:n().A.String,webhook_config:n().A.JSON,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},474989:(e,t,r)=>{r.d(t,{Ay:()=>a,CM:()=>o,ns:()=>i});var n=()=>r(292588);const o={server_integrations__slack_enterprise:!0,server_integrations__slack_workspace:!0,server_integrations__slack_unique_global_user:!0},i="server_integrations__slack_bot_token",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,access_token:n().A.String,scopes:n().A.StringArray,parent_table:n().A.String,parent_id:n().A.String},model:(0,r(152853).P)({})}},475140:(e,t,r)=>{r.d(t,{EX:()=>u,Ib:()=>f,JO:()=>l,LC:()=>s,LP:()=>m,c7:()=>d,ku:()=>c,y1:()=>_,yn:()=>p});r(16280),r(944114),r(898992),r(672577);var n=()=>r(688728),o=()=>r(500993),i=()=>r(251822),a=()=>r(862387);function s(e,t){let r;return(0,a().vd)(e,((e,n)=>{r||t(e)&&(r=n)})),r}function l(e,t){let r;return(0,a().jh)(e,((e,n)=>{r||t(e)&&(r=n)})),r}function c(e,t){var r,n,o;const i=l(e,t);if(i)switch(i.area){case"views_main_tab_modules":return null===(r=e[i.area])||void 0===r||null===(r=r[i.viewId])||void 0===r?void 0:r[i.index];case"form_conditional_modules":return null===(n=e[i.area])||void 0===n?void 0:n[i.moduleId];default:return null===(o=e[i.area])||void 0===o?void 0:o[i.index]}}function d(e,t){var r,n,o;const i=s(e,t);if(i)switch(i.area){case"views_main_tab_modules":return null===(r=e[i.area])||void 0===r||null===(r=r[i.viewId])||void 0===r?void 0:r[i.index];case"form_conditional_modules":return null===(n=e[i.area])||void 0===n?void 0:n[i.moduleId];default:return null===(o=e[i.area])||void 0===o?void 0:o[i.index]}}function u(e,t){const r=l(e,t);if(!r)return;let n;var o;if("views_main_tab_modules"===r.area)n=null===(o=e[r.area])||void 0===o||null===(o=o[r.viewId])||void 0===o?void 0:o[r.index];else if("form_conditional_modules"===r.area){var i;n=null===(i=e[r.area])||void 0===i?void 0:i[r.moduleId]}else{var a;n=null===(a=e[r.area])||void 0===a?void 0:a[r.index]}return n?{module:n,position:r}:void 0}function p(e,t){const r=s(e,t);if(!r)return;let n;var o;if("views_main_tab_modules"===r.area)n=null===(o=e[r.area])||void 0===o||null===(o=o[r.viewId])||void 0===o?void 0:o[r.index];else if("form_conditional_modules"===r.area){var i;n=null===(i=e[r.area])||void 0===i?void 0:i[r.moduleId]}else{var a;n=null===(a=e[r.area])||void 0===a?void 0:a[r.index]}return n?{module:n,position:r}:void 0}function m(e,t){const r=function(e,t){const r=[];return(0,a().vd)(e,((e,n)=>{t(e)&&r.push(n)})),r}(e,t),n=[];for(const a of r){let t;var o;if("views_main_tab_modules"===a.area)t=null===(o=e[a.area])||void 0===o||null===(o=o[a.viewId])||void 0===o?void 0:o[a.index];else if("form_conditional_modules"===a.area){var i;t=null===(i=e[a.area])||void 0===i?void 0:i[a.moduleId]}else{var s;t=null===(s=e[a.area])||void 0===s?void 0:s[a.index]}t&&n.push({module:t,position:a})}return n}function f(e){const{modulesByArea:t,find:r}=e,o=u(t,(e=>"formQuestion"===e.type&&r(e)));if(o&&"formQuestion"===o.module.type&&(0,n().uW)(o.position.area))return{module:o.module,area:o.position.area}}function _(e){var t,r,n;const{modulesByArea:a,moduleId:s}=e,{module:l,area:c}=(0,o().A)(s,a);switch(c){case"form_conditional_modules":if(!l.parentModuleId||!l.parentConditionalGroupId)throw new Error("Nested module has invalid parent module id or conditional group id");const e=null===(t=(0,o().A)(l.parentModuleId,a).module.conditionalGroups)||void 0===t?void 0:t.find((e=>e.id===l.parentConditionalGroupId));if(!e)throw new Error("Conditional group not found");return{currentModuleIndex:null===(r=e.children)||void 0===r?void 0:r.findIndex((e=>e===s)),numChildrenInGroup:null===(n=e.children)||void 0===n?void 0:n.length};case"form_layout_schema":const c=(0,i().jS)("form_layout_schema",a.form_layout_schema),d=c.nonMoveableHeaderModules,u="moveableCenterModules"in c?c.moveableCenterModules:[],p="moveableFooterModules"in c?c.moveableFooterModules:[],m=c.nonMoveableFooterModules,f=null==u?void 0:u.findIndex((e=>e.id===s));return{currentModuleIndex:d.length+f,numChildrenInGroup:d.length+u.length+p.length+m.length}}}},475722:(e,t,r)=>{r.d(t,{A:()=>i,O:()=>o});var n=()=>r(292588);const o="billing_contract_space",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contract_id:n().A.UUID,space_id:n().A.UUID,external_space_id:n().A.String,alive:n().A.Boolean,created_time:n().A.Number,updated_time:n().A.Number},requiredColumns:{id:!0,version:!0,contract_id:!0,space_id:!0,external_space_id:!0,alive:!0,created_time:!0,updated_time:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},478367:(e,t,r)=>{r.d(t,{I:()=>i});var n=()=>r(534177),o=()=>r(952882);function i(e){return t=e.operator,!!(0,n().O)(o().ic,t);var t}},485819:(e,t,r)=>{r.d(t,{A:()=>i,n:()=>o});var n=()=>r(292588);const o="legal_hold_page_actor",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,legal_hold_page_id:n().A.UUID,user_id:n().A.UUID,created_by_id:n().A.UUID,created_by_table:n().A.String},requiredColumns:{id:!0,version:!0,space_id:!0,legal_hold_page_id:!0,created_by_id:!0,created_by_table:!0},model:(0,r(152853).P)({RecordStore:!1})}},488715:(e,t,r)=>{r.d(t,{Q:()=>u});var n=()=>r(534177),o=()=>r(939768),i=()=>r(700500),a=()=>r(921940),s=()=>r(938379),l=()=>r(142748),c=()=>r(651784),d=()=>r(197959);function u(e){switch(e.model.table){case"collection":return function(e){const{baseUrl:t,pageVisitSource:r,model:n,analyticsNotificationId:o,chatThreadId:i}=e;return(0,s().C)({collectionId:n.id,spaceId:n.getSpaceId(),spaceDomain:void 0,domainBaseUrl:t,pageVisitSource:r,parentCvbId:n.getParentPointer().id,analyticsNotificationId:o,chatThreadId:i})}(e);case"block":return function(e){const t=function(e){const{blockModel:t,getRecordModel:r,baseUrl:n,discussionId:o,pageVisitSource:s,notificationId:c,analyticsNotificationId:u,collectionViewId:p,...m}=e;if((0,i().$I)(t.getType()))return(0,a().A)({pageId:t.id,pageModel:t,baseUrl:n,discussionId:o,notificationId:c,analyticsNotificationId:u,collectionViewId:p,pageVisitSource:s,...m});const f=l().Yn(t.pointer,r),_=l().yb(f);if(_){let e=t.id;if(o){const n=r({table:d().$Y,id:o,spaceId:t.getSpaceId()});if(n){const t=r(n.getParentPointer());e=t&&t.getType()===i().xd.tableRow?t.getParentId():n.getParentId()}}return(0,a().A)({pageId:_.id,pageModel:_,scrollToBlockId:e,baseUrl:n,discussionId:o,notificationId:c,analyticsNotificationId:u,pageVisitSource:s,...m})}}({...e,blockModel:e.model});if(t)return t;return e.baseUrl||"/"}(e);case"space":return function(e){const{model:t,baseUrl:r}=e,n=c().p0({route:{name:"space",spaceId:t.id,spaceDomain:void 0,requestedOnPublicDomain:void 0,searchQuery:void 0,searchRequest:void 0}});if(r)return o().pf({relativeUrl:n,baseUrl:r});return n}(e);default:(0,n().HB)(e.model)}}},489242:(e,t,r)=>{r.d(t,{Kg:()=>l,LE:()=>g,M7:()=>b,Mw:()=>f,PX:()=>s,Ul:()=>i,W7:()=>o,XA:()=>y,ZV:()=>p,_o:()=>m,eP:()=>h,ec:()=>_,gu:()=>A,k6:()=>a,xw:()=>v});r(16280);var n=()=>r(13643);const o={tasks:n().dC,projects:n().Tw},i="createNew";function a(e){return e&&_(e)?n().Fh[e].type:n().Fh.untyped.type}function s(e,t){return e&&_(e)?n().Fh[e].singular:t?n().TZ.untyped_item_singular:n().Fh.untyped.singular}function l(e,t){return e&&_(e)?n().Fh[e].plural:t?n().TZ.untyped_item_plural:n().Fh.untyped.plural}const c=(0,r(69708).YK)({custom_new:{defaultMessage:"New {singularItemName}",id:"appPlatform.customItemNames.new"},goal_singular:{defaultMessage:"goal",id:"appPlatform.predefinedItemNames.goal.type"},goal_plural:{defaultMessage:"goals",id:"appPlatform.predefinedItemNames.goal.plural"},goal_new:{defaultMessage:"New goal",id:"appPlatform.predefinedItemNames.goal.new"}}),d={doc:n().Fh["notion://docs_collection"],meeting:n().Fh["notion://meetings_collection"],project:n().Fh["notion://projects_collection"],task:n().Fh["notion://tasks_collection"],goal:{singular:c.goal_singular,plural:c.goal_plural,new:c.goal_new}};function u(e){const{intl:t,isPlural:r,itemNameConfigV2:o}=e;switch(o.type){case"custom":const e=r?o.plural:o.singular;return e||t.formatMessage(r?n().Fh.untyped.plural:n().Fh.untyped.singular);case"predefined":const i=d[o.value];return t.formatMessage(r?i.plural:i.singular)}}function p(e){const{itemNameConfig:t,intl:r}=e;return t?"custom"===t.type?{singular:t.singular,plural:t.plural}:{singular:u({intl:r,isPlural:!1,itemNameConfigV2:t}),plural:u({intl:r,isPlural:!0,itemNameConfigV2:t})}:{singular:"",plural:""}}function m(e,t,r){const{isItem:o,usePageDefault:i=!0}=r||{},a=p({intl:e,itemNameConfig:null==t?void 0:t.getItemNameConfigV2()});if(a&&a.singular)return e.formatMessage(c.custom_new,{singularItemName:a.singular});const s=null==t?void 0:t.getDatabaseType();if(s)return f(e,s);const l=null==t?void 0:t.getItemNameConfig();return l&&l.singular?e.formatMessage(c.custom_new,{singularItemName:l.singular}):o?e.formatMessage(n().TZ.untyped_item_new):i?e.formatMessage(n().Fh.untyped.new):e.formatMessage(n().TZ.untyped_new_generic)}function f(e,t){return e.formatMessage(n().Fh[t].new)}function _(e){return n().kw.includes(e)}function y(e){return e===n().iH}function g(e){return n().SE.has(e)}function b(e){return n().bt.has(e)}function v(e){return g(e)||b(e)}function h(e){return"title"===e.value.type&&(e.value,!0)}function A(e){const t=e.getFormatStore().getKeyStore("app_config_uri").getValue(),r=null==t?void 0:t.includes("/tutorial/");return Boolean(r)}},492908:(e,t,r)=>{r.d(t,{Ay:()=>s,k$:()=>o,lY:()=>a});var n=()=>r(292588);const o="billing_data_history_entry",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,start_time:n().A.Number,type_version:n().A.Number,billing_data:n().A.JSON},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,start_time:!0,type_version:!0,billing_data:!0},model:(0,r(152853).P)({RecordStore:!0})},a={space:!0},s=i},494142:(e,t,r)=>{r.d(t,{A:()=>i,W:()=>o});var n=()=>r(292588);const o="apple_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,refresh_token:n().A.String,apple_user_id:n().A.String}}},495989:(e,t,r)=>{r.d(t,{Ay:()=>a,wZ:()=>o,xM:()=>i});var n=()=>r(292588);const o=["unseen","home","views","owner","verification","tags","complete"],i="user_settings",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,settings:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},498140:(e,t,r)=>{r.d(t,{DZ:()=>p,FA:()=>ge,FM:()=>Ce,J8:()=>xe,JC:()=>Ae,KZ:()=>Me,Ku:()=>Te,Z$:()=>Pe,bm:()=>ye,e_:()=>Le,mP:()=>Se,pT:()=>Ie,vK:()=>ke,yc:()=>we,zA:()=>he});r(16280),r(18107),r(967357),r(898992),r(354520),r(581454);var n=()=>r(906745),o=r.n(r(104650)),i=()=>r(496603),a=()=>r(834499),s=()=>r(720665),l=()=>r(416504),c=()=>r(402390),d=()=>r(597777),u=()=>r(604995);const p=(0,r(69708).YK)({now:{id:"dateParserHelpers.now",defaultMessage:"now"},remind:{id:"dateParserHelpers.remind",defaultMessage:"remind"},me:{id:"dateParserHelpers.me",defaultMessage:"me"},at:{id:"dateParserHelpers.at",defaultMessage:"at"},todayShort:{id:"dateParserHelpers.today.short",defaultMessage:"td"},today:{id:"dateParserHelpers.today",defaultMessage:"today"},tomorrowShort:{id:"dateParserHelpers.tomorrow.short",defaultMessage:"tm"},tomorrow:{id:"dateParserHelpers.tomorrow",defaultMessage:"tomorrow"},yesterdayShort:{id:"dateParserHelpers.yesterday.short",defaultMessage:"yd"},yesterday:{id:"dateParserHelpers.yesterday",defaultMessage:"yesterday"},last:{id:"dateParserHelpers.last",defaultMessage:"last"},next:{id:"dateParserHelpers.next",defaultMessage:"next"},month:{id:"dateParserHelpers.month",defaultMessage:"month"},year:{id:"dateParserHelpers.year",defaultMessage:"year"},day:{id:"dateParserHelpers.day",defaultMessage:"day"}}),m="_";Symbol("TokenParser");function f(){return n().DateTime.now().set({hour:9}).toFormat("a")}function _(){return n().DateTime.now().set({hour:14}).toFormat("a")}function y(e){const t=n().DateTime.fromObject(e);if(t.isValid)return t}function g(e){return o().succeed(null).chain(e)}const b=!1;function v(e){return t=>o().custom(((r,n)=>(n,o)=>(b&&(console.info(e),console.info("input:",n),console.info("start:",`${Array(o).fill(" ").join("")}^`),console.info(JSON.stringify(t,void 0,2))),r(o,t))))}function h(e,t=1){return o().custom(((r,n)=>(o,i)=>{let s=0;if((0,a().Q)(o)!==o)throw new Error("You need to simplify input before parsing!");const l=o,c=(0,a().Q)(e);for(;s<c.length&&l.charAt(i+s)===c.charAt(s);)s++;return s>=t?r(i+s,l.slice(i,i+s)):n(i,`Expected prefix of '${c}'`)}))}const A=o().alt(o().regex(/\s+/),o().eof),I=o().regex(/[\.\/]/),S=o().alt(o().string("-"),I),k=o().alt(S,o().eof),T=o().regex(/[\s\,]+/),x=o().alt(T,o().eof),M=o().regex(/\s*[-~]\s*/),w=o().string(":");function C(e){return o().optWhitespace.then(o().alt(o().string((0,c().wW)().formatMessage(p.at)),o().string(e.formatMessage(p.at)),o().string(","),o().succeed(""))).then(o().optWhitespace)}const N=o().regex(/[0-9]+/),P=o().regex(/[0-2]?[0-9]/),U=o().alt(A,M,N),D=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],B=d().S2((0,c().wW)());function O(e,t){const r=parseInt(e,10);if((0,s().Et)(r)){const e=Math.abs(r);return e<12&&t.length>0&&(0,a().Q)(t)===(0,a().Q)(_())?e+12:12===e&&t.length>0&&(0,a().Q)(t)===(0,a().Q)(f())?0:e}return function(e){return e&&(0,a().Q)(e)===(0,a().Q)(_())?18:9}(t)}function R(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);if(e<69)return 2e3+e;if(e<100)return 1900+e;if(e>=1e3)return e}}function E(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);if(e<=12)return e}}function F(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);if(e<=31)return e}}const L=g((()=>{const e=f();return o().alt(h("am").lookahead(U),h(e).lookahead(U)).result(e)})),V=g((()=>{const e=n().DateTime.now().set({hour:15}).toFormat("a");return o().alt(h("pm").lookahead(U),h(e).lookahead(U)).result(e)})),H=o().alt(L,V),j=o().seqMap(P,w.times(0,1),N.times(0,1),o().optWhitespace,H.times(0,1),((e,t,r,n,o)=>({hour:e,minute:r[0]||"",meridian:o[0]||""}))),q=o().seqMap(H,o().optWhitespace,P.times(0,1),w.times(0,1),N.times(0,1),((e,t,r,n,o)=>({meridian:e,hour:r[0],minute:o[0]}))),$=o().alt(j,q).chain((({hour:e,minute:t,meridian:r})=>{const i=O(e,r),a=function(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);return e>59?0:e}return 0}(t),l=n().DateTime.fromObject({hour:i,minute:a});if(!l.isValid)return r?o().succeed({type:"time",time:n().DateTime.now().toFormat(d().GE),hasAmPm:!0}):o().fail("Invalid time");const c={type:"time",time:l.toFormat(d().GE),hasAmPm:r.length>0};return o().succeed(c)})).notFollowedBy(I).chain(v("parseTime")),G=$.chain((e=>{const t=M.then($).map((t=>{if(e.hasAmPm){if(t.hasAmPm){return{type:"timerange",start:e.time,end:t.time}}const r=n().DateTime.fromFormat(e.time,d().GE),o=n().DateTime.fromFormat(t.time,d().GE);if(r>o&&o.hour<12){const t=o.plus({hour:12}).toFormat(d().GE);return{type:"timerange",start:e.time,end:t}}return{type:"timerange",start:e.time,end:t.time}}if(t.hasAmPm){const r=n().DateTime.fromFormat(e.time,d().GE),o=n().DateTime.fromFormat(t.time,d().GE);if(r.hour+12<o.hour){return{type:"timerange",start:r.plus({hour:12}).toFormat(d().GE),end:t.time}}}return{type:"timerange",start:e.time,end:t.time}})).chain(v("parseTimeRange"));return o().alt(t,o().succeed(e))})).chain(v("parseTimeOrTimeRange"));function z(e){return o().alt(...ue(e,p.todayShort,p.today)).map((()=>({type:"date",start_date:n().DateTime.now().toFormat(u().tr)})))}function W(e){return o().alt(...ue(e,p.tomorrowShort,p.tomorrow)).map((()=>({type:"date",start_date:n().DateTime.now().plus({day:1}).toFormat(u().tr)})))}function K(e){return o().alt(...ue(e,p.yesterdayShort,p.yesterday)).map((()=>({type:"date",start_date:n().DateTime.now().minus({day:1}).toFormat(u().tr)})))}const Q=g((()=>{const e=n().R2.weekdays(),t=i().yU(D,e);return o().alt(...t.map((([e,t],r)=>o().alt(h(e).lookahead(U),h(t).lookahead(U)).map((()=>{const e=n().DateTime.now(),t=e.set({weekday:r+1});return{type:"date",start_date:(t.weekday===e.weekday?t.plus({week:1}):t).toFormat(u().tr)}})).chain(v("daysOfWeek")))))}));function Z(e,t,r){const n=o().alt(...t.map((([t,n],i)=>o().alt(h((0,c().wW)().formatMessage(r)),h(e.formatMessage(r))).then(o().optWhitespace).then(o().alt(h(t).lookahead(U),h(n).lookahead(U))).map((()=>({weekday:i+1})))))),i=o().alt(...t.map((([t,n],i)=>o().alt(h(t),h(n)).then(o().optWhitespace).then(o().alt(h((0,c().wW)().formatMessage(r)).lookahead(U),h(e.formatMessage(r)).lookahead(U))).map((()=>({weekday:i+1}))))));return o().alt(n,i)}function J(e){return g((()=>{const t=n().R2.weekdays(),r=i().yU(D,t);return Z(e,r,p.last).map((({weekday:e})=>({type:"date",start_date:n().DateTime.now().set({weekday:e}).minus({week:1}).toFormat(u().tr)})))}))}function X(e){return o().alt(h((0,c().wW)().formatMessage(p.last)).lookahead(U),h(e.formatMessage(p.last)).lookahead(U)).then(o().optWhitespace).then(o().eof).map((()=>({type:"date",start_date:n().DateTime.now().minus({week:1}).toFormat(u().tr)})))}function Y(e){return g((()=>{const t=n().R2.weekdays(),r=i().yU(D,t);return Z(e,r,p.next).map((({weekday:e})=>({type:"date",start_date:n().DateTime.now().set({weekday:e}).plus({week:1}).toFormat(u().tr)})))}))}function ee(e){return o().alt(h((0,c().wW)().formatMessage(p.next)).lookahead(U),h(e.formatMessage(p.next)).lookahead(U)).then(o().optWhitespace).then(o().eof).map((()=>({type:"date",start_date:n().DateTime.now().plus({week:1}).toFormat(u().tr)})))}function te(e){return o().alt(...function(e){return[z(e),W(e),K(e),J(e),Y(e),Q,ee(e),X(e)]}(e)).chain(v("parseRelativeDate"))}const re=g((()=>{const e=n().R2.months(),t=i().yU(B,e);return o().alt(...t.map((([e,t],n)=>{var i;return o().alt(...[h(e).lookahead(U),null===(i=ne(t))||void 0===i?void 0:i.lookahead(U)].filter(r(534177).O9)).map((()=>n+1))})))}));function ne(e){if(/^\d+/.test(e)){if(1===e.length)return;return o().string(e)}return h(e)}function oe(e,t){const r=n().DateTime.now(),o=r.year,i=r.minus({month:1});return n().DateTime.fromObject({month:e,day:t,year:o-1})>i?o-1:n().DateTime.fromObject({month:e,day:t,year:o})>i?o:o+1}var ie=function(e){return e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.Day=2]="Day",e}(ie||{});function ae(e){const t=function(e){const t=de(e,p.year).map((e=>e.map((e=>({parsed:e,dateElementKind:ie.Year}))))),r=de(e,p.month).map((e=>e.map((e=>({parsed:e,dateElementKind:ie.Month}))))),n=de(e,p.day).map((e=>e.map((e=>({parsed:e,dateElementKind:ie.Day})))));return o().seqMap(N.notFollowedBy(o().alt(w,H)).skip(o().optWhitespace),o().alt(...t,...r,...n),((e,t)=>({...t,digits:e})))}(e);return t.skip(o().optWhitespace).times(1,3).map((e=>{let t,r,o;for(const n of e.flat())switch(n.dateElementKind){case ie.Year:t=R(n.digits);break;case ie.Month:r=E(n.digits);break;case ie.Day:o=F(n.digits)}o=o||1,r=r??n().DateTime.now().month,t=t??oe(r,o);return{type:"date",start_date:(y({year:t,month:r,day:o})??n().DateTime.now()).toFormat(u().tr)}}))}const se=o().seqMap(N.notFollowedBy(o().alt(w,H)),S.notFollowedBy(o().alt(w,H)),N.times(0,1),k.times(0,1),N.times(0,1),((e,t,r,o,i)=>{const a=parseInt(e);let s,l,c;a>31?(s=R(e),r[0]&&(l=E(r[0])),i[0]&&(c=F(i[0]))):a>12||n().DateTime.fromISO("1990-12-28").toLocaleString(n().DateTime.DATE_SHORT).startsWith("28")?(c=F(e),r[0]&&(l=E(r[0])),i[0]&&(s=R(i[0]))):(l=E(e),r[0]&&(c=F(r[0])),i[0]&&(s=R(i[0]))),c=c??1,l=l??n().DateTime.now().month,s=s??oe(l,c);return{type:"date",start_date:(y({year:s,month:l,day:c})??n().DateTime.now()).toFormat(u().tr)}})).chain(v("parseShortFormDate"));function le(e){return o().alt(te(e),function(e){return o().alt(ae(e),o().seqMap(re.skip(o().optWhitespace),N.notFollowedBy(o().alt(w,H)).times(0,1),x.times(0,1),N.notFollowedBy(o().alt(w,H)).times(0,1),((e,t,r,o)=>{const i=F(t[0])??1;return{type:"date",start_date:(y({year:R(o[0])??oe(e,i),month:e,day:i})??n().DateTime.now()).toFormat(u().tr)}}))).chain(v("parseLongFormDate"))}(e),se)}const ce=G.map((e=>{const t=(0,u().Ec)((0,l().P)());if("time"===e.type){return{type:"datetime",start_date:t.start_date,start_time:e.time,time_zone:(0,l().P)()}}return{type:"datetimerange",start_date:t.start_date,start_time:e.start,end_date:t.start_date,end_time:e.end,time_zone:(0,l().P)()}}));function de(e,t){return[...(0,c().wW)().formatMessage(t).split(m).map((e=>h(e).lookahead(U))),...e.formatMessage(t).split(m).map((e=>h(e).lookahead(U)))]}function ue(e,t,r){const n=[...(0,c().wW)().formatMessage(t).split(m).map((e=>o().string(e))),...e.formatMessage(t).split(m).map((e=>o().string(e)))];return[...[...(0,c().wW)().formatMessage(r).split(m).map((e=>h(e).lookahead(U))),...e.formatMessage(r).split(m).map((e=>h(e).lookahead(U)))],...n]}function pe(e){return o().alt(function(e){return o().alt(...de(e,p.now)).map((()=>(0,u().T_)((0,l().P)())))}(e),ce,function(e){return le(e).skip(C(e)).chain((t=>{const r=C(e).then(G).chain(v("parseStartTimeOrTimeRange")).map((e=>"time"===e.type?{type:"datetime",start_date:t.start_date,start_time:e.time,time_zone:(0,l().P)()}:{type:"datetimerange",start_date:t.start_date,start_time:e.start,end_date:t.start_date,end_time:e.end,time_zone:(0,l().P)()})).chain((t=>{if("datetimerange"===t.type)return o().succeed(t);const r=t,n=M.then(le(e)).chain(v("parseEndDate")).map((e=>({type:"datetimerange",start_date:r.start_date,start_time:r.start_time,end_date:e.start_date,end_time:"00:00",time_zone:(0,l().P)()}))).chain((t=>{const r=C(e).then($).map((e=>({...t,end_time:e.time}))).chain(v("parseEndTime"));return o().alt(r,o().succeed(t))})).chain(v("parseEndDateTime"));return o().alt(n,o().succeed(r))})).chain(v("parseDateTimeOrDateTimeRange")),n=M.then(le(e)).map((e=>({type:"daterange",start_date:t.start_date,end_date:e.start_date}))).chain(v("parseDateRange")),i={type:"date",start_date:t.start_date};return o().alt(r,n,o().succeed(i))})).chain(v("parseDateOrDateTimeOrDateTimeRange"))}(e)).map((e=>(0,u().u7)(e))).map((e=>(0,u().PZ)(e))).skip(M.times(0,1)).skip(T.times(0,1)).chain(v("parsePersistedDate"))}function me(e){return o().alt(...de(e,p.remind)).skip(function(e){return o().optWhitespace.then(o().alt(o().string((0,c().wW)().formatMessage(p.me)),o().string(e.formatMessage(p.me)),o().string(","),o().succeed(""))).then(o().optWhitespace)}(e)).chain(v("remindParser"))}function fe(e){return(t,r)=>{const o=n().wB.defaultLocale,i=(0,c().H)(r);n().wB.defaultLocale=i;const s=e(r).parse((0,a().Q)(t));if(n().wB.defaultLocale=o,s.status)return s.value}}function _e(e){const t=(0,u().AA)(e,(0,l().P)());return!t.start.isValid||t.end&&!t.end.isValid?o().fail("Invalid date validation"):o().succeed(e)}const ye=fe((e=>function(e){return me(e).times(0,1).chain((([t])=>pe(e).times(0,1).chain((([e])=>{if(t&&e)return e="date"===e.type||"daterange"===e.type?{...e,reminder:{unit:"day",value:0,time:d().lM,defaultTimeZone:(0,l().P)()}}:{...e,reminder:{unit:"minute",value:0}},o().succeed(e);if(t){const e=(0,u().uf)((0,l().P)());return e.reminder={unit:"day",value:0,time:d().lM,defaultTimeZone:(0,l().P)()},o().succeed(e)}return e?o().succeed(e):o().fail("Failed to parse.")}))))}(e).chain(_e))),ge=fe((e=>pe(e).chain(_e))),be=fe((e=>$.map((({time:e})=>e)))),ve=fe((e=>le(e).chain(_e).map((({start_date:e})=>e))));function he(e,t){if(e.match(/^\d{1,2}:\d{2}/))return;if(e.match(/\d{2}-\d{4}/))return;const r=n().DateTime.fromISO(e,{zone:null==t?void 0:t.timeZone});if(r.isValid)return r;const o=e.replace(/ /,"T");if(o!==e){const e=n().DateTime.fromISO(o,{zone:null==t?void 0:t.timeZone});if(e.isValid)return e}}function Ae(e,t,r){const n=Pe(e,{intl:t,includeSeconds:!0,inputDateFormat:r});if(n)return n;const o=he(e,t);return o?Ie(o):void 0}function Ie(e){return e.valueOf()===e.startOf("day").valueOf()?{type:"date",start_date:e.toFormat(u().tr)}:{type:"datetime",start_date:e.toFormat(u().tr),start_time:e.toFormat(d().GE),time_zone:e.zoneName}}function Se(e){return{type:"date",start_date:n().DateTime.fromISO(e).toFormat(u().tr)}}function ke(e){const t=n().DateTime.fromISO(e);return{type:"datetime",start_date:t.toFormat(u().tr),start_time:t.toFormat(d().GE),time_zone:t.zoneName}}function Te(e,t){const r=n().DateTime.fromISO(e),o=n().DateTime.fromISO(t);return{type:"datetimerange",start_date:r.toFormat(u().tr),start_time:r.toFormat(d().GE),end_date:o.toFormat(u().tr),end_time:o.toFormat(d().GE),time_zone:r.zoneName}}function xe(e,t){if(e)return we(e,u().tr,t)}function Me(e,t){if(e)return Ce(e,d().GE,t)}function we(e,t,r){const o=n().DateTime.fromFormat(e,t,{locale:(0,c().H)(r)});return o.isValid?o.setLocale(d().M5).toFormat(u().tr):ve(e,r)}function Ce(e,t,r){const o=n().DateTime.fromFormat(e,t,{locale:(0,c().H)(r)});return o.isValid?o.setLocale(d().M5).toFormat(d().GE):be(e,r)}const Ne="";function Pe(e,t){var r;const n=Boolean(null==t?void 0:t.includeSeconds),o=d().$R.exec(e);let i,a;o&&o[1]&&o[2]?(i=o[1],a=o[2]):i=e,a=a||(null==t||null===(r=t.intl)||void 0===r?void 0:r.timeZone)||(0,l().P)();const s=i.split(Ne);if(s[0]&&s[1]){const e=s[0].trim(),r=s[1].trim(),o=Fe(e,a,n,null==t?void 0:t.inputDateFormat);if(void 0!==o){let e=Fe(r,a,n,null==t?void 0:t.inputDateFormat);if(void 0===e){e=Fe(`${o.date}, ${r}`,a,n,null==t?void 0:t.inputDateFormat)}if(void 0!==e){return{type:"datetimerange",start_date:o.date,start_time:o.time,end_date:e.date,end_time:e.time,time_zone:a}}}else{const n=Ee(e,null==t?void 0:t.inputDateFormat);if(void 0!==n){const e=Ee(r,null==t?void 0:t.inputDateFormat);if(void 0!==e){return{type:"daterange",start_date:n,end_date:e}}}}}else if(s[0]){const e=s[0].trim(),r=Fe(e,a,n,null==t?void 0:t.inputDateFormat);if(void 0!==r){return{type:"datetime",start_date:r.date,start_time:r.time,time_zone:a}}{const r=Ee(e,null==t?void 0:t.inputDateFormat);if(void 0!==r){return{type:"date",start_date:r}}}}}class Ue{constructor(e){this.parsers=void 0,this.formats=e}getParsers(){return void 0===this.parsers&&(this.parsers=this.formats.map((e=>n().DateTime.buildFormatParser(e,{locale:d().M5})))),this.parsers}}const De=new Ue(["LLLL d yyyy","yyyy LL dd","LL dd yyyy","LLL dd yyyy","dd LLL yyyy","LL/dd/yyyy","LL-dd-yyyy","L/d/yyyy","L-d-yyyy","LL/dd/yy","LL-dd-yy","L/d/yy","L-d-yy","d LLL yy","d/LLL/yy","d-LLL-yy","d LLL yyyy","d/LLL/yyyy","d-LLL-yyyy","yyyy/LL/dd","yyyy-LL-dd","LLLL d, yyyy","dd/LL/yyyy","dd-LL-yyyy","yyyyLd"]),Be=new Ue(["LLLL d yyyy, HH:mm ZZZ","yyyy LL dd, HH:mm ZZZ","LL dd yyyy, HH:mm ZZZ","LLL dd yyyy, HH:mm ZZZ","dd LLL yyyy, HH:mm ZZZ","LL/dd/yyyy, HH:mm ZZZ","LL-dd-yyyy, HH:mm ZZZ","L/d/yyyy, HH:mm ZZZ","L-d-yyyy, HH:mm ZZZ","LL/dd/yy, HH:mm ZZZ","LL-dd-yy, HH:mm ZZZ","L/d/yy, HH:mm ZZZ","L-d-yy, HH:mm ZZZ","d LLL yy, HH:mm ZZZ","d/LLL/yy, HH:mm ZZZ","d-LLL-yy, HH:mm ZZZ","yyyy/LL/dd, HH:mm ZZZ","yyyy-LL-dd, HH:mm ZZZ","LLLL d yyyy, HH:mm","LLLL d, yyyy HH:mm","LLLL d, yyyy H:mm","yyyy LL dd, HH:mm","LL dd yyyy, HH:mm","LLL dd yyyy, HH:mm","dd LLL yyyy, HH:mm","LL/dd/yyyy, HH:mm","LL/dd/yyyy HH:mm","LL/dd/yyyy H:mm","LL-dd-yyyy HH:mm","LL-dd-yyyy H:mm","dd/LL/yyyy HH:mm","dd-LL-yyyy HH:mm","dd/LL/yyyy H:mm","dd-LL-yyyy H:mm","LL-dd-yyyy, HH:mm","L/d/yyyy, HH:mm","L-d-yyyy, HH:mm","LL/dd/yy, HH:mm","LL-dd-yy, HH:mm","L/d/yy, HH:mm","L-d-yy, HH:mm","d LLL yy, HH:mm","d/LLL/yy, HH:mm","d-LLL-yy, HH:mm","d LLL yyyy, HH:mm","d/LLL/yyyy, HH:mm","d-LLL-yyyy, HH:mm","yyyy/LL/dd, HH:mm","yyyy/LL/dd HH:mm","yyyy/LL/dd H:mm","yyyy-LL-dd, HH:mm","yyyy-LL-dd H:mm","yyyy-LL-dd HH:mm","yyyy-LL-dd, H:mm","LLLL d yyyy, hh:mm a","yyyy LL dd, hh:mm a","LL dd yyyy, hh:mm a","LLL dd yyyy, hh:mm a","dd LLL yyyy, hh:mm a","dd-LL-yyyy hh:mm a","dd/LL/yyyy, hh:mm a","LL/dd/yyyy hh:mm a","LL-dd-yyyy hh:mm a","LL-dd-yyyy, hh:mm a","L/d/yyyy, hh:mm a","L-d-yyyy, hh:mm a","LL/dd/yy, hh:mm a","LL-dd-yy, hh:mm a","L/d/yy, hh:mm a","L-d-yy, hh:mm a","d LLL yy, hh:mm a","d/LLL/yy, hh:mm a","d-LLL-yy, hh:mm a","yyyy/LL/dd hh:mm a","yyyy-LL-dd hh:mm a","yyyyLd H:mm","yyyyLd h:mm a"]),Oe=new Ue(["LLLL d yyyy, HH:mm:ss ZZZ","yyyy LL dd, HH:mm:ss ZZZ","LL dd yyyy, HH:mm:ss ZZZ","LLL dd yyyy, HH:mm:ss ZZZ","dd LLL yyyy, HH:mm:ss ZZZ","LL/dd/yyyy, HH:mm:ss ZZZ","LL-dd-yyyy, HH:mm:ss ZZZ","L/d/yyyy, HH:mm:ss ZZZ","L-d-yyyy, HH:mm:ss ZZZ","LL/dd/yy, HH:mm:ss ZZZ","LL-dd-yy, HH:mm:ss ZZZ","L/d/yy, HH:mm:ss ZZZ","L-d-yy, HH:mm:ss ZZZ","d LLL yy, HH:mm:ss ZZZ","d/LLL/yy, HH:mm:ss ZZZ","d-LLL-yy, HH:mm:ss ZZZ","yyyy/LL/dd, HH:mm:ss ZZZ","yyyy-LL-dd, HH:mm:ss ZZZ","LLLL d yyyy, HH:mm:ss","LLLL d, yyyy HH:mm:ss","LLLL d, yyyy H:mm:ss","yyyy LL dd, HH:mm:ss","LL dd yyyy, HH:mm:ss","LLL dd yyyy, HH:mm:ss","dd LLL yyyy, HH:mm:ss","LL/dd/yyyy, HH:mm:ss","LL/dd/yyyy HH:mm:ss","LL/dd/yyyy H:mm:ss","LL-dd-yyyy HH:mm:ss","LL-dd-yyyy H:mm:ss","dd/LL/yyyy HH:mm:ss","dd-LL-yyyy HH:mm:ss","dd/LL/yyyy H:mm:ss","dd-LL-yyyy H:mm:ss","LL-dd-yyyy, HH:mm:ss","L/d/yyyy, HH:mm:ss","L-d-yyyy, HH:mm:ss","LL/dd/yy, HH:mm:ss","LL-dd-yy, HH:mm:ss","L/d/yy, HH:mm:ss","L-d-yy, HH:mm:ss","d LLL yy, HH:mm:ss","d/LLL/yy, HH:mm:ss","d-LLL-yy, HH:mm:ss","d LLL yyyy, HH:mm:ss","d/LLL/yyyy, HH:mm:ss","d-LLL-yyyy, HH:mm:ss","yyyy/LL/dd, HH:mm:ss","yyyy/LL/dd HH:mm:ss","yyyy/LL/dd H:mm:ss","yyyy-LL-dd, HH:mm:ss","yyyy-LL-dd H:mm:ss","yyyy-LL-dd HH:mm:ss","yyyy-LL-dd, H:mm:ss","LLLL d yyyy, hh:mm:ss a","yyyy LL dd, hh:mm:ss a","LL dd yyyy, hh:mm:ss a","LLL dd yyyy, hh:mm:ss a","dd LLL yyyy, hh:mm:ss a","dd-LL-yyyy hh:mm:ss a","dd/LL/yyyy, hh:mm:ss a","LL/dd/yyyy hh:mm:ss a","LL-dd-yyyy hh:mm:ss a","LL-dd-yyyy, hh:mm:ss a","L/d/yyyy, hh:mm:ss a","L-d-yyyy, hh:mm:ss a","LL/dd/yy, hh:mm:ss a","LL-dd-yy, hh:mm:ss a","L/d/yy, hh:mm:ss a","L-d-yy, hh:mm:ss a","d LLL yy, hh:mm:ss a","d/LLL/yy, hh:mm:ss a","d-LLL-yy, hh:mm:ss a","yyyy/LL/dd hh:mm:ss a","yyyy-LL-dd hh:mm:ss a","yyyyLd H:mm:ss","yyyyLd h:mm:ss a"]);function Re(e){return"m"===e.trim()[0].toLowerCase()?"l":e.trim()[0].toLowerCase()}function Ee(e,t){const r=t?Re(t):void 0;for(const o of De.getParsers()){if(r&&!o.format.trim().toLowerCase().startsWith(r))continue;const t=n().DateTime.fromFormatParser(e,o,{locale:d().M5});if(t.isValid)return(0,u().kB)(t)}}function Fe(e,t,r,o){let i=Be.getParsers();r&&(i=i.concat(Oe.getParsers()));const a=o?Re(o):void 0;for(const s of i){if(a&&!s.format.trim().toLowerCase().startsWith(a))continue;const r=n().DateTime.fromFormatParser(e,s,{locale:d().M5,zone:t});if(r.isValid)return{date:(0,u().kB)(r),time:(0,u().bP)(r),timeZone:t}}}const Le=fe((e=>te(e).map((({start_date:e})=>e))))},500993:(e,t,r)=>{r.d(t,{A:()=>n});r(16280),r(898992),r(672577);function n(e,t){var r;const n=null===(r=t.form_conditional_modules)||void 0===r?void 0:r[e];if(n&&"formQuestion"===n.type)return{module:n,area:"form_conditional_modules"};const o=t.form_layout_schema.find((t=>t.id===e));if(!o||"formQuestion"!==o.type)throw new Error(`Cannot find module with id: ${e} in form areas`);return{module:o,area:"form_layout_schema"}}},506327:(e,t,r)=>{r.d(t,{Ay:()=>a,U1:()=>i,bw:()=>o});var n=()=>r(292588);const o="related_content",i={block:!0},a={table:o,columnTypes:{id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.String,relationship:n().A.String,related_content:n().A.JSON,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID},requiredColumns:{version:!0,parent_table:!0,parent_id:!0,relationship:!0,related_content:!0,updated_time:!0,space_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},506391:(e,t,r)=>{r.d(t,{$B:()=>P,D:()=>E,E4:()=>T,GL:()=>V,Ku:()=>w,MS:()=>A,MV:()=>f,Nm:()=>$,OK:()=>h,Q7:()=>x,RD:()=>M,TJ:()=>g,WS:()=>B,Wo:()=>D,YX:()=>b,cz:()=>_,fk:()=>k,fu:()=>U,gh:()=>y,mW:()=>z,nN:()=>I,nx:()=>v,pL:()=>H,q0:()=>j,q8:()=>G,t6:()=>q,wN:()=>S,xT:()=>L,xp:()=>C});r(898992),r(823215),r(672577),r(581454);var n=()=>r(906745),o=()=>r(496603),i=()=>r(534177),a=()=>r(939768),s=()=>r(597777),l=()=>r(604995),c=()=>r(498140),d=()=>r(416845),u=()=>r(388693),p=()=>r(792071),m=()=>r(332393);const f=10;function _(e){return"inline"===e.type&&e.values.length>=1&&"string"==typeof e.values[0]}function y(e){return"inline"===e.type&&e.values.length>=1&&"number"==typeof e.values[0]}function g(e){return"inline"===e.type&&e.values.length>=1&&"boolean"==typeof e.values[0]}function b(e){return"inline"===e.type&&e.values.length>=1&&v(e.values[0])}function v(e){return"object"==typeof e&&"r"in e}function h(e){var t,r;return _(e)&&("enum"===(null===(t=e.format)||void 0===t?void 0:t.type)||"title"===(null===(r=e.format)||void 0===r?void 0:r.type))}function A(e){return"embed"===e.type&&e.values.length>=1}function I(e){return"embed"===e.type&&e.values.length>=1&&"image/*"===e.mimeType}function S(e){if(!A(e))return!1;const t=e.format;return!(!t||!("type"in t))&&"icon"===t.type}function k(e){return"relation"===e.type}function T(e){return"person"===e.type}function x(e){var t;return"inline"===e.type&&e.values.length>=1&&"string"==typeof e.values[0]&&"code"===(null===(t=e.format)||void 0===t?void 0:t.type)}function M(e){return"inline"===e.type&&s().kC(e.values[0])}function w(e){return"inline"===e.type}function C(e){var t;return"rich_text"===(null==e||null===(t=e.format)||void 0===t?void 0:t.type)}function N(e){const{integration:t,currentSpaceId:r}=e,n=p().Bj6.fromIntegration(t),{original_url_domains:o=[],development_url_domains:i=[]}=n.getInfo()||{};return(0,m().C7)(r,n)?[...o,...i]:o}function P(e){const{url:t,integrations:r,currentSpaceId:n}=e,o=D(t);if(!o)return{type:"failure"};let s,l;for(const a of r){const e=N({integration:a,currentSpaceId:n});for(const r of a.info.original_url_patterns||[]){const n=U({url:t,domains:e,regex:new RegExp(r.regex)});if("invalid_url"===n.type)break;if("url_does_not_match_domain"===n.type)break;if("url_does_not_match_regex"!==n.type){if("success"===n.type){s=a,l=r;break}(0,i().HB)(n)}else s=a}if(s&&l)break}return l&&s?{type:"success",integration:s,pattern:l}:s?{type:"partial",integration:s,urlDomain:o,parsedUrl:(0,a().qg)(t)}:{type:"failure"}}function U(e){const{url:t,domains:r,regex:n}=e,o=D(t);return o?r.find((e=>e===o))?n.test(t)?{type:"success"}:{type:"url_does_not_match_regex"}:{type:"url_does_not_match_domain"}:{type:"invalid_url"}}function D(e){var t;const r=null===(t=(0,a().qg)(e).hostname)||void 0===t?void 0:t.split(".");return r&&r.length>=2?r.slice(r.length-2).join("."):void 0}function B(e){const{url:t,integration:r}=e;if(!(r&&(0,u().v_)(r)&&r.info&&r.info.original_url_patterns))return[];const n=r.info.original_url_patterns.find((({regex:e})=>new RegExp(e).test(t)));if(n){const e=new RegExp(n.regex);return o().oE([...(n.attributes||[]).map((r=>function(e,t,r){return _(r)||A(r)?{...r,values:r.values.map((r=>t.replace(e,r)))}:r}(e,t,r)))])}return[]}function O(e){return Array.isArray(e)?e:[e]}function R(e){return 1===e.length?e[0]:e}function E(e){return"avatar"===e||"identifier"===e||"title"===e||"primary"===e||"secondary"===e||"body"===e||void 0===e}function F(e){return"avatar"===e||"identifier"===e||"primary"===e||"secondary"===e||"body"===e||void 0===e}function L(e){return void 0===e}function V(e){return void 0===e}function H(e){return"entity"===e||"background"===e||void 0===e}function j(e){return"primary"===e||"secondary"===e||void 0===e}function q(e){return"avatar"===e||"entity"===e||"embed"===e||void 0===e}function $(e){return"embed"===e||void 0===e}function G(e){const{id:t,name:r}=e,n={id:t,name:r};if("inline"in e){const t="inline";if("rich_text"in e.inline)return new(d().yI4)("Rich text not supported here");if("plain_text"in e.inline)return{...n,type:t,values:O(e.inline.plain_text.value),...e.inline.plain_text.section&&{format:{section:e.inline.plain_text.section}}};if("code"in e.inline)return{...n,type:t,values:O(e.inline.code.value),format:{type:"code",section:e.inline.code.section,language:e.inline.code.language}};if("boolean"in e.inline)return{...n,type:t,values:O(e.inline.boolean.value)};if("number"in e.inline)return{...n,type:t,values:O(e.inline.number.value)};if("title"in e.inline)return{...n,type:t,values:O(e.inline.title.value),format:{type:"title",...e.inline.title.color&&{color:e.inline.title.color},section:"title"}};if("enum"in e.inline)return{...n,type:t,values:O(e.inline.enum.value),format:{type:"enum",...e.inline.enum.color&&{color:e.inline.enum.color},...e.inline.enum.section&&{section:e.inline.enum.section}}};if("color"in e.inline)return{...n,type:t,values:O(e.inline.color.value),...e.inline.color.section&&{format:{section:e.inline.color.section}}};if("date"in e.inline){const r=O(e.inline.date.value).map(c().mP);return r.every(s().$P)?{...n,type:t,values:r,...e.inline.date.section&&{format:{section:e.inline.date.section}}}:new(d().yI4)("Invalid date value.")}if("datetime"in e.inline){const r=O(e.inline.datetime.value).map(c().vK);return r.every(s().Ar)?{...n,type:t,values:r,...e.inline.datetime.section&&{format:{section:e.inline.datetime.section}}}:new(d().yI4)("Invalid datetime value.")}if("datetimerange"in e.inline){if(e.inline.datetimerange.value.length<2)return new(d().yI4)("Invalidate datetimerange value.");const[r,o]=e.inline.datetimerange.value,i=(0,c().Ku)(r,o);return s().L3(i)?{...n,type:t,values:[i],...e.inline.datetimerange.section&&{format:{section:e.inline.datetimerange.section}}}:new(d().yI4)("Invalid datetimerange value.")}if("created_datetime"in e.inline){const r=O(e.inline.created_datetime.value).map(c().vK);return r.every(s().Ar)?{...n,type:t,values:r,format:{type:"created_time",...e.inline.created_datetime.section&&{section:e.inline.created_datetime.section}}}:new(d().yI4)("Invalid created_datetime value.")}if("last_edited_datetime"in e.inline){const r=O(e.inline.last_edited_datetime.value).map(c().vK);return r.every(s().Ar)?{...n,type:t,values:r,format:{type:"last_edited_time",...e.inline.last_edited_datetime.section&&{section:e.inline.last_edited_datetime.section}}}:new(d().yI4)("Invalid last_edited_datetime value.")}(0,i().HB)(e.inline)}else if("embed"in e){const t={};e.embed.default_height&&(t.defaultHeight=e.embed.default_height),e.embed.default_width&&(t.defaultWidth=e.embed.default_width);const r="embed";if("html"in e.embed)return{...n,type:r,values:O(e.embed.src_url),mimeType:"text/html",...e.embed.html.section&&{format:{section:e.embed.html.section,...t}}};if("image"in e.embed)return{...n,type:r,values:O(e.embed.src_url),mimeType:"image/*",format:{...e.embed.image.format&&{type:e.embed.image.format},...t,...e.embed.image.section&&{section:e.embed.image.section}}};if("audio"in e.embed)return{...n,type:r,values:O(e.embed.src_url),mimeType:"audio/*",...e.embed.audio.section&&{format:{section:e.embed.audio.section,...t}}};if("video"in e.embed)return{...n,type:r,values:O(e.embed.src_url),mimeType:"video/*",...e.embed.video.section&&{format:{section:e.embed.video.section,...t}}};if("pdf"in e.embed)return{...n,type:r,values:O(e.embed.src_url),mimeType:"application/pdf",...e.embed.pdf.section&&{format:{section:e.embed.pdf.section,...t}}};(0,i().HB)(e.embed)}else{if("relation"in e){const t="relation";return e.relation.extension?{...n,type:t,values:O(e.relation.uri),format:{type:"extension",extension:e.relation.extension}}:e.relation.mention?{...n,type:t,values:O(e.relation.uri),format:{type:"mention",section:null===(o=e.relation.mention)||void 0===o?void 0:o.section}}:{...n,type:t,values:O(e.relation.uri)};var o}if("people"in e)return{...n,type:"person",values:O(e.people.uri)};(0,i().HB)(e)}}function z(e){const{id:t,name:r}=e,n={id:t,name:r};if(w(e)){var o,a,l,c,d,u,p,m,f;if(_(e))return"title"===(null===(o=e.format)||void 0===o?void 0:o.type)?{...n,type:"inline",inline:{title:{value:e.values[0],..."title"===(null===(l=e.format)||void 0===l?void 0:l.section)&&{section:"title"}}}}:"enum"===(null===(a=e.format)||void 0===a?void 0:a.type)?{...n,type:"inline",inline:{enum:{value:R(e.values),...(null===(c=e.format)||void 0===c?void 0:c.section)&&(H=e.format.section,"primary"===H||void 0===H)&&{section:e.format.section}}}}:{...n,type:"inline",inline:{plain_text:{value:R(e.values),...(null===(d=e.format)||void 0===d?void 0:d.section)&&F(e.format.section)&&{section:e.format.section}}}};if(g(e))return{...n,type:"inline",inline:{boolean:{value:R(e.values)}}};if(y(e))return{...n,type:"inline",inline:{number:{value:R(e.values)}}};if(b(e))return{...n,type:"inline",inline:{color:{value:R(e.values),...(null===(u=e.format)||void 0===u?void 0:u.section)&&{section:e.format.section}}}};if(function(e){return"inline"===e.type&&s().kC(e.values[0])&&s().$P(e.values[0])}(e)){var v;const t=e.values.map((({start_date:e})=>e));return{...n,type:"inline",inline:{date:{value:R(t),...(null===(v=e.format)||void 0===v?void 0:v.section)&&{section:e.format.section}}}}}if(function(e){return"inline"===e.type&&s().kC(e.values[0])&&s().Ar(e.values[0])}(e)){var h,A;const t=e.values.map((({start_date:e,start_time:t,time_zone:r})=>W({date:e,time:t,timeZone:r})));var I,S,k;return"created_time"===(null===(h=e.format)||void 0===h?void 0:h.type)?{...n,type:"inline",inline:{created_datetime:{value:t[0],...(null===(I=e.format)||void 0===I?void 0:I.section)&&{section:e.format.section}}}}:"last_edited_time"===(null===(A=e.format)||void 0===A?void 0:A.type)?{...n,type:"inline",inline:{last_edited_datetime:{value:t[0],...(null===(S=e.format)||void 0===S?void 0:S.section)&&{section:e.format.section}}}}:{...n,type:"inline",inline:{datetime:{value:R(t),...(null===(k=e.format)||void 0===k?void 0:k.section)&&{section:e.format.section}}}}}if(function(e){return"inline"===e.type&&s().kC(e.values[0])&&s().L3(e.values[0])&&s().kC(e.values[1])&&s().L3(e.values[1])}(e)){var T;const{start_date:t,start_time:r,end_date:o,end_time:i,time_zone:a}=e.values[0],s=[W({date:t,time:r,timeZone:a}),W({date:o,time:i,timeZone:a})];return{...n,type:"inline",inline:{datetimerange:{value:s,...(null===(T=e.format)||void 0===T?void 0:T.section)&&{section:e.format.section}}}}}if(x(e))return{...n,type:"inline",inline:{code:{value:R(e.values)[0],language:null===(p=e.format)||void 0===p?void 0:p.language,...(null===(m=e.format)||void 0===m?void 0:m.section)&&{section:e.format.section}}}};if(C(e))return{...n,type:"inline",inline:{rich_text:{value:[],...(null===(f=e.format)||void 0===f?void 0:f.section)&&{section:e.format.section}}}};(0,i().HB)(e)}else if("embed"===e.type){var M,N,P,U,D,B;if("image/*"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],image:{...(null===(M=e.format)||void 0===M?void 0:M.type)&&{format:e.format.type},...(null===(N=e.format)||void 0===N?void 0:N.section)&&{section:e.format.section}}}};if("video/*"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],video:{...(null===(P=e.format)||void 0===P?void 0:P.section)&&{section:e.format.section}}}};if("audio/*"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],audio:{...(null===(U=e.format)||void 0===U?void 0:U.section)&&{section:e.format.section}}}};if("application/pdf"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],pdf:{...(null===(D=e.format)||void 0===D?void 0:D.section)&&{section:e.format.section}}}};if("text/html"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],html:{...(null===(B=e.format)||void 0===B?void 0:B.section)&&{section:e.format.section}}}};(0,i().HB)(e)}else{var O,E,L,V;if("relation"===e.type)return"extension"===(null===(O=e.format)||void 0===O?void 0:O.type)?{...n,type:"relation",relation:{uri:R(e.values),type:"extension",...(null===(L=e.format)||void 0===L?void 0:L.extension)&&{extension:e.format.extension}}}:"mention"===(null===(E=e.format)||void 0===E?void 0:E.type)?{...n,type:"relation",relation:{uri:R(e.values),type:"mention",...(null===(V=e.format)||void 0===V?void 0:V.section)&&{section:e.format.section}}}:{...n,type:"relation",relation:{uri:R(e.values)}};if("person"===e.type)return{...n,type:"people",people:{uri:R(e.values)}};(0,i().HB)(e)}var H}function W(e){const{date:t,time:r,timeZone:o}=e;return n().DateTime.fromFormat(`${t} ${r}`,`${l().tr} ${s().GE}`,{zone:o}).toISO()}},510618:(e,t,r)=>{r.d(t,{A:()=>i,W:()=>o});var n=()=>r(292588);const o="ai_embedding_config",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.UUID,space_id:n().A.UUID,is_allowed:n().A.Boolean},model:(0,r(152853).P)({RecordStore:!0})}},510916:(e,t,r)=>{r.d(t,{i:()=>o});var n=()=>r(534177);function o(e){switch(e){case"created_time":return"Created Time";case"last_edited_time":return"Last Edited Time";case"last_edited_by":return"Last Edited By";case"created_by":return"Created By";case"title":return"Page Name";default:(0,n().HB)(e)}}},515478:(e,t,r)=>{r.d(t,{K4:()=>o,rv:()=>s,xh:()=>a});var n=()=>r(254947);const o={People:"notion://projects/people_property",Status:"notion://projects/status_property",ProjectDates:"notion://projects/project_dates_property",Priority:"notion://projects/priority_property",Collaborators:"notion://projects/collaborators_property",AiSummary:"notion://projects/project_summary_feature",ProjectToTaskRelation:"notion://projects/project_to_task_relation",BlockingRelation:"notion://projects/project_blocking_relation",BlockedByRelation:"notion://projects/project_blocked_by_relation",CompletionRollup:"notion://projects/completion_rollup",Description:"notion://projects/description_property",JiraSyncBoardToProjectRelation:"notion://projects/jira_sync_board_to_project_relation",JiraSyncProjectToConnectedBoardRelation:"notion://projects/jira_sync_project_to_connected_board_relation"},i=(0,r(69708).YK)({projectTitleProperty:{id:"databaseTypes.projectTypes.projectTitleProperty",defaultMessage:"Project name"},projectOwner:{defaultMessage:"Owner",id:"databaseTypes.projectTypes.projectOwner"},datesProperty:{defaultMessage:"Dates",id:"databaseTypes.projectTypes.datesProperty"},status:{defaultMessage:"Status",id:"appTemplates.projects.status"},done:{defaultMessage:"Done",id:"appTemplates.projects.done"},backlog:{id:"appTemplates.projects.backlog",defaultMessage:"Backlog"},planned:{id:"appTemplates.projects.planned",defaultMessage:"Planning"},paused:{defaultMessage:"Paused",id:"appTemplates.projects.paused"},inProgress:{defaultMessage:"In progress",id:"appTemplates.projects.inProgress"},cancelled:{defaultMessage:"Cancelled",id:"appTemplates.projects.cancelled"}});function a(e){return{title:{type:"title",name:e.formatMessage(i.projectTitleProperty)},[o.People]:{type:"person",name:e.formatMessage(i.projectOwner)},[o.ProjectDates]:{type:"date",name:e.formatMessage(i.datesProperty)},[o.Status]:{name:e.formatMessage(i.status),type:"status",groups:[{id:"todo-status-group",name:n().QV,color:"gray",optionIds:["backlog"]},{id:"in-progress-status-group",name:n().jc,color:"blue",optionIds:["planned","in-progress","paused"]},{id:"complete-status-group",name:n().P0,color:"green",optionIds:["canceled","done"]}],options:[{id:"planned",color:"blue",value:e.formatMessage(i.planned)},{id:"in-progress",color:"yellow",value:e.formatMessage(i.inProgress)},{id:"paused",color:"purple",value:e.formatMessage(i.paused)},{id:"backlog",value:e.formatMessage(i.backlog)},{id:"done",color:"green",value:e.formatMessage(i.done)},{id:"canceled",color:"red",value:e.formatMessage(i.cancelled)}],defaultOption:"Backlog"}}}const s="notion://projects/project_summary_feature"},519664:(e,t,r)=>{function n(e){switch(e.type){case"insertText":return e.id[1]+e.content.length-1;case"splitText":case"addAnnotation":case"removeAnnotation":return e.id[1]}}function o(e,t){return e[1]+t-1}r.d(t,{H:()=>o,b:()=>n})},519831:(e,t,r)=>{r.d(t,{Ay:()=>s,Qn:()=>i,Vl:()=>a});var n=()=>r(415622),o=()=>r(292588);const i={block:!0,collection:!0},a="collection",s={table:a,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,name:o().A.JSON,description:o().A.JSON,icon:o().A.String,cover:o().A.String,schema:o().A.JSON,format:o().A.JSON,parent_id:o().A.UUID,parent_table:o().A.String,alive:o().A.Boolean,file_ids:o().A.StringArray,template_pages:o().A.StringArray,copied_from:o().A.UUID,migrated:o().A.Boolean,space_id:o().A.UUID,deleted_schema:o().A.JSON,permissions:o().A.JSON,created_time:o().A.Number,last_edited_time:o().A.Number,created_by_table:o().A.String,created_by_id:o().A.UUID,last_edited_by_table:o().A.String,last_edited_by_id:o().A.UUID,moved_to_trash_table:o().A.String,moved_to_trash_id:o().A.UUID,moved_to_trash_time:o().A.Number,deleted_from_trash_time:o().A.Number,deleted_from_trash_table:o().A.String,deleted_from_trash_id:o().A.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0},defaultColumnValues:{alive:!1},model:(0,r(152853).P)({RecordStore:!0,properties:{icon:{getMethod:"getRawIcon",getKeyStoreMethod:"getIconStore"},cover:{getKeyStoreMethod:!0},format:{defaultOnRead:n().PL},schema:{defaultOnRead:n().PL},deleted_schema:{defaultOnRead:n().PL},copied_from:{getMethod:!1}}})}},522419:(e,t,r)=>{r.d(t,{Du:()=>N,EY:()=>O,GM:()=>C,JB:()=>P,Jt:()=>V,Nh:()=>$,OG:()=>w,QC:()=>F,SB:()=>H,SR:()=>U,T8:()=>v,TV:()=>b,YR:()=>q,Zv:()=>Z,_2:()=>z,_J:()=>k,hj:()=>u,jy:()=>D,ku:()=>Q,oN:()=>W,pJ:()=>B,pc:()=>R,v5:()=>L,xm:()=>G,yC:()=>d});r(18107),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(354520),r(737550),r(814603),r(147566),r(198721);var n=()=>r(498212),o=()=>r(534177),i=()=>r(939768),a=()=>r(825237),s=()=>r(179034),l=()=>r(519831),c=()=>r(234459);const d=["A4","A3"],u=["Letter","Legal","Tabloid"],p=(d.concat(u),new Set([s().ev,l().Vl,r(363497).TF,c().To]),new Set([s().ev,l().Vl,c().To])),m="secure.notion-static.com",f="https://s3-us-west-2.amazonaws.com/secure.notion-static.com";function _(e){return(0,o().y$)(p,e)}function y(e){let t;try{t=new URL(e)}catch(s){return}if(!t.hostname.endsWith(".amazonaws.com"))return;const r=t.pathname.slice(1),n=t.hostname.split(".");let o,i,a;if(5===n.length&&"s3"===n[1])o=n[0],i=r,a=t.origin;else{if((4!==n.length||"s3"!==n[0])&&3!==n.length)return;o=r.slice(0,r.indexOf("/")),i=r.slice(r.indexOf("/")+1),a=`${t.origin}/${o}`}return{bucket:o,key:i,baseurl:a}}function g(e){const t=y(e);if(!t)return;const{bucket:r,key:o}=t,i=o.split("/"),a="space/id/name"===function(e,t){if(e.includes("temporary")&&t){const e=t.split("/").filter(Boolean);return e.length>1&&(0,n().uj)(e[0])&&(0,n().uj)(e[1])?"space/id/name":"id/name"}return e.endsWith("files-secure")?"space/id/name":"id/name"}(r,o)?i.shift():void 0,[s,l]=i;return{key:o,bucket:r,fileId:(0,n().uj)(s)?s:void 0,spaceId:(0,n().uj)(a)?a:void 0,fileName:l}}function b(e){let t,r;if($(e)){const n=z(e);if(!n)return;t=n.fileId,r=n.fileName}else{const n=g(e);if(!n||!n.fileId)return;t=n.fileId,r=n.fileName}const n=r.indexOf(".");if(-1===n)return`${r}-${t}`;return`${r.slice(0,n)}-${t}.${r.slice(n+1)}`}function v(e){const t=["https://file.notion.so/","https://file-dev.notion.so/","https://file-stg.notion.so/"];for(const r of t)if(null!=e&&e.startsWith(r))return!0;return!(null==e||!e.startsWith("http://localhost:3000/f-local/"))}const h="temporary.notion-static.com",A="-files-secure",I="-notion-temporary-files-";function S(e,t){if(!e)return!1;if(!(e.startsWith(t)||e.replace("s3.","s3-").startsWith(t)))return!1;if(t.includes(h)||t.includes(I))return!0;if(t.includes(m)||t.includes(A)){const t=i().qg(e);if(!t.pathname)return!1;const r=t.pathname.split("/")??[];return 4===r.length&&""!==r[3]}return!1}function k(e){const t=["https://local-files-secure.s3.us-west-2.amazonaws.com","https://stg-files-secure.s3.us-west-2.amazonaws.com","https://prod-files-secure.s3.us-west-2.amazonaws.com","https://dev-files-secure.s3.us-west-2.amazonaws.com"];for(const r of[...t,f])if(S(e,r))return!0;return!(!e||!$(e))}const T={"image/fits":!0,"image/ief":!0,"image/jp2":!0,"image/jpeg":!0,"image/jpg":!0,"image/jpm":!0,"image/jpx":!0,"image/png":!0,"image/tiff":!0,"image/tif":!0,"image/heic":!0,"image/x-icon":!0,"image/svg+xml":!0,"application/pdf":!0},x={heic:!0,ico:!0,jpeg:!0,jpg:!0,png:!0,tif:!0,tiff:!0,gif:!0,svg:!0,pdf:!0,webp:!0},M=["heic","tiff","tif"];function w(e){const t=e.toLowerCase();return M.some((e=>e===t))}function C(e){if(N(e))return!1;const t=(F(e)||"").toLowerCase();return!(!x[t]&&!T[`image/${t}`])&&("gif"!==t||!k(e))}function N(e){const t=e.toLowerCase();return t.startsWith("/images/")&&!t.includes("..")}function P(e){return e.startsWith("https://images.unsplash.com/")}function U(e){const t=new RegExp("^(http|https)://media[0-9-]+.giphy.com/");return null!==e.match(t)}function D(e,t){const r=i().qg(e);return i().Gm({url:`https://images.unsplash.com${r.pathname}`,query:{...r.query,w:(3*Math.max(400*Math.round(t/400),400)).toString()}})}function B(e,t,r,n,o){const i=(0,a().wY)({url:e,permissionRecord:t,baseUrl:r,fullyQualified:!1,userId:n});return fetch(i).then((e=>e.blob())).then((e=>{const t=document.createElement("a");t.href=window.URL.createObjectURL(e),t.download=o||"image",t.click(),window.URL.revokeObjectURL(t.href)}))}function O(e,t,r){const n=E(e,t,r);if(void 0!==n)return n;if($(e)){var o;const t=null===(o=z(e))||void 0===o?void 0:o.fileId;if(t)return{id:t}}const i=g(e);return i&&i.fileId&&i.bucket&&i.key&&(e.startsWith(f)||i.bucket.endsWith("-files-secure"))?{id:i.fileId}:void 0}function R(e){const{source:t,secureFileConfigRootpath:r,secureFileConfigHostname:n}=e;if(void 0===t)return;if(void 0===E(t,r,n))return;const o=i().qg(t);if(!o.pathname)return;const a=o.pathname.split("/");if(a.length<5)return;return{name:a[5],link:G({fileId:a[4],fileName:a[5]})}}function E(e,t,r){if(function(e,t,r){const n=i().qg(e);if(!n.pathname||n.host!==r)return!1;const o=n.pathname.split("/")??[];return Boolean(e&&o.length>=3&&`/${o[1]}`===t)}(e,t,r)){const t=i().qg(e);if(!t.pathname)return;const r=t.pathname.split("/");if(r.length<5)return;const n=4,o=r[n],a=r.slice(n).join("/");if(o&&a){return{id:o}}}}function F(e){const t=i().qg(e);if(!t.href)return;if(!t.pathname)return;const r=t.pathname.split("/").at(-1);if(!r)return;const n=r.split(".");return 1===n.length?"":n[n.length-1]}function L(e){const t=e.lastIndexOf(".");return t>=0?e.substring(0,t):e}function V(e){if($(e)){var t;const r=null===(t=z(e))||void 0===t?void 0:t.fileName;if(r)return r}const r=i().qg(e);if(r.pathname){const e=r.pathname.substring(r.pathname.lastIndexOf("/")+1);if(e)return e}return""}function H(e){let t=e.title||V(e.source)||e.source;if(e.title){const r=F(e.source),n=F(t.replace("#",""));r&&r!==n&&(t+=`.${r}`)}return t}const j=[".html",".htm"];function q(e){const{url:t,forceDownloadExtensions:r=j}=e;return r.some((e=>t.toLowerCase().endsWith(e.toLowerCase())))}function $(e){return e.startsWith("attachment:")}function G(e){return`attachment:${e.fileId}:${e.fileName}`}function z(e){const t=e.split(":");if(3!==t.length)return;const[r,n,o]=t;return"attachment"===r&&n&&o&&!n.includes("../")&&!o.includes("../")?{fileId:n,fileName:o}:void 0}function W(e){const{urlOrAlias:t}=e;return K({urlOrAlias:t,spaceId:""})}function K(e){const{urlOrAlias:t,spaceId:r}=e;if($(t)){const e=z(t);return e&&e.fileId&&e.fileName?{key:`${r}/${e.fileId}/${e.fileName}`,fileId:e.fileId,fileName:e.fileName}:void 0}const n=g(t);if(n&&n.fileId&&n.fileName)return{key:`${(null==n?void 0:n.spaceId)??r}/${n.fileId}/${n.fileName}`,fileId:n.fileId,fileName:n.fileName}}function Q(e,t="file.notion.so"){try{const r=new URL(e);if(r.host!==t)return;const o=new URLSearchParams(r.search),i=o.get("id"),a=o.get("table"),s=o.get("spaceId");if(!i||!a||!s)return;if(!_(a))return;const l=r.pathname.split("/").filter(Boolean);if(l.length<5)return;const c=l[2],d=l[3],u=l.slice(4).join("/");if(!(0,n().uj)(d)||!(0,n().uj)(c))return;if(c!==s)return;return{fileId:d,fileName:u,key:`${s}/${d}/${u}`,copiedSource:{table:a,id:i,spaceId:s}}}catch(r){}}function Z(e){const t=e.split("/image/")[1];if(!t)return;const r=t.split("?")[1],n=new URLSearchParams(r),o=n.get("id"),i=n.get("table"),a=n.get("spaceId"),s=decodeURIComponent(t.split("?")[0]);if(!s)return;if(!o||!i||!a)return;if(!_(i))return;const l=K({urlOrAlias:s,spaceId:a});return l&&l.fileId&&l.fileName?{fileId:l.fileId,fileName:l.fileName,key:l.key,copiedSource:{table:i,id:o,spaceId:a}}:void 0}},524853:(e,t,r)=>{r.d(t,{A:()=>i,H:()=>o});var n=()=>r(292588);const o="external_integration_app",i={table:o,columnTypes:{id:n().A.UUID,client_id:n().A.String,client_secret:n().A.String,oauth_authorize_url:n().A.String,oauth_token_url:n().A.String,deletion_url:n().A.String,scopes:n().A.StringArray,internal_integration_id:n().A.UUID,alive:n().A.Boolean,version:n().A.Number,created_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,updated_by_table:n().A.String,updated_by_id:n().A.UUID,updated_at:n().A.Number},model:(0,r(152853).P)({})}},526147:(e,t,r)=>{r.d(t,{Ay:()=>s,F3:()=>l,Fu:()=>a,uB:()=>i});var n=()=>r(498212),o=()=>r(292588);const i={collection:!0},a="record_key",s={table:a,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,space_id:o().A.UUID,scope_table:o().A.String,scope_id:o().A.UUID,parent_table:o().A.String,parent_id:o().A.UUID,record_key:o().A.String,alive:o().A.Boolean},requiredColumns:{space_id:!0,scope_table:!0,scope_id:!0,parent_table:!0,parent_id:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0})};function l(e){const{spaceId:t,parentTable:r,parentId:o}=e,[i,a]=["space",t];return(0,n().gB)(`${t}-${i}-${a}-${r}-${o}`)}},527925:(e,t,r)=>{r.d(t,{A:()=>i,v:()=>o});var n=()=>r(292588);const o="template_content_group",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,title:n().A.String,contents:n().A.JSON,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,locale:n().A.String,category_id:n().A.String,is_editorial:n().A.Boolean,editorial_attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,contentful_id:!0,title:!0,contents:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,locale:!0},model:(0,r(152853).P)({RecordStore:!0})}},528366:(e,t,r)=>{r.d(t,{Ay:()=>i,SS:()=>o});var n=()=>r(292588);const o="mcp_registry_entry",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,last_edited_time:n().A.Number,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID,kind:n().A.String,canonical_name:n().A.String,source:n().A.String,status:n().A.String,server_url:n().A.String,transport:n().A.String,registry_version:n().A.String,is_first_party:n().A.Boolean,trusted_status:n().A.String,trusted_data:n().A.JSON,oauth_client_id:n().A.UUID,redirect_urls:n().A.JSON,deeplinks:n().A.StringArray,client_type:n().A.String,display_name:n().A.String,tagline:n().A.String,description:n().A.String,icon_url:n().A.String,categories:n().A.JSON,visible_in_add_connection:n().A.Boolean,visible_in_settings:n().A.Boolean,is_preconfigured:n().A.Boolean},requiredColumns:{kind:!0,canonical_name:!0,source:!0,status:!0,created_time:!0,created_by_table:!0,created_by_id:!0,last_edited_time:!0,last_edited_by_table:!0,last_edited_by_id:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!1})}},529745:(e,t,r)=>{r.d(t,{Ay:()=>a,Ht:()=>i,ad:()=>o});var n=()=>r(292588);const o={space:!0},i="marketplace_acquisition",a={table:i,columnTypes:{id:n().A.UUID,listing_id:n().A.UUID,customer_id:n().A.UUID,seller_id:n().A.UUID,stripe_payment_intent_id:n().A.String,product_price:n().A.Number,total_price:n().A.Number,status:n().A.String,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,destination_table:n().A.String,destination_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,attributes:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},538748:(e,t,r)=>{r.d(t,{A:()=>i,m:()=>o});var n=()=>r(292588);const o="offer_code",i={table:o,columnTypes:{id:n().A.UUID,code:n().A.String,campaign:n().A.String,status:n().A.String,version:n().A.Number,last_version:n().A.Number,redeemed_by:n().A.Blob},requiredColumns:{code:!0,campaign:!0,status:!0,version:!0,redeemed_by:!0},model:(0,r(152853).P)({RecordStore:!0})}},541837:(e,t,r)=>{r.d(t,{Ay:()=>a,c0:()=>o,ly:()=>i});var n=()=>r(292588);const o={space:!0},i="workflow_external_connection",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,module_type:n().A.String,external_id:n().A.String,name:n().A.String,description:n().A.String,data:n().A.JSON},requiredColumns:{space_id:!0,version:!0,parent_id:!0,parent_table:!0,created_by_id:!0,created_by_table:!0,created_time:!0,module_type:!0,data:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},545893:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>i});var n=()=>r(292588);const o="space_email_domain",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_created_by_id:n().A.UUID,space_created_by_table:n().A.String,space_created_by_email_domain:n().A.String},model:(0,r(152853).P)({properties:{space_created_by_id:{getRelationalPointerMethod:!1}}})}},548632:(e,t,r)=>{r.d(t,{Ay:()=>a,YV:()=>o,rL:()=>i});var n=()=>r(292588);const o="assistant_session_starter",i={space_view:!0},a={table:o,columnTypes:{id:n().A.UUID,alive:n().A.Boolean,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,created_by_table:n().A.String,created_by_id:n().A.UUID,created_time:n().A.Number,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,space_id:n().A.UUID,user_id:n().A.UUID,type:n().A.String,data:n().A.JSON},requiredColumns:{id:!0,alive:!0,version:!0,parent_id:!0,parent_table:!0,created_by_table:!0,created_by_id:!0,created_time:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,space_id:!0,user_id:!0,type:!0,data:!0},model:(0,r(152853).P)({RecordStore:!0})}},549094:(e,t,r)=>{r.d(t,{Ay:()=>i,Eg:()=>o});var n=()=>r(292588);const o="marketplace_payout",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,external_id:n().A.String,seller_id:n().A.UUID,amount:n().A.Number,currency:n().A.String,paid_time:n().A.Number,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,seller_id:!0,amount:!0,currency:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!1})}},551121:(e,t,r)=>{r.d(t,{A:()=>i,H:()=>o});var n=()=>r(292588);const o="block_token",i={table:o,columnTypes:{id:n().A.UUID,token_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number}}},552826:(e,t,r)=>{r.d(t,{Ay:()=>s,Zz:()=>a,yD:()=>o});var n=()=>r(292588);const o="inference_transcript",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,transcript:n().A.JSON,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_by:n().A.UUID,created_at:n().A.Number},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_by:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},a={workflow:!0,space:!0},s=i},559653:(e,t,r)=>{r.d(t,{$5:()=>a,Ay:()=>l,F9:()=>s,Qp:()=>i});var n=()=>r(498212),o=()=>r(292588);const i={block:!0};function a(e){const{parent_id:t,user_id:r}=e;return(0,n().gB)(`block:${t}:${r}`)}const s="page_visit",l={table:s,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,parent_table:o().A.String,parent_id:o().A.UUID,user_id:o().A.UUID,visited_at:o().A.Number,space_id:o().A.UUID,was_unlisted:o().A.Boolean,type:o().A.String},requiredColumns:{parent_table:!0,parent_id:!0,user_id:!0,visited_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},561190:(e,t,r)=>{r.d(t,{Ay:()=>ln,TG:()=>nn,ep:()=>tn,bI:()=>an,jo:()=>en,vi:()=>rn});r(898992),r(354520),r(581454);var n=()=>r(496603),o=()=>r(534177),i=()=>r(949502),a=()=>r(107072),s=()=>r(42466);const l={[s().Oa6]:void 0,[s().kzt]:12,[s().eBi]:void 0,[s().jft]:void 0,[s().KNP]:void 0,[s().l1b]:void 0,[s().Wdc]:void 0,[s().y$R]:void 0,[s().Wuo]:void 0,[s().cKY]:void 0,[s().TFd]:void 0,[s().Nm7]:void 0,[s().YVp]:void 0,[s().yBS]:25,[s().SC1]:26,[s().OfD]:void 0,[s().Ok8]:void 0,[s().kf7]:void 0,[s().k$w]:void 0,[s().hrX]:void 0,[s().evP]:1,[s().H3H]:void 0,[s().GPl]:void 0,[s().qPS]:void 0,[s().hGr]:void 0,[s().qmW]:void 0,[s().VlP]:7,[s().Gy1]:8,[s().SNf]:4,[s()._0W]:void 0,[s().rqL]:void 0,[s().$XM]:void 0,[s().eUD]:void 0,[s().e4Z]:void 0,[s().$2J]:void 0,[s().r1d]:void 0,[s().$YH]:3,[s().HxG]:void 0,[s().m2N]:void 0,[s().ITT]:17,[s().$kK]:void 0,[s().vjA]:void 0,[s().XHn]:void 0,[s().gEh]:void 0,[s().adQ]:void 0,[s().AsL]:void 0,[s().hWt]:void 0,[s().Klg]:void 0,[s().$MF]:void 0,[s().HBA]:void 0,[s().PsW]:void 0,[s().rGg]:void 0,[s().DHr]:void 0,[s().kMj]:void 0,[s().OjI]:void 0,[s().T2]:void 0,[s().Cy3]:void 0,[s().lo9]:28,[s().iEO]:void 0,[s().joQ]:void 0,[s().W8A]:void 0,[s().hyq]:void 0,[s().hxQ]:void 0,[s().Wnz]:void 0,[s().$$c]:void 0,[s().yDO]:void 0,[s().Lij]:void 0,[s().bhs]:void 0,[s().SBl]:void 0,[s().Q4N]:void 0,[s().bnG]:void 0,[s().CEK]:void 0,[s().Yxt]:void 0,[s().Yxw]:void 0,[s().aFA]:void 0,[s().zx0]:27,[s().PXw]:void 0,[s().dPx]:void 0,[s().ozN]:10,[s().nYQ]:11,[s().IF6]:void 0,[s().HtE]:void 0,[s().jvE]:void 0,[s().uLb]:void 0,[s().QOF]:void 0,[s().KcW]:void 0,[s().pEW]:void 0,[i().yA]:void 0,[a().a8]:void 0,[s().KqJ]:void 0,[s()._ig]:20,[s().ULG]:void 0,[s().UNl]:void 0,[s().EgT]:void 0,[s().ziV]:void 0,[s().V1v]:void 0,[s().qtq]:void 0,[s().qrH]:void 0,[s().lMK]:void 0,[s().enP]:void 0,[s().XXy]:void 0,[s().J6M]:void 0,[s().OCn]:void 0,[s().SS3]:void 0,[s().es0]:void 0,[s().Sd1]:void 0,[s().MOG]:void 0,[s()._pz]:void 0,[s().oo9]:void 0,[s().wl6]:void 0,[s().mEg]:void 0,[s().pkG]:void 0,[s().y75]:void 0,[s().vbv]:void 0,[s().MRl]:void 0,[s().ouC]:void 0,[s().F9f]:void 0,[s().eV7]:void 0,[s().KWb]:void 0,[s().Z4m]:5,[s()._6L]:void 0,[s().AvP]:void 0,[s().ez7]:22,[s().sNL]:2,[s().Fub]:void 0,[s().iPf]:6,[s().Ws0]:void 0,[s().bwd]:void 0,[s()._71]:void 0,[s().Xiz]:14,[s().Xh]:void 0,[s().GFx]:void 0,[s().Ghx]:void 0,[s().kW7]:void 0,[s().nsO]:void 0,[s().mlj]:void 0,[s().sLR]:void 0,[s().H53]:void 0,[s().eqd]:void 0,[s().G4T]:void 0,[s().oJm]:void 0,[s().Q$N]:void 0,[s().Crh]:18,[s().ZPG]:19,[s().ojG]:void 0,[s().EuC]:void 0,[s().VY8]:void 0,[s().Kq7]:void 0,[s().Xwe]:void 0,[s().NXh]:void 0,[s().m3J]:void 0,[s().aSp]:void 0,[s().j0B]:void 0,[s().$RT]:void 0,[s().Jmj]:void 0,[s().qcA]:void 0,[s().gDn]:void 0,[s().naB]:void 0,[s().f3c]:void 0,[s().JrE]:9,[s().aJN]:void 0,[s().sB_]:void 0,[s().PcJ]:void 0,[s().mu7]:void 0,[s().oNS]:void 0,[s().ytf]:void 0,[s().yiT]:void 0,[s().yKj]:21,[s().XXO]:void 0,[s().bf7]:void 0,[s().vnT]:void 0,[s().Hik]:void 0,[s()._FR]:void 0,[s().hRD]:void 0,[s().R$c]:void 0,[s().HAA]:void 0,[s().Toz]:16,[s().mSw]:13,[s().wI1]:void 0,[s().IvX]:void 0,[s().A3P]:void 0,[s().GUg]:void 0,[s().B7B]:void 0,[s().yvd]:void 0,[s().gDt]:void 0,[s().S6u]:void 0,[s()._0B]:void 0,[s().rNM]:void 0,[s().CsX]:void 0,[s().bJl]:void 0,[s().GDR]:void 0,[s().WQd]:void 0,[s().pVl]:void 0,[s().xMx]:void 0,[s().TFg]:void 0,[s().du1]:void 0,[s().C0E]:23,[s().U6v]:15,[s().QRx]:void 0,[s().lyl]:void 0,[s().NkI]:void 0,[s().tEp]:void 0,[s().yMG]:void 0,[s().yHj]:void 0,[s().PuY]:void 0,[s().EcF]:void 0,[s().ef6]:void 0};var c=()=>r(835499);const d={[s().Oa6]:!1,[s().kzt]:!0,[s().eBi]:!1,[s().jft]:!1,[s().KNP]:!0,[s().l1b]:!1,[s().Wdc]:!0,[s().y$R]:!1,[s().Wuo]:!1,[s().cKY]:!1,[s().TFd]:!0,[s().Nm7]:!0,[s().YVp]:!0,[s().yBS]:!0,[s().SC1]:!0,[s().OfD]:!1,[s().Ok8]:!1,[s().kf7]:!1,[s().k$w]:!1,[s().hrX]:!1,[s().evP]:!0,[s().H3H]:!1,[s().GPl]:!0,[s().qPS]:!0,[s().hGr]:!1,[s().qmW]:!0,[s().VlP]:!0,[s().Gy1]:!0,[s().SNf]:!0,[s()._0W]:!0,[s().rqL]:!1,[s().$XM]:!1,[s().eUD]:!1,[s().e4Z]:!0,[s().$2J]:!1,[s().r1d]:!1,[s().$YH]:!0,[s().HxG]:!1,[s().m2N]:!1,[s().ITT]:!0,[s().$kK]:!1,[s().vjA]:!1,[s().XHn]:!1,[s().gEh]:!1,[s().adQ]:!1,[s().AsL]:!0,[s().hWt]:!0,[s().Klg]:!0,[s().$MF]:!0,[s().HBA]:!1,[s().PsW]:!1,[s().rGg]:!0,[s().DHr]:!1,[s().kMj]:!1,[s().OjI]:!0,[s().T2]:!1,[s().Cy3]:!0,[s().lo9]:!0,[s().iEO]:!0,[s().joQ]:!0,[s().W8A]:!1,[s().hyq]:!1,[s().hxQ]:!1,[s().Wnz]:!1,[s().$$c]:!1,[s().yDO]:!0,[s().Lij]:!1,[s().bhs]:!1,[s().SBl]:!0,[s().Q4N]:!1,[s().bnG]:!1,[s().CEK]:!1,[s().Yxt]:!0,[s().Yxw]:!1,[s().aFA]:!1,[s().zx0]:!0,[s().PXw]:!1,[s().dPx]:!1,[s().ozN]:!0,[s().nYQ]:!0,[s().IF6]:!1,[s().HtE]:!1,[s().jvE]:!1,[s().uLb]:!1,[s().QOF]:!1,[s().KcW]:!1,[s().pEW]:!1,[i().yA]:!1,[a().a8]:!1,[s().KqJ]:!1,[s()._ig]:!1,[s().ULG]:!1,[s().UNl]:!1,[s().EgT]:!1,[s().ziV]:!1,[s().V1v]:!1,[s().qtq]:!1,[s().qrH]:!1,[s().lMK]:!1,[s().enP]:!1,[s().XXy]:!1,[s().J6M]:!1,[s().OCn]:!1,[s().SS3]:!1,[s().es0]:!1,[s().Sd1]:!1,[s().MOG]:!0,[s()._pz]:!0,[s().oo9]:!1,[s().wl6]:!1,[s().mEg]:!1,[s().pkG]:!1,[s().y75]:!1,[s().vbv]:!1,[s().MRl]:!0,[s().ouC]:!0,[s().F9f]:!0,[s().eV7]:!1,[s().KWb]:!1,[s().Z4m]:!1,[s()._6L]:!0,[s().AvP]:!1,[s().ez7]:!0,[s().sNL]:!0,[s().Fub]:!0,[s().iPf]:!0,[s().Ws0]:!0,[s().bwd]:!0,[s()._71]:!1,[s().Xiz]:!0,[s().Xh]:!0,[s().GFx]:!1,[s().Ghx]:!0,[s().kW7]:!0,[s().nsO]:!1,[s().mlj]:!1,[s().sLR]:!1,[s().H53]:!1,[s().eqd]:!1,[s().G4T]:!1,[s().oJm]:!1,[s().Q$N]:!1,[s().Crh]:!0,[s().ZPG]:!0,[s().ojG]:!1,[s().EuC]:!0,[s().VY8]:!1,[s().Kq7]:!1,[s().Xwe]:!0,[s().NXh]:!0,[s().m3J]:!0,[s().aSp]:!1,[s().j0B]:!1,[s().$RT]:!1,[s().Jmj]:!0,[s().qcA]:!1,[s().gDn]:!0,[s().naB]:!0,[s().f3c]:!0,[s().JrE]:!0,[s().aJN]:!0,[s().sB_]:!0,[s().PcJ]:!0,[s().mu7]:!0,[s().oNS]:!0,[s().ytf]:!0,[s().yiT]:!1,[s().yKj]:!0,[s().XXO]:!1,[s().bf7]:!1,[s().vnT]:!1,[s().Hik]:!1,[s()._FR]:!1,[s().hRD]:!1,[s().R$c]:!1,[s().HAA]:!0,[s().Toz]:!0,[s().mSw]:!0,[s().wI1]:!1,[s().IvX]:!1,[s().A3P]:!0,[s().GUg]:!0,[s().B7B]:!1,[s().yvd]:!1,[s().gDt]:!1,[s().S6u]:!1,[s()._0B]:!1,[s().rNM]:!1,[s().CsX]:!1,[s().bJl]:!1,[s().GDR]:!1,[s().WQd]:!0,[s().pVl]:!1,[s().xMx]:!1,[s().TFg]:!0,[s().du1]:!0,[s().C0E]:!0,[s().U6v]:!0,[s().QRx]:!0,[s().lyl]:!0,[s().NkI]:!1,[s().tEp]:!0,[s().yMG]:!0,[s().yHj]:!0,[s().PuY]:!1,[s().EcF]:!0,[s().ef6]:!0};var u=()=>r(296344),p=()=>r(801634),m=()=>r(400846),f=()=>r(789011),_=()=>r(838838),y=()=>r(40117),g=()=>r(510618),b=()=>r(299816),v=()=>r(494142),h=()=>r(85216),A=()=>r(363497),I=()=>r(771927),S=()=>r(548632),k=()=>r(912720),T=()=>r(199378),x=()=>r(299294),M=()=>r(475722),w=()=>r(853040),C=()=>r(492908),N=()=>r(959017),P=()=>r(179034),U=()=>r(551121),D=()=>r(824862),B=()=>r(767194),O=()=>r(265229),R=()=>r(63128),E=()=>r(519831),F=()=>r(869558),L=()=>r(343666),V=()=>r(721776),H=()=>r(623403),j=()=>r(317727),q=()=>r(646178),$=()=>r(837420),G=()=>r(326215),z=()=>r(67385),W=()=>r(197959),K=()=>r(926397),Q=()=>r(583622),Z=()=>r(54006),J=()=>r(823377),X=()=>r(636045),Y=()=>r(326399),ee=()=>r(942198),te=()=>r(656048),re=()=>r(402904),ne=()=>r(258911),oe=()=>r(383616),ie=()=>r(329251),ae=()=>r(524853),se=()=>r(840911),le=()=>r(343747),ce=()=>r(647147),de=()=>r(80518),ue=()=>r(952232),pe=()=>r(873005),me=()=>r(835338),fe=()=>r(37165),_e=()=>r(783230),ye=()=>r(296749),ge=()=>r(791036),be=()=>r(599677),ve=()=>r(192125),he=()=>r(829126),Ae=()=>r(965571),Ie=()=>r(552826),Se=()=>r(332393),ke=()=>r(193657),Te=()=>r(964348),xe=()=>r(420948),Me=()=>r(776217),we=()=>r(204742),Ce=()=>r(426302),Ne=()=>r(602468),Pe=()=>r(435826),Ue=()=>r(144081),De=()=>r(379951),Be=()=>r(741037),Oe=()=>r(338180),Re=()=>r(485819),Ee=()=>r(761152),Fe=()=>r(529745),Le=()=>r(247821),Ve=()=>r(287772),He=()=>r(374982),je=()=>r(736062),qe=()=>r(581325),$e=()=>r(664540),Ge=()=>r(665344),ze=()=>r(666450),We=()=>r(266442),Ke=()=>r(549094),Qe=()=>r(197651),Ze=()=>r(183171),Je=()=>r(115850),Xe=()=>r(628720),Ye=()=>r(603557),et=()=>r(365970),tt=()=>r(471987),rt=()=>r(452665),nt=()=>r(464912),ot=()=>r(528366),it=()=>r(422200),at=()=>r(895180),st=()=>r(69946),lt=()=>r(959044),ct=()=>r(682186),dt=()=>r(538748),ut=()=>r(590779),pt=()=>r(946064),mt=()=>r(887175),ft=()=>r(463776),_t=()=>r(874852),yt=()=>r(559653),gt=()=>r(765008),bt=()=>r(619618),vt=()=>r(837241),ht=()=>r(449418),At=()=>r(9904),It=()=>r(204384),St=()=>r(415292),kt=()=>r(526147),Tt=()=>r(847866),xt=()=>r(684558),Mt=()=>r(506327),wt=()=>r(158816),Ct=()=>r(429485),Nt=()=>r(50837),Pt=()=>r(133340),Ut=()=>r(628588),Dt=()=>r(652106),Bt=()=>r(474989),Ot=()=>r(838968),Rt=()=>r(885316),Et=()=>r(41693),Ft=()=>r(384148),Lt=()=>r(591822),Vt=()=>r(158158),Ht=()=>r(141150),jt=()=>r(395868),qt=()=>r(583839),$t=()=>r(379922),Gt=()=>r(101628),zt=()=>r(865377),Wt=()=>r(860620),Kt=()=>r(295043),Qt=()=>r(96689),Zt=()=>r(296900),Jt=()=>r(641284),Xt=()=>r(188845),Yt=()=>r(545893),er=()=>r(7615),tr=()=>r(420532),rr=()=>r(29568),nr=()=>r(437607),or=()=>r(158009),ir=()=>r(899605),ar=()=>r(848538),sr=()=>r(231460),lr=()=>r(610409),cr=()=>r(84520),dr=()=>r(590178),ur=()=>r(421076),pr=()=>r(324694),mr=()=>r(854150),fr=()=>r(959577),_r=()=>r(87845),yr=()=>r(527925),gr=()=>r(192249),br=()=>r(827570),vr=()=>r(197577),hr=()=>r(925753),Ar=()=>r(976617),Ir=()=>r(234459),Sr=()=>r(155792),kr=()=>r(867178),Tr=()=>r(600464),xr=()=>r(277816),Mr=()=>r(232802),wr=()=>r(868935),Cr=()=>r(798880),Nr=()=>r(674770),Pr=()=>r(172542),Ur=()=>r(782398),Dr=()=>r(412742),Br=()=>r(806045),Or=()=>r(62182),Rr=()=>r(978841),Er=()=>r(294712),Fr=()=>r(144986),Lr=()=>r(908651),Vr=()=>r(495989),Hr=()=>r(606219),jr=()=>r(749257),qr=()=>r(743246),$r=()=>r(758256),Gr=()=>r(145820),zr=()=>r(541837),Wr=()=>r(78881),Kr=()=>r(183541),Qr=()=>r(978234),Zr=()=>r(257642),Jr=()=>r(39603),Xr=()=>r(969752),Yr=()=>r(633240);new Map((0,o().WP)(l).map((([e,t])=>void 0!==t?[t,e]:void 0)).filter((e=>void 0!==e)));u().O,u().Dv,p().kz,p().Z,m().e,f().j,g().W,b().y,v().W,h().c,I().Nm,I()._F,k().yB,k().bs,T().SC,T().ls,w().kf,w().NU,x().O,M().O,N().h,P().ev,P().NL,U().H,D().GP,D().FF,O().hG,E().Vl,E().Qn,F().Gy,F().pg,L().SN,L().r0,V()._,j().$,q().eU,G().$2,z().r1,W().$Y,W().yy,K().Hx,K().qF,Q().m,Y().XH,J().$,X().v,ee().g,te().ad,re().As,re().ht,ne().h,ie().$,ae().H,se().Ps,se().q6,le().rG,ce().D,pe().T2,me().Cy,Ae().$,ge().W,be().h,Se().Li,Se().YN,Te().S,xe().Q,Me().bn,ue().O,we().CE,we().Zq,Ce().Yx,Ne().Yx,Ue().zx,Ue().GB,Fe().Ht,Fe().ad,$e().K,Le().jv,Ve().u,rt().J6,nt().OC,nt().dO,Ze().V1,Je().qt,Je().HU,Xe().qr,Xe().H8,Ye().lM,tt().XX,tt().qz,ze().UL,i().yA,i().B6,a().a8,a().t0,st().M,it().es,lt()._p,Tt().iP,Tt().dv,Cr().oo,ct().w,pt().y7,ft().M,mt().v,_t().ou,_t().b8,yt().F9,yt().Qp,gt().eV,bt().K,ht()._6,ht().hY,At().A,It().ez,It().hz,St().sN,St().r9,kt().Fu,kt().uB,wt()._7,Ct().Xh,Dt().k,Ut().G,Rt().s,Vt().o,Bt().ns,Bt().CM,Ft().eq,Lt().G,Et().H,Ot().m,Ht().Q,$t().o,zt().VY,zt().sS,Wt().K,Kt().Xw,Kt().gj,Qt().NX,Zt().m3,Xt().j,Yt().$,tr().q,Jt().a,rr().gD,nr().n,or().f3,ir().Jr,ar().aJ,lr().P,sr().sB,cr().mu,cr().t_,dr().oN,ur().yt,ur().Bd,pr().y,er().Jm,mr().yK,mr().fL,fr().XX,_r().b,yr().v,gr().Hi,br()._F,vr().hR,hr().R$,Ar().H,kr().wI,Tr().I,Nr().yv,wr().B,Pr().g,Ur().S,Dr()._0,Br().r,Er().GD,Fr().WQ,Fr().P5,Lr().p,Vr().xM,Hr().TF,Hr().kQ,Gt().Eu,Gt().j4,jt().Cr,qt().ZP,qt().QH,$().e,Ge()._i,We().UN,fe().lo,fe().QM,_e().i,vt().Z,ke().bh,he().W,Rr().b,Or().C,xr().A,S().YV,S().rL,ye().j,R().Ay,R().Lb,Mt().bw,Mt().U1,et().en,He().QO,He().Vf,Ke().Eg,je().Kc,Qe().zi,A().TF,A().oe,qr().C0,qr().V8,Xr().Ec,Xr().rA,Gr().QR,Gr().ZY,Qr().yM,Qr().fx,Zr().y,Ie().yD,Ie().Zz,Ir().To,Ir().OW,Sr().mS,Sr().$J,Jr().P,oe().Kl,oe().hB,zr().ly,zr().c0,Wr().N,Kr().tE,Kr().e7,$r().U6,$r().rk,Nt().Xi,ve().h,Yr().e,De().PX,Ee().I,Oe().o,Re().n,Mr().GU,Mr().Jo,at().S,_().KN,_().dT,y().l,_().gN,H().r,qe().pE,B().q,Be().dP,de().kM,dt().m,xt().W,Pe().aF,Pt().G,ut().p,jr().du,jr().wg,C().k$,C().lY,Z().IT,ot().SS;const en={block:P().Ay,customer:G().Ay,notion_user:Cr().Ay,space:Qt().Ay,space_bot:Zt().Ay,space_permission_group:nr().cq,space_permission_group_member:or().Ix,space_user:ar().zD,space_view:cr().Ay,token:kr().Ay,user_root:Er().Ay,temporary_password:hr().Ay,password:bt().A,collection:E().Ay,collection_view:F().Ay,apple_token:v().A,google_token:Ae().A,follow:me().Ay,activity:p().Ay,notification:lt().Ay,firebase_token:pe().Ay,trello_token:Tr().A,asana_token:h().A,confluence_token:V().A,monday_token:st().A,external_entity:ie().A,external_token:ce().A,external_integration_app:ae().A,slack_integration:zt().Ay,slack_notification:Wt().A,discussion:W().Ay,comment:L().Ay,snapshot:Kt().Ay,credit:q().Ay,used_credit:wr().A,user_settings:Vr().Ay,evernote_token:ee().A,space_recover_pages:ir().Ay,drive_token:Q().A,block_token:U().A,user_metadata:Br().A,bot:D().Ay,bot_token:O().Ay,saml_config:wt().Ay,sidebar_section:jt().Ay,sidebar_section_item:qt().Ay,experiment:te().Ay,education_domain:J().A,education_email:X().A,edge:Z().Ay,space_invite_link:tr().A,public_email_domain:At().h,user_data_consent_permissions:Pr().A,access_request:u().Ay,template_tag:vr().Ay,template_collection:_r().A,page_visit:yt().Ay,page_exit:_t().Ay,subscription:dr().Ay,space_domain:Xt().A,admin_api_log:m().A,admin_api_op_log:f().A,integration:Se().Ay,integration_management_permissions:Te().A,integration_token:xe().A,oauth_authorization_code:ct().A,mfa_settings:it().Ay,device:z().Ay,user_device:Ur().A,[re().As]:re().Ay,[ne().h]:ne().A,[Hr().TF]:Hr().Ay,[le().rG]:le().Ay,[Lr().p]:Lr().A,team:mr().Ay,[$t().o]:$t().A,[j().$]:j().A,[be().h]:be().A,[ge().W]:ge().A,[It().ez]:It().Ay,[se().Ps]:se().Ay,[K().Hx]:K().Ay,[Y().XH]:Y().Ay,[Yt().$]:Yt().A,[Ce().Yx]:Ce().Ay,[k().yB]:k().Ay,[Ct().Xh]:Ct().Ay,[Dt().k]:Dt().A,[Ut().G]:Ut().A,[Rt().s]:Rt().A,[Vt().o]:Vt().A,[Ft().eq]:Ft().Ay,[Lt().G]:Lt().A,[Bt().ns]:Bt().Ay,[Et().H]:Et().A,[Ot().m]:Ot().A,[Ht().Q]:Ht().A,[St().sN]:St().Ay,[kt().Fu]:kt().Ay,[T().SC]:T().Ay,[Fe().Ht]:Fe().Ay,[er().Jm]:er().Ay,[sr().sB]:sr().Ay,[Dr()._0]:Dr().Ay,[Jt().a]:Jt().A,[rr().gD]:rr().Ay,[fr().XX]:fr().Ay,[gr().Hi]:gr().Ay,[yr().v]:yr().A,[br()._F]:br().Ay,[pt().y7]:pt().Ay,[ft().M]:ft().A,[mt().v]:mt().A,[lr().P]:lr().A,[b().y]:b().A,[g().W]:g().A,[A().TF]:A().Ay,[I().Nm]:I().Ay,[Ue().zx]:Ue().Ay,[ur().yt]:ur().Ay,[$e().K]:$e().A,[tt().XX]:tt().Ay,[ze().UL]:ze().Ay,[we().CE]:we().Ay,[ht()._6]:ht().Ay,[w().kf]:w().Ay,[x().O]:x().A,[M().O]:M().A,[Ne().Yx]:Ne().Ay,[N().h]:N().A,[Gt().Eu]:Gt().Ay,[$().e]:$().A,[Ge()._i]:Ge().Ay,[et().en]:et().Ay,[Ke().Eg]:Ke().Ay,[je().Kc]:je().Ay,[Qe().zi]:Qe().Ay,[We().UN]:We().Ay,[Le().jv]:Le().Ay,[Ve().u]:Ve().A,[rt().J6]:rt().Ay,[nt().OC]:nt().Ay,[Ze().V1]:Ze().Ay,[Je().qt]:Je().Ay,[Xe().qr]:Xe().Ay,[Ye().lM]:Ye().Ay,[fe().lo]:fe().Ay,[_e().i]:_e().A,[vt().Z]:vt().A,[Tt().iP]:Tt().Ay,[ke().bh]:ke().Ay,[he().W]:he().A,[Rr().b]:Rr().A,[Or().C]:Or().A,[xr().A]:xr().h,[S().YV]:S().Ay,[ye().j]:ye().A,[R().Ay]:R().Vv,[Mt().bw]:Mt().Ay,[gt().eV]:gt().Ay,[He().QO]:He().Ay,[qr().C0]:qr().Ay,[Xr().Ec]:Xr().Ay,[Gr().QR]:Gr().Ay,[Jr().P]:Jr().A,[oe().Kl]:oe().Ay,[zr().ly]:zr().Ay,[Wr().N]:Wr().A,[Kr().tE]:Kr().Ay,[$r().U6]:$r().Ay,[Qr().yM]:Qr().Ay,[Zr().y]:Zr().A,[Ie().yD]:Ie().Ay,[Ir().To]:Ir().Ay,[Sr().mS]:Sr().Ay,[Nt().Xi]:Nt().Ay,[Me().bn]:Me().Ay,[ue().O]:ue().v,[ve().h]:ve().A,[Ar().H]:Ar().A,[Yr().e]:Yr().A,[De().PX]:De().Ay,[Ee().I]:Ee().A,[Oe().o]:Oe().A,[Re().n]:Re().A,[Mr().GU]:Mr().Ay,[at().S]:at().A,[_().KN]:_().Ay,[y().l]:y().A,[Fr().WQ]:Fr().Ay,[H().r]:H().A,[qe().pE]:qe().Ay,[B().q]:B().A,[pr().y]:pr().A,[Be().dP]:Be().Ay,[de().kM]:de().Ay,[dt().m]:dt().A,[xt().W]:xt().A,[Nr().yv]:Nr().Ay,[Pe().aF]:Pe().Ay,[Pt().G]:Pt().A,[ut().p]:ut().A,[jr().du]:jr().Ay,[C().k$]:C().Ay,[ot().SS]:ot().Ay,[i().yA]:i().Ay,[a().a8]:a().Ay};new Map((0,o().WP)(c().B).map((([e,t])=>[t,e])));function tn(e){return d[e]}function rn(e){return c().B[e]}function nn(e){return l[e]}const on=(0,o().uv)(en);function an(e){return on.includes(e)}r(638681).literals(...(0,r(720665).HP)(en));const sn={};n().uk(en,(e=>{e.columnTypes&&n().uk(e.columnTypes,((e,t)=>{t&&(sn[t]=!0)}))}));const ln=en},561565:(e,t,r)=>{r.d(t,{e:()=>_,u:()=>l});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(581454);var n=()=>r(496603),o=()=>r(534177),i=()=>r(506391);const a=(0,r(69708).YK)({githubPullOpened:{id:"unfurling.github.githubPullOpened",defaultMessage:"Opened {value}"},githubPullClosed:{id:"unfurling.github.githubPullClosed",defaultMessage:"Closed {value}"},githubPullMerged:{id:"unfurling.github.githubPullMerged",defaultMessage:"Merged {value}"},githubCommitted:{id:"unfurling.github.githubCommitted",defaultMessage:"Committed {value}"},githubPullRequest:{id:"unfurling.github.githubPullRequest",defaultMessage:"Pull Request {value}"},githubIssue:{id:"unfurling.github.githubIssue",defaultMessage:"Issue {value}"},githubCommit:{id:"unfurling.github.githubCommit",defaultMessage:"Commit"},githubFile:{id:"unfurling.github.githubFile",defaultMessage:"File"},githubRef:{id:"unfurling.github.githubRef",defaultMessage:"Ref"},codeLanguage:{id:"unfurling.github.codeLanguage",defaultMessage:"Language"},githubRepoUpdated:{id:"unfurling.github.githubRepoUpdated",defaultMessage:"Updated {value}"},githubPullRequests:{id:"unfurling.github.githubPullRequests",defaultMessage:"{value} Pull Requests"},githubIssues:{id:"unfurling.github.githubIssues",defaultMessage:"{value} Issues"},jiraAssignee:{id:"unfurling.jira.jiraAssignee",defaultMessage:"Assigned to {value}"},jiraUpdated:{id:"unfurling.github.jiraUpdated",defaultMessage:"Updated {value}"},slackMessage:{id:"unfurling.slack.slackMessage",defaultMessage:"Message in Slack"},slackThread:{id:"unfurling.slack.slackThread",defaultMessage:"Thread in Slack"},slackReplyCount:{id:"unfurling.slack.slackReplyCount",defaultMessage:"{value, plural, one {{value} reply} other {{value} replies}}"},zoomMeeting:{id:"unfurling.zoom.joinZoomMeeting",defaultMessage:"Join Zoom meeting"},zoomPasscode:{id:"unfurling.zoom.zoomPasscode",defaultMessage:"Passcode: {value}"},asanaDueAt:{id:"unfurling.asana.asanaDueAt",defaultMessage:"Due {value}"},asanaUpdatedAt:{id:"unfurling.asana.asanaUpdatedAt",defaultMessage:"Updated {value}"},asanaPreviewEntity:{id:"unfurling.asana.asanaTask",defaultMessage:"Preview Asana"},asanaAssignedTo:{id:"unfurling.asana.asanaAssignedTo",defaultMessage:"Assigned to {value}"},trelloDueAt:{id:"unfurling.trello.trelloDueAt",defaultMessage:"Due {value}"},trelloUpdatedAt:{id:"unfurling.trello.trelloUpdatedAt",defaultMessage:"Updated {value}"},trelloAssignedTo:{id:"unfurling.trello.trelloAssignedTo",defaultMessage:"Assigned to {value}"},trelloCard:{id:"unfurling.trello.trelloCard",defaultMessage:"Card in Trello"},figmaFile:{id:"unfurling.figma.figmaFile",defaultMessage:"Figma File"},figmaLastModifiedBy:{id:"unfurling.figma.figmaLastModifiedBy",defaultMessage:"Last modified by {value}"},dropboxFile:{id:"unfurling.dropbox.dropboxFile",defaultMessage:"Dropbox File"},status:{id:"unfurling.generic.status",defaultMessage:"Status"},pullRequest:{id:"unfurling.github.pullRequest",defaultMessage:"PR"},author:{id:"unfurling.generic.author",defaultMessage:"Author"},issue:{id:"unfurling.github.issue",defaultMessage:"Issue"},assigned:{id:"unfurling.generic.assigned",defaultMessage:"Assigned"},section:{id:"unfurling.generic.section",defaultMessage:"Section"},due:{id:"unfurling.generic.due",defaultMessage:"Due"},created:{id:"unfurling.generic.created",defaultMessage:"Created"},updated:{id:"unfurling.generic.updated",defaultMessage:"Updated"},type:{id:"unfurling.generic.type",defaultMessage:"Type"},project:{id:"unfurling.generic.project",defaultMessage:"Project"},meetingId:{id:"unfurling.zoom.meetingId",defaultMessage:"Meeting ID"},passcode:{id:"unfurling.zoom.passcode",defaultMessage:"Passcode"},host:{id:"unfurling.zoom.host",defaultMessage:"Host"},list:{id:"unfurling.trello.list",defaultMessage:"List"},lastModifiedBy:{id:"unfurling.generic.lastModifiedBy",defaultMessage:"Modified by"},lastModifiedAt:{id:"unfurling.generic.lastModifiedAt",defaultMessage:"Modified at"},replies:{id:"unfurling.slack.replies",defaultMessage:"Replies"},owner:{id:"unfurling.github.owner",defaultMessage:"Owner"},gitlabIssues:{id:"unfurling.gitlab.gitlabIssues",defaultMessage:"{value} Pull Requests"},gitlabMerges:{id:"unfurling.gitlab.gitlabMerges",defaultMessage:"{value} Issues"},dynamicLabelForHover:{id:"unfurling.hover.label",defaultMessage:"{value}"},calendarEventTime:{id:"unfurling.calendar.eventTime",defaultMessage:"Event time"},calendarLocation:{id:"unfurling.calendar.location",defaultMessage:"Location"},googleDrivePreview:{id:"unfurling.googleDrive.preview",defaultMessage:"Google Drive link preview"},selectFileToPreview:{id:"unfurling.googleDrive.selectFileToPreview",defaultMessage:"Select file to preview"}});function s(e){var t,r,o,i;const a=[];for(const n of e.root.attributes||[]){var s;if("relation"===n.type&&"extension"===(null==n||null===(s=n.format)||void 0===s?void 0:s.type))for(const t of n.format.extension||[]){const r=I({rootAttribute:n,subAttribute:v(e,n.id,t.id),section:t.section});r&&a.push(r)}else a.push(n)}a.push(...e.parsedAttributes);const l=n().hS(a,"id"),c=n().$z(l,(({format:e})=>null==e?void 0:e.section));return{icons:c.avatar||[],title:null===(t=c.title)||void 0===t?void 0:t[0],body:null===(r=c.body)||void 0===r?void 0:r[0],entityIcon:null===(o=c.entity)||void 0===o?void 0:o[0],identifier:null===(i=c.identifier)||void 0===i?void 0:i[0],primaries:c.primary||[],secondaries:c.secondary||[],embeds:c.embed||[]}}const l={block:e=>{const{icons:t,title:r,primaries:o,body:a,entityIcon:l,identifier:c,secondaries:d,embeds:u}=s(e);return{icons:t,headerAttributes:n().oE([r?{attribute:r}:void 0,...o.map((e=>({attribute:e})))]),bodyAttribute:a&&(0,i().cz)(a)?a:void 0,subheaderIcon:l,subheaderAttributes:n().oE([c?{attribute:c}:void 0,...d.map((e=>({attribute:e})))]),previewAttributes:u.filter(i().MS)}},inline:e=>{const{icons:t,title:r,primaries:o,identifier:i,entityIcon:a}=s(e);return{icon:a,identifier:i,title:r?{attribute:r}:void 0,attributes:n().oE([...o.slice(0,2),t[0]])}},hover:e=>{const{title:t,secondaries:r,primaries:l,embeds:c,identifier:d}=s(e),u=null==c?void 0:c[0],p=[d,...l,...r].filter(o().O9).map((e=>{const{id:t}=e;return"created_at"===t?{key:{formatter:a.created},value:{attribute:e}}:"updated_at"===t?{key:{formatter:a.updated},value:{attribute:e}}:{key:{formatter:a.dynamicLabelForHover},value:{attribute:e}}}));return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE(p),previewImageAttribute:u&&(0,i().nN)(u)?u:void 0}}};function c(e){const t=b(e,"key"),r=t&&(0,i().cz)(t)?t.values[0]:void 0,n=r?r.split("-").slice(1).map(((e,t)=>0===t?`${e[0].toUpperCase()}${e.substring(1)}`:e)).join(" "):void 0,o=h(e,"members"),s=o.map((e=>{const t=e.find((({id:e})=>"avatar_url"===e)),r=e.find((({id:e})=>"title"===e||"name"===e));return t||r})),l=o.map((e=>e.find((({id:e})=>"title"===e||"name"===e)))),c=v(e,"board","title")||v(e,"board","board_name"),d=v(e,"list","title")||v(e,"list","name"),u=y(e,"title"),p=y(e,"due_at"),m=y(e,"updated_at");return{title:u?{attribute:u}:n?{attribute:{id:"title",name:"Title",type:"inline",values:[n]}}:t&&t.values[0]?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.trelloCard},memberNames:l,boardName:c,listName:d,dueAt:p,updatedAt:m,memberIcons:s}}function d(e){var t;const r=b(e,"title"),n=r&&(0,i().cz)(r)?r.values[0]:void 0,o=n?null===(t=k(n))||void 0===t?void 0:t.split("-").join(" ").replace(/   /g," - "):void 0,s=y(e,"title")||y(e,"name"),l=y(e,"updated_at"),c=y(e,"username")||v(e,"user","title")||v(e,"user","name"),d=y(e,"avatar_url")||v(e,"user","avatar_url"),u=y(e,"thumbnail_url"),p=b(e,"site");return{title:s?{attribute:s}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.figmaFile},lastModifiedByName:c,parsedSite:p,lastModifiedAt:l,previewImageAttribute:u,lastModifiedByAvatar:d}}function u(e){const t=b(e,"title"),r=t&&(0,i().cz)(t)?t.values[0]:void 0,n=r?k(r):void 0,o=y(e,"title"),s=y(e,"file_size"),l=y(e,"preview_image");return{title:o?{attribute:o}:n?{attribute:{id:"title",name:"Title",type:"inline",values:[n]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.dropboxFile},fileSizeAttribute:s,previewImageAttribute:l}}function p(e){const t=b(e,"title"),r=t&&(0,i().cz)(t)?t.values[0]:void 0,n=r?k(r):void 0,o=y(e,"title"),s=y(e,"file_size"),l=y(e,"preview_image");return{title:o?{attribute:o}:n?{attribute:{id:"title",name:"Title",type:"inline",values:[n]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.dropboxFile},fileSizeAttribute:s,previewImageAttribute:l}}function m(){return{block:e=>{const t=b(e,"title"),r=b(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=v(e,"user","title")||v(e,"user","login"),c=v(e,"user","avatar_url"),d=y(e,"state"),u=v(e,"state","icon"),p=v(e,"state","title")||v(e,"state","name"),m=p&&(0,i().cz)(p)?p.values[0]:void 0;let f;const _=y(e,"created_at"),g=y(e,"merged_at"),h=y(e,"closed_at");return"Open"===m&&_?f={attribute:_,formatter:a.githubPullOpened}:"Closed"===m&&h?f={attribute:h,formatter:a.githubPullClosed}:"Merged"===m&&g&&(f={attribute:g,formatter:a.githubPullMerged}),{icons:n().oE([c||l]),headerAttributes:n().oE([o?{attribute:o}:t?{attribute:t,formatter:a.githubPullRequest}:void 0,d?{attribute:d}:void 0]),subheaderIcon:u,subheaderAttributes:s||l||f?n().oE([s?{attribute:s}:void 0,l?{attribute:l}:void 0,f]):n().oE([r?{attribute:r}:void 0])}},inline:e=>{const t=b(e,"title"),r=y(e,"title"),o=y(e,"number"),s=y(e,"state"),l=v(e,"state","icon");return{icon:l&&(0,i().nN)(l)?l:void 0,identifier:o,title:r?{attribute:r}:t?{attribute:t,formatter:a.githubPullRequest}:void 0,attributes:n().oE([s])}},hover:e=>{const t=b(e,"title"),r=b(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=y(e,"user"),c=y(e,"state"),d=v(e,"state","title")||v(e,"state","name"),u=d&&(0,i().cz)(d)?d.values[0]:void 0;let p;const m=y(e,"created_at"),f=y(e,"merged_at"),_=y(e,"closed_at");return"Open"===u&&m?p={attribute:m,formatter:a.githubPullOpened}:"Closed"===u&&_?p={attribute:_,formatter:a.githubPullClosed}:"Merged"===u&&f&&(p={attribute:f,formatter:a.githubPullMerged}),{title:o?{attribute:o}:t?{attribute:t,formatter:a.githubPullRequest}:void 0,headerAttributes:n().oE([r?{attribute:r}:void 0,p]),dictionaryAttributes:n().oE([s?{key:{formatter:a.pullRequest},value:{attribute:s}}:void 0,c?{key:{formatter:a.status},value:{attribute:c}}:void 0,l?{key:{formatter:a.author},value:{attribute:l}}:void 0])}}}}const f={github_app_pull:m(),github_pull:m(),"Calendar event":{block:e=>({}),inline:e=>({}),hover:e=>{const t=y(e,"title"),r=y(e,"event_time"),o=y(e,"location");return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE([r?{key:{formatter:a.calendarEventTime},value:{attribute:r}}:void 0,o?{key:{formatter:a.calendarLocation},value:{attribute:o}}:void 0])}}},github_issue:{block:e=>{const t=b(e,"title"),r=b(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=v(e,"user","title")||v(e,"user","login"),c=v(e,"user","avatar_url"),d=y(e,"state"),u=v(e,"state","icon"),p=v(e,"state","title")||v(e,"state","name"),m=p&&(0,i().cz)(p)?p.values[0]:void 0;let f;const _=y(e,"created_at"),g=y(e,"closed_at");return"Open"===m&&_?f={attribute:_,formatter:a.githubPullOpened}:"Closed"===m&&g&&(f={attribute:g,formatter:a.githubPullClosed}),{icons:n().oE([c||l]),headerAttributes:n().oE([o?{attribute:o}:t?{attribute:t,formatter:a.githubIssue}:void 0,d?{attribute:d}:void 0]),subheaderIcon:u,subheaderAttributes:s||l||f?n().oE([s?{attribute:s}:void 0,l?{attribute:l}:void 0,f]):n().oE([r?{attribute:r}:void 0])}},inline:e=>{const t=b(e,"title"),r=y(e,"title"),o=y(e,"number"),s=y(e,"state"),l=v(e,"user","avatar_url"),c=v(e,"state","icon");return{icon:c&&(0,i().nN)(c)?c:void 0,identifier:o,title:r?{attribute:r}:t?{attribute:t,formatter:a.githubIssue}:void 0,attributes:n().oE([s,l])}},hover:e=>{const t=b(e,"title"),r=b(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=y(e,"user"),c=y(e,"state"),d=v(e,"state","title")||v(e,"state","name"),u=d&&(0,i().cz)(d)?d.values[0]:void 0;let p;const m=y(e,"created_at"),f=y(e,"closed_at");return"Open"===u&&m?p={attribute:m}:"Closed"===u&&f&&(p={attribute:f}),{title:o?{attribute:o}:t?{attribute:t,formatter:a.githubIssue}:void 0,headerAttributes:n().oE([r?{attribute:r}:void 0,p]),dictionaryAttributes:n().oE([s?{key:{formatter:a.issue},value:{attribute:s}}:void 0,c?{key:{formatter:a.status},value:{attribute:c}}:void 0,l?{key:{formatter:a.author},value:{attribute:l}}:void 0])}}},github_commit:{block:e=>{const t=y(e,"title"),r=b(e,"commit_sha"),o=b(e,"owner_and_repo"),s=v(e,"author","title")||v(e,"author","login"),l=v(e,"author","avatar_url"),c=y(e,"created_at");return{icons:n().oE([l||s]),headerAttributes:n().oE([t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.githubCommit},!t&&r&&(0,i().cz)(r)?{attribute:{...r,values:[r.values[0].substring(0,7)]}}:void 0]),subheaderAttributes:s||c?n().oE([s?{attribute:s}:void 0,c?{attribute:c,formatter:a.githubCommitted}:void 0]):n().oE([o?{attribute:o}:void 0])}},inline:e=>{const t=y(e,"title"),r=b(e,"commit_sha"),o=y(e,"number"),s=y(e,"state"),l=v(e,"user","avatar_url");return{identifier:o&&(0,i().cz)(o)?o:void 0,title:t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.githubCommit},attributes:s||l?n().oE([s,l]):n().oE([r&&(0,i().cz)(r)?{...r,values:[r.values[0].substring(0,7)]}:void 0])}},hover:e=>{const t=y(e,"title"),r=b(e,"commit_sha"),o=b(e,"owner_and_repo"),s=y(e,"author"),l=y(e,"created_at");return{title:t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.githubCommit},headerAttributes:n().oE([o?{attribute:o}:void 0,r&&(0,i().cz)(r)?{attribute:{...r,values:[r.values[0].substring(0,7)]}}:void 0]),dictionaryAttributes:n().oE([s?{key:{formatter:a.author},value:{attribute:s}}:void 0,l?{key:{formatter:a.created},value:{attribute:l}}:void 0])}}},github_repo:{block:e=>{const t=b(e,"owner"),r=b(e,"title")||b(e,"name"),o=y(e,"title")||y(e,"name"),i=v(e,"owner","title")||v(e,"owner","login"),s=v(e,"owner","avatar_url"),l=y(e,"updated_at");return{icons:n().oE([s||i]),headerAttributes:n().oE([o?{attribute:o}:r?{attribute:r}:void 0]),subheaderAttributes:i||l?n().oE([i?{attribute:i}:void 0,l?{attribute:l,formatter:a.githubRepoUpdated}:void 0]):n().oE([t?{attribute:t}:void 0])}},inline:e=>{const t=b(e,"title")||b(e,"name"),r=y(e,"title")||y(e,"name"),o=y(e,"state"),i=v(e,"owner","avatar_url");return{title:r?{attribute:r}:t?{attribute:t}:void 0,attributes:n().oE([o,i])}},hover:e=>{const t=b(e,"title")||b(e,"name"),r=y(e,"title")||y(e,"name"),o=y(e,"owner"),i=y(e,"updated_at");return{title:r?{attribute:r}:t?{attribute:t}:void 0,dictionaryAttributes:n().oE([o?{key:{formatter:a.owner},value:{attribute:o}}:void 0,i?{key:{formatter:a.updated},value:{attribute:i}}:void 0])}}},github_file:{block:e=>{var t,r;const o=b(e,"owner_and_repo"),i=b(e,"path")||b(e,"path"),a=y(e,"title")||y(e,"name"),s=v(e,"owner","name"),l=v(e,"owner","avatar_url"),c=y(e,"content"),d="code"===(null==c||null===(t=c.format)||void 0===t?void 0:t.type)?c:void 0,u=null==d||null===(r=d.format)||void 0===r?void 0:r.language,p=S(b(e,"commit_or_branch")),m=S(y(e,"ref"));return{icons:n().oE([l||s]),headerAttributes:n().oE([a?{attribute:a}:i?{attribute:i}:void 0,s?{attribute:s}:o?{attribute:o}:void 0]),bodyAttribute:d,subheaderAttributes:n().oE([m?{attribute:m}:p?{attribute:p}:void 0,u?{attribute:{id:"language",name:"Language",type:"inline",values:[u]}}:void 0])}},inline:e=>{const t=b(e,"owner_and_repo"),r=b(e,"path")||b(e,"path"),o=y(e,"title")||y(e,"name"),i=v(e,"owner","name"),a=v(e,"owner","avatar_url");return{title:o?{attribute:o}:r?{attribute:r}:void 0,attributes:n().oE([a,i||t])}},hover:e=>{var t,r,o;const i=b(e,"owner_and_repo"),s=y(e,"content"),l="code"===(null==s||null===(t=s.format)||void 0===t?void 0:t.type)?s:void 0,c=b(e,"path")||b(e,"path"),d=y(e,"title")||y(e,"name"),u=v(e,"owner","name"),p=S(b(e,"commit_or_branch")),m=S(y(e,"ref"));return{headerAttributes:n().oE([i?{attribute:i}:u?{attribute:u}:void 0,m?{attribute:m}:p?{attribute:p}:void 0]),title:d?{attribute:d}:c?{attribute:c}:void 0,dictionaryAttributes:n().oE([i?{key:{formatter:a.owner},value:{attribute:i}}:void 0,m?{key:{formatter:a.githubRef},value:{attribute:m}}:void 0,null!=l&&null!==(r=l.format)&&void 0!==r&&r.language?{key:{formatter:a.codeLanguage},value:{attribute:{id:"language",name:"Language",type:"inline",values:[null===(o=l.format)||void 0===o?void 0:o.language]}}}:void 0])}}},github_pulls:{block:e=>{const t=b(e,"owner"),r=b(e,"repo"),o=y(e,"owner"),i=y(e,"repo");return{headerAttributes:n().oE([i?{attribute:i}:r?{attribute:r,formatter:a.githubPullRequests}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=b(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:a.githubPullRequests}:void 0}}},github_issues:{block:e=>{const t=b(e,"owner"),r=b(e,"repo"),o=y(e,"owner"),i=y(e,"repo");return{headerAttributes:n().oE([i?{attribute:i}:r?{attribute:r,formatter:a.githubIssues}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=b(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:a.githubIssues}:void 0}}},jira_issue:{block:e=>{const t=b(e,"title"),r=b(e,"site"),o=y(e,"title"),i=y(e,"key"),s=y(e,"status"),l=v(e,"type","icon"),c=y(e,"updated"),d=v(e,"assignee","title")||v(e,"assignee","name"),u=v(e,"assignee","avatar_url");return{icons:n().oE([u||d]),headerAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0,s?{attribute:s}:void 0]),subheaderIcon:l,subheaderAttributes:i||d||c?n().oE([i?{attribute:i}:void 0,d?{attribute:d,formatter:a.jiraAssignee}:void 0,c?{attribute:c,formatter:a.jiraUpdated}:void 0]):n().oE([r?{attribute:r}:void 0])}},inline:e=>{const t=b(e,"title"),r=y(e,"title"),o=y(e,"key"),a=v(e,"assignee","avatar_url"),s=v(e,"type","icon")||y(e,"icon"),l=y(e,"status");return{icon:s&&(0,i().nN)(s)?s:void 0,identifier:o,title:r?{attribute:r}:t?{attribute:t}:void 0,attributes:n().oE([l,a])}},hover:e=>{const t=b(e,"title"),r=y(e,"title"),o=y(e,"key"),i=y(e,"status"),s=y(e,"type"),l=y(e,"updated"),c=y(e,"assignee");return{title:r?{attribute:r}:t?{attribute:t}:void 0,dictionaryAttributes:n().oE([s?{key:{formatter:a.type},value:{attribute:s}}:void 0,o?{key:{formatter:a.project},value:{attribute:o}}:void 0,i?{key:{formatter:a.status},value:{attribute:i}}:void 0,c?{key:{formatter:a.assigned},value:{attribute:c}}:void 0,l?{key:{formatter:a.updated},value:{attribute:l}}:void 0])}}},jira_project:{block:e=>{const t=b(e,"site"),r=b(e,"title"),o=y(e,"site"),i=y(e,"title");return{headerAttributes:n().oE([i?{attribute:i}:r?{attribute:r}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=b(e,"title"),r=y(e,"title");return{title:r?{attribute:r}:t?{attribute:t}:void 0}}},slack_message:{block:e=>{const t=b(e,"workspace"),r=b(e,"threadTimestamp"),o=Boolean(r&&(0,i().cz)(r)&&r.values[0]),s=y(e,"reply_count"),l=s&&(0,i().gh)(s)&&s.values[0]||0,c=v(e,"parent_thread","reply_count"),d=c&&(0,i().gh)(c)&&c.values[0]||0,u=l>0||d>0,p=o||u,m=v(e,"user","title")||v(e,"user","name"),f=v(e,"user","avatar_url"),_=y(e,"title")||y(e,"text"),g=v(e,"channel","title")||v(e,"channel","name"),I=y(e,"sent_at"),S=h(e,"reply_users").map((e=>{const t=e.find((({id:e})=>"avatar_url"===e)),r=e.find((({id:e})=>"title"===e||"name"===e));return t||r})),k=A("slack");return{icons:n().oE([f||m||_&&k,...S]),headerAttributes:n().oE([m?{attribute:m}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:p?a.slackThread:a.slackMessage},I?{attribute:I}:void 0]),bodyAttribute:_&&((0,i().cz)(_)||(0,i().xp)(_))?_:void 0,subheaderAttributes:n().oE([u?s?{attribute:s,formatter:a.slackReplyCount}:c?{attribute:c,formatter:a.slackReplyCount}:void 0:void 0,g?{attribute:g}:t?{attribute:t}:void 0,,])}},inline:e=>{const t=e.integrationIcon?{id:"slack_icon",name:"Slack Icon",type:"embed",mimeType:"image/*",values:[e.integrationIcon]}:void 0,r=v(e,"user","title")||v(e,"user","name"),o=v(e,"user","avatar_url"),s=y(e,"title")||y(e,"text"),l=v(e,"channel","title")||v(e,"channel","name"),c=o&&(0,i().nN)(o)?o:s?A("slack"):void 0;return{icon:c,identifier:r||void 0,title:s?{attribute:s}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.slackMessage},attributes:n().oE([c?t:void 0,l])}},hover:e=>{const t=b(e,"workspace"),r=y(e,"reply_count"),o=r&&(0,i().gh)(r)&&r.values[0]?r:void 0,s=v(e,"parent_thread","reply_count"),l=s&&(0,i().gh)(s)&&s.values[0]?s:void 0,c=o??l,d=y(e,"user"),u=v(e,"user","avatar_url"),p=v(e,"user","title")||v(e,"user","name"),m=Boolean(v(e,"user","title")||v(e,"user","name")),f=y(e,"title")||y(e,"text"),_=v(e,"channel","title")||v(e,"channel","name"),g=y(e,"sent_at"),I=h(e,"reply_users").map((e=>{const t=e.find((({id:e})=>"avatar_url"===e)),r=e.find((({id:e})=>"title"===e||"name"===e));return t||r})),S=A("slack");return{icons:n().oE([u||p||f&&S,...I]),headerAttributes:n().oE([_?{attribute:_}:t?{attribute:t}:void 0,g?{attribute:g}:void 0]),bodyAttribute:f&&((0,i().cz)(f)||(0,i().xp)(f))?f:void 0,dictionaryAttributes:n().oE([d&&m?{key:{formatter:a.author},value:{attribute:d}}:void 0,c?{key:{formatter:a.slackReplyCount},value:{attribute:c}}:void 0])}}},zoom_meeting:{block:e=>{const t=b(e,"meetingId"),r=v(e,"host","title")||v(e,"host","name"),o=v(e,"host","avatar_url"),i=y(e,"title"),s=y(e,"status"),l=y(e,"meeting_id"),c=y(e,"passcode");return{icons:n().oE([o||r]),headerAttributes:n().oE([i?{attribute:i}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.zoomMeeting},s?{attribute:s}:void 0]),subheaderAttributes:n().oE([l?{attribute:l}:t?{attribute:t}:void 0,c?{attribute:c,formatter:a.zoomPasscode}:void 0])}},inline:e=>{const t=b(e,"meetingId"),r=y(e,"title"),o=y(e,"meeting_id");return{title:r?{attribute:r}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.zoomMeeting},attributes:n().oE([o||t])}},hover:e=>{const t=b(e,"meetingId"),r=v(e,"host","title")||v(e,"host","name"),o=v(e,"host","avatar_url"),i=y(e,"title"),s=y(e,"status"),l=y(e,"meeting_id"),c=y(e,"passcode"),d=l??t;return{title:i?{attribute:i}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.zoomMeeting},dictionaryAttributes:n().oE([d?{key:{formatter:a.meetingId},value:{attribute:d}}:void 0,c?{key:{formatter:a.passcode},value:{attribute:c}}:void 0,s?{key:{formatter:a.status},value:{attribute:s}}:void 0,r?{key:{formatter:a.host},value:{icon:o,attribute:r}}:void 0])}}},asana_task:{block:e=>{const t=v(e,"assignee","title")||v(e,"assignee","name"),r=v(e,"assignee","avatar_url"),o=y(e,"title"),i=g(e,["updated_at","updated"]),s=g(e,["due_at","duedate"]),l=v(e,"project","color"),c=v(e,"project","title")||v(e,"project","project_name"),d=v(e,"section","title")||v(e,"section","name"),u=y(e,"completed");return{icons:n().oE([r||t]),headerAttributes:n().oE([o?{attribute:o}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.asanaPreviewEntity},u?{attribute:u}:d?{attribute:d}:void 0,s?{attribute:s,formatter:a.asanaDueAt}:void 0]),subheaderIcon:l,subheaderAttributes:n().oE([c?{attribute:c}:void 0,t?{attribute:t,formatter:a.asanaAssignedTo}:void 0,i?{attribute:i,formatter:a.asanaUpdatedAt}:void 0])}},inline:e=>{const t=y(e,"title"),r=v(e,"section","title")||v(e,"section","name"),o=v(e,"assignee","avatar_url"),i=y(e,"completed");return{title:t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.asanaPreviewEntity},attributes:n().oE([i||r,o])}},hover:e=>{const t=y(e,"assignee"),r=y(e,"title"),o=g(e,["updated_at","updated"]),i=g(e,["due_at","duedate"]),s=v(e,"project","title")||v(e,"project","project_name"),l=v(e,"section","title")||v(e,"section","name"),c=y(e,"completed");return{title:r?{attribute:r}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.asanaPreviewEntity},headerAttributes:s?[{attribute:s}]:void 0,dictionaryAttributes:n().oE([t?{key:{formatter:a.assigned},value:{attribute:t}}:void 0,c?{key:{formatter:a.status},value:{attribute:c}}:void 0,l?{key:{formatter:a.section},value:{attribute:l}}:void 0,i?{key:{formatter:a.due},value:{attribute:i}}:void 0,o?{key:{formatter:a.updated},value:{attribute:o}}:void 0])}}},asana_project:{block:e=>({headerAttributes:n().oE([{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.asanaPreviewEntity}])}),inline:e=>({title:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.asanaPreviewEntity}})},trello_card:{block:e=>{const{boardName:t,dueAt:r,listName:o,memberIcons:i,memberNames:s,title:l,updatedAt:d}=c(e);return{icons:n().oE(i),headerAttributes:n().oE([l,r?{attribute:r,formatter:a.trelloDueAt}:void 0,o?{attribute:o}:void 0]),subheaderAttributes:n().oE([t?{attribute:t}:void 0,s[0]?{attribute:s[0],formatter:a.trelloAssignedTo}:void 0,d?{attribute:d,formatter:a.trelloUpdatedAt}:void 0])}},inline:e=>{const t=b(e,"key"),r=t&&(0,i().cz)(t)?t.values[0]:void 0,o=r?r.split("-").slice(1).map(((e,t)=>0===t?`${e[0].toUpperCase()}${e.substring(1)}`:e)).join(" "):void 0,s=v(e,"members","avatar_url"),l=v(e,"list","title")||v(e,"list","name"),c=y(e,"title");return{title:c?{attribute:c}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:t&&t.values[0]?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.trelloCard},attributes:n().oE([l,s])}},hover:e=>{const{boardName:t,dueAt:r,listName:o,memberIcons:i,memberNames:s,title:l,updatedAt:d}=c(e);return{title:l,headerAttributes:t?[{attribute:t}]:[],dictionaryAttributes:n().oE([s[0]?{key:{formatter:a.assigned},value:{attribute:s[0],icon:i[0]}}:void 0,r?{key:{formatter:a.due},value:{attribute:r}}:void 0,o?{key:{formatter:a.list},value:{attribute:o}}:void 0,d?{key:{formatter:a.updated},value:{attribute:d}}:void 0])}}},trello_board:{block:e=>{const t=b(e,"key"),r=y(e,"boardId");return{headerAttributes:n().oE([r?{attribute:r}:t?{attribute:t}:void 0])}},inline:e=>{const t=b(e,"key"),r=y(e,"key");return{title:r?{attribute:r}:t?{attribute:t}:void 0}}},figma_file:{block:e=>{const{title:t,lastModifiedAt:r,lastModifiedByAvatar:o,lastModifiedByName:s,parsedSite:l,previewImageAttribute:c}=d(e);return{icons:n().oE([o]),headerAttributes:[t],subheaderAttributes:n().oE([s?{attribute:s,formatter:a.figmaLastModifiedBy}:l?{attribute:l}:void 0,r?{attribute:r}:void 0]),previewAttributes:n().oE([c&&(0,i().MS)(c)?c:void 0])}},inline:e=>{var t;const r=b(e,"title"),o=r&&(0,i().cz)(r)?r.values[0]:void 0,s=o?null===(t=k(o))||void 0===t?void 0:t.split("-").join(" ").replace(/   /g," - "):void 0,l=y(e,"title")||y(e,"name"),c=v(e,"user","avatar_url"),d=y(e,"updated_at"),u=b(e,"site");return{title:l?{attribute:l}:s?{attribute:{id:"title",name:"Title",type:"inline",values:[s]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.figmaFile},attributes:n().oE([c,d??u])}},hover:e=>{const{title:t,lastModifiedAt:r,lastModifiedByAvatar:o,lastModifiedByName:s,previewImageAttribute:l}=d(e);return{title:t,dictionaryAttributes:n().oE([s?{key:{formatter:a.lastModifiedBy},value:{attribute:s,icon:o}}:void 0,r?{key:{formatter:a.lastModifiedAt},value:{attribute:r}}:void 0]),previewImageAttribute:l&&(0,i().nN)(l)?l:void 0}}},dropbox_file:{block:e=>{const{title:t,previewImageAttribute:r,fileSizeAttribute:o}=u(e);return{headerAttributes:[t],subheaderAttributes:n().oE([o?{attribute:o}:void 0]),previewAttributes:n().oE([r&&(0,i().MS)(r)?r:void 0])}},inline:e=>{const t=b(e,"title"),r=t&&(0,i().cz)(t)?t.values[0]:void 0,o=r?k(r):void 0,s=y(e,"title"),l=y(e,"file_size");return{title:s?{attribute:s}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.dropboxFile},attributes:n().oE([l])}},hover:e=>{const{title:t,previewImageAttribute:r,fileSizeAttribute:n}=u(e);return{title:t,headerAttributes:n?[{attribute:n}]:[],previewImageAttribute:r&&(0,i().nN)(r)?r:void 0}}},onedrive_file:{block:e=>{const{title:t,fileSizeAttribute:r,previewImageAttribute:o}=p(e);return{headerAttributes:[t],subheaderAttributes:n().oE([r?{attribute:r}:void 0]),previewAttributes:n().oE([o&&(0,i().MS)(o)?o:void 0])}},inline:e=>{const t=b(e,"title"),r=t&&(0,i().cz)(t)?t.values[0]:void 0,o=r?k(r):void 0,s=y(e,"title"),l=y(e,"file_size");return{title:s?{attribute:s}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:a.dropboxFile},attributes:n().oE([l])}},hover:e=>{const{title:t,fileSizeAttribute:r,previewImageAttribute:n}=p(e);return{title:t,headerAttributes:r?[{attribute:r}]:[],previewImageAttribute:n&&(0,i().nN)(n)?n:void 0}}},gitlab_issues:{block:e=>{const t=b(e,"owner"),r=b(e,"repo"),o=y(e,"owner"),i=y(e,"repo");return{headerAttributes:n().oE([i?{attribute:i}:r?{attribute:r,formatter:a.gitlabIssues}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=b(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:a.gitlabIssues}:void 0}}},gitlab_merges:{block:e=>{const t=b(e,"owner"),r=b(e,"repo"),o=y(e,"owner"),i=y(e,"repo");return{headerAttributes:n().oE([i?{attribute:i}:r?{attribute:r,formatter:a.gitlabMerges}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=b(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:a.gitlabMerges}:void 0}}},google_drive_file:{block:e=>{const{icons:t,title:r,primaries:o,body:l,entityIcon:c,identifier:d,secondaries:u,embeds:p}=s(e);let m;var f;r&&(m={attribute:r},428===(null===(f=e.root)||void 0===f||null===(f=f.error)||void 0===f?void 0:f.status_code)&&(m={...m,formatter:a.googleDrivePreview}));return{icons:t,headerAttributes:n().oE([m,...o.map((e=>({attribute:e})))]),bodyAttribute:l&&(0,i().cz)(l)?l:void 0,subheaderIcon:c,subheaderAttributes:n().oE([d?{attribute:d}:void 0,...u.map((e=>({attribute:e})))]),previewAttributes:p.filter(i().MS)}},inline:e=>{const{icons:t,title:r,primaries:o,identifier:i,entityIcon:l}=s(e);let c;var d;r&&(c={attribute:r},428===(null===(d=e.root)||void 0===d||null===(d=d.error)||void 0===d?void 0:d.status_code)&&(c={...c,formatter:a.selectFileToPreview}));return{icon:l,identifier:i,title:c,attributes:n().oE([...o.slice(0,2),t[0]])}},hover:e=>{const{title:t,secondaries:r,primaries:l,embeds:c,identifier:d}=s(e),u=null==c?void 0:c[0],p=[d,...l,...r].filter(o().O9).map((e=>{const{id:t}=e;return"created_at"===t?{key:{formatter:a.created},value:{attribute:e}}:"updated_at"===t?{key:{formatter:a.updated},value:{attribute:e}}:{key:{formatter:a.dynamicLabelForHover},value:{attribute:e}}}));return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE(p),previewImageAttribute:u&&(0,i().nN)(u)?u:void 0}}},google_docs:{block:e=>{const{icons:t,title:r,primaries:o,body:l,entityIcon:c,identifier:d,secondaries:u,embeds:p}=s(e);let m;var f;r&&(m={attribute:r},428===(null===(f=e.root)||void 0===f||null===(f=f.error)||void 0===f?void 0:f.status_code)&&(m={...m,formatter:a.googleDrivePreview}));return{icons:t,headerAttributes:n().oE([m,...o.map((e=>({attribute:e})))]),bodyAttribute:l&&(0,i().cz)(l)?l:void 0,subheaderIcon:c,subheaderAttributes:n().oE([d?{attribute:d}:void 0,...u.map((e=>({attribute:e})))]),previewAttributes:p.filter(i().MS)}},inline:e=>{const{icons:t,title:r,primaries:o,identifier:i,entityIcon:l}=s(e);let c;var d;r&&(c={attribute:r},428===(null===(d=e.root)||void 0===d||null===(d=d.error)||void 0===d?void 0:d.status_code)&&(c={...c,formatter:a.selectFileToPreview}));return{icon:l,identifier:i,title:c,attributes:n().oE([...o.slice(0,2),t[0]])}},hover:e=>{const{title:t,secondaries:r,primaries:l,embeds:c,identifier:d}=s(e),u=null==c?void 0:c[0],p=[d,...l,...r].filter(o().O9).map((e=>{const{id:t}=e;return"created_at"===t?{key:{formatter:a.created},value:{attribute:e}}:"updated_at"===t?{key:{formatter:a.updated},value:{attribute:e}}:{key:{formatter:a.dynamicLabelForHover},value:{attribute:e}}}));return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE(p),previewImageAttribute:u&&(0,i().nN)(u)?u:void 0}}}};function _(e){return(e?f[e]:void 0)??l}function y(e,t){const{root:r}=e;return(r.attributes||[]).find((({id:e})=>e===t))}function g(e,t){const{root:r}=e,n=r.attributes||[];for(let o=0;o<t.length;o++){const e=n.find((({id:e})=>e===t[o]));if(e)return e}}function b(e,t){const{parsedAttributes:r}=e;return r.find((({id:e})=>e===t))}function v(e,t,r){var n;const{root:o,relations:i}=e,a=(o.attributes||[]).find((({id:e})=>e===t)),s=a&&"relation"===a.type?a.values[0]:void 0,l=i.find((e=>e.uri===s));return null==l||null===(n=l.attributes)||void 0===n?void 0:n.find((({id:e})=>e===r))}function h(e,t){const{root:r,relations:n}=e,a=(r.attributes||[]).find((({id:e})=>e===t)),s=new Set(a&&(0,i().fk)(a)&&a.values||[]);return n.filter((e=>s.has(e.uri))).map((e=>e.attributes)).filter(o().O9)}function A(e){return{id:`${e}-person-placeholder`,name:"Person Placeholder",type:"embed",mimeType:"image/*",values:["images/external_integrations/person_placeholder.png"]}}function I(e){const{rootAttribute:t,subAttribute:r,section:n}=e;if(!r)return;const a=`${t.id}_${r.id}`;if((0,i().cz)(r)){if((0,i().D)(n))return{...r,id:a,name:t.name,format:{section:n}}}else if((0,i().gh)(r)){if((0,i().xT)(n))return{...r,id:a,name:t.name,format:{section:n}}}else if((0,i().TJ)(r)){if((0,i().GL)(n))return{...r,id:a,name:t.name,format:{section:n}}}else if((0,i().YX)(r)){if((0,i().pL)(n))return{...r,id:a,name:t.name,format:{section:n}}}else if((0,i().RD)(r)){if((0,i().q0)(n))return{...r,id:a,name:t.name,format:{section:n}}}else if((0,i().nN)(r)){if((0,i().t6)(n))return{...r,id:a,name:t.name,format:{section:n}}}else if((0,i().MS)(r)){if((0,i().Nm)(n))return{...r,id:a,name:t.name,format:{section:n}}}else(0,i().fk)(r)||(0,i().E4)(r)||(0,i().Q7)(r)||(0,i().xp)(r)||(0,o().HB)(r)}function S(e){if(e&&(0,i().cz)(e)&&e.values[0].length>=40){const t=e.values[0].substring(0,7);return{...e,values:[t]}}return e}function k(e){try{return decodeURIComponent(e)}catch(t){return}}},564766:(e,t,r)=>{r.d(t,{$W:()=>l,Hw:()=>i,J4:()=>a,vU:()=>s,zW:()=>o});var n=()=>r(427704);function o(e,t){return`${i(t)}/${e}`}function i(e){return`${e}${n().JZ.samlAuth}`}function a(e){const{samlConfigStatus:t,emailDomains:r,idp_metadata:n,idp_metadata_url:o}=e;return("configured"===t||"enforced"===t||"enforced_for_domain"===t)&&void 0!==r&&r.length>0&&Boolean(n||o)}function s(e){return 0===e.length?{type:"invalid",reason:"empty"}:{type:"valid"}}function l(e){return 0===e.length?{type:"invalid",reason:"empty"}:e.includes('WantAuthnRequestsSigned="true"')?{type:"invalid",reason:"signed_request"}:{type:"valid"}}},568063:(e,t,r)=>{r.d(t,{$J:()=>T,I:()=>v,Pm:()=>h,U$:()=>N,cl:()=>w,dk:()=>x,eY:()=>k,fS:()=>C,tf:()=>A,yH:()=>S});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(581454);var n=()=>r(496603),o=()=>r(534177),i=()=>r(952882),a=()=>r(363170),s=()=>r(67657),l=()=>r(9559),c=()=>r(898244),d=()=>r(713998),u=()=>r(632905),p=()=>r(869190),m=()=>r(604995),f=()=>r(236162),_=()=>r(402390),y=()=>r(792071),g=()=>r(936802),b=()=>r(571595);function v(e){const{property:t,schema:r,block:c,getRecordModel:u,collectionRequestContext:f,formulasModule:g,spaceIdCreator:v}=e,{userTimeZone:A,depth:I,intl:S}=f,T=k({property:t,schema:r,getRecordModel:u,spaceIdCreator:v,block:c});if(!T)return;const{propertySchema:x}=T;if("person"===T.rollupType){const{personPropertySchema:e,targetProperty:t,targetCollectionSchema:r}=T,o=y().Bj6.fromBlock(c),s=(0,a().e)({textValue:o.getProperty(x.person_property),propertySchema:e,blockCreatorPointer:o.getCreatedByPointer()}),d=n().oE(s.map((e=>{if("space_permission_group"===e.table)return;const n=u(e);if(n&&"notion_user"===n.table)if(w(t)){if(t===i().zi)return n.getEmail();if(t===i().Ym){return n.getFullName(S)??n.getEmail()}}else if(r&&v&&c.getSpaceId()){const e=c.getSpaceId(),o=(0,b().rf)({spaceIdCreator:v,userId:n.id}),i=u({id:o,table:"block",spaceId:e});if(i&&"block"===i.table)return(0,l().W)({property:t,schema:r,block:i,getRecordModel:u,collectionRequestContext:{...f,depth:I+1,visitedProperties:new Set},formulasModule:g,spaceIdCreator:v})}})));return"show_unique"===x.aggregation?Array.from(new Set(d)).join(","):d.join(",")}if("relation"===T.rollupType){const{relationPropertySchema:e,targetCollectionSchema:i,targetProperty:a}=T;if(!x.relation_property||!x.target_property)return;if(!x.aggregation||"show_unique"===x.aggregation){const t=y().Bj6.fromBlock(c).getProperties(),r=d().bG({relationValue:d().n(t[x.relation_property]),propertySchema:e,getRecordModel:u,includeNoAccess:!1}),o=new Set;return n().oE(r.map((e=>{const t=u(e);if(x.target_property&&t){const e=(0,l().W)({property:a,schema:i,block:t,getRecordModel:u,collectionRequestContext:{...f,depth:I+1,visitedProperties:new Set},formulasModule:g,spaceIdCreator:v});if("show_unique"===x.aggregation&&void 0!==e){if(o.has(e))return;o.add(e)}return e}}))).join(",")}{const e=h({property:t,schema:r,block:c,getRecordModel:u,collectionRequestContext:f,formulasModule:g,spaceIdCreator:v});if(void 0===e)return;if("text"===e.type)return e.value;if("number"===e.type){if(void 0===e.value||null===e.value)return;return e.value.toString()}if("date"===e.type){if(!e.value)return;if(!(0,s().Y)(x.aggregation))return;if("earliest_date"===x.aggregation||"latest_date"===x.aggregation)return(0,p().W_)(m().ln(e.value,A),"medium",(0,_().H)(S));if("date_range"===x.aggregation)return(0,p().a3)(e.value,A,S);(0,o().HB)(x.aggregation)}(0,o().HB)(e)}}}function h(e){const{schema:t,property:r,block:n,getRecordModel:o,collectionRequestContext:i,formula2Error:l,formulasModule:c,spaceIdCreator:p}=e,m=I({resultCache:i.resultCache,blockId:n.id,property:r});if(void 0!==m)return m;const _=k({property:r,schema:t,getRecordModel:o,spaceIdCreator:p,block:n});if(!_)return;const{propertySchema:y}=_;if(y.aggregation&&y.target_property)if("person"!==_.rollupType){if("relation"===_.rollupType){const{relationPropertySchema:e,targetCollectionSchema:t,targetProperty:a}=_;if(!y.relation_property)return;const m=d().bG({relationValue:d().n(d().yQ(n,y.relation_property)),getRecordModel:o,propertySchema:e,includeNoAccess:!1}),g=function(e){const{relationPointers:t,initialState:r,getRecordModel:n,targetPropertyId:o,targetCollectionSchema:i,collectionRequestContext:a,formula2Error:l,formulasModule:c,spaceIdCreator:d}=e,u={...r};for(const p of t){const e=n(p);if(e&&(0,f().zN)({getRecordModel:n,block:e})){const t={property:o,aggregator:u.type};(0,s().KW)({aggregation:t,state:u,schema:i,block:e,getRecordModel:n,propertyMapping:void 0,collectionRequestContext:a,formula2Error:l,formulasModule:c,spaceIdCreator:d})}}return u}({initialState:(0,s().J7)(y.aggregation),relationPointers:m,getRecordModel:o,targetPropertyId:a,targetCollectionSchema:t,collectionRequestContext:i,formula2Error:l,formulasModule:c,spaceIdCreator:p}),b=(0,s().ek)(g);return function({resultCache:e,blockId:t,property:r,value:n}){const o=e.get(t)??new Map;o.set(`${r}:${u().A.CollectionAggregationResult}`,n),e.set(t,o)}({resultCache:i.resultCache,blockId:n.id,property:r,value:b}),b}}else{const e=d().yQ(n,y.person_property),t=(0,a().e)({textValue:e,propertySchema:_.personPropertySchema,blockCreatorPointer:n.getCreatedByPointer()});if(0===t.length)return;if("count"===y.aggregation)return{type:"number",value:t.length};if(!w(_.targetProperty)&&p&&n.getSpaceId()&&_.targetCollectionSchema){const e=(0,s().J7)(y.aggregation),r=[];for(const n of t){const e=o(n);if("notion_user"===(null==e?void 0:e.table)){const t=(0,b().ZH)({spaceIdCreator:p,userId:e.id});if(t){const e=o(t);e&&"block"===e.table&&r.push(e)}}}for(const t of r)(0,s().KW)({aggregation:{aggregator:y.aggregation,property:_.targetProperty},state:e,schema:_.targetCollectionSchema,block:t,getRecordModel:o,collectionRequestContext:i,formulasModule:c,propertyMapping:void 0,spaceIdCreator:p});return(0,s().ek)(e)}}}function A({remoteResultCache:e,blockId:t,property:r}){if(!(0,o().O9)(e))return;return I({resultCache:e,blockId:t,property:r})}function I({resultCache:e,blockId:t,property:r}){var n;return null===(n=e.get(t))||void 0===n?void 0:n.get(`${r}:${u().A.CollectionAggregationResult}`)}function S(e){const{schema:t,property:r,block:n,getRecordModel:o,spaceIdCreator:i}=e,s=k({property:r,schema:t,getRecordModel:o,spaceIdCreator:i,block:n});if(!s)return[];if("person"===s.rollupType){const{propertySchema:e,personPropertySchema:t}=s;if(!e.person_property||w(s.targetProperty))return[];const r=n.getSpaceId();if(!r||!i||!s.targetCollectionModel)return[];const l=(0,a().e)({textValue:d().yQ(n,e.person_property),propertySchema:t,blockCreatorPointer:n.getCreatedByPointer()}),c=[];for(const n of l){const e=o(n);if(e&&"notion_user"===e.table){const t=o({id:(0,b().rf)({spaceIdCreator:i,userId:e.id}),table:"block",spaceId:r});t&&"block"===t.table&&c.push(t)}}return c}if("relation"===s.rollupType){const{propertySchema:e,relationPropertySchema:t}=s;if(!e.relation_property||!e.target_property)return[];const r=d().bG({relationValue:d().n(d().yQ(n,e.relation_property)),getRecordModel:o,propertySchema:t,includeNoAccess:!1}),i=[];for(const n of r){const e=o(n);e&&i.push(e)}return i}return[]}function k(e){const{schema:t,property:r,preLoadedTargetCollectionModel:n,getRecordModel:i,block:a,spaceIdCreator:s}=e,l=C({schema:t,property:r});if(!l.isValid)return;const{rollupPropertySchema:d}=l;if("person_system"===l.type){if(!(0,o().Xk)(T,d.target_property))return;return{rollupType:"person",propertySchema:d,targetProperty:d.target_property,personPropertySchema:l.personPropertySchema,targetPropertySchema:x(d.target_property)}}if("people_collection"===l.type){if(!s||!a)return;const e=i((0,g().ig)({spaceIdCreator:s}));if(!e)return;const t=e.getNormalizedSchema(),r=d.target_property,n=t[r];if(!n)return;if(void 0!==d.target_property_type&&d.target_property_type!==n.type)return;return{rollupType:"person",propertySchema:d,targetProperty:r,personPropertySchema:l.personPropertySchema,targetPropertySchema:n,targetCollectionModel:e,targetCollectionSchema:t}}if("relation"===l.type){const{relationPropertySchema:e}=l,t=n??i((0,c().Nv)(e));if(!t||!d.target_property)return;const r=t.getNormalizedSchema(),o=t.getMappedProperty(d.target_property),a=r[o];if(!a||d.target_property_type!==a.type)return;return{rollupType:"relation",propertySchema:d,targetProperty:o,relationPropertySchema:e,targetCollectionModel:t,targetCollectionSchema:r,targetPropertySchema:a}}}const T=[i().Ym,i().zi];function x(e,t){switch(e){case i().Ym:return{type:"text",name:(null==t?void 0:t.formatMessage(M[i().Ym]))??M[i().Ym].defaultMessage};case i().zi:return{type:"email",name:(null==t?void 0:t.formatMessage(M[i().zi]))??M[i().zi].defaultMessage}}}const M=(0,r(69708).YK)({[i().Ym]:{id:"rollup.person.name",defaultMessage:"Name"},[i().zi]:{id:"rollup.person.email",defaultMessage:"Email"}});function w(e){return!!(0,o().Xk)(T,e)}function C(e){const{schema:t,property:r}=e,n=t[r];if(!n||"rollup"!==n.type)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};if("person"===n.rollup_type){if(!n.person_property||!n.target_property||!n.target_property_type)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};const e=t[n.person_property];if(!e||"person"!==e.type)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};if(w(n.target_property)){const t=x(n.target_property);return n.target_property_type!==t.type?{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0}:{isValid:!0,type:"person_system",rollupPropertySchema:n,personPropertySchema:e}}return{isValid:!0,type:"people_collection",rollupPropertySchema:n,personPropertySchema:e}}if(!n.relation_property||!n.target_property_type||!n.target_property)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};const o=t[n.relation_property];return o&&"relation"===o.type&&(0,c().zO)(o)?{isValid:!0,type:"relation",rollupPropertySchema:n,relationPropertySchema:o}:{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0}}function N(e){return Object.fromEntries((0,o().WP)(e).filter((([e])=>"title"!==e&&e!==(0,g().OA)("person")&&e!==(0,g().OA)("email"))))}},571595:(e,t,r)=>{r.d(t,{H_:()=>d,ZH:()=>c,dY:()=>p,m$:()=>u,rf:()=>l,sD:()=>s});var n=()=>r(534177),o=()=>r(179034),i=()=>r(201980),a=()=>r(936802);(0,r(69708).YK)({defaultName:{id:"people.toPersonProfileName.default",defaultMessage:"Anonymous"}});const s=20;function l(e){const{spaceIdCreator:t,userId:r}=e;return t.deterministicIdInSavedSpace(o().ev,`person-profile-${r}`)}function c(e){const{spaceIdCreator:t,userId:r}=e;return{id:l({spaceIdCreator:t,userId:r}),table:o().ev,spaceId:t.getSpaceId()}}function d(e){if(!e)return!1;switch(e){case"owner":case"membership_admin":case"member":case"restricted_member":case"page_guest":return!0;case"none":return!1;default:(0,n().HB)(e)}}function u(e){if(!e)return!1;switch(e){case"owner":case"membership_admin":case"member":return!0;case"restricted_member":case"page_guest":case"none":return!1;default:(0,n().HB)(e)}}function p(e){const{personProfileBlock:t}=e,r=(0,a().OA)("membership_type"),n=t.getProperty(r);return(0,i().q4_)(n)===(0,a().lJ)("none")}},581325:(e,t,r)=>{r.d(t,{Ay:()=>i,pE:()=>o});var n=()=>r(292588);const o="marketplace_creator_stripe_balance_log",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,type:n().A.String,seller_id:n().A.UUID,foreign_table:n().A.String,foreign_id:n().A.String,amount:n().A.Number,currency:n().A.String,available_at:n().A.Number,archived:n().A.Boolean,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,created_at:!0,updated_at:!0,type:!0,seller_id:!0,amount:!0,currency:!0,available_at:!0,archived:!0},model:(0,r(152853).P)({RecordStore:!1})}},581793:(e,t,r)=>{r.d(t,{h:()=>s});r(581454);var n=()=>r(681873),o=()=>r(437607),i=()=>r(798880),a=()=>r(201980);function s(e){const t=e.map((e=>e.table===o().n?a().wmz(a().dWL(e.id,e.spaceId)):e.table===i().oo?a().wmz(a().P4h(e.id)):a().wmz(a().Vb6(e.id))));return(0,n().G)(t,(()=>a().Ey_(",")))}},583622:(e,t,r)=>{r.d(t,{A:()=>i,m:()=>o});var n=()=>r(292588);const o="drive_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,notion_user_id:n().A.UUID,google_user_id:n().A.String,email:n().A.String,access_token:n().A.String,refresh_token:n().A.String,expires_at:n().A.Number}}},583835:(e,t,r)=>{r.d(t,{Dv:()=>n});Symbol("eventName");function n(e){return e}},583839:(e,t,r)=>{r.d(t,{Ay:()=>l,QH:()=>i,SW:()=>s,ZP:()=>o});var n=()=>r(292588);const o="sidebar_section_item",i={[r(395868).Cr]:!0};function a(e){const{spaceIdCreator:t,sectionId:r,itemPointer:n}=e;return t.deterministicIdInSavedSpace(o,`${r}:${n.table}:${n.id}`)}function s(e){return{table:o,id:a(e),spaceId:e.spaceIdCreator.getSpaceId()}}const l={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,item_id:n().A.UUID,item_table:n().A.String,fractional_index:n().A.String,properties:n().A.JSON,alive:n().A.Boolean,created_at:n().A.Number},requiredColumns:{user_id:!0,space_id:!0,parent_id:!0,parent_table:!0,item_id:!0,item_table:!0,fractional_index:!0,alive:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},585639:(e,t,r)=>{r.d(t,{v:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"4.73 3.12 10.53 13.76",svg:(0,r(474848).jsx)("path",{d:"M4.78 3.524a.63.63 0 0 1 .583-.399h9.274a.625.625 0 1 1 0 1.25H6.976l5.663 5.163a.625.625 0 0 1 0 .924l-5.663 5.163h7.661a.625.625 0 1 1 0 1.25H5.363a.625.625 0 0 1-.421-1.087L11.29 10 4.942 4.212a.625.625 0 0 1-.162-.688"})},o=(0,r(340498).wt)("sum",n,"default")},590178:(e,t,r)=>{r.d(t,{Ay:()=>i,oN:()=>o});var n=()=>r(292588);const o="subscription",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,provider:n().A.String,api_version:n().A.String,product:n().A.String,expires_at:n().A.Number,data:n().A.JSON,updated_at:n().A.Number,write_id:n().A.UUID},requiredColumns:{space_id:!0,provider:!0,data:!0,updated_at:!0}}},590779:(e,t,r)=>{r.d(t,{A:()=>i,p:()=>o});var n=()=>r(292588);const o="offer_status",i={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,user_id:n().A.UUID,physical_device_id:n().A.String,offer_code_id:n().A.UUID,type:n().A.String,start_date_ms:n().A.Number,end_date_ms:n().A.Number,entrypoint:n().A.String,offer:n().A.Blob,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,last_edited_time:n().A.Number},requiredColumns:{space_id:!0,user_id:!0,type:!0,start_date_ms:!0,entrypoint:!0,offer:!0,version:!0,created_time:!0,last_edited_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},591822:(e,t,r)=>{r.d(t,{A:()=>i,G:()=>o});var n=()=>r(292588);const o="server_integrations__slack_unique_local_user",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_workspace_id:n().A.String,slack_local_user_id:n().A.String,slack_unique_global_user_id:n().A.UUID}}},597777:(e,t,r)=>{r.d(t,{$K:()=>oe,$P:()=>T,$R:()=>Q,Ar:()=>M,B4:()=>j,CE:()=>A,D1:()=>Y,DG:()=>D,DH:()=>ce,ED:()=>L,GE:()=>W,HB:()=>le,L3:()=>w,Lh:()=>B,M5:()=>K,Mb:()=>U,O:()=>re,Rz:()=>ue,S2:()=>ie,S6:()=>X,SA:()=>y,WA:()=>I,Wq:()=>J,ZD:()=>u,Zo:()=>z,_Z:()=>N,_g:()=>S,b7:()=>ne,c1:()=>H,cW:()=>d,dV:()=>$,dq:()=>ae,eU:()=>de,ex:()=>E,fQ:()=>l,fc:()=>P,g7:()=>R,h1:()=>me,j1:()=>ee,jS:()=>C,jk:()=>v,kC:()=>G,l1:()=>pe,lM:()=>_,m6:()=>q,mO:()=>te,oM:()=>x,pp:()=>V,px:()=>h,qL:()=>se,tq:()=>Z,vK:()=>g,vM:()=>f,vW:()=>O,vv:()=>F,vz:()=>b,wJ:()=>m,xz:()=>p});r(944114);var n=()=>r(906745),o=()=>r(69708),i=()=>r(615234),a=()=>r(534177),s=()=>r(416504);const l=Date.UTC(2020,4,27),c={date:!0,daterange:!0,datetime:!0,datetimerange:!0};function d(e){return e in c}new Date;const u=["hidden","12h","24h"],p=(0,o().YK)({ll:{defaultMessage:"Full date",id:"dateHelpers.dateFormat.fullDate"},"MMM d":{defaultMessage:"Short date",id:"dateHelpers.dateFormat.shortDate"},"MMM DD, YYYY":{defaultMessage:"Month Day, Year",id:"dateHelpers.dateFormat.explicitMonthDayYear"},"MM/DD/YYYY":{defaultMessage:"Month/Day/Year",id:"dateHelpers.dateFormat.monthDayYear"},"DD/MM/YYYY":{defaultMessage:"Day/Month/Year",id:"dateHelpers.dateFormat.dayMonthYear"},"YYYY/MM/DD":{defaultMessage:"Year/Month/Day",id:"dateHelpers.dateFormat.yearMonthDay"},relative:{defaultMessage:"Relative",id:"dateHelpers.dateFormat.relative"}}),m=["ll","MMM d","MM/DD/YYYY","DD/MM/YYYY","YYYY/MM/DD","relative"],f="09:00",_="09:00",y=[{unit:"none"},{unit:"minute",value:0},{unit:"minute",value:5},{unit:"minute",value:10},{unit:"minute",value:15},{unit:"minute",value:30},{unit:"hour",value:1},{unit:"hour",value:2},{unit:"day",value:1,time:_,defaultTimeZone:(0,s().P)()},{unit:"day",value:2,time:_,defaultTimeZone:(0,s().P)()}],g=[{unit:"none"},{unit:"day",value:0,time:_,defaultTimeZone:(0,s().P)()},{unit:"day",value:1,time:_,defaultTimeZone:(0,s().P)()},{unit:"day",value:2,time:_,defaultTimeZone:(0,s().P)()},{unit:"week",value:1,time:_,defaultTimeZone:(0,s().P)()}],b="ll",v=" ",h=(0,o().YK)({"12h":{defaultMessage:"12 hour",id:"dateHelpers.12hourTimeFormat"},"24h":{defaultMessage:"24 hour",id:"dateHelpers.24hourTimeFormat"},hidden:{defaultMessage:"Hidden",id:"dateHelpers.hiddenTimeFormat"}}),A="LT";function I(e){return"en-US"===e?"DD":"D"}const S="t",k={none:!1,year:!1,month:!1,week:!1,day:!1,hour:!0,minute:!0};function T(e){return"date"===e.type}function x(e){return Boolean("daterange"===e.type&&e.start_date&&e.end_date)}function M(e){return"datetime"===e.type}function w(e){return"datetimerange"===e.type}function C(e){return"daterange"===e.type}function N(e){return!!x(e)||!!w(e)}function P(e){return!k[e.unit]&&"none"!==e.unit}function U(e){return"none"===e.unit}function D(e){return void 0!==e&&!U(e)}function B(e){return D(e.reminder)?(e.reminder,!0):(e.reminder,!1)}function O(e,t){return P(e)?e:{unit:"day",value:0,time:_,defaultTimeZone:t}}function R(e){return Date.now()+e*i().nD}function E(e){return P(e)&&0===e.value?{unit:"minute",value:0}:e}function F(e){if(e&&("date"===e.type||"daterange"===e.type))return e.reminder}function L(e){if(e&&("datetime"===e.type||"datetimerange"===e.type))return e.reminder}function V(e){return"datetime"===e.type?{type:"date",start_date:e.start_date}:"datetimerange"===e.type?{type:"daterange",start_date:e.start_date,end_date:e.end_date}:e}function H(e){switch(e){case"DD/MM/YYYY":return"dd/MM/yyyy";case"MM/DD/YYYY":return"MM/dd/yyyy";case"YYYY/MM/DD":return"yyyy/MM/dd";case"MMM DD, YYYY":return"MMM dd, yyyy";case"MMM d":return"MMM d";default:return"DDD"}}function j(e){switch(e){case"h:mm A":return"h:mm a";case"H:mm":return"H:mm";case"A h:mm":return"a h:mm";case v:return v;default:return"t"}}function q(e,t,r,n){return Boolean($(e,t,r)||n&&($(r,n,e)||$(r,n,t)))}function $(e,t,r){return r>=e&&r<=t}function G(e){const t=e;return Boolean(t&&t.type&&t.start_date)}function z(e,t){return!(e.type!==t.type||e.start_date!==t.start_date||"start_time"in e&&"start_time"in t&&(null==e?void 0:e.start_time)!==(null==t?void 0:t.start_time)||"end_date"in e&&"end_date"in t&&(null==e?void 0:e.end_date)!==(null==t?void 0:t.end_date)||"end_time"in e&&"end_time"in t&&(null==e?void 0:e.end_time)!==(null==t?void 0:t.end_time)||"time_zone"in e&&"time_zone"in t&&(null==e?void 0:e.time_zone)!==(null==t?void 0:t.time_zone))}const W="HH:mm",K="en",Q=/(.+) \((.+)\)/;function Z(e){return{type:"date",start_date:e.start_date,reminder:e.reminder}}function J(e){return{type:"date",start_date:e.end_date,reminder:e.reminder}}function X(e){return{type:"datetime",start_date:e.start_date,start_time:e.start_time,time_zone:e.time_zone,reminder:e.reminder}}function Y(e){return{type:"datetime",start_date:e.end_date,start_time:e.end_time,time_zone:e.time_zone,reminder:e.reminder}}function ee(e){return"daterange"===e.type?Z(e):"datetimerange"===e.type?X(e):e}function te(e){return"daterange"===e.type?J(e):"datetimerange"===e.type?Y(e):e}function re(e){if("datetime"===e.type||"datetimerange"===e.type)return e.time_zone}function ne(e){return"daterange"===e.type&&e.start_date===e.end_date?{type:"date",start_date:e.start_date,reminder:e.reminder}:"datetimerange"===e.type&&e.start_date===e.end_date&&e.start_time===e.end_time?{type:"datetime",start_date:e.start_date,start_time:e.start_time,reminder:e.reminder,time_zone:e.time_zone}:e}function oe(e){if("datetime"===e.type||"datetimerange"===e.type)return e.time_zone}function ie(e){const{locale:t}=e,r=[],n=new Intl.DateTimeFormat(t,{month:"long"});for(let o=1;o<13;o++){const e=new Date(Date.UTC(2021,o,0)),t=n.format(e);r.push(t)}return r}function ae(e){if(e.start_date&&e.end_date){return{type:"range",value:{type:"daterange",start_date:e.start_date,end_date:e.end_date}}}if(e.start_date){return{type:"starting",value:{type:"date",start_date:e.start_date}}}if(e.end_date){return{type:"ending",value:{type:"date",start_date:e.end_date}}}}function se(e){return"datetime"===e.type?{type:"date",start_date:e.start_date}:"datetimerange"===e.type?{type:"daterange",start_date:e.start_date,end_date:e.end_date}:e}function le(e){return"date"===e.type?{type:"daterange",start_date:e.start_date}:"daterange"===e.type?e:"datetime"===e.type?{type:"daterange",start_date:e.start_date}:"datetimerange"===e.type?{type:"daterange",start_date:e.start_date,end_date:e.end_date}:(0,a().HB)(e)}function ce(e){return e}function de(e){return new Date(e)}function ue(e){const t=e??new Date;return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())}function pe(e){const t=n().DateTime.fromMillis(e).setZone("UTC");return new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second).getTime()}function me(e){const t=n().DateTime.fromJSDate(e).setZone("UTC");return new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second)}},599677:(e,t,r)=>{r.d(t,{A:()=>i,h:()=>o});var n=()=>r(292588);const o="geo_ip_network",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,network:n().A.String,geoname_id:n().A.Number,registered_country_geoname_id:n().A.Number,represented_country_geoname_id:n().A.Number,is_anonymous_proxy:n().A.Boolean,is_satellite_provider:n().A.Boolean,postal_code:n().A.String,latitude:n().A.Number,longitude:n().A.Number,accuracy_radius:n().A.Number}}},600464:(e,t,r)=>{r.d(t,{A:()=>i,I:()=>o});var n=()=>r(292588);const o="trello_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,account:n().A.String,request_token:n().A.String,request_secret:n().A.String,access_token:n().A.String,access_secret:n().A.String}}},602468:(e,t,r)=>{r.d(t,{Ay:()=>i,Yx:()=>o});var n=()=>r(292588);const o="invoice",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,subscription_id:n().A.UUID,billing_data_id:n().A.UUID,external_id:n().A.String,external_url:n().A.String,status:n().A.String,created_at:n().A.Number,due_date:n().A.Number,overrides:n().A.JSON,payment_intent:n().A.JSON,external_subscription_id:n().A.String},requiredColumns:{version:!0,billing_data_id:!0,subscription_id:!0,external_id:!0,status:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},603557:(e,t,r)=>{r.d(t,{Ay:()=>u,Oh:()=>a,_8:()=>d,b6:()=>s,fc:()=>c,lM:()=>i,xJ:()=>l});r(16280);var n=()=>r(498212),o=()=>r(292588);const i="marketplace_profile_member",a=["reader","membership_admin","editor"];function s(e){const{profileId:t,userId:r}=e;return`${t}|${r}`}function l(e){const{profileId:t,userId:r}=e;return{id:s({profileId:t,userId:r}),table:i}}function c(e){const t=e.split("|"),[r,o]=t;if(2!==t.length||!(0,n().uj)(r)||!(0,n().uj)(o))throw new Error(`Invalid MarketplaceProfileMemberId: ${e}`);return{profileId:r,userId:o}}function d(e){return e.table===i&&function(e){const t=e.split("|"),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}(e.id)}const u={table:i,columnTypes:{id:o().A.String,profile_id:o().A.UUID,user_id:o().A.UUID,membership_type:o().A.String,salesforce_id:o().A.String,version:o().A.Number,last_version:o().A.Number},requiredColumns:{id:!0,profile_id:!0,user_id:!0,membership_type:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},604995:(e,t,r)=>{r.d(t,{AA:()=>K,AQ:()=>Ie,C6:()=>we,Dz:()=>ne,EK:()=>ge,Ec:()=>h,En:()=>S,GF:()=>Se,HF:()=>q,J0:()=>ye,K1:()=>Ae,KQ:()=>F,Lm:()=>Ce,Mb:()=>D,Mk:()=>V,Mw:()=>be,NC:()=>H,P9:()=>ue,PZ:()=>ee,St:()=>ae,T_:()=>O,Tj:()=>N,Xf:()=>ve,Xo:()=>L,Yz:()=>C,ZG:()=>w,Zq:()=>m,Zs:()=>Me,ah:()=>v,ak:()=>Q,bO:()=>Ne,bP:()=>g,c_:()=>le,d9:()=>z,dB:()=>Te,fN:()=>ie,hp:()=>fe,iB:()=>pe,jA:()=>I,jI:()=>x,jY:()=>oe,k8:()=>u,kB:()=>y,kW:()=>ke,lN:()=>E,lW:()=>Pe,le:()=>T,ln:()=>J,mF:()=>$,mK:()=>me,p6:()=>R,q8:()=>xe,rL:()=>re,sm:()=>ce,t0:()=>M,to:()=>_e,tr:()=>l,u7:()=>te,uf:()=>A,uj:()=>Z,uo:()=>he,vF:()=>b,vY:()=>se,wN:()=>de,wc:()=>k});r(16280);var n=()=>r(906745),o=()=>r(534177),i=()=>r(720665),a=()=>r(416504),s=()=>r(597777);const l="yyyy-MM-dd",c=/^(\d{4})-(\d{2})-(\d{2})$/,d=/^(\d{2}):(\d{2})$/,u="yyyy-MM-dd HH:mm",p="UTC",m=(0,a().P)();function f(e,t=2){return e<0?`-${(-e).toString().padStart(t,"0")}`:e.toString().padStart(t,"0")}const _="Invalid DateTime";function y(e){return e.isValid?`${f(e.year,4)}-${f(e.month,2)}-${f(e.day,2)}`:_}function g(e){return e.isValid?`${f(e.hour,2)}:${f(e.minute,2)}`:_}function b(e){const t=e.date??Date.now(),r=e.timezone??m;return n().DateTime.fromMillis(t,{zone:r})}function v(e,t){return((0,o().O9)(t)?n().DateTime.fromMillis(t):n().DateTime.now()).setZone(e).startOf("day")}function h(e,t){return{type:"date",start_date:y(v(e,t))}}function A(e){return{type:"date",start_date:y(v(e).plus({days:1}))}}function I(e){const t=v(e),r=t.startOf("week");return{type:"date",start_date:y(r<=t?r.plus({week:1}):r)}}function S(e){return{type:"date",start_date:y(v(e).plus({weeks:1}))}}function k(e){return{type:"date",start_date:y(v(e).plus({months:1}))}}function T(e){return{type:"date",start_date:y(v(e).plus({years:1}))}}function x(e){return{type:"date",start_date:y(v(e).minus({days:1}))}}function M(e){return{type:"date",start_date:y(v(e).minus({week:1}))}}function w(e){return{type:"date",start_date:y(v(e).minus({months:1}))}}function C(e){return{type:"date",start_date:y(v(e).minus({years:1}))}}function N(e){const t=n().DateTime.now().setZone(e).plus({hours:1}).startOf("hour");return{type:"datetime",start_date:y(t),start_time:g(t),time_zone:e}}const P="yyyy-MM-dd",U=n().DateTime.invalid("null"),D=`${U.toRelative()} (${U.toFormat(P)})`;const B=new Map;function O(e,t){const r=Math.floor(Date.now()/i().Xb);if(!(0,o().O9)(t)){const t=B.get(e);if(void 0!==t&&r===t[0])return t[1]}const a=function(e,t){const r=((0,o().O9)(t)?n().DateTime.fromMillis(t):n().DateTime.now()).setZone(e);return{type:"datetime",start_date:y(r),start_time:g(r),time_zone:e}}(e,t);return(0,o().O9)(t)||B.set(e,[r,a]),a}function R(e,t){return E(n().DateTime.fromMillis(e,{zone:t}))}function E(e){return{type:"date",start_date:y(e)}}function F(e,t){return L(n().DateTime.fromMillis(e,{zone:t}))}function L(e){return{type:"datetime",start_date:y(e),start_time:g(e),time_zone:e.zoneName}}function V(e,t,r){const o=n().DateTime.fromMillis(e,{zone:r}),i=n().DateTime.fromMillis(t,{zone:r});return{type:"daterange",start_date:y(o),end_date:y(i)}}function H(e,t,r){const o=n().DateTime.fromMillis(e,{zone:r}),i=n().DateTime.fromMillis(t,{zone:r});return{type:"datetimerange",start_date:y(o),start_time:g(o),end_date:y(i),end_time:g(i),time_zone:r}}function j(e){const t=c.exec(e.start_date);if(t){const[,e,r,n]=t;return[Number(e),Number(r),Number(n)]}}function q(e,t,r){const o=j(e);return void 0!==o?n().DateTime.local(o[0],o[1],o[2],{zone:t,locale:r||s().M5}):n().DateTime.invalid("unparsable",`the input "${e.start_date}" can't be parsed as format ${l}`)}function $(e,t){const r=j(e),o=function(e){const t=d.exec(e.start_time);if(t){const[,e,r]=t;return[Number(e),Number(r)]}}(e);if(void 0!==r&&void 0!==o)return n().DateTime.local(r[0],r[1],r[2],o[0],o[1],{locale:t||s().M5,zone:e.time_zone});const i=`${e.start_date} ${e.start_time}`,a=`${l} ${s().GE}`;return n().DateTime.invalid("unparsable",`the input "${i}" can't be parsed as format ${a}`)}function G(e,t){return F(q(e,t).toMillis(),t)}function z(e,t){const r=K(e,t);return H(r.start.valueOf(),r.end.endOf("day").valueOf(),t)}const W=new WeakMap;function K(e,t,r){var n;const o=void 0!==r?`${t}-${r}`:t;let i=null===(n=W.get(e))||void 0===n?void 0:n[o];if(void 0===i){i=function(e,t,r){return"datetimerange"===e.type?{start:$((0,s().S6)(e),r),end:$((0,s().D1)(e),r)}:"datetime"===e.type?{start:$(e,r)}:"daterange"===e.type?{start:q((0,s().tq)(e),t,r),end:q((0,s().Wq)(e),t,r)}:{start:q(e,t,r)}}(e,t,r);const n=W.get(e);void 0===n?W.set(e,{[o]:i}):n[o]=i}return i}function Q(e){return Boolean(e.end)}function Z(e){const{previous:t,updatedStartTime:r}=e,n=function(e){const t=K(e,(0,a().P)());return t.end.diff(t.start)}(t),o=$({type:"datetime",start_date:t.start_date,start_time:r,time_zone:t.time_zone}),i=o.plus(n);return{newDate:{...t,start_time:e.updatedStartTime,end_date:y(i),end_time:g(i)},currentMonth:o}}function J(e,t){return K(e,t).start.valueOf()}const X="";function Y(e){return e.replace(/[-]/g,(e=>String(X.indexOf(e))))}function ee(e){const t=e=>void 0!==e&&/[-]/.test(e);return t(e.start_date)||"daterange"===e.type&&t(e.end_date)||("datetime"===e.type||"datetimerange"===e.type)&&t(e.start_time)||"datetimerange"===e.type&&t(e.end_time)?{...e,...e.start_date?{start_date:Y(e.start_date)}:{},..."daterange"===e.type&&e.end_date?{end_date:Y(e.end_date)}:{},..."datetime"!==e.type&&"datetimerange"!==e.type||!e.start_time?{}:{start_time:Y(e.start_time)},..."datetimerange"===e.type&&e.end_time?{end_time:Y(e.end_time)}:{}}:e}function te(e){if("date"===e.type||"datetime"===e.type)return e;{const t=K(e,(0,a().P)());return t.end&&t.start>t.end?"daterange"===e.type?{...e,start_date:e.end_date}:{...e,start_date:e.end_date,start_time:e.end_time}:e}}function re(e){if("date"===e.type||"datetime"===e.type)return e;{const t=K(e,(0,a().P)());return t.end&&t.end<t.start?"daterange"===e.type?{...e,end_date:e.start_date}:{...e,end_date:e.start_date,end_time:e.start_time}:e}}function ne(e){if((0,s()._Z)(e)){const t=K(e,(0,a().P)());return function(e){return e.start.isValid&&void 0!==e.end&&e.end.isValid&&e.start<=e.end}(t)?t:void 0}return K(e,(0,a().P)())}function oe(e,t){if(e&&t){const r=(0,s().j1)(e),n=(0,s().j1)(t);if("datetime"===r.type){const e="datetime"===n.type?n:G(n,r.time_zone);return{type:"datetimerange",start_date:r.start_date,start_time:r.start_time,end_date:e.start_date,end_time:e.start_time,time_zone:r.time_zone}}if("datetime"===n.type){const e=G(r,n.time_zone);return{type:"datetimerange",start_date:e.start_date,start_time:e.start_time,end_date:n.start_date,end_time:n.start_time,time_zone:n.time_zone}}return{type:"daterange",start_date:r.start_date,end_date:n.start_date}}return e?(0,s().j1)(e):t?(0,s().j1)(t):void 0}function ie(e){if("exact"===e.type)return e.value&&{type:"date",start_date:e.value.start_date};switch(e.value){case"today":return h((0,a().P)());case"tomorrow":return A((0,a().P)());case"yesterday":return x((0,a().P)());case"one_month_ago":return w((0,a().P)());case"one_month_from_now":return k((0,a().P)());case"one_week_ago":return M((0,a().P)());case"one_week_from_now":return S((0,a().P)());default:(0,o().HB)(e)}}function ae(e){const{firstDate:t,secondDate:r}=e;return n().DateTime.fromMillis(t).hasSame(n().DateTime.fromMillis(r),"year")}function se(e){const{firstDate:t,secondDate:r}=e;return n().DateTime.fromMillis(t).hasSame(n().DateTime.fromMillis(r),"month")}function le(e){return n().DateTime.fromMillis(e).hasSame(n().DateTime.local(),"day")}function ce(e,t){const r=t?{zone:t}:void 0,o=n().DateTime.fromMillis(e,r);return 6===o.weekday||7===o.weekday}function de(e){return n().DateTime.fromMillis(e).day}function ue(e){return n().DateTime.fromMillis(e).endOf("day").valueOf()}function pe(e,t,r){const o=n().DateTime.fromMillis(e,{zone:r});if(7===o.weekday&&0===t)return o.startOf("day");const i=o.startOf("week");return 0===t?i.minus({days:1}).startOf("day"):i.startOf("day")}function me(e,t){return pe(e,t,(0,a().P)()).valueOf()}function fe(e,t,r){const o=n().DateTime.fromMillis(e,{zone:r});if(7===o.weekday&&0===t)return o.plus({days:6}).endOf("day");const i=o.endOf("week");return 0===t?i.minus({days:1}).endOf("day"):i.endOf("day")}function _e(e,t){return fe(e,t,(0,a().P)()).valueOf()}function ye(e,t,r){const o=n().DateTime.fromMillis(e,{zone:r});if(1===o.weekday)return o.startOf("day");const i=pe(e,t,r);return 1===t?i.startOf("day"):i.plus({days:1})}function ge(e,t,r){const o=n().DateTime.fromMillis(e,{zone:r});if(5===o.weekday)return o.endOf("day");if(6===o.weekday)return o.minus({days:1}).endOf("day");if(1===t){return pe(e,t,r).plus({days:4}).endOf("day")}return pe(e,t,r).plus({days:5}).endOf("day")}function be(e){return n().DateTime.fromMillis(e).startOf("month").valueOf()}function ve(e){return n().DateTime.fromMillis(e).endOf("month").valueOf()}function he(e,t){const r=K(e,t);return{start:r.start.valueOf(),end:r.end?r.end.valueOf():void 0}}function Ae(e){const{date:t,daysToAdd:r}=e;return n().DateTime.fromMillis(t).plus({days:r}).valueOf()}function Ie(e){const{date:t,monthsToAdd:r}=e;return n().DateTime.fromMillis(t).plus({months:r}).valueOf()}function Se(e){return n().DateTime.local({zone:e}).toFormat("ZZZZ")}function ke(e,t){if("date"===e.type||"daterange"===e.type)return e;const r=K(e,t),n=r.start.setZone(t),o={type:"datetime",start_date:y(n),start_time:g(n),time_zone:t,reminder:e.reminder};if("datetimerange"===e.type){if(!r.end)throw new Error("Datetimerange with no end.");const e=r.end.setZone(t);return{...o,type:"datetimerange",end_date:y(e),end_time:g(e)}}return o}function Te(e,t){var r,n;return(null==e||null===(r=e.settings)||void 0===r?void 0:r.time_zone)||(null==t||null===(n=t.settings)||void 0===n?void 0:n.time_zone)||(0,a().P)()}function xe(e,t){if(!(0,s().Lh)(e))return;const r=e.reminder,{unit:o,value:i}=r;if((0,s().fc)(r)){const{time:a}=r;return n().DateTime.fromFormat(`${e.start_date} ${a}`,u,{zone:t}).minus({[o]:i})}return K(e,t).start.minus({[o]:i})}function Me(e,t){const r=xe(e,t);return!!r&&r<=n().DateTime.now()}const we={toPersistedDate:(e,t=(0,a().P)())=>R(e,t),toPersistedDateTime:(e,t=(0,a().P)())=>F(e,t),toPersistedDateRange:(e,t=(0,a().P)())=>({type:"daterange",start_date:y(t?e.start.setZone(t):e.start),end_date:y(t?e.end.setZone(t):e.end)}),toPersistedDateTimeRange:(e,t=(0,a().P)())=>{const r=e.start.setZone(t),n=e.end.setZone(t);return{type:"datetimerange",start_date:y(r),start_time:g(r),end_date:y(n),end_time:g(n),time_zone:t}},toPersistedDateWithType(e,t,r){if("daterange"===t||"datetimerange"===t){return("daterange"===t?we.toPersistedDateRange:we.toPersistedDateTimeRange)({start:e.start,end:e.end},r)}if("date"===t||"datetime"===t){return("date"===t?we.toPersistedDate:we.toPersistedDateTime)(e.start.valueOf(),r)}(0,o().HB)(t)},toUnixMs:e=>$(e).valueOf(),isoToUnixMs:(e,t)=>{const r=n().DateTime.fromISO(e,{zone:t});if(r.isValid)return r.valueOf()},jsDateToLuxon:e=>n().DateTime.fromJSDate(e),notionDateToLuxon:(e,t)=>{const{timeZone:r=(0,a().P)(),locale:o}=t??{};return n().DateTime.fromISO(e.start_date,{zone:r,locale:o})},notionDateTimeToLuxon:(e,t)=>$(e,t),notionDateOrDateTimeToLuxon:(e,t)=>"date"===e.type?we.notionDateToLuxon(e,t):"datetime"===e.type?we.notionDateTimeToLuxon(e,null==t?void 0:t.locale):void(0,o().HB)(e),notionDateToJsDate:(e,t=(0,a().P)())=>we.notionDateToLuxon(e,{timeZone:t}).toJSDate()};function Ce(){return 0}function Ne(e){return e.weekday%7}function Pe(e){return e&&function(e){return n().R2.normalizeZone(e).isValid}(e)?e:p}},606219:(e,t,r)=>{r.d(t,{Ay:()=>a,TF:()=>i,kQ:()=>o});var n=()=>r(292588);const o={space:!0},i="webhook_subscription",a={table:i,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,webhook_url:n().A.String,webhook_secret:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,api_version:n().A.String,health:n().A.JSON,version:n().A.Number,last_version:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID,created_time:n().A.Number,last_edited_time:n().A.Number,webhook_customization:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},610409:(e,t,r)=>{r.d(t,{A:()=>i,P:()=>o});var n=()=>r(292588);const o="space_user_recovery",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,user_id:n().A.UUID,created_time:n().A.Number,type:n().A.String,block_id:n().A.UUID,team_id:n().A.UUID,permission_group_id:n().A.UUID,permission_role:n().A.String,membership_type:n().A.String,restored_time:n().A.Number,restored_by_id:n().A.UUID,restored_by_table:n().A.String},requiredColumns:{id:!0,version:!0,created_time:!0,space_id:!0,user_id:!0,type:!0},model:(0,r(152853).P)({})}},612740:(e,t,r)=>{r.d(t,{Do:()=>p,LA:()=>_,MC:()=>m,dE:()=>c,iL:()=>f,ni:()=>d,rl:()=>l});r(898992),r(672577);var n=()=>r(69708),o=()=>r(651124),i=()=>r(179034),a=()=>r(506391);const s=(0,n().YK)({restrictedSyncedBlockDescription:{id:"restrictedSyncedBlockDescription",defaultMessage:"You dont have access to this synced block"}});function l(e){return e.formatMessage(s.restrictedSyncedBlockDescription)}function c(e){if(e)return{pointer:e.pointer,icon:(0,o().WO)(e.icon)}}function d(e,t,r){const n=e.getKeyStore("uri").getValue(),o=e.getKeyStore("attributes").getValue();if(n&&o){const i=null==o?void 0:o.find((e=>{var t;return"avatar"===(null===(t=e.format)||void 0===t?void 0:t.section)}));if(i&&(0,a().wN)(i))return{pointer:e.pointer,icon:i.values[0]};if(t){const o=function(e,t,r){if(!r)return;const n=(0,a().$B)({url:e,integrations:r,currentSpaceId:t});if("success"!==n.type)return;return n.integration.info.icon||void 0}(n,t,r);if(o)return{pointer:e.pointer,icon:o}}}}const u=(0,n().YK)({embed:{defaultMessage:"Embed",id:"blockHelpers.embedBlockType"},bookmark:{defaultMessage:"Bookmark",id:"blockHelpers.bookmarkBlockType"},image:{defaultMessage:"Image",id:"blockHelpers.imageBlockType"},video:{defaultMessage:"Video",id:"blockHelpers.videoBlockType"},audio:{defaultMessage:"Audio",id:"blockHelpers.audioBlockType"},file:{defaultMessage:"File",id:"blockHelpers.fileBlockType"},pdf:{defaultMessage:"PDF",id:"blockHelpers.pdfBlockType"},google_drive:{defaultMessage:"Google Drive",id:"blockHelpers.googleDriveBlockType"},figma:{defaultMessage:"Figma",id:"blockHelpers.figmaBlockType"},loom:{defaultMessage:"Loom",id:"blockHelpers.loomBlockType"},codepen:{defaultMessage:"Codepen",id:"blockHelpers.codepenBlockType"},maps:{defaultMessage:"Maps",id:"blockHelpers.mapsBlockType"},invision:{defaultMessage:"Invision",id:"blockHelpers.invisionBlockType"},framer:{defaultMessage:"Framer",id:"blockHelpers.framerBlockType"},whimsical:{defaultMessage:"Whimsical",id:"blockHelpers.whimsicalBlockType"},miro:{defaultMessage:"Miro",id:"blockHelpers.miroBlockType"},link_preview:{id:"blockType.linkPreview.message",defaultMessage:"Link Preview"},typeform:{id:"blockType.typeform.message",defaultMessage:"Typeform"},external_object_instance:{id:"blockType.externalObjectInstance.message",defaultMessage:"External Object Instance"},tweet:{defaultMessage:"Tweet",id:"blockHelpers.tweetBlockType"},gist:{defaultMessage:"Gist",id:"blockHelpers.gistBlockType"},drive:{defaultMessage:"Drive",id:"blockHelpers.driveBlockType"},abstract:{defaultMessage:"Abstract",id:"blockHelpers.abstractBlockType"},sketch:{defaultMessage:"Sketch",id:"blockHelpers.sketchBlockType"},excalidraw:{defaultMessage:"Excalidraw",id:"blockHelpers.excalidrawBlockType"},replit:{defaultMessage:"Replit",id:"blockHelpers.replitBlockType"},hex:{defaultMessage:"Hex",id:"blockHelpers.hexBlockType"},deepnote:{defaultMessage:"Deepnote",id:"blockHelpers.deepnoteBlockType"},drawing:{defaultMessage:"Drawing",id:"blockHelpers.drawingBlockType"},mixpanel:{defaultMessage:"Mixpanel",id:"blockHelpers.mixpanelBlockType"}});function p(e,t){return"mixpanel"===t?e.formatMessage({id:"blockHelpers.mixpanelBlockType",defaultMessage:"Mixpanel"}):e.formatMessage(u[t])}const m=(0,n().YK)({placeholder:{id:"externalObjectInstanceBlock.placeholder.message",defaultMessage:"Embed {value}"},editLabel:{id:"externalObjectInstanceBlock.editLabel.message",defaultMessage:"Link Preview"}});function f(e){const{blockId:t,spaceId:r}=e;return{id:t,table:i().ev,spaceId:r}}function _(e){return e.table in i().NL}},615316:(e,t,r)=>{r.d(t,{Q:()=>i});var n=()=>r(179034),o=()=>r(191507);function i(e){const{sourceCollectionId:t,sourcePropertyId:r,targetCollectionId:i,targetPropertyId:a}=e;return{sourceCollectionId:t,sourcePropertyId:r,targetCollectionId:i,targetPropertyId:a,sourceTable:n().ev,targetTable:n().ev,cardinality:"many-to-many",typeName:(0,o().zZ)({sourceCollectionId:e.sourceCollectionId,sourcePropertyId:e.sourcePropertyId,targetCollectionId:e.targetCollectionId,targetPropertyId:e.targetPropertyId}),reverseTypeName:(0,o().zZ)({sourceCollectionId:e.targetCollectionId,sourcePropertyId:e.targetPropertyId,targetCollectionId:e.sourceCollectionId,targetPropertyId:e.sourcePropertyId})}}},615771:(e,t,r)=>{r.d(t,{A:()=>s});r(16280),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=r.n(r(625473)),o=()=>r(220719);const i=new WeakMap;function a(e){let t=i.get(e);return void 0!==t||(t=n()(e),i.set(e,t)),t}class s{constructor(e=a){this.nodes=new Map,this.getKey=e}addNode(e){const t=this.getKey(e);this.nodes.has(t)||this.nodes.set(t,{children:new Set,value:e})}hasNode(e){const t=this.getKey(e);return this.nodes.has(t)}removeNode(e){const t=this.getKey(e);if(this.nodes.has(t)){const e=(0,o().o9)(this.nodes.get(t));this.nodes.delete(t);for(const{children:t}of this.nodes.values())t.delete(e)}}addEdge(e,t){this.addNode(e),this.addNode(t);const r=(0,o().o9)(this.nodes.get(this.getKey(e))),n=(0,o().o9)(this.nodes.get(this.getKey(t)));if(!r.children.has(n)&&(r.children.add(n),this.hasCycle(r)))throw r.children.delete(n),new Error(`Cycle detected adding edge ${this.getKey(e)} -> ${this.getKey(t)}`)}removeEdge(e,t){const r=(0,o().o9)(this.nodes.get(this.getKey(e))),n=(0,o().o9)(this.nodes.get(this.getKey(t)));r.children.has(n)&&r.children.delete(n)}hasEdge(e,t){const r=this.nodes.get(this.getKey(e)),n=this.nodes.get(this.getKey(t));return Boolean(r&&n&&r.children.has(n))}hasCycle(e){const t=new Set,r=new Set,n=e=>{if(t.has(e))return!0;if(r.has(e))return!1;t.add(e);for(const t of e.children)if(n(t))return!0;return t.delete(e),r.add(e),!1};return n(e)}getSortedNodes(){const e=[],t=new Set,r=n=>{t.add(n);for(const e of n.children)t.has(e)||r(e);e.unshift(n.value)};for(const n of this.nodes.values())t.has(n)||r(n);return e}}},619618:(e,t,r)=>{r.d(t,{A:()=>i,K:()=>o});var n=()=>r(292588);const o="password",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,password_hash:n().A.String}}},623403:(e,t,r)=>{r.d(t,{A:()=>i,r:()=>o});var n=()=>r(292588);const o="contact_sales",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,submission_data:n().A.JSON,created_time:n().A.Number},requiredColumns:{created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},628588:(e,t,r)=>{r.d(t,{A:()=>i,G:()=>o});var n=()=>r(292588);const o="server_integrations__github_installation",i={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,installation_id:n().A.String,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number}}},628720:(e,t,r)=>{r.d(t,{Ay:()=>a,H8:()=>i,qr:()=>o});var n=()=>r(292588);const o="marketplace_profile_invitation",i={[r(183171).V1]:!0},a={table:o,columnTypes:{id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,membership_type:n().A.String,status:n().A.String,invitee_id:n().A.UUID,created_at:n().A.Number,created_by:n().A.UUID,cancelled_at:n().A.Number,cancelled_by:n().A.UUID,rejected_at:n().A.Number,accepted_at:n().A.Number,attributes:n().A.JSON,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,parent_id:!0,parent_table:!0,membership_type:!0,status:!0,invitee_id:!0,created_at:!0,created_by:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},632905:(e,t,r)=>{r.d(t,{A:()=>n,wB:()=>o});let n=function(e){return e[e.FormulaValue=0]="FormulaValue",e[e.FormulaValue2=1]="FormulaValue2",e[e.CollectionAggregationResult=2]="CollectionAggregationResult",e}({});const o={"421618d2-8a87-4d8b-89f3-66b3be775c42":"B1","152bf835-0558-4737-a7c0-f8320e4e8b96":"B2","fdd25a45-a3ff-4405-9750-4850d9dae916":"B3","ea7d751e-a89f-473b-a900-168c543bd156":"B4","9a447736-eb8f-4816-92a2-9a805605ab6b":"B5","3ff86601-f54d-49a7-83c7-667d1d259267":"B6"}},633240:(e,t,r)=>{r.d(t,{A:()=>i,e:()=>o});var n=()=>r(292588);const o="workspace_encryption_key",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,encrypted_key_blob:n().A.String,customer_kms_arn:n().A.String,created_at:n().A.Number,updated_at:n().A.Number,revoked_at:n().A.Number},requiredColumns:{version:!0,space_id:!0,encrypted_key_blob:!0,customer_kms_arn:!0,created_at:!0,updated_at:!0},model:(0,r(152853).P)({RecordStore:!1})}},636045:(e,t,r)=>{r.d(t,{A:()=>i,v:()=>o});var n=()=>r(292588);const o="education_email",i={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,email:n().A.String,activated:n().A.Boolean},requiredColumns:{email:!0,activated:!0},defaultColumnValues:{activated:!1}}},641284:(e,t,r)=>{r.d(t,{A:()=>i,a:()=>o});var n=()=>r(292588);const o="space_content_duplication_lookup",i={table:o,columnTypes:{id:n().A.UUID,source_space_id:n().A.UUID,target_space_id:n().A.UUID,source_id:n().A.UUID,source_type:n().A.String,target_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number},model:(0,r(152853).P)({properties:{source_id:{getRelationalPointerMethod:!1},target_id:{getRelationalPointerMethod:!1}}})}},646178:(e,t,r)=>{r.d(t,{Ay:()=>a,P:()=>o,eU:()=>i});var n=()=>r(292588);const o="promo",i="credit",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,amount:n().A.Number,created_timestamp:n().A.Number,type:n().A.String,to_user_id:n().A.UUID,activated:n().A.Boolean,from_user_id:n().A.UUID,sent_email:n().A.Boolean}}},647147:(e,t,r)=>{r.d(t,{A:()=>i,D:()=>o});var n=()=>r(292588);const o="external_token",i={table:o,columnTypes:{id:n().A.UUID,external_entity_id:n().A.UUID,scopes:n().A.StringArray,auth_type:n().A.String,access_token:n().A.String,refresh_token:n().A.String,expires_at:n().A.Number,lock_status:n().A.String,alive:n().A.Boolean,version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,updated_by_table:n().A.String,updated_by_id:n().A.UUID},model:(0,r(152853).P)({})}},651124:(e,t,r)=>{r.d(t,{Cn:()=>U,Dq:()=>h,IE:()=>u,LH:()=>M,Lu:()=>s,OA:()=>g,PI:()=>S,RL:()=>b,Sn:()=>B,Ts:()=>O,Ui:()=>x,WH:()=>l,WJ:()=>p,WO:()=>R,Xv:()=>I,ZC:()=>m,Zi:()=>y,bg:()=>T,fi:()=>A,j0:()=>v,jf:()=>c,kp:()=>k,qL:()=>w,u9:()=>f,uO:()=>d,v:()=>C,vj:()=>_,w3:()=>P,zl:()=>N});r(898992),r(672577);var n=()=>r(534177),o=()=>r(634201),i=()=>r(278238),a=()=>r(945778);const s={type:"database"},l="list";let c=function(e){return e[e.Page=0]="Page",e[e.Collection=1]="Collection",e[e.Table=2]="Table",e[e.Board=3]="Board",e[e.Calendar=4]="Calendar",e[e.List=5]="List",e[e.Gallery=6]="Gallery",e[e.Timeline=7]="Timeline",e[e.PageView=8]="PageView",e[e.Relation=9]="Relation",e[e.Chart=10]="Chart",e[e.FormEditor=11]="FormEditor",e[e.Feed=12]="Feed",e[e.ChatView=13]="ChatView",e[e.CustomView=14]="CustomView",e[e.Dashboard=15]="Dashboard",e}({}),d=function(e){return e.Jira="Jira",e.Salesforce="Salesforce",e}({}),u=function(e){return e.CsvImport="CsvImport",e}({});const p=15,m=["goal","project","task","doc","meeting"];function f(e){return"table"===e?"table_properties":"board"===e?"board_properties":"calendar"===e?"calendar_properties":"gallery"===e?"gallery_properties":"list"===e?"list_properties":"timeline"===e?"timeline_properties":"page"===e?"page_view_properties":"feed"===e?"feed_properties":void("chart"===e||"dashboard"===e||"form_editor"===e||"map"===e||"chat"===e||"custom"===e||"teamspace_directory"===e||"library_external_pages"===e||(0,n().HB)(e))}const _=["show","hide_if_empty","hide"],y={backlinks:"section_collapsed",comments:"section_show",margin_comments:"inline"},g=["inline","minimal","section_hide"],b=["inline","minimal"];function v({propertyFormat:e,propertySchema:t}){return e.card_property_width_mode??"inline"}function h(e){switch(e){case"code":case"preview":case"split_view":return!0;default:return!1}}const A="medium",I=280,S=220,k=200,T=35,x=["hours","day","week","bi_week","month","quarter","year","5_years"];function M(e){return!(!function(e){return!(!e.original_url||!e.external_object_id)}(e)&&!function(e){return!(!e.is_placeholder||e.integration_id)}(e))}function w(e){return"table"===e?c.Table:"board"===e?c.Board:"calendar"===e?c.Calendar:"list"===e?c.List:"timeline"===e?c.Timeline:"page"===e?c.PageView:"gallery"===e?c.Gallery:"chart"===e?c.Chart:"form_editor"===e?c.FormEditor:"feed"===e?c.Feed:"map"===e||"chat"===e?c.ChatView:"custom"===e?c.CustomView:"dashboard"===e?c.Dashboard:"teamspace_directory"===e||"library_external_pages"===e?c.PageView:void(0,n().HB)(e)}function C(e){var t;return null==e||null===(t=e.getFormat())||void 0===t?void 0:t.drive_properties}function N(e){return Boolean(e)}function P(e,t){return Boolean(e&&t.find((({property:e,visible:t})=>Boolean("title"===e&&t))))}function U(e,t,r){let n=[...e];const o=e.findIndex((e=>e.property===t)),i=e[o];return i?!i.visible&&r&&(n[o]={...n[o],visible:!0}):n=[{property:t,visible:!0},...e],n}const D=new RegExp(/notion:\/\/.*\/tutorial\/.*/);function B(e){return!!e&&D.test(e)}r(720665).Xb;function O(e,t){var r;if(!e)return{status:"notRunning"};const o=null===(r=e.update_ai_inferences_status)||void 0===r?void 0:r[t];return o?"requested"===o.type?{status:"requested"}:"updating"===o.type?{status:"running",numPagesFilled:o.num_pages_filled??0,numPagesRequested:o.num_pages_requested??0,lastEditedTime:o.last_edited_time??0}:void(0,n().HB)(o):{status:"notRunning"}}function R(e){if(null!=e)return o().qg.isCustomEmojiString(e)?{type:"custom_emoji",emoji:o().qg.fromCustomEmojiString(e),icon:e}:(0,i().T8)(e)?{type:"notion_icon",icon:e}:(0,i()._O)(e)?{type:"app_package_asset",icon:e}:(0,a().A)(e)?{type:"unicode_emoji",emoji:o().qg.fromUnicodeEmojiString(e),icon:e}:{type:"url",icon:e}}},652106:(e,t,r)=>{r.d(t,{A:()=>i,k:()=>o});var n=()=>r(292588);const o="server_integrations__jira_webhook",i={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,webhook_id:n().A.Number,space_id:n().A.UUID,version:n().A.Number,user_id:n().A.UUID,site:n().A.String,webhook_details:n().A.JSON,created_at:n().A.Number,updated_at:n().A.Number}}},656048:(e,t,r)=>{r.d(t,{Ay:()=>i,ad:()=>o});var n=()=>r(292588);const o="experiment",i={table:o,columnTypes:{id:n().A.UUID,experiment_id:n().A.String,version:n().A.Number,last_version:n().A.Number,groups:n().A.JSON,overrides:n().A.JSON,experiment_version:n().A.Number,start_time:n().A.Number,end_time:n().A.Number,target_type:n().A.String}}},657970:(e,t,r)=>{r.d(t,{w:()=>i});var n=()=>r(201980),o=()=>r(356246);function i(e){return n().k4p(e).trim().toLowerCase()===o().I1.trim().toLowerCase()}},660237:(e,t,r)=>{r.d(t,{Ef:()=>i,SV:()=>a,_D:()=>p,eh:()=>d});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);const n=[{name:"Afghanistan",countryCode:"AF"},{name:"land Islands",countryCode:"AX"},{name:"Albania",countryCode:"AL"},{name:"Algeria",countryCode:"DZ"},{name:"American Samoa",countryCode:"AS"},{name:"Andorra",countryCode:"AD"},{name:"Angola",countryCode:"AO"},{name:"Anguilla",countryCode:"AI"},{name:"Antarctica",countryCode:"AQ"},{name:"Antigua and Barbuda",countryCode:"AG"},{name:"Argentina",countryCode:"AR"},{name:"Armenia",countryCode:"AM"},{name:"Aruba",countryCode:"AW"},{name:"Australia",countryCode:"AU"},{name:"Austria",countryCode:"AT"},{name:"Azerbaijan",countryCode:"AZ"},{name:"Bahamas",countryCode:"BS"},{name:"Bahrain",countryCode:"BH"},{name:"Bangladesh",countryCode:"BD"},{name:"Barbados",countryCode:"BB"},{name:"Belarus",countryCode:"BY"},{name:"Belgium",countryCode:"BE"},{name:"Belize",countryCode:"BZ"},{name:"Benin",countryCode:"BJ"},{name:"Bermuda",countryCode:"BM"},{name:"Bhutan",countryCode:"BT"},{name:"Bolivia (Plurinational State of)",countryCode:"BO"},{name:"Bonaire, Sint Eustatius and Saba",countryCode:"BQ"},{name:"Bosnia and Herzegovina",countryCode:"BA"},{name:"Botswana",countryCode:"BW"},{name:"Bouvet Island",countryCode:"BV"},{name:"Brazil",countryCode:"BR"},{name:"British Indian Ocean Territory",countryCode:"IO"},{name:"Brunei Darussalam",countryCode:"BN"},{name:"Bulgaria",countryCode:"BG"},{name:"Burkina Faso",countryCode:"BF"},{name:"Burundi",countryCode:"BI"},{name:"Cabo Verde",countryCode:"CV"},{name:"Cambodia",countryCode:"KH"},{name:"Cameroon",countryCode:"CM"},{name:"Canada",countryCode:"CA"},{name:"Cayman Islands",countryCode:"KY"},{name:"Central African Republic",countryCode:"CF"},{name:"Chad",countryCode:"TD"},{name:"Chile",countryCode:"CL"},{name:"China",countryCode:"CN"},{name:"Christmas Island",countryCode:"CX"},{name:"Cocos (Keeling) Islands",countryCode:"CC"},{name:"Colombia",countryCode:"CO"},{name:"Comoros",countryCode:"KM"},{name:"Congo",countryCode:"CG"},{name:"Congo, Democratic Republic of the",countryCode:"CD"},{name:"Cook Islands",countryCode:"CK"},{name:"Costa Rica",countryCode:"CR"},{name:"Cte d'Ivoire",countryCode:"CI"},{name:"Croatia",countryCode:"HR"},{name:"Cuba",countryCode:"CU"},{name:"Curaao",countryCode:"CW"},{name:"Cyprus",countryCode:"CY"},{name:"Czechia",countryCode:"CZ"},{name:"Denmark",countryCode:"DK"},{name:"Djibouti",countryCode:"DJ"},{name:"Dominica",countryCode:"DM"},{name:"Dominican Republic",countryCode:"DO"},{name:"Ecuador",countryCode:"EC"},{name:"Egypt",countryCode:"EG"},{name:"El Salvador",countryCode:"SV"},{name:"Equatorial Guinea",countryCode:"GQ"},{name:"Eritrea",countryCode:"ER"},{name:"Estonia",countryCode:"EE"},{name:"Eswatini",countryCode:"SZ"},{name:"Ethiopia",countryCode:"ET"},{name:"Falkland Islands (Malvinas)",countryCode:"FK"},{name:"Faroe Islands",countryCode:"FO"},{name:"Fiji",countryCode:"FJ"},{name:"Finland",countryCode:"FI"},{name:"France",countryCode:"FR"},{name:"French Guiana",countryCode:"GF"},{name:"French Polynesia",countryCode:"PF"},{name:"French Southern Territories",countryCode:"TF"},{name:"Gabon",countryCode:"GA"},{name:"Gambia",countryCode:"GM"},{name:"Georgia",countryCode:"GE"},{name:"Germany",countryCode:"DE"},{name:"Ghana",countryCode:"GH"},{name:"Gibraltar",countryCode:"GI"},{name:"Greece",countryCode:"GR"},{name:"Greenland",countryCode:"GL"},{name:"Grenada",countryCode:"GD"},{name:"Guadeloupe",countryCode:"GP"},{name:"Guam",countryCode:"GU"},{name:"Guatemala",countryCode:"GT"},{name:"Guernsey",countryCode:"GG"},{name:"Guinea",countryCode:"GN"},{name:"Guinea-Bissau",countryCode:"GW"},{name:"Guyana",countryCode:"GY"},{name:"Haiti",countryCode:"HT"},{name:"Heard Island and McDonald Islands",countryCode:"HM"},{name:"Holy See",countryCode:"VA"},{name:"Honduras",countryCode:"HN"},{name:"Hong Kong",countryCode:"HK"},{name:"Hungary",countryCode:"HU"},{name:"Iceland",countryCode:"IS"},{name:"India",countryCode:"IN"},{name:"Indonesia",countryCode:"ID"},{name:"Iran (Islamic Republic of)",countryCode:"IR"},{name:"Iraq",countryCode:"IQ"},{name:"Ireland",countryCode:"IE"},{name:"Isle of Man",countryCode:"IM"},{name:"Israel",countryCode:"IL"},{name:"Italy",countryCode:"IT"},{name:"Jamaica",countryCode:"JM"},{name:"Japan",countryCode:"JP"},{name:"Jersey",countryCode:"JE"},{name:"Jordan",countryCode:"JO"},{name:"Kazakhstan",countryCode:"KZ"},{name:"Kenya",countryCode:"KE"},{name:"Kiribati",countryCode:"KI"},{name:"Korea, Republic of",countryCode:"KR"},{name:"Kosovo",countryCode:"XK"},{name:"Kuwait",countryCode:"KW"},{name:"Kyrgyzstan",countryCode:"KG"},{name:"Lao People's Democratic Republic",countryCode:"LA"},{name:"Latvia",countryCode:"LV"},{name:"Lebanon",countryCode:"LB"},{name:"Lesotho",countryCode:"LS"},{name:"Liberia",countryCode:"LR"},{name:"Libya",countryCode:"LY"},{name:"Liechtenstein",countryCode:"LI"},{name:"Lithuania",countryCode:"LT"},{name:"Luxembourg",countryCode:"LU"},{name:"Macao",countryCode:"MO"},{name:"Madagascar",countryCode:"MG"},{name:"Malawi",countryCode:"MW"},{name:"Malaysia",countryCode:"MY"},{name:"Maldives",countryCode:"MV"},{name:"Mali",countryCode:"ML"},{name:"Malta",countryCode:"MT"},{name:"Marshall Islands",countryCode:"MH"},{name:"Martinique",countryCode:"MQ"},{name:"Mauritania",countryCode:"MR"},{name:"Mauritius",countryCode:"MU"},{name:"Mayotte",countryCode:"YT"},{name:"Mexico",countryCode:"MX"},{name:"Micronesia (Federated States of)",countryCode:"FM"},{name:"Moldova, Republic of",countryCode:"MD"},{name:"Monaco",countryCode:"MC"},{name:"Mongolia",countryCode:"MN"},{name:"Montenegro",countryCode:"ME"},{name:"Montserrat",countryCode:"MS"},{name:"Morocco",countryCode:"MA"},{name:"Mozambique",countryCode:"MZ"},{name:"Myanmar",countryCode:"MM"},{name:"Namibia",countryCode:"NA"},{name:"Nauru",countryCode:"NR"},{name:"Nepal",countryCode:"NP"},{name:"Netherlands",countryCode:"NL"},{name:"New Caledonia",countryCode:"NC"},{name:"New Zealand",countryCode:"NZ"},{name:"Nicaragua",countryCode:"NI"},{name:"Niger",countryCode:"NE"},{name:"Nigeria",countryCode:"NG"},{name:"Niue",countryCode:"NU"},{name:"Norfolk Island",countryCode:"NF"},{name:"North Korea",countryCode:"KP"},{name:"North Macedonia",countryCode:"MK"},{name:"Northern Mariana Islands",countryCode:"MP"},{name:"Norway",countryCode:"NO"},{name:"Oman",countryCode:"OM"},{name:"Pakistan",countryCode:"PK"},{name:"Palau",countryCode:"PW"},{name:"Palestine, State of",countryCode:"PS"},{name:"Panama",countryCode:"PA"},{name:"Papua New Guinea",countryCode:"PG"},{name:"Paraguay",countryCode:"PY"},{name:"Peru",countryCode:"PE"},{name:"Philippines",countryCode:"PH"},{name:"Pitcairn",countryCode:"PN"},{name:"Poland",countryCode:"PL"},{name:"Portugal",countryCode:"PT"},{name:"Puerto Rico",countryCode:"PR"},{name:"Qatar",countryCode:"QA"},{name:"Runion",countryCode:"RE"},{name:"Romania",countryCode:"RO"},{name:"Russian Federation",countryCode:"RU"},{name:"Rwanda",countryCode:"RW"},{name:"Saint Barthlemy",countryCode:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",countryCode:"SH"},{name:"Saint Kitts and Nevis",countryCode:"KN"},{name:"Saint Lucia",countryCode:"LC"},{name:"Saint Martin (French part)",countryCode:"MF"},{name:"Saint Pierre and Miquelon",countryCode:"PM"},{name:"Saint Vincent and the Grenadines",countryCode:"VC"},{name:"Samoa",countryCode:"WS"},{name:"San Marino",countryCode:"SM"},{name:"Sao Tome and Principe",countryCode:"ST"},{name:"Saudi Arabia",countryCode:"SA"},{name:"Senegal",countryCode:"SN"},{name:"Serbia",countryCode:"RS"},{name:"Seychelles",countryCode:"SC"},{name:"Sierra Leone",countryCode:"SL"},{name:"Singapore",countryCode:"SG"},{name:"Sint Maarten (Dutch part)",countryCode:"SX"},{name:"Slovakia",countryCode:"SK"},{name:"Slovenia",countryCode:"SI"},{name:"Solomon Islands",countryCode:"SB"},{name:"Somalia",countryCode:"SO"},{name:"South Africa",countryCode:"ZA"},{name:"South Georgia and the South Sandwich Islands",countryCode:"GS"},{name:"South Sudan",countryCode:"SS"},{name:"Spain",countryCode:"ES"},{name:"Sri Lanka",countryCode:"LK"},{name:"Sudan",countryCode:"SD"},{name:"Suriname",countryCode:"SR"},{name:"Svalbard and Jan Mayen",countryCode:"SJ"},{name:"Sweden",countryCode:"SE"},{name:"Switzerland",countryCode:"CH"},{name:"Syrian Arab Republic",countryCode:"SY"},{name:"Taiwan",countryCode:"TW"},{name:"Tajikistan",countryCode:"TJ"},{name:"Tanzania, United Republic of",countryCode:"TZ"},{name:"Thailand",countryCode:"TH"},{name:"Timor-Leste",countryCode:"TL"},{name:"Togo",countryCode:"TG"},{name:"Tokelau",countryCode:"TK"},{name:"Tonga",countryCode:"TO"},{name:"Trinidad and Tobago",countryCode:"TT"},{name:"Tunisia",countryCode:"TN"},{name:"Turkey",countryCode:"TR"},{name:"Turkmenistan",countryCode:"TM"},{name:"Turks and Caicos Islands",countryCode:"TC"},{name:"Tuvalu",countryCode:"TV"},{name:"Uganda",countryCode:"UG"},{name:"Ukraine",countryCode:"UA"},{name:"United Arab Emirates",countryCode:"AE"},{name:"United Kingdom",countryCode:"GB"},{name:"United States",countryCode:"US"},{name:"United States Minor Outlying Islands",countryCode:"UM"},{name:"Uruguay",countryCode:"UY"},{name:"Uzbekistan",countryCode:"UZ"},{name:"Vanuatu",countryCode:"VU"},{name:"Venezuela (Bolivarian Republic of)",countryCode:"VE"},{name:"Viet Nam",countryCode:"VN"},{name:"Virgin Islands (British)",countryCode:"VG"},{name:"Virgin Islands (U.S.)",countryCode:"VI"},{name:"Wallis and Futuna",countryCode:"WF"},{name:"Western Sahara",countryCode:"EH"},{name:"Yemen",countryCode:"YE"},{name:"Zambia",countryCode:"ZM"},{name:"Zimbabwe",countryCode:"ZW"}],o=new Set(n.map((({countryCode:e})=>e)));function i(e){return void 0!==e&&o.has(e)}function a(e){if(i(e))return e}const s={Afghanistan:"AF",AlandIslands:"AX",Albania:"AL",Algeria:"DZ",AmericanSamoa:"AS",Andorra:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ",AntiguaAndBarbuda:"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO",BosniaAndHerzegovina:"BA",Botswana:"BW",BouvetIsland:"BV",Brazil:"BR",BritishIndianOceanTerritory:"IO",BritishVirginIslands:"VG",Brunei:"BN",Bulgaria:"BG",BurkinaFaso:"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA",CapeVerde:"CV",CaribbeanNetherlands:"BQ",CaymanIslands:"KY",CentralAfricanRepublic:"CF",Chad:"TD",Chile:"CL",China:"CN",ChristmasIsland:"CX",CocosIslands:"CC",Colombia:"CO",Comoros:"KM",CongoBrazzaville:"CG",CongoKinshasa:"CD",CookIslands:"CK",CostaRica:"CR",CotedIvoire:"CI",Croatia:"HR",Cuba:"CU",Curacao:"CW",Cyprus:"CY",Czechia:"CZ",Denmark:"DK",Djibouti:"DJ",Dominica:"DM",DominicanRepublic:"DO",Ecuador:"EC",Egypt:"EG",ElSalvador:"SV",EquatorialGuinea:"GQ",Eritrea:"ER",Estonia:"EE",Eswatini:"SZ",Ethiopia:"ET",FalklandIslands:"FK",FaroeIslands:"FO",Fiji:"FJ",Finland:"FI",France:"FR",FrenchGuiana:"GF",FrenchPolynesia:"PF",FrenchSouthernTerritories:"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN",GuineaBissau:"GW",Guyana:"GY",Haiti:"HT",HeardAndMcDonaldIslands:"HM",Honduras:"HN",HongKong:"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID",Iran:"IR",Iraq:"IQ",Ireland:"IE",IsleofMan:"IM",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP",Jersey:"JE",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI",Kosovo:"XK",Kuwait:"KW",Kyrgyzstan:"KG",Laos:"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR",Libya:"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT",MarshallIslands:"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX",Micronesia:"FM",Moldova:"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL",NewCaledonia:"NC",NewZealand:"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU",NorfolkIsland:"NF",NorthernMarianaIslands:"MP",NorthKorea:"KP",NorthMacedonia:"MK",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW",Palestine:"PS",Panama:"PA",PapuaNewGuinea:"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",PitcairnIslands:"PN",Poland:"PL",Portugal:"PT",PuertoRico:"PR",Qatar:"QA",Reunion:"RE",Romania:"RO",Russia:"RU",Rwanda:"RW",Samoa:"WS",SanMarino:"SM",SaoTomeAndPrincipe:"ST",SaudiArabia:"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC",SierraLeone:"SL",Singapore:"SG",SintMaarten:"SX",Slovakia:"SK",Slovenia:"SI",SolomonIslands:"SB",Somalia:"SO",SouthAfrica:"ZA",SouthGeorgiaAndSouthSandwichIslands:"GS",SouthKorea:"KR",SouthSudan:"SS",Spain:"ES",SriLanka:"LK",StBarthelemy:"BL",StHelena:"SH",StKittsAndNevis:"KN",StLucia:"LC",StMartin:"MF",StPierreAndMiquelon:"PM",StVincentAndGrenadines:"VC",Sudan:"SD",Suriname:"SR",SvalbardAndJanMayen:"SJ",Sweden:"SE",Switzerland:"CH",Syria:"SY",Taiwan:"TW",Tajikistan:"TJ",Tanzania:"TZ",Thailand:"TH",TimorLeste:"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO",TrinidadAndTobago:"TT",Tunisia:"TN",Turkiye:"TR",Turkmenistan:"TM",TurksAndCaicosIslands:"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA",UnitedArabEmirates:"AE",UnitedKingdom:"GB",UnitedStates:"US",Uruguay:"UY",USOutlyingIslands:"UM",USVirginIslands:"VI",Uzbekistan:"UZ",Vanuatu:"VU",VaticanCity:"VA",Venezuela:"VE",Vietnam:"VN",WallisAndFutuna:"WF",WesternSahara:"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"},l=Object.fromEntries(n.map((e=>[e.countryCode,e])));const c=new Set([s.Austria,s.Belgium,s.Bulgaria,s.Croatia,s.Cyprus,s.Czechia,s.Denmark,s.Estonia,s.Finland,s.France,s.Germany,s.Greece,s.Hungary,s.Ireland,s.Italy,s.Latvia,s.Lithuania,s.Luxembourg,s.Malta,s.Netherlands,s.Poland,s.Portugal,s.Romania,s.Slovakia,s.Slovenia,s.Spain,s.Sweden]);Object.fromEntries([...c].map((e=>[e,["EUR"]]))),s.UnitedKingdom,s.Brazil,s.SouthKorea,s.Japan,s.UnitedStates;function d(e){if(!i(e))return{opt:"in",defaultOptIn:!1};switch(e){case s.Albania:case s.Andorra:case s.Armenia:case s.Azerbaijan:case s.Belarus:case s.Belgium:case s.BosniaAndHerzegovina:case s.Bulgaria:case s.Croatia:case s.Cyprus:case s.Czechia:case s.Denmark:case s.Estonia:case s.Finland:case s.France:case s.Georgia:case s.Greece:case s.VaticanCity:case s.Iceland:case s.Ireland:case s.Italy:case s.Kazakhstan:case s.Kosovo:case s.Latvia:case s.Liechtenstein:case s.Lithuania:case s.Luxembourg:case s.Malta:case s.Moldova:case s.Monaco:case s.Montenegro:case s.Netherlands:case s.NorthMacedonia:case s.Norway:case s.Portugal:case s.Romania:case s.Russia:case s.SanMarino:case s.Serbia:case s.Slovakia:case s.Slovenia:case s.Spain:case s.Sweden:case s.Turkiye:case s.Ukraine:case s.UnitedKingdom:return{opt:"out",defaultOptIn:!0};case s.Hungary:case s.Poland:return{opt:"in",defaultOptIn:!1};case s.Austria:case s.Germany:case s.Switzerland:return{opt:"doubleIn",defaultOptIn:!1};default:return{opt:"in",defaultOptIn:!0}}}function u(e,t){return e.formatDisplayName(t,{type:"region"})??function(e){var t;return null===(t=l[e])||void 0===t?void 0:t.name}(t)}function p(e,t={}){const{locale:r=e.locale,collator:n=new Intl.Collator(r,{sensitivity:"base"})}=t;return Array.from(o).map((t=>({countryCode:t,name:u(e,t)}))).sort(((t,r)=>n.compare(u(e,t.countryCode),u(e,r.countryCode))))}},662149:(e,t,r)=>{r.d(t,{Y:()=>o});var n=()=>r(935136);function o(e){return t=e.operator,n().E.hasOwnProperty(t);var t}},664540:(e,t,r)=>{r.d(t,{A:()=>i,K:()=>o});var n=()=>r(292588);const o="marketplace_customer",i={table:o,columnTypes:{id:n().A.UUID,acquirer_table:n().A.String,acquirer_id:n().A.String,stripe_customer_id:n().A.String,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},665344:(e,t,r)=>{r.d(t,{Ay:()=>a,Fe:()=>o,_i:()=>i});var n=()=>r(292588);function o(e){return"mobile_app"===e||"web_gallery"===e||"in_app"===e||"public_page"===e||"agent_personalization_settings"===e}const i="marketplace_installation",a={table:i,columnTypes:{id:n().A.UUID,destination_table:n().A.String,destination_id:n().A.String,actor_table:n().A.String,actor_id:n().A.String,acquisition_id:n().A.String,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,status:n().A.String,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,destination_table:!0,destination_id:!0,actor_table:!0,actor_id:!0,acquisition_id:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},666450:(e,t,r)=>{r.d(t,{Ay:()=>i,UL:()=>o});var n=()=>r(292588);const o="marketplace_listing",i=(r(959577).XX,r(452665).J6,{table:o,columnTypes:{id:n().A.UUID,product_table:n().A.String,product_id:n().A.String,creator_id:n().A.String,price:n().A.Number,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,checkout_enabled:n().A.Boolean,ratings_attributes:n().A.JSON,installation_count:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})})},673337:(e,t,r)=>{r.d(t,{Dx:()=>o,lS:()=>n,nj:()=>i});function n(e,t){return"start"===e||"end"===e?e===t:"start"!==t&&"end"!==t&&o(e,t)}function o(e,t){return e[0]===t[0]&&e[1]===t[1]}function i(e,t){return e.anchor===t.anchor&&n(e.id,t.id)}},674770:(e,t,r)=>{r.d(t,{Ay:()=>i,yv:()=>o});var n=()=>r(292588);const o="user_alias",i={table:o,columnTypes:{id:n().A.String,user_id:n().A.UUID,alias_type:n().A.String,is_primary:n().A.Boolean,clearbit:n().A.String,kickbox:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,created_time:n().A.Number,created_by_id:n().A.UUID,last_version:n().A.Number,version:n().A.Number,created_by_table:n().A.String,last_edited_by_table:n().A.String,alive:n().A.Boolean},model:(0,r(152853).P)({})}},681373:(e,t,r)=>{r.d(t,{$D:()=>Dr,$c:()=>Wr,Au:()=>vn,BQ:()=>a,EQ:()=>Nt,ER:()=>In,Eg:()=>_,GQ:()=>z,HP:()=>ir,Hp:()=>Ge,I1:()=>qe,IJ:()=>_e,Ij:()=>Dt,JC:()=>tr,MX:()=>Le,N5:()=>cr,O3:()=>Ne,OR:()=>Cr,Q0:()=>sn,Qm:()=>Ye,Qv:()=>fe,R:()=>Kt,RN:()=>hn,RX:()=>Yr,S4:()=>R,Si:()=>ot,Sq:()=>A,T:()=>ct,Uy:()=>an,WW:()=>p,Wo:()=>ur,XK:()=>U,Xk:()=>$t,Yp:()=>re,Yu:()=>Se,ZR:()=>De,_X:()=>gn,aI:()=>w,bZ:()=>Fr,cg:()=>ae,cy:()=>k,cz:()=>Re,dB:()=>ye,dR:()=>c,de:()=>Kr,fL:()=>lt,ft:()=>$r,gV:()=>Oe,gi:()=>mn,go:()=>yr,gv:()=>mr,i8:()=>Br,iG:()=>Xr,iQ:()=>Me,ik:()=>jr,iz:()=>wr,jI:()=>vt,jc:()=>ne,ju:()=>L,kH:()=>me,kJ:()=>An,lZ:()=>Q,lf:()=>yn,mu:()=>St,n5:()=>te,nN:()=>Mt,ox:()=>$e,p5:()=>G,qU:()=>de,ql:()=>D,qs:()=>Vt,rD:()=>hr,ri:()=>mt,rl:()=>b,rw:()=>pr,sh:()=>ve,tI:()=>Qe,wx:()=>j,yn:()=>X,z7:()=>Jr,zI:()=>je,zX:()=>Rt});r(898992),r(354520),r(672577),r(581454);var n=()=>r(100622),o=()=>r(671593),i=()=>r(638681);const a={Bold:"b",Italic:"i",Strike:"s",Code:"c",FormulaError:"~",Underline:"_",Inserted:"+",Deleted:"-",TemporaryComment:"z",User:"u",Bot:"r",Page:"p",TemporaryPage:"pt",Collection:"ds",TemporaryCollection:"dst",Date:"d",ExternalObjectInstance:"eoi",TemplateVariable:"tv",Comment:"cm",Group:"g",Team:"t",LinkMention:"lm",CustomEmoji:"ce",SlackSpecialMention:"sm",ChatSelectionContext:"usc",Citation:"ci",TemporaryCitation:"cit",Discussion:"m",Link:"a",Highlight:"h",Equation:"e",TemporaryEquation:"et",TemporaryInput:"xt",TemporarySelection:"st",TemporaryCommentHighlight:"tch",TemporarySuggestionUnderline:"tsu",FormulaPageProperty:"fpp",FormulaContextValue:"fv",TemporaryFindHighlight:"mark",TemporarySelectedFindHighlight:"smark",TemporaryCursor:"tc",SuggestionInsertText:"si",SuggestionRemoveText:"sr",SuggestionAnnotate:"sa",SuggestionUnannotate:"sua",TemporaryHighlight:"ht",TemporaryNativeMABFilter:"mabf",TemporaryDictation:"dut",AssistantInstructionsCollection:"aic",Place:"plc",TemporarySearchFilter:"sf",SearchFilterCreatedTime:"sfct",SearchFilterLastEditedTime:"sflet",TitleOnly:"to",Sort:"so",DeletionMarker:"dm"},s=i().literal(a.Bold),l=i().tuple([s]);function c(e){return 1===e.length&&e[0]===a.Bold}const d=i().literal(a.Italic),u=i().tuple([d]);function p(e){return 1===e.length&&e[0]===a.Italic}const m=i().literal(a.Strike),f=i().tuple([m]);function _(e){return 1===e.length&&e[0]===a.Strike}const y=i().literal(a.Code),g=i().tuple([y]);function b(e){return 1===e.length&&e[0]===a.Code}const v=i().literal(a.FormulaError),h=i().tuple([v]);function A(e){return 1===e.length&&e[0]===a.FormulaError}const I=i().literal(a.Underline),S=i().tuple([I]);function k(e){return 1===e.length&&e[0]===a.Underline}const T=i().tuple([i().literal(a.Inserted),i().string()]);const x=i().literal(a.Inserted),M=i().union([i().tuple([x]),T]);function w(e){return e[0]===a.Inserted&&(1===e.length||2===e.length)}const C=i().tuple([i().literal(a.Deleted),i().string()]);const N=i().literal(a.Deleted),P=i().union([i().tuple([N]),C]);function U(e){return e[0]===a.Deleted&&(1===e.length||2===e.length)}function D(e){return function(e){return 2===e.length&&e[0]===a.Inserted}(e)||function(e){return 2===e.length&&e[0]===a.Deleted}(e)}const B=i().literal(a.TemporaryComment),O=i().tuple([B]);function R(e){return 1===e.length&&e[0]===a.TemporaryComment}const E=i().literal(a.TemporarySelection),F=i().tuple([E]);function L(e){return 1===e.length&&e[0]===a.TemporarySelection}const V=i().literal(a.TemporaryFindHighlight),H=i().tuple([V]);function j(e){return 1===e.length&&e[0]===a.TemporaryFindHighlight}const q=i().literal(a.TemporarySelectedFindHighlight),$=i().tuple([q]);function G(e){return 1===e.length&&e[0]===a.TemporarySelectedFindHighlight}function z(e){return j(e)||G(e)}const W=i().literal(a.TemporaryCursor),K=i().tuple([W]);function Q(e){return 1===e.length&&e[0]===a.TemporaryCursor}const Z=i().literal(a.TemporaryCommentHighlight),J=i().tuple([Z]);function X(e){return 1===e.length&&e[0]===a.TemporaryCommentHighlight}const Y=i().literal(a.TemporarySuggestionUnderline),ee=i().tuple([Y,i().string()]);function te(e){return 2===e.length&&e[0]===a.TemporarySuggestionUnderline}function re(e,t){return 2===e.length&&e[0]===a.TemporarySuggestionUnderline&&e[1]===t}function ne(e){const[t]=e;return 1===e.length&&e[0]!==a.TemporaryEquation&&e[0]!==a.TemporaryPage&&e[0]!==a.TemporaryCollection&&e[0]!==a.TitleOnly&&e[0]!==a.TemporaryCitation||(2===e.length&&e[0]===a.TemporarySuggestionUnderline||(t===a.Bold||t===a.Italic||t===a.Strike||t===a.Underline||t===a.Inserted||t===a.Deleted||t===a.TemporaryComment||t===a.TemporarySelection||t===a.TemporaryCursor))}const oe=i().literal(a.TitleOnly),ie=i().tuple([oe]);function ae(e){return 1===e.length&&e[0]===a.TitleOnly}const se=i().union([i().literal("lea"),i().literal("led"),i().literal("cta"),i().literal("ctd")]),le=i().literal(a.Sort),ce=i().tuple([le,se]);function de(e){return 2===e.length&&e[0]===a.Sort}const ue=i().literal(a.DeletionMarker),pe=i().tuple([ue,i().string()]);function me(e){return 2===e.length&&e[0]===a.DeletionMarker}function fe(e){return[a.DeletionMarker,e]}function _e(e){return e[1]}function ye(e){return e.find(me)}const ge=i().literal(a.Link),be=i().tuple([ge,i().union([i().string(),i().isUndefined()])]);function ve(e){return 2===e.length&&e[0]===a.Link}const he=i().literal(a.Highlight),Ae=(0,o().rv)((e=>null),"BlockColor"),Ie=i().tuple([he,Ae]);function Se(e){return 2===e.length&&e[0]===a.Highlight}const ke=i().literal(a.Discussion),Te=i().string(),xe=i().tuple([ke,Te]);function Me(e){return 2===e.length&&e[0]===a.Discussion}const we=i().literal(a.SuggestionInsertText),Ce=i().tuple([we,Te]);function Ne(e){return 2===e.length&&e[0]===a.SuggestionInsertText}const Pe=i().literal(a.SuggestionRemoveText),Ue=i().tuple([Pe,Te]);function De(e){return 2===e.length&&e[0]===a.SuggestionRemoveText}const Be=i().union([l,u,f,g,S,be,Ie]);function Oe(e){switch(e){case a.Bold:case a.Italic:case a.Strike:case a.Code:case a.Underline:case a.Link:case a.Highlight:return!0;default:return!1}}function Re(e){return!!(c(e)||p(e)||_(e)||b(e)||k(e)||ve(e)||Se(e))}const Ee=i().literal(a.SuggestionAnnotate),Fe=i().tuple([Ee,Te,Be]);function Le(e){return 3===e.length&&e[0]===a.SuggestionAnnotate}const Ve=i().literal(a.SuggestionUnannotate),He=i().tuple([Ve,Te,Be]);function je(e){return 3===e.length&&e[0]===a.SuggestionUnannotate}function qe(e){return!!(je(e)||Le(e)||De(e)||Ne(e))}function $e(e){switch(e){case a.SuggestionInsertText:case a.SuggestionRemoveText:case a.SuggestionAnnotate:case a.SuggestionUnannotate:return!0;default:return!1}}function Ge(e){return!!qe(e)||!!Me(e)}const ze=i().literal(a.TemporaryInput),We=i().object({required:{prefix:i().string(),suffix:i().string(),completion:i().string(),prefixIcon:i().union([(0,o().rv)((e=>null),"ReactNode"),i().isUndefined()])},optional:{}}),Ke=i().tuple([ze,We]);function Qe(e){return 2===e.length&&e[0]===a.TemporaryInput}const Ze=i().literal(a.TemporaryNativeMABFilter),Je=i().object({required:{hint:i().string()},optional:{}}),Xe=i().tuple([Ze,Je]);function Ye(e){return 2===e.length&&e[0]===a.TemporaryNativeMABFilter}const et=i().literal(a.TemporaryDictation),tt=i().number(),rt=i().string(),nt=i().tuple([et,tt,rt]);function ot(e){return 3===e.length&&e[0]===a.TemporaryDictation}const it=i().literal(a.TemporaryHighlight),at=(0,o().rv)((e=>null),"HexColor"),st=i().tuple([it,at]);function lt(e){return 2===e.length&&e[0]===a.TemporaryHighlight}function ct(e){return!!(ne(e)||ve(e)||Me(e)||qe(e)||Se(e)||Qe(e)||Ye(e)||ot(e)||lt(e))}const dt=i().literal(a.User),ut=i().string(),pt=i().tuple([dt,ut]);function mt(e){return 2===e.length&&e[0]===a.User}const ft=i().literal(a.Page),_t=i().string(),yt=i().string(),gt=i().string(),bt=i().union([i().tuple([ft,_t]),i().tuple([ft,_t,yt]),i().tuple([ft,_t,gt])]);function vt(e){return(2===e.length||3===e.length)&&e[0]===a.Page}const ht=i().literal(a.Collection),At=i().string(),It=i().union([i().tuple([ht,At]),i().tuple([ht,At,yt]),i().tuple([ht,At,yt,_t])]);function St(e){return(2===e.length||3===e.length||4===e.length)&&e[0]===a.Collection}const kt=i().literal(a.CustomEmoji),Tt=i().uuid(),xt=i().tuple([kt,Tt,yt]);function Mt(e){return 3===e.length&&e[0]===a.CustomEmoji}const wt=i().literal(a.TemporaryPage),Ct=i().tuple([wt]);function Nt(e){return 1===e.length&&e[0]===a.TemporaryPage}const Pt=i().literal(a.TemporaryCitation),Ut=i().tuple([Pt]);function Dt(e){return 1===e.length&&e[0]===a.TemporaryCitation}const Bt=i().literal(a.TemporaryCollection),Ot=i().tuple([Bt]);function Rt(e){return 1===e.length&&e[0]===a.TemporaryCollection}const Et=i().literal(a.Date),Ft=(0,o().rv)((e=>null),"DateAnnotationData"),Lt=i().tuple([Et,Ft]);function Vt(e){return 2===e.length&&e[0]===a.Date}const Ht=i().literal(a.Bot),jt=i().string(),qt=i().tuple([Ht,jt]);function $t(e){return 2===e.length&&e[0]===a.Bot}const Gt=i().literal(a.Group),zt=i().string(),Wt=i().tuple([Gt,zt,yt]);function Kt(e){return 3===e.length&&e[0]===a.Group}const Qt=i().literal(a.Team),Zt=i().string(),Jt=i().literal("everyone"),Xt=i().literal("teamspace"),Yt=i().union([Jt,Xt]),er=i().tuple([Qt,Zt,yt,Yt]);function tr(e){return 4===e.length&&e[0]===a.Team}const rr=i().union([i().literal("here"),i().literal("channel")]),nr=i().literal(a.SlackSpecialMention),or=i().tuple([nr,rr]);function ir(e){return 2===e.length&&e[0]===a.SlackSpecialMention}const ar=i().literal(a.ExternalObjectInstance),sr=i().string(),lr=i().tuple([ar,sr]);function cr(e){return 2===e.length&&e[0]===a.ExternalObjectInstance}const dr=i().literal(a.TemplateVariable),ur=["me"],pr=[...ur,"now","today"],mr=i().union(pr.map(i().literal)),fr=i().object({required:{type:mr},optional:{}}),_r=i().tuple([dr,fr]);function yr(e){return 2===e.length&&e[0]===a.TemplateVariable}const gr=i().literal(a.Comment),br=i().string(),vr=i().tuple([gr,br,yt]);function hr(e){return 3===e.length&&e[0]===a.Comment}const Ar=i().literal(a.FormulaPageProperty),Ir=i().object({required:{table:i().literal(r(519831).Vl),id:i().string()},optional:{spaceId:i().string()}}),Sr=(0,o().rv)((e=>i().string().validator(e)),"SerializedContextValueId"),kr=i().object({required:{contextValueId:Sr,property:i().string(),valueSnapshot:i().union([i().literal("current"),i().string()])},optional:{name:i().string()}}),Tr=i().object({required:{property:i().string()},optional:{collection:Ir,name:i().string()}}),xr=i().union([Tr,kr]),Mr=i().tuple([Ar,xr]);function wr(e){return 2===e.length&&e[0]===a.FormulaPageProperty}function Cr(e){const t="contextValueId"in e&&e.contextValueId,r="property"in e&&e.property,n="valueSnapshot"in e&&e.valueSnapshot;return!!(t&&r&&n)||!!r}const Nr=i().literal(a.FormulaContextValue),Pr=(0,o().rv)((e=>null),"FormulaContextValueMentionAnnotationData"),Ur=i().tuple([Nr,Pr]);function Dr(e){return 2===e.length&&e[0]===a.FormulaContextValue}function Br(e){return wr(e)||Dr(e)}const Or=i().literal(a.Citation),Rr=i().intersection([i().object({required:{},optional:{citationNumber:i().number(),positionWithinSource:i().number(),resultId:i().string(),traceId:i().string()}}),i().union([i().object({required:{href:i().string(),blockId:i().union([i().string(),i().isUndefined()]),type:i().union([i().literal("block"),i().isUndefined()])},optional:{collectionViewId:i().string(),spaceId:i().string(),discussionId:i().string(),scrollToBlockId:i().string(),snapshotTimestamp:i().string()}}),i().object({required:{href:i().string(),type:i().literal("url")},optional:{}}),i().object({required:{href:i().string(),type:i().literal("google-drive"),messageId:i().string(),url:i().string()},optional:{}}),i().object({required:{href:i().string(),type:i().literal("helpdoc"),url:i().string()},optional:{}}),i().object({required:{href:i().string(),type:i().literal("helpdoc-section"),url:i().string(),parentPageHref:i().string()},optional:{}}),i().object({required:{type:i().literal("query_database_result"),href:i().string(),queryDatabaseResultId:i().string()},optional:{}}),i().object({required:{href:i().string(),type:i().literal("slack"),domain:i().union([i().string(),i().isUndefined()]),baseUrl:i().union([i().string(),i().isUndefined()]),channelId:i().string(),messageId:i().string(),threadTs:i().union([i().string(),i().isUndefined()]),threadHref:i().string()},optional:{}}),i().object({required:{href:i().string(),type:i().literal("microsoft-teams"),url:i().string(),messageId:i().string(),channelId:i().string(),threadTs:i().union([i().string(),i().isUndefined()]),threadHref:i().string(),messageType:i().union([i().literal("channel"),i().literal("thread"),i().literal("chat")])},optional:{}}),i().object({required:{href:i().string(),type:i().literal("discord"),url:i().string()},optional:{}}),...r(902006).fl.filter((e=>"microsoft-teams"!==e&&"slack"!==e&&"discord"!==e)).map((e=>i().object({required:{href:i().string(),type:i().literal(e),messageId:i().string(),url:i().string()},optional:{}}))),i().object({required:{href:i().string(),type:i().literal("webpage"),url:i().string()},optional:{}})])]),Er=i().tuple([Or,Rr]);function Fr(e){return 2===e.length&&e[0]===a.Citation}const Lr=i().literal(a.LinkMention),Vr=i().object({required:{href:i().string()},optional:{title:i().string(),description:i().string(),link_author:i().string(),link_provider:i().string(),thumbnail_url:i().string(),icon_url:i().string(),iframe_url:i().string(),height:i().number(),padding:i().number(),padding_top:i().number()}}),Hr=i().tuple([Lr,Vr]);function jr(e){return 2===e.length&&e[0]===a.LinkMention}const qr=i().tuple([i().literal(a.ChatSelectionContext),i().unknown()]);function $r(e){return 2===e.length&&e[0]===a.ChatSelectionContext}const Gr=i().literal(a.AssistantInstructionsCollection),zr=i().union([i().tuple([Gr,At]),i().tuple([Gr,At,yt])]);function Wr(e){return(2===e.length||3===e.length)&&e[0]===a.AssistantInstructionsCollection}function Kr(e){return 2===e.length&&e[0]===a.Place}const Qr=i().literal(a.Place),Zr=i().tuple([Qr,i().object({required:{lat:i().number(),lon:i().number()},optional:{name:i().string(),googlePlaceId:i().string(),awsPlaceId:i().string(),address:i().string()}})]),Jr={[a.User]:!0,[a.Bot]:!0,[a.Page]:!0,[a.TemporaryPage]:!0,[a.Collection]:!0,[a.TemporaryCollection]:!0,[a.Date]:!0,[a.SearchFilterCreatedTime]:!0,[a.SearchFilterLastEditedTime]:!0,[a.ExternalObjectInstance]:!0,[a.TemplateVariable]:!0,[a.Comment]:!0,[a.Group]:!0,[a.Team]:!0,[a.FormulaPageProperty]:!0,[a.FormulaContextValue]:!0,[a.Citation]:!0,[a.TemporaryCitation]:!0,[a.LinkMention]:!0,[a.AssistantInstructionsCollection]:!0,[a.CustomEmoji]:!0,[a.Place]:!0,[a.SlackSpecialMention]:!0,[a.ChatSelectionContext]:!0,[a.TemporarySearchFilter]:!0,[a.TitleOnly]:!0,[a.Sort]:!0};function Xr(e){return!!(mt(e)||vt(e)||Nt(e)||St(e)||Rt(e)||$t(e)||cr(e)||Vt(e)||sn(e)||Kt(e)||tr(e)||yr(e)||hr(e)||Br(e)||Fr(e)||Dt(e)||jr(e)||Wr(e)||Mt(e)||Kr(e)||ir(e)||$r(e)||Yr(e)||ae(e)||de(e)||St(e))}a.User,a.Bot,a.Page,a.Collection,a.SearchFilterCreatedTime,a.SearchFilterLastEditedTime,a.Group,a.Team,a.TitleOnly,a.Sort;function Yr(e){return 2===e.length&&e[0]===a.TemporarySearchFilter}const en=i().literal(a.SearchFilterCreatedTime),tn=i().tuple([en,Ft]);function rn(e){return 2===e.length&&e[0]===a.SearchFilterCreatedTime}const nn=i().literal(a.SearchFilterLastEditedTime),on=i().tuple([nn,Ft]);function an(e){return 2===e.length&&e[0]===a.SearchFilterLastEditedTime}function sn(e){return!(!rn(e)&&!an(e))}const ln=i().literal(a.TemporarySearchFilter),cn=i().tuple([ln,i().union([pt,bt,It,tn,on,qt,Wt,er,ie,ce])]),dn=i().string(),un=i().literal(a.Equation),pn=i().tuple([un,dn]);function mn(e){return 2===e.length&&e[0]===a.Equation}const fn=i().literal(a.TemporaryEquation),_n=i().tuple([fn]);function yn(e){return 1===e.length&&e[0]===a.TemporaryEquation}function gn(e){return e[0]}const bn={[a.Bold]:{validatorType:l},[a.Italic]:{validatorType:u},[a.Strike]:{validatorType:f},[a.Code]:{validatorType:g},[a.FormulaError]:{validatorType:h},[a.Underline]:{validatorType:S},[a.Inserted]:{validatorType:M},[a.Deleted]:{validatorType:P},[a.TemporaryComment]:{validatorType:O,isTemporary:!0},[a.TemporarySelection]:{validatorType:F,isTemporary:!0},[a.TemporaryFindHighlight]:{validatorType:H,isTemporary:!0},[a.TemporarySelectedFindHighlight]:{validatorType:$,isTemporary:!0},[a.TemporaryCursor]:{validatorType:K,isTemporary:!0},[a.Link]:{validatorType:be},[a.Highlight]:{validatorType:Ie},[a.Discussion]:{validatorType:xe,isMultiInstance:!0},[a.SuggestionInsertText]:{validatorType:Ce},[a.SuggestionRemoveText]:{validatorType:Ue,isMultiInstance:!0},[a.SuggestionAnnotate]:{validatorType:Fe,isMultiInstance:!0},[a.SuggestionUnannotate]:{validatorType:He,isMultiInstance:!0},[a.TemporaryInput]:{validatorType:Ke,isTemporary:!0},[a.TemporaryNativeMABFilter]:{validatorType:Xe,isTemporary:!0},[a.TemporaryDictation]:{validatorType:nt,isTemporary:!0},[a.TemporaryHighlight]:{validatorType:st,isTemporary:!0},[a.User]:{validatorType:pt},[a.Page]:{validatorType:bt},[a.Collection]:{validatorType:It},[a.CustomEmoji]:{validatorType:xt},[a.TemporaryPage]:{validatorType:Ct,isTemporary:!0},[a.TemporaryCitation]:{validatorType:Ut,isTemporary:!0},[a.TemporaryCollection]:{validatorType:Ot,isTemporary:!0},[a.Date]:{validatorType:Lt},[a.SearchFilterCreatedTime]:{validatorType:tn},[a.SearchFilterLastEditedTime]:{validatorType:on},[a.Bot]:{validatorType:qt},[a.Group]:{validatorType:Wt},[a.Team]:{validatorType:er},[a.ExternalObjectInstance]:{validatorType:lr},[a.TemplateVariable]:{validatorType:_r},[a.Comment]:{validatorType:vr},[a.FormulaPageProperty]:{validatorType:Mr},[a.FormulaContextValue]:{validatorType:Ur},[a.Citation]:{validatorType:Er},[a.LinkMention]:{validatorType:Hr},[a.AssistantInstructionsCollection]:{validatorType:zr},[a.SlackSpecialMention]:{validatorType:or},[a.ChatSelectionContext]:{validatorType:qr},[a.Equation]:{validatorType:pn},[a.TemporaryEquation]:{validatorType:_n,isTemporary:!0},[a.TemporaryCommentHighlight]:{validatorType:J,isTemporary:!0},[a.TemporarySuggestionUnderline]:{validatorType:ee,isTemporary:!0},[a.Place]:{validatorType:Zr},[a.TemporarySearchFilter]:{validatorType:cn,isTemporary:!0},[a.TitleOnly]:{validatorType:ie},[a.Sort]:{validatorType:ce},[a.DeletionMarker]:{validatorType:pe,isTemporary:!0}};function vn(e){if(e[0]===a.Highlight){const t=e[1];return n().Wr.includes(t)&&(0,n().Cg)(t)?"hb":"hf"}return e[0]}function hn(e){switch(e){case"hb":case"hf":return"h";default:return e}}function An(e){return"h"===e?["hf","hb"]:[e]}function In(e){return function(e){const t=bn[e];if(t&&"isMultiInstance"in t&&t.isMultiInstance)return!0;return!1}(gn(e))}},681873:(e,t,r)=>{r.d(t,{G:()=>n});r(944114),r(898992),r(803949);function n(e,t){const r=[];return e.forEach(((n,o)=>{r.push(n),e[o+1]&&r.push(t(o))})),r}},682186:(e,t,r)=>{r.d(t,{A:()=>i,w:()=>o});var n=()=>r(292588);const o="oauth_authorization_code",i={table:o,columnTypes:{id:n().A.UUID,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,redirect_uri:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,bot_id:n().A.UUID,created_bot_token_id:n().A.UUID,revoked_at:n().A.Number,type:n().A.String,space_id:n().A.UUID,integration_id:n().A.UUID,optional_info:n().A.JSON,capabilities:n().A.JSON}}},684558:(e,t,r)=>{r.d(t,{A:()=>i,W:()=>o});var n=()=>r(292588);const o="referral",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_at:n().A.Number,referral_code:n().A.String,referral_program:n().A.String},requiredColumns:{space_id:!0,created_at:!0,referral_code:!0,referral_program:!0},model:(0,r(152853).P)({})}},687871:(e,t,r)=>{r.d(t,{Z:()=>n});const n={Owner:"notion://wiki/owner_property"}},688728:(e,t,r)=>{r.d(t,{Fw:()=>i,We:()=>a,Zm:()=>o,uW:()=>s});var n=()=>r(534177);const o={page_main:"page_layout_schema",page_details:"page_info_layout_schema",form_layout_schema:"form_layout_schema",views_main_tab_modules:"views_main_tab_modules",form_conditional_modules:"form_conditional_modules",person_profile_page_main:"person_profile_page_main",person_profile_page_details:"person_profile_page_details",dashboard_layout_schema:"dashboard_layout_schema"};function i(e){switch(e){case"page_layout_schema":return"page_main";case"page_info_layout_schema":return"page_details";case"form_layout_schema":return"form_layout_schema";case"views_main_tab_modules":return"views_main_tab_modules";case"form_conditional_modules":return"form_conditional_modules";case"person_profile_page_main":return"person_profile_page_main";case"person_profile_page_details":return"person_profile_page_details";case"dashboard_layout_schema":return"dashboard_layout_schema";default:(0,n().HB)(e)}}function a(e){switch(e){case"page_main":case"page_details":case"views_main_tab_modules":case"dashboard_layout_schema":return"layout";case"form_layout_schema":case"form_conditional_modules":return"form";case"person_profile_page_main":case"person_profile_page_details":return"person_profile_page";default:(0,n().HB)(e)}}function s(e){return"form_layout_schema"===e||"form_conditional_modules"===e}},695608:(e,t,r)=>{r.d(t,{T2:()=>l,c6:()=>s,wH:()=>a});var n=()=>r(496603),o=()=>r(792071),i=()=>r(798880);function a(e){const{userId:t,spaceId:r}=e;return{id:t,table:i().oo,spaceId:r}}function s(e,t,r){if(t){return o().Bj6.fromValue(i().oo,t).getDisplayName(e,r)}return e.formatMessage(o().Fvx.messages.anonymousPlaceholder)}function l(e){return n().oE([e.name,e.email]).join(" ")}},696446:(e,t,r)=>{r.d(t,{KZ:()=>c,OH:()=>u,Sp:()=>d,Xq:()=>p});r(944114);var n=()=>r(496603),o=()=>r(700500),i=()=>r(898244),a=()=>r(277153),s=()=>r(179034),l=()=>r(519831);function*c(e){const t=[];let r,o=e.length;for(;o>0;){const i=[];for(let n=0;n<e.length;n++){const a=e[n];if(void 0===a)continue;const s=void 0!==r?a.next(r):a.next();s.done?(e[n]=void 0,o--,t[n]=s.value):i.push(s.value)}i.length>0&&(r=yield{recordPointers:(0,n().hS)(i.flatMap((e=>e.recordPointers??[])),(e=>`${e.table}:${e.id}`)),collectionBlockProperties:i.flatMap((e=>e.collectionBlockProperties??[]))})}return t}function*d(e,t){if(!e.length)return[];const r=yield{recordPointers:e},n=t.limit,o=[];for(const a of e){if(void 0!==n&&o.length>=n)break;const e=r.getRecordModel(a);if(!e||!e.getAlive()||e.isTemplate())continue;const s=yield*p(e);(null==s?void 0:s.id)===(0,i().zO)(t)&&o.push(e)}return o}function*u(e,t){const r=t[e];if(!(r&&"rollup"===r.type&&r.relation_property&&r.target_property_type&&r.target_property))return;if("person"===r.rollup_type)return;const n=t[r.relation_property];if(!n||"relation"!==n.type||!(0,i().zO)(n))return;const o=(0,i().Nv)(n),{getRecordModel:a}=yield{recordPointers:[o]},s=a(o);if(!s)return;const l=s.getNormalizedSchema(),c=s.getMappedProperty(r.target_property),d=l[c];return d&&r.target_property_type===d.type?{rollupType:"relation",propertySchema:r,targetProperty:c,relationPropertySchema:n,targetCollectionModel:s,targetCollectionSchema:l,targetPropertySchema:d,targetCollectionPointer:o}:void 0}function*p(e){const t=e.getParentPointer();if(t.table===l().Vl){return(yield{recordPointers:[t]}).getRecordModel(t)}const r=e.getType();if((0,o().NC)(r))return yield*function*(e){let t=e.getParentPointer();for(;t;){if(a().L3.isEqual(t,e.pointer))return;if(t.table!==s().ev)return;const r=(yield{recordPointers:[t]}).getRecordModel(t);if(!r)return;if(!r.isCollectionView()){t=r.getParentPointer();continue}const n=r.getCollectionPointers();if(1!==n.length)return;const o=n[0],i=(yield{recordPointers:[o]}).getRecordModel(o);if(!i)return;const l=i.getRootPagePointer();return i.isPageTreeCollection()&&l&&a().L3.isEqual(l,t)?i:void 0}}(e)}},700500:(e,t,r)=>{r.d(t,{$I:()=>_e,Af:()=>xe,B8:()=>Pe,BJ:()=>L,BN:()=>he,CN:()=>ge,D:()=>p,D2:()=>Ee,Db:()=>Me,EY:()=>k,Ef:()=>Te,Fb:()=>z,G8:()=>ve,Gz:()=>Ue,H_:()=>R,IA:()=>P,IU:()=>ie,Ib:()=>M,J8:()=>U,KK:()=>v,KT:()=>A,Lk:()=>oe,Mp:()=>ue,NC:()=>De,O3:()=>Ie,Q3:()=>fe,RG:()=>b,Si:()=>D,U6:()=>re,UL:()=>se,V4:()=>h,Wn:()=>V,XC:()=>F,Yt:()=>Ae,Z3:()=>ae,ZK:()=>u,ZL:()=>He,ZW:()=>Ne,aO:()=>pe,bF:()=>Be,bI:()=>de,bl:()=>S,dY:()=>we,ei:()=>Re,ev:()=>x,go:()=>I,hc:()=>E,i_:()=>Se,ie:()=>le,kt:()=>X,lL:()=>ce,ls:()=>K,mf:()=>Oe,nH:()=>m,oh:()=>Z,p7:()=>ye,pD:()=>me,pL:()=>d,sh:()=>s,tA:()=>ne,ti:()=>T,u0:()=>Ve,uP:()=>te,v_:()=>be,w8:()=>ee,wK:()=>J,wy:()=>Le,x_:()=>ke,xd:()=>f,y4:()=>O,z9:()=>Ce,zx:()=>B});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(433337),i=()=>r(277153),a=()=>r(179034);const s={toggleFormatHeaderBlock:"toggle_format_header_block",toggleFormatSubHeaderBlock:"toggle_format_sub_header_block",toggleFormatSubSubHeaderBlock:"toggle_format_sub_sub_header_block",toggleFormatHeader4Block:"toggle_format_header_4_block",column2Block:"column2_block",column3Block:"column3_block",column4Block:"column4_block",column5Block:"column5_block",mermaidCodeBlock:"mermaid_code_block",aiFreePromptBlock:"ai_free_prompt_block"};s.aiFreePromptBlock;const l={header:"toggle_format_header_block",sub_header:"toggle_format_sub_header_block",sub_sub_header:"toggle_format_sub_sub_header_block",header_4:"toggle_format_header_4_block"};l.header;const c={toggle_format_header_block:"header",toggle_format_sub_header_block:"sub_header",toggle_format_sub_sub_header_block:"sub_sub_header",toggle_format_header_4_block:"header_4",column2_block:"column_list",column3_block:"column_list",column4_block:"column_list",column5_block:"column_list",mermaid_code_block:"code",ai_free_prompt_block:"ai_block"};function d(e){return Object.values(s).includes(e)}function u(e){return e.startsWith("column")&&e.endsWith("block")}function p(e){return e.startsWith("toggle_format_")}function m(e){return e.startsWith("ai_")&&e.endsWith("_block")}c.mermaid_code_block;const f={image:"image",video:"video",bookmark:"bookmark",file:"file",page:"page",linkToPage:"link_to_page",personalHomePage:"personal_home_page",homeShortcuts:"home_shortcuts",linkToCollection:"link_to_collection",text:"text",header:"header",subHeader:"sub_header",subSubHeader:"sub_sub_header",header4:"header_4",toDo:"to_do",bulletedList:"bulleted_list",numberedList:"numbered_list",toggle:"toggle",code:"code",factory:"factory",button:"button",divider:"divider",columnList:"column_list",column:"column",temporaryUi:"temporary_ui",editReference:"edit_reference",copyIndicator:"copy_indicator",breadcrumb:"breadcrumb",equation:"equation",quote:"quote",collectionView:"collection_view",collectionViewPage:"collection_view_page",form:"form",embed:"embed",framer:"framer",tweet:"tweet",gist:"gist",drive:"drive",figma:"figma",loom:"loom",typeform:"typeform",codepen:"codepen",audio:"audio",maps:"maps",invision:"invision",pdf:"pdf",callout:"callout",tableOfContents:"table_of_contents",whimsical:"whimsical",miro:"miro",abstract:"abstract",sketch:"sketch",excalidraw:"excalidraw",alias:"alias",transclusionContainer:"transclusion_container",transclusionReference:"transclusion_reference",replit:"replit",externalObjectInstance:"external_object_instance",table:"table",tableRow:"table_row",tab:"tab",hex:"hex",deepnote:"deepnote",mixpanel:"mixpanel",externalObjectInstancePage:"external_object_instance_page",aiBlock:"ai_block",drawing:"drawing",slide:"slide",post:"post",workflow:"workflow",transcription:"transcription",mail:"mail"},_={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,page:!0,column:!0,column_list:!0,factory:!0,transclusion_container:!0,callout:!0,quote:!0,table:!0,tab:!0,ai_block:!0,slide:!0,post:!0,table_row:!0,transcription:!0,mail:!0},y={header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0},g={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,column:!0,transclusion_container:!0,callout:!0,quote:!0,post:!0,ai_block:!0},b={callout:!0},v={callout:!0,quote:!0},h={transclusion_container:!0,transclusion_reference:!0,collection_view:!0,column_list:!0,column:!0,table:!0,factory:!0,ai_block:!0,button:!0,slide:!0,callout:!0,transcription:!0,mail:!0},A={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0},I={to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0},S={header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,callout:!0},k={text:!0,page:!0,collection_view_page:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,callout:!0,transclusion_container:!0,transclusion_reference:!0,alias:!0,transcription:!0},T={text:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0},x={header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,quote:!0,callout:!0},M={image:!0,video:!0,embed:!0,tweet:!0,drive:!0,gist:!0,invision:!0,framer:!0,audio:!0,maps:!0,figma:!0,loom:!0,typeform:!0,codepen:!0,pdf:!0,whimsical:!0,miro:!0,abstract:!0,sketch:!0,excalidraw:!0,replit:!0,hex:!0,deepnote:!0,mixpanel:!0,drawing:!0},w={...M,file:!0},C={image:!0,video:!0,embed:!0,drive:!0,gist:!0,invision:!0,framer:!0,maps:!0,figma:!0,loom:!0,typeform:!0,codepen:!0,pdf:!0,whimsical:!0,miro:!0,abstract:!0,sketch:!0,excalidraw:!0,replit:!0,hex:!0,deepnote:!0,mixpanel:!0},N={image:!0,pdf:!0},P={...M,bookmark:!0,file:!0,code:!0},U={transclusion_container:!0,transclusion_reference:!0},D={text:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,page:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,code:!0,quote:!0,callout:!0,equation:!0,transclusion_container:!0,column_list:!0,slide:!0},B=["text","header","sub_header","sub_sub_header","to_do","bulleted_list","numbered_list","toggle","code","page"],O={image:!0,video:!0,tweet:!0,drive:!0,maps:!0,gist:!0,audio:!0,file:!0,collection_view:!0,pdf:!0,table:!0},R={column_list:!0,collection_view:!0,external_object_instance:!0,...M},E={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,page:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,bookmark:!0,file:!0,collection_view_page:!0,callout:!0,table_of_contents:!0,button:!0},F={callout:!0,button:!0,page:!0,collection_view_page:!0,external_object_instance_page:!0},L={page:!0,collection_view:!0,collection_view_page:!0,external_object_instance_page:!0,form:!0,personal_home_page:!0,post:!0,workflow:!0},V={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0},H={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0,collection_view:!0,collection_view_page:!0,transclusion_container:!0,transclusion_reference:!0},j={collection_view:!0},q={text:!0,page:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,factory:!0,code:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,callout:!0,external_object_instance_page:!0,ai_block:!0,file:!0},$={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,factory:!0,code:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,callout:!0},G={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,callout:!0,code:!0};function z(e){return!!(0,n().O)(G,e)&&G[e]}const W={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,callout:!0};function K(e){return!!(0,n().O)(W,e)&&W[e]}const Q={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0};function Z(e){return!!(0,n().O)(Q,e)&&Q[e]}const J={header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0},X={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,callout:!0},Y={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,callout:!0,slide:!0},ee={collection_view:!0,collection_view_page:!0};const te={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0},re={page:!0,callout:!0,column:!0,factory:!0,button:!0,transclusion_container:!0,transclusion_reference:!0,tab:!0,slide:!0},ne={...J,toggle:!0,numbered_list:!0,bulleted_list:!0,text:!0,to_do:!0},oe={toggle:!0,numbered_list:!0,bulleted_list:!0,text:!0,to_do:!0,page:!0,external_object_instance_page:!0,collection_view_page:!0,...J};function ie(e,t){return be(e,t)||xe(e,t)||!!(0,n().O)(_,e)&&_[e]}function ae(e,t){return be(e,t)||!!(0,n().O)(g,e)&&g[e]}function se(e){return!!(0,n().O)(M,e)&&M[e]}function le(e){return!!(0,n().O)(w,e)&&w[e]}function ce(e){return!!(0,n().O)(C,e)&&C[e]}function de(e){return!!(0,n().O)(N,e)&&N[e]}function ue(e){return!!(0,n().O)(U,e)&&U[e]}function pe(e){return!!(0,n().O)(D,e)&&D[e]}function me(e,t){const r=!!(0,n().O)(H,e)&&H[e],o=xe(e,t),s=Boolean(t&&t.alias_pointer&&(0,i().Yt)(t.alias_pointer,a().ev));return r&&!o||s}function fe(e){return!!(0,n().O)(j,e)&&j[e]}function _e(e){return!!(0,n().O)(L,e)&&L[e]}function ye(e){switch(e){case f.page:case f.collectionView:case f.collectionViewPage:case f.form:case f.button:return!0;default:return!1}}function ge(e){return!!(0,n().O)(y,e)&&y[e]}function be(e,t){return ge(e)&&(null==t?void 0:t.toggleable)}function ve(e,t){return ge(e)&&!(null!=t&&t.toggleable)}function he(e,t){return"toggle"===e||be(e,t)}function Ae(e,t){return Boolean("toggle"===e||d(e)&&(null==t?void 0:t.toggleable))}function Ie(e){return Boolean(l[e])}function Se(e){return c[e]}function ke(e){return l[e]}function Te(e){return!!(0,n().O)(ee,e)&&ee[e]}function xe(e,t){return Te(e)&&(null==t?void 0:t.app_config_uri)===o().pO}function Me(e,t){return void 0!==e&&((e!==f.callout||2!==(null==t?void 0:t.callout_version))&&!!(0,n().O)(q,e))}function we(e,t){return!!Me(e,t)&&!!(0,n().O)($,e)}function Ce(e){return!!(0,n().O)(P,e)&&P[e]}function Ne(e){return!!(0,n().O)(Y,e)&&Y[e]}function Pe(e){return!!(0,n().O)(A,e)&&A[e]}const Ue={page:!0,collection_view_page:!0,external_object_instance_page:!0};function De(e){return!!(0,n().O)(Ue,e)&&Ue[e]}const Be={asanaImport:"asana_import",confluenceApiImport:"confluence_api_import",googleDocsImport:"google_docs_import",dropboxPaperImport:"dropbox_paper_import",evernoteImport:"evernote_import",mondayImport:"monday_import",quipImport:"quip_import",trelloImport:"trello_import",workflowyImport:"workflowy_import",wordImport:"word_import",csvImport:"csv_import",markdownImport:"markdown_import",htmlImport:"html_import",genericImport:"generic_import",pdfImport:"pdf_import"},Oe=new Set(["table_add_parent_item_bottom","table_add_parent_item_top","table_add_item_bottom","list_view_add_item_bottom","list_view_add_parent_item_bottom","timeline_add_item_bottom","timeline_add_parent_item_bottom","timeline_add_subitem_bottom","gallery_view_add_item_bottom","board_group_add_item_bottom","board_group_add_item_top","cvb_add_item","cvb_new_subitem","collection_view_empty_state","meetings_tab_new_meeting","lifecycle_nudge"]),Re={text:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,bulleted_list:!0,numbered_list:!0,table:!1,table_row:!1,page:!1,personal_home_page:!1,home_shortcuts:!1,toggle:!1,quote:!1,factory:!1,button:!1,column_list:!1,column:!1,embed:!1,framer:!1,tweet:!1,gist:!1,drive:!1,audio:!1,maps:!1,invision:!1,mixpanel:!1,image:!1,video:!1,file:!1,bookmark:!1,equation:!1,code:!1,collection_view:!1,collection_view_page:!1,temporary_ui:!1,edit_reference:!1,form:!1,breadcrumb:!1,copy_indicator:!1,divider:!1,link_to_page:!1,link_to_collection:!1,figma:!1,loom:!1,typeform:!1,codepen:!1,pdf:!1,callout:!1,table_of_contents:!1,whimsical:!1,miro:!1,abstract:!1,sketch:!1,excalidraw:!1,replit:!1,alias:!1,transclusion_container:!1,transclusion_reference:!1,external_object_instance:!1,tab:!1,external_object_instance_page:!1,hex:!1,deepnote:!1,ai_block:!1,drawing:!1,slide:!1,post:!1,workflow:!1,transcription:!1,mail:!1},Ee={...Re,tab:!0,quote:!0,table:!0,table_row:!0,column_list:!0,column:!0,code:!0,toggle:!0,callout:!0,transclusion_container:!0,transclusion_reference:!0},Fe={collection_view_page:!0,collection_view:!0,transclusion_container:!0,slide:!0};function Le(e,t){return!!e&&(e===f.callout&&2===(null==t?void 0:t.callout_version)||!!(0,n().O)(Fe,e)&&Fe[e])}const Ve={header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0},He={header:!0,sub_header:!0,sub_sub_header:!0,header_4:!0,text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,transclusion_container:!0,transclusion_reference:!0,page:!0,collection_view_page:!0,alias:!0,column_list:!0,collection_view:!0,file:!0,divider:!0,button:!0}},701218:(e,t,r)=>{r.d(t,{Ux:()=>o,hA:()=>s,mZ:()=>i,vH:()=>n,vO:()=>l});const n=1;function o(e){return void 0!==(null==e?void 0:e.crdt_format_version)&&e.crdt_format_version>=n}const i=!0,a=Symbol("crdtAware");function s(e,t="production"){return"test"===t?e:Object.defineProperty(Array.isArray(e)?[...e]:{...e},a,{value:!0,enumerable:!1,configurable:!1,writable:!1})}function l(e){return a in e&&!0===e[a]}},702826:(e,t,r)=>{r.d(t,{l:()=>o});var n=()=>r(183558);function o(e,t,r){const o=(0,n().Ay)(),i={id:o,type:"placeholder",parentModuleId:t,parentConditionalGroupId:r};return{operation:{pointer:e,command:"update",path:["modules","form_conditional_modules"],args:{[i.id]:i}},placeholderModuleId:o}}},706665:(e,t,r)=>{r.d(t,{Dm:()=>d,H9:()=>p,Q9:()=>A,S5:()=>_,UW:()=>m,V7:()=>v,ZG:()=>S,lT:()=>T,mK:()=>y,wJ:()=>k,xR:()=>g,xT:()=>f,xU:()=>h,z5:()=>u});r(16280),r(18107),r(944114),r(967357),r(898992),r(354520),r(672577),r(803949),r(581454);var n=()=>r(496603),o=()=>r(797809),i=()=>r(387358);class a extends Error{constructor(e,t,r){super(`DuplicatePropertyInGroupError: ${`${e} -- ${`propertyId: ${t} duplicated in group with id ${r.id}`}`}`)}}class s extends Error{constructor(e,t){super(`MissingPropertyGroupId: ${`${e} -- ${`property groups does not contain a group with id ${t}`}`}`)}}class l extends Error{constructor(e,t){super(`MissingPropertyGroupAtIndex: ${`${e} -- ${`property groups does not contain a group at index ${t}`}`}`)}}Error;Error;class c extends Error{constructor(e,t,r){super(`MissingPropertyIdInGroup: ${`${e} -- ${`property with id ${t} is not in group with id ${r}`}`}`)}}function d({propertyGroups:e,schema:t}){var r;if(!e)return;if(0===e.length)return;const i=(0,n().fN)(t,((e,t)=>!(0,o().TV)(t))),a=e.map((e=>e.propertyIds?{...e,propertyIds:e.propertyIds.filter((e=>Boolean(i[e])))}:e)),s=(0,n().LG)(i,(()=>!1));a.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>s[e]=!0))}));const c=Object.keys((0,n().fN)(s,(e=>!e))).sort();if(!c)return a;const d=null===(r=a.at(-1))||void 0===r?void 0:r.id;if(!d)throw new l("cannot add missing properties from schema to last property group",a.length-1);return g({propertyGroups:a,groupId:d,propertyIds:c})}function u({propertyGroups:e,groupId:t}){return e.find((e=>e.id===t))}function p({propertyGroups:e,groupId:t,errorMessageIfMissing:r}){const n=u({propertyGroups:e,groupId:t});if(!n)throw new s(r,t);return n}function m(e){return e.map((e=>{var t;return{...e,propertyIds:null===(t=e.propertyIds)||void 0===t?void 0:t.filter((e=>!(0,i().k9)(e)))}}))}function f({propertyGroup:e,propertyId:t}){return!!e.propertyIds&&e.propertyIds.includes(t)}function _({propertyGroups:e,groupId:t,newValue:r}){const n=e.findIndex((e=>e.id===t)),o=e[n];if(-1===n)throw new s("cannot set value for property group",t);const i={...o,...r},a=[...e];return a[n]=i,a}function y({propertyGroups:e,groupId:t,propertyIds:r,belowPropertyId:n}){const o=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),{id:i,...s}=function({propertyGroup:e,propertyIds:t,belowPropertyId:r}){if(0===t.length)return{...e};if(!e.propertyIds)return{...e,propertyIds:[...t]};for(const i of t)if(f({propertyGroup:e,propertyId:i}))throw new a("cannot add property",i,e);const n=e.propertyIds.findIndex((e=>e===r)),o=[...e.propertyIds];return-1!==n?o.splice(n+1,0,...t):o.push(...t),{...e,propertyIds:o}}({propertyGroup:o,propertyIds:r,belowPropertyId:n});return _({propertyGroups:e,groupId:o.id,newValue:s})}function g({propertyGroups:e,groupId:t,propertyIds:r}){const n=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),{id:o,...i}=function({propertyGroup:e,propertyIds:t}){return 0===t.length?{...e}:e.propertyIds?(t.forEach((t=>{if(f({propertyGroup:e,propertyId:t}))throw new a("cannot add property",t,e)})),{...e,propertyIds:[...e.propertyIds,...t]}):{...e,propertyIds:[...t]}}({propertyGroup:n,propertyIds:r});return _({propertyGroups:e,groupId:n.id,newValue:i})}function b({propertyGroups:e,groupId:t,propertyIds:r}){const n=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),{id:o,...i}=function({propertyGroup:e,propertyIds:t}){return 0===t.length?{...e}:e.propertyIds?(t.forEach((t=>{if(f({propertyGroup:e,propertyId:t}))throw new a("cannot add property",t,e)})),{...e,propertyIds:[...t,...e.propertyIds]}):{...e,propertyIds:[...t]}}({propertyGroup:n,propertyIds:r});return _({propertyGroups:e,groupId:n.id,newValue:i})}function v({propertyGroups:e,propertyId:t}){return e.map((e=>function({propertyGroup:e,propertyId:t}){if(!e.propertyIds)return{...e};const r=e.propertyIds.filter((e=>e!==t));return{...e,propertyIds:r}}({propertyGroup:e,propertyId:t})))}function h({propertyGroup:e,newPartialProperties:t}){const r=e.propertyIds;if(!r)return{...e};const n={};r.forEach((e=>n[e]=!0)),t.forEach((t=>{if(!n[t])throw new c("cannot update property order",t,e.id)}));const o={};t.forEach((e=>{o[e]=!0}));const i=r.filter((e=>!o[e])),a=[...t,...i];return{...e,propertyIds:a}}function A({propertyGroups:e,groupId:t}){const r=u({propertyGroups:e,groupId:t});if(!r)return[...e];if(1===e.length)return;if(null==r||!r.propertyIds||0===r.propertyIds.length)return I({propertyGroups:e,groupId:t});const n=e.findIndex((e=>e.id===t));if(n<0)throw new s("Cannot determine index of property group to delete",t);if(0===n){const n=e.at(1);if(!n)throw new l("cannot find second group to add properties to",1);return I({propertyGroups:b({propertyGroups:e,groupId:n.id,propertyIds:r.propertyIds}),groupId:t})}const o=n-1,i=e.at(n-1);if(!i)throw new l("cannot find group above to to add properties to",o);return I({propertyGroups:g({propertyGroups:e,groupId:i.id,propertyIds:r.propertyIds}),groupId:t})}function I({propertyGroups:e,groupId:t}){return e.filter((e=>e.id!==t))}function S({propertyGroups:e,groupId:t}){const r=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),n=e.findIndex((e=>e.id===t));if(n<0)throw new s("Cannot determine index of property group to move",t);if(0===n)return[...e];const o=n-1,i=e.at(n-1);if(!i)throw new l("cannot find group above to to swap with",o);const a=[...e];return a[o]=r,a[n]=i,a}function k({propertyGroups:e,groupId:t}){const r=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),n=e.findIndex((e=>e.id===t));if(n<0)throw new s("Cannot determine index of property group to move",t);if(n===e.length-1)return[...e];const o=n+1,i=e.at(n+1);if(!i)throw new l("cannot find group below to to swap with",o);const a=[...e];return a[o]=r,a[n]=i,a}function T({propertyGroups:e,propertyId:t,destinationGroupId:r}){if(f({propertyGroup:p({propertyGroups:e,groupId:r,errorMessageIfMissing:"cannot move property to group"}),propertyId:t}))return e;return g({propertyGroups:v({propertyGroups:e,propertyId:t}),groupId:r,propertyIds:[t]})}},708685:(e,t,r)=>{r.r(t),r.d(t,{getFormulaPropertySchemaBaseResultType:()=>c,getFormulaPropertySchemaResultType:()=>l,getHumanReadableType:()=>u,getHumanReadableValueType:()=>p,isNumberFormulaPropertySchema:()=>m,removeFunctionsFromType:()=>s,wrapLegacyFormulaValue:()=>d});var n=()=>r(597777),o=()=>r(145076),i=()=>r(239381),a=()=>r(201980);function s(e){if("function"===e.type)return{type:"unknown"};if("array"===e.type){return{type:"array",of:s(e.of)}}return e}function l(e){var t,r;return e&&"formula"===e.type?"v2"===e.version?(null==e||null===(r=e.formula2)||void 0===r?void 0:r.result_type.type)??"unknown":(null===(t=e.formula)||void 0===t?void 0:t.result_type)??"unknown":"unknown"}function c(e){var t,r;return e&&"formula"===e.type?"v2"===e.version?null!=e&&null!==(r=e.formula2)&&void 0!==r&&r.result_type?(0,i().pg)(e.formula2.result_type).type??"unknown":"unknown":(null===(t=e.formula)||void 0===t?void 0:t.result_type)??"unknown":"unknown"}function d(e){return"string"==typeof e?{type:"text",value:(0,a().x9d)(e)}:"number"==typeof e?{type:"number",value:e}:"boolean"==typeof e?{type:"checkbox",value:e}:(0,n().kC)(e)?{type:"date",value:e}:{type:"undefined"}}function u(e){if("array"===e.type){const t=(0,i().JK)(e.of);return o().BJ[t.type]}return o().qY[e.type]}function p(e){if("array"===e.type){const t=(0,i().Dj)(e);return"undefined"===t.type?o().BJ.unknown:o().BJ[t.type]}return"undefined"===e.type?o().qY.unknown:o().qY[e.type]}function m(e){return"formula"===e.type&&Boolean("number"===l(e)||e.formula2&&"number"===(0,i().pg)(e.formula2.result_type).type)}},713998:(e,t,r)=>{r.d(t,{$E:()=>De,Ap:()=>de,BX:()=>ae,DY:()=>Qe,Dz:()=>ke,FE:()=>K,GH:()=>Xe,H6:()=>ve,HB:()=>Ve,Hz:()=>Ke,J4:()=>te,Jb:()=>tt,Jf:()=>Le,KF:()=>he,L3:()=>J,MC:()=>se,MO:()=>Ce,Mn:()=>Te,N8:()=>Be,O4:()=>Re,On:()=>Ue,QV:()=>j,RZ:()=>ie,U8:()=>Y,UY:()=>Pe,V5:()=>Ie,VF:()=>H,VI:()=>Oe,Vf:()=>ye,Vl:()=>Je,Xw:()=>$,_f:()=>qe,_g:()=>q,ah:()=>Ge,bG:()=>pe,bu:()=>Ze,dg:()=>He,di:()=>ge,eQ:()=>we,fF:()=>X,fc:()=>We,iU:()=>Ye,iY:()=>Fe,j2:()=>ne,jB:()=>_e,jw:()=>Ne,jy:()=>z,ki:()=>et,ks:()=>L,m5:()=>le,n:()=>ce,o2:()=>ee,o6:()=>E,pJ:()=>Me,pj:()=>me,rK:()=>re,rl:()=>xe,sP:()=>be,tH:()=>$e,up:()=>Ae,uv:()=>Se,w3:()=>Ee,wb:()=>oe,xr:()=>F,yH:()=>Z,yQ:()=>R,zP:()=>O});r(16280),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(763824),i=()=>r(534177),a=()=>r(59674),s=()=>r(687871),l=()=>r(700500),c=()=>r(423517),d=()=>r(335997),u=()=>r(581793),p=()=>r(363170),m=()=>r(443239),f=()=>r(898244),_=()=>r(254947),y=()=>r(715913),g=()=>r(315771),b=()=>r(617871),v=()=>r(522419),h=()=>r(236162),A=()=>r(681873),I=()=>r(804666),S=()=>r(997769),k=()=>r(792071),T=()=>r(72135),x=()=>r(277153),M=()=>r(179034),w=()=>r(519831),C=()=>r(798880),N=()=>r(797809),P=()=>r(201980),U=()=>r(285179),D=()=>r(506391),B=()=>r(931075);function O(e,t){const r=e.getCollectionPointerIfSingleSource(t);if(r){const e=t(r);return null==e?void 0:e.getName()}return R(e,"title",t)}function R(e,t,r){const n=k().Bj6.fromBlock(e),o=n.getProperty(t);if(o)return o;if(n.getType()===l().xd.externalObjectInstancePage&&(0,m().u)(t)||"title"===t){var a;const e=null===(a=n.getExternalObjectAttributes())||void 0===a?void 0:a.find((e=>"title"===t?e.id===t:e.id===t.slice(1)));if(e)return function(e,t,r,n){if(D().Ku(e)){if(function(e){var t;return"rich_text"===(null===(t=e.format)||void 0===t?void 0:t.type)}(e))return e.values;return e.values.flatMap((e=>{if("string"==typeof e)return P().x9d(e);if("number"==typeof e)return(0,d().h)(e);if("boolean"==typeof e)return(0,c().r)(e);if(D().nx(e))return[];if("date"===e.type||"datetime"===e.type||"datetimerange"===e.type)return le(e);throw new Error(`Expected attributeValue.type to never occur: " + ${JSON.stringify(e.type)}`)}))}if("embed"===e.type)return e.values.flatMap(Ne);if("relation"===e.type)return de(e.values.map((e=>{const r=null==t?void 0:t[e];if(r)return{table:M().ev,id:r,spaceId:n}})).filter(i().O9));if("person"===e.type)return(0,u().h)(e.values.map((e=>{const t=null==r?void 0:r[e];if(t)return{table:C().oo,id:t,spaceId:n}})).filter(i().O9));(0,i().HB)(e)}(e,n.getFormatValue("related_external_object_uris_to_instance_ids"),n.getFormatValue("related_external_object_uris_to_user_ids"),n.getSpaceId())}if(n.isType(l().xd.transcription)&&t===N().hx){const e=n.getFormat().transcription_calendar_event;if(null!=e&&e.attendeeIds){const t=e.attendeeIds.map((e=>({table:C().oo,id:e,spaceId:n.getSpaceId()})));return(0,u().h)(t)}return[]}}function E(e,t,r){if(!e||!r)return;const n=e.getProperty(t);if(!n)return;let o;if("person"===r.type){o=(0,p().e)({textValue:n,propertySchema:r,blockCreatorPointer:e.getCreatedByPointer()}).length}else if("multi_select"===r.type){o=ee(n,r.options??[]).length}else if("relation"===r.type){o=ce(n).length}else if("file"===r.type){o=Me(n).length}return o}function F(e,t,r){var n;const o=r[t];if(null==o||!o.derived_property_record_metadata||"external_object_instance_page_metadata"!==o.derived_property_record_metadata.type)return;const i=o.derived_property_record_metadata;if(!r[i.pointer_property_uri])return;return{eoipPointer:null===(n=ce(e.getProperty(i.pointer_property_uri)))||void 0===n?void 0:n[0],eoipMetadata:i}}function L(e,t,r){const n=V(e,t,r);if(n)return R(n.eoip,`${m().U}${n.externalObjectAttribute}`)}function V(e,t,r){if(!r)return;const n=e.getParentPointer();if(!n.id||!n.spaceId||n.table!==w().Vl)return;const o=r(n);if((null==o?void 0:o.table)!==w().Vl)return;const i=F(e,t,o.getSchema());if(!i)return;const{eoipPointer:a,eoipMetadata:s}=i;if(!a)return;const l=r(a);return l?{eoip:l,externalObjectAttribute:s.external_object_attribute}:void 0}function H(e,t,r){if(!e||!t)return!1;const n=V(e,t,r);return Boolean(n)}function j(e){const{textValue:t,blockModel:r,getRecordModel:n,propertySchema:o}=e,i=r.getParentPointer();if("auto_increment_id"===(null==o?void 0:o.type)&&"collection"===(null==i?void 0:i.table)&&null!=i&&i.spaceId){var a;return`${`${null===(a=n((0,y().a)({spaceId:i.spaceId,parentTable:"collection",parentId:i.id})))||void 0===a?void 0:a.record_key}-`}${t}`}return t}function q(e){const{schema:t,property:r}=e;return t[r]||t[`${m().U}${r}`]}function $(e){var t;return Boolean(e.properties||(null===(t=e.format)||void 0===t?void 0:t.attributes))}const G=new WeakMap;function z(e,t){const r=function(e){if(!e.length)return;let t=G.get(e);if(void 0===t){t=new Map;for(const r of e){const e=(0,P().xV3)(r.value).trim().toLowerCase();t.set(e,r)}G.set(e,t)}return t}(e);return null==r?void 0:r.get((0,P().xV3)(t).trim().toLowerCase())}function W(e,t){var r;return null===(r=z(e,t))||void 0===r?void 0:r.value}function K(e,t){var r;return null===(r=z(e,t))||void 0===r?void 0:r.color}const Q=new WeakMap;function Z(e){if(void 0===e)return[];const t=Q.get(e);if(void 0!==t)return t;const r=P().k4p(e).split(",").map((e=>e.trim())).filter(Boolean);return Q.set(e,r),r}function J(e,t){const r=Z(e);for(const n of r){const e=W(t,n);if(e)return e}}function X(e,t){const r=Z(e);for(const n of r){const e=z(t,n);if(e)return e}}function Y(e){return e?[[e]]:[]}function ee(e,t){const r=Z(e).map((e=>{const r=W(t,e);if(r)return r}));return n().sb(n().oE(r))}function te(e,t){const r=Z(e).map((e=>z(t,e)));return n().sb(n().oE(r))}function re(e){if(!e)return[];return[[e.join(",")]]}function ne(e){if(!e)return[];const[t,r,n]=(0,B().Yh)(e);let o;o=t.table===C().oo?P().wmz(P().P4h(t.id)):P().wmz(P().Vb6(t.id));const a=le(r)[0];switch(n){case"verified":return[o,P().Ey_(","),a];case"archived":{const e=P().Ey_(n);return[o,P().Ey_(","),a,e]}default:(0,i().HB)(n)}}const oe=Y;function ie(e,t){return ae(e,t)??t.defaultOption}function ae(e,t){return J(e,t.options??[])}function se(e,t,r){var n,o,i,a;const s=ie(e,t),l=t.groups??[],c=(t.options??[]).find((e=>e.value===s)),d=c&&l.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(c.id)})),u=r.formatMessage(_().oz.statusGroupNameComplete),p=r.formatMessage(_().oz.statusGroupNameInProgress);return(null==d||null===(n=d.name)||void 0===n?void 0:n.toLowerCase())===u.toLowerCase()||(null==d||null===(o=d.name)||void 0===o?void 0:o.toLowerCase())===_().P0.toLowerCase()||((null==d||null===(i=d.name)||void 0===i?void 0:i.toLowerCase())===p.toLowerCase()||(null==d||null===(a=d.name)||void 0===a?void 0:a.toLowerCase())===_().jc.toLowerCase())&&"partial"}function le(e){return e?[P().wmz(P().Ww9(e))]:[]}function ce(e){const t=P().moK(e);return x().L3.uniq(t)}function de(e){const t=e.map((e=>P().wmz(P().ld4(e.id,e.spaceId))));return(0,A().G)(t,(()=>P().Ey_(",")))}function ue(e){return!!e.getAlive()&&!e.isTemplate()}function pe(e){const{relationValue:t,propertySchema:r,getRecordModel:n}=e,o=r.limit,i=[];for(const s of t){var a;if(o&&i.length>=o)break;const t=n(s);if(!t){e.includeNoAccess&&i.push(s);continue}if(!ue(t))continue;const l=(0,h().SH)({getRecordModel:n,block:t});if(l&&!l.getAlive())continue;((null==l?void 0:l.id)??(null===(a=(0,h().yR)({getRecordModel:n,block:t}))||void 0===a?void 0:a.id))===(0,f().zO)(r)&&i.push(s)}return i}function me({relationValue:e,getRecordModel:t,originAction:r}){const n=[];for(const o of e){if("paste"===r){n.push(o);continue}const e=t(o);e&&e.getAlive()&&n.push(o)}return n}function fe(e){return!!(0,i().O9)(e)&&!!ue(e)}async function _e(e){const{collectionId:t,relationValue:r,relationLimit:i,loadRecordModel:a}=e,s=[],l=i?10:100;for(const c of n().iv(r,l)){if(i&&s.length>=i)break;const e=(await a(c)).getModels(c);let r=[];if(await(0,o().lX)(e,100,(async e=>{if(!fe(e))return;const n=await(0,h().wC)({loadRecordModel:a,block:e});n&&!n.getAlive()||n&&n.id!==t||r.push(e)})),i){const e=i-s.length;r=r.slice(0,e)}s.push(...r)}return s}function ye(e,t,r){let n=[...e];const o=e.findIndex((e=>e.property===t));return n=e[o]?[...e.slice(0,o),{property:t,visible:r},...e.slice(o+1)]:[...e,{property:t,visible:r}],n}function ge(e){return ke(e)===b().ob}function be(e){return ke(e)===b().io}function ve(e){return ke(e)===b().Hd}function he(e){return ke(e)===b().e1}function Ae(e){return ke(e)===b().k0}function Ie(e){return ke(e)===b().mn}function Se(e){return ke(e)===b().zG}function ke(e){if(e&&"relation"===e.type&&e.connectedRelation)return e.connectedRelation.integration_id}function Te(e){return e===b().mn}function xe(e,t){return!!(0,f().bT)(e)&&function(e,t){return!!e.relation_property&&Ie(t[e.relation_property])}(e,t)}function Me(e){const t=P().CY8(e),r=n().hS(t,(e=>e.url));if(r.length>0)return r;const o=P().k4p(e);var i;if((0,v().Nh)(o))return[{name:(null===(i=(0,v()._2)(o))||void 0===i?void 0:i.fileName)??o,url:o}];if(o){const e=P().ctx(o);if(e)return[{name:e.value,url:e.href}]}return[]}function we(e){const t=e.map((e=>P().Ey_(e.name,[P().Sez(e.url)])));return(0,A().G)(t,(()=>P().Ey_(",")))}function Ce(e){const t=P().CY8(e);if(t.length>0)return t[0].url;return P().k4p(e)}function Ne(e){if(null==e)return[];const t=Pe("url",[[e]]);return[P().Ey_(e,[P().Sez(t||e)])]}function Pe(e,t){if("url"===e){const e=Ce(t);if(e){const t=S().I6(e);if(t&&t[0]&&t[0].href)return t[0].href}}else if("phone_number"===e){const e=Ce(t);if(e){const t=e.trim().replace(/\s/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\-/g,"").replace(/\./g,"");return t.includes("tel:")?t:`tel:${t}`}}else if("email"===e){const e=Ce(t);return e&&!e.includes("mailto:")?`mailto:${e}`:e}}function Ue(e){const t=P().k4p(e);return T().$J(t)}function De(e){return void 0===e||isNaN(e)?[]:[[e.toString()]]}function Be(e){const t=k().Bj6.fromBlock(e.block);if("page"===t.getType()&&t.getParentTable()===w().Vl)return t.getParentPointer()}function Oe(e){const{block:t,getRecordModel:r}=e,n=Be({block:t});return n&&r(n)}function Re(e){const{block:t,propertyId:r,propertySchema:n,getRecordModel:o}=e,a=R(t,r);if(void 0===a)return{aliveRelatedPointers:[],normalizedRelatedPages:[]};const s=ce(a),l=s.filter((e=>{const t=o(e);return!t||ue(t)}));return{aliveRelatedPointers:l,normalizedRelatedPages:pe({relationValue:s,getRecordModel:o,propertySchema:n,includeNoAccess:!0}).map((e=>o(e))).filter(i().O9)}}function Ee({before:e,after:t}){if(!(e&&t&&(0,f().DQ)(e)&&(0,f().DQ)(t)))return;const r=e.options??[],o=t.options??[],i=n().pY(r,"id"),a=n().pY(o,"id"),s=[],l=[],c=[];for(const n of r){const e=a[n.id];e?e.value!==n.value&&c.push({before:n,after:e}):l.push(n)}for(const n of o)i[n.id]||s.push(n);return{newOptions:s,removedOptions:l,modifiedOptions:c}}function Fe({isAuthed:e,isSpaceAdmin:t,isPropertyAdminAuthOnly:r,isMobile:n}){return!e&&!t&&r&&!n}function Le(e){const{property:t,propertySchema:r,isTypedProperty:n,schema:o}=e,i=(0,f().UU)(r),a=xe(r,o);return"title"===r.type||"verification"===r.type||t===B()._e.Owner||t===s().Z.Owner&&"person"===r.type||"auto_increment_id"===r.type||n||i||a}function Ve(e){switch(e.type){case"status":case"number":case"select":case"multi_select":case"date":case"created_time":case"last_edited_time":case"person":case"url":case"formula":case"button":case"rollup":case"auto_increment_id":case"title":return!0;case"relation":return!ke(e)||ge(e)||Ie(e);case"text":return Boolean((0,f().om)(e));default:return!1}}function He(e){return[...P().moK(e),...P().jEb({value:e,convertGroupPointersToBeComposite:!0})]}const je=[a().y.MeetingNoteToCalendarEventRelation,a().y.Attendees,a().y.MeetingTime];function qe(e,t){return!!e&&je.some((r=>{var n;return(null===(n=e.getPropertyMapping())||void 0===n?void 0:n[r])===t}))}function $e(e){const{beforeValue:t,afterValue:r,propertySchema:n,getRecordModel:o,getBlockTitle:i}=e,a=ce(t),s=ce(r),l=(0,g().H)(a,s,(e=>`${e.id}${e.table}`)),c=new Set(pe({relationValue:l.created,getRecordModel:o,propertySchema:n,includeNoAccess:!0})),d=new Set(pe({relationValue:l.deleted,getRecordModel:o,propertySchema:n,includeNoAccess:!0})),u=[...c,...d];return u.flatMap(((e,t)=>{const r=i({table:M().ev,id:e.id})||[],n=[],o=P().RQ(r);for(const i of o)if(P().bHQ(i)){const t=c.has(e)?"+":"-",r=[i[0],[[t]]];n.push(r)}else n.push(i);return t<u.length-1&&n.push(P().Ey_("\n")),n}))}function Ge(e,t){return!!e&&(!e.hide_in_property_list&&(("location"!==e.type||"myMeetings"!==(null==t?void 0:t.type)&&!(0,I().a0)(null==t?void 0:t.type))&&"button"!==e.type))}const ze=new Set(["title","text","person","checkbox","select","multi_select","status","number","date","created_by","created_time","last_edited_by","last_edited_time","place","relation","rollup","formula"]);function We({propertySchema:e}){return!!e&&(!e.hide_in_property_list&&ze.has(e.type))}function Ke(e){var t;if(!e)return!1;const r="button"===(null==e?void 0:e.type),n=("text"===(null==e?void 0:e.type)&&(null===(t=e.ai_inference)||void 0===t?void 0:t.auto_update_on_edit))??!1;return!(r||n||(0,f().sl)(e))}function Qe(e){return!!e&&("text"===e||"title"===e||"url"===e||"email"===e||"phone_number"===e)}function Ze(e){return"relation"===e.type||"person"===e.type}function Je(e,t){return(e??[]).filter((e=>e in t))}function Xe(e){if(void 0===e)return;const t=ce(e);return 1===t.length?t[0]:void 0}function Ye(e,t,r){const n=e.getSharingEnabledRelationProperty();if(!n)return;const o=Xe(R(t,n.propertyId));return void 0!==o?(r&&r.set(t.pointer,o),o):void 0}function et(e){const t=new Set,r=new Set;return e.forEach((e=>{const n="string"==typeof e?e:e.value;t.has(n.toLowerCase())||(t.add(n.toLowerCase()),r.add(e))})),Array.from(r)}function tt(e,t){const r=JSON.stringify(e).length;return r>1e3*U().hQ||void 0!==t&&t>0&&r>t}},715913:(e,t,r)=>{r.d(t,{a:()=>o});var n=()=>r(526147);function o(e){const{spaceId:t}=e;return{table:"record_key",id:(0,n().F3)(e),spaceId:t}}},716016:(e,t,r)=>{r.d(t,{H4:()=>s,N_:()=>c,V_:()=>d,f_:()=>l,yP:()=>u});r(898992),r(354520),r(581454);var n=()=>r(806080),o=()=>r(898244),i=()=>r(792071),a=()=>r(415292);function s(e,t){return!(0,n().Et)(t)||isNaN(t)?"":e?`${e}-${t}`:`${t}`}function l(e){const{spaceId:t}=e;return{table:"record_counter",id:(0,a().gD)(e),spaceId:t}}function c(e){return d(e).length>0}function d(e){const t=i().Bj6.fromCollection(e);return[...u((0,o().Dp)(e)),...u((0,o().ao)(t))]}function u(e){return Object.entries(e).filter((([e,t])=>t&&"auto_increment_id"===t.type)).map((([e])=>e))}},721726:(e,t,r)=>{r.d(t,{W:()=>o});var n=()=>r(450648);function o(e){const{propertyValue:t,getRecordModel:r,filterValueParseContext:o}=e,{userTimeZone:i,intl:a}=o;return{type:"text",value:(0,n().r4)({textValue:t,getRecordModel:r,userTimeZone:i,intl:a}).trim()}}},721776:(e,t,r)=>{r.d(t,{A:()=>i,_:()=>o});var n=()=>r(292588);const o="confluence_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,site:n().A.String,email:n().A.String,access_token:n().A.String,instance:n().A.String,authentication_type:n().A.String,user_id:n().A.UUID,space_id:n().A.UUID}}},728272:(e,t,r)=>{r.d(t,{d:()=>n});r(898992),r(354520),r(581454);class n{constructor(e){if(this.internalState=void 0,this.internalState=new(r(400017).A)(r(452540).jV),e)for(const t of e)this.add(t)}size(){return this.internalState.size}add(e){this.internalState.add(e)}addAll(e){for(const t of e)this.internalState.add(t);return this}delete(e){this.internalState.delete(e)}has(e){return this.internalState.has(e)}union(e){return new n([...this,...e])}difference(e){return new n([...this].filter((t=>!e.has(t))))}*[Symbol.iterator](){for(const e of this.internalState)yield e}toJSON(){return[...this].map((({table:e,id:t,spaceId:r})=>[e,t,...r?[r]:[]].join(":")))}}},728396:(e,t,r)=>{r.d(t,{A8:()=>s,Hc:()=>o,Jc:()=>l,NS:()=>a,U2:()=>i});var n=()=>r(190674);function o(e){switch(e){case"page_in_collection":default:return!1;case"form":return!0}}function i(e){return"page_in_collection"===e}function a(e){const t=e.form_layout_schema;return t&&t.length>0?"form":"page_in_collection"}function s(e){return!!e&&("page_in_collection"===a(e)&&(0,n().El)(e))}function l(e){return!!e&&("page_in_collection"===a(e)&&(0,n().zg)(e))}},736062:(e,t,r)=>{r.d(t,{Ay:()=>i,Kc:()=>o});var n=()=>r(292588);const o="marketplace_creator_balance_transaction",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,external_id:n().A.String,seller_id:n().A.UUID,seller_account_id:n().A.String,payout_id:n().A.UUID,acquisition_id:n().A.UUID,amount:n().A.Number,currency:n().A.String,exchange_rate:n().A.Number,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,external_id:!0,seller_id:!0,seller_account_id:!0,acquisition_id:!0,amount:!0,currency:!0,exchange_rate:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!1})}},737693:(e,t,r)=>{r.d(t,{V:()=>i});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"1.9 3.24 16.21 14.18",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M6.625 6.625a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M5.95 9.55a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m.675 1.575a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M9.1 7.3a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m.675 1.575a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0M9.1 11.8a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35m6.413.225a.675.675 0 1 1-1.35 0 .675.675 0 0 1 1.35 0m-.675 2.925a.675.675 0 1 0 0-1.35.675.675 0 0 0 0 1.35"}),(0,n.jsx)("path",{d:"M1.9 5.725A2.475 2.475 0 0 1 4.375 3.25h6.3a2.475 2.475 0 0 1 2.475 2.475v3.15h2.475A2.475 2.475 0 0 1 18.1 11.35v5.4a.675.675 0 0 1-.675.675H2.575a.675.675 0 0 1-.675-.675zM4.375 4.6c-.621 0-1.125.504-1.125 1.125v10.35h1.913V13.6c0-.31.251-.562.562-.562h3.6c.31 0 .563.251.563.562v2.475H11.8V5.725c0-.621-.504-1.125-1.125-1.125zm4.388 11.475v-1.912H6.288v1.912zm4.387-5.85v5.85h3.6V11.35c0-.621-.504-1.125-1.125-1.125z"})]})},i=(0,r(340498).wt)("teamspace",o,"default")},738182:(e,t,r)=>{r.d(t,{v:()=>n});const n={serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)}},741037:(e,t,r)=>{r.d(t,{Ay:()=>a,dP:()=>o,wU:()=>i});var n=()=>r(292588);const o="legal_hold_export",i=30*r(615234).nD,a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,legal_hold_id:n().A.UUID,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,status:n().A.String,s3_url:n().A.String,metadata:n().A.JSON,space_ids:n().A.StringArray},requiredColumns:{id:!0,version:!0,legal_hold_id:!0,created_time:!0,created_by_id:!0,created_by_table:!0,status:!0,space_ids:!0}}},743246:(e,t,r)=>{r.d(t,{Ay:()=>s,C0:()=>o,V8:()=>a});var n=()=>r(292588);const o="workflow",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_by_table:n().A.String,created_by_id:n().A.UUID,created_time:n().A.Number,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID,last_edited_time:n().A.Number,alive:n().A.Boolean,permissions:n().A.JSON,moved_to_trash_table:n().A.String,moved_to_trash_id:n().A.UUID,moved_to_trash_time:n().A.Number,deleted_from_trash_time:n().A.Number,deleted_from_trash_table:n().A.String,deleted_from_trash_id:n().A.UUID},requiredColumns:{version:!0,alive:!0,parent_id:!0,parent_table:!0,space_id:!0},defaultColumnValues:{created_by_table:"notion_user",alive:!0,permissions:[]},model:(0,r(152853).P)({RecordStore:!0})},a={block:!0,space:!0},s=i},748580:(e,t,r)=>{r.d(t,{d2:()=>P,bv:()=>w,IS:()=>b,tI:()=>h,ry:()=>g,po:()=>A,hz:()=>S});r(898992),r(354520),r(672577),r(581454);var n=()=>r(534177);var o=()=>r(559653),i=()=>r(604995);function a(e){if(!e.timestamp)return{type:"date",value:void 0};return{type:"date",value:i().KQ(e.timestamp,e.userTimeZone)}}function s(e){const{propertyValue:t}=e;return{type:"number",value:(0,r(302322).M)(t)}}var l=()=>r(721726);function c(e){const{propertyValue:t}=e;return{type:"text",value:r(201980).k4p(t)}}var d=()=>r(898244),u=()=>r(713998),p=()=>r(568063),m=()=>r(597777),f=()=>r(450648),_=()=>r(931075);const y={text:"text",url:"text",email:"text",phone_number:"text",checkbox:"checkbox",select:"select",multi_select:"multi_select",status:"status",person:"person",relation:"relation",created_by:"person",last_edited_by:"person",number:"number",auto_increment_id:"number",date:"date",created_time:"date",last_edited_time:"date",last_visited_time:"date",title:"text",file:"file",location:"location",verification:"verification",place:"place"};function g(e){return e in y}function b(e){return y[e]}const v={created_by:!0,last_edited_by:!0,created_time:!0,last_edited_time:!0,last_visited_time:!0,location:!0};function h(e){return g(e.type)&&!(e.type in v)}function A(e){const{propertySchema:t,propertyValue:r}=e;if(!t||"status"!==t.type)return{type:"status",option:void 0,group:void 0};const n=t.options??[],o=u().RZ(r,t),i=n.find((e=>e.value===o)),a=t.groups??[],s=i?a.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(i.id)})):void 0;return{type:"status",option:o,group:null==s?void 0:s.name}}const I={text:l().W,title:l().W,url:c,email:c,phone_number:c,checkbox:function(e){const{propertyValue:t}=e;return{type:"checkbox",value:(0,r(657970).w)(t)}},select:function(e){const{propertyValue:t,propertySchema:r}=e,n=r&&"select"===r.type&&r.options||[];return{type:"select",value:u().L3(t,n)}},multi_select:function(e){const{propertySchema:t,propertyValue:r}=e;if(!t||"multi_select"!==t.type)return{type:"multi_select",value:void 0};const n=t.options||[];return{type:"multi_select",value:u().o2(r,n)}},status:A,relation:function(e){const{propertyValue:t,propertySchema:n,getRecordModel:o,filterValueParseContext:i,propertyId:a,block:s}=e;if(!n||"relation"!==n.type)return{type:"relation",value:void 0};let l=[];const{getRelationEdgeList:c,sourceCollectionId:p}=i,m=(0,d().bz)({propertySchema:n}),f=s.parent_table===r(519831).Vl;if(m&&c&&s.spaceId&&f){const e=(0,d().zO)(n);if(e&&p){const t=c({edgeType:(0,r(615316).Q)({sourceCollectionId:p,sourcePropertyId:a,targetCollectionId:e,targetPropertyId:m}),sourcePointer:s.pointer,spaceId:s.spaceId});t&&(l=t.map((e=>e.getTargetPointer())).filter((e=>e.table===r(179034).ev)))}}else l=u().bG({relationValue:u().n(t),propertySchema:n,getRecordModel:o,includeNoAccess:!0});return{type:"relation",value:l}},person:function(e){const{block:t,propertyValue:n,propertySchema:o,skipDefault:i}=e;return{type:"person",value:(0,r(363170).e)({textValue:n,propertySchema:o,blockCreatorPointer:t.getCreatedByPointer(),skipDefault:i})}},created_by:({block:e})=>{const t=e.getCreatedByPointer();return{type:"person",value:t?[t]:void 0}},last_edited_by:({block:e})=>{const t=e.getLastEditedByPointer();return{type:"person",value:t?[t]:void 0}},number:s,auto_increment_id:s,date:function(e){const{propertyValue:t}=e;return{type:"date",value:(0,r(187696).b)(t)}},created_time:({block:e,filterValueParseContext:{userTimeZone:t}})=>a({timestamp:e.getCreatedTime(),userTimeZone:t}),last_edited_time:({block:e,filterValueParseContext:{userTimeZone:t}})=>a({timestamp:e.getLastEditedTime(),userTimeZone:t}),file:function(e){const{propertyValue:t}=e;return{type:"file",value:u().pJ(t).map((e=>e.url))}},location:function(e){const{block:t,propertySchema:r}=e;return r&&"location"===r.type?{type:"location",value:u().N8({block:t})}:{type:"location",value:void 0}},last_visited_time:function(e){const{block:t,propertySchema:r,getRecordModel:n,filterValueParseContext:i}=e,{userTimeZone:s,userId:l}=i;if(!l||!r||"last_visited_time"!==r.type)return{type:"date",value:void 0};const c=(0,o().$5)({parent_id:t.id,user_id:l}),d=n({table:o().F9,id:c,spaceId:t.getSpaceId()});return a({timestamp:null==d?void 0:d.getVisitedAt(),userTimeZone:s})},verification:function(e){const{propertyValue:t}=e,r=(0,_().U1)(t);return{type:"verification",value:(0,_().B2)(r).type}},place:function(e){return{type:"place",value:(0,r(96330).eC)(e.propertyValue)}}};function S(e){const{filterValueType:t,propertySchema:r}=e;if(!r)return{type:t,value:void 0};if(!g(r.type))return{type:t,value:void 0};const n=I[r.type];return n?n(e):{type:t,value:void 0}}function k(e){return void 0===e.value||""===e.value?[]:[[e.value]]}function T(e){return u().jw(e.value)}function x(e){return r(335997).h(e.value)}const M={text:k,title:k,url:T,email:T,phone_number:T,checkbox:function(e){return(0,r(423517).r)(e.value)},select:function(e){return u().U8(e.value)},multi_select:function(e){return u().rK(e.value)},status:function(e){return u().wb(e.option)},relation:function(e){return u().Ap(e.value||[])},person:function(e){return(0,r(581793).h)(e.value||[])},number:x,auto_increment_id:x,date:function(e){return u().m5(e.value)},file:function(e){return u().eQ((e.value||[]).map((e=>({name:e,url:e}))))},location:function(){return[]},verification:function(e){return[]},place:function(e){return[]}};function w(e){const{propertyType:t,filterValue:r}=e;return(0,M[t])(r)}function*C(e){const{block:t,schema:r,property:o,getRecordModel:i,collectionRequestContext:a,formula2Error:s,formulasModule:l,spaceIdCreator:c}=e,{userTimeZone:d,depth:u,intl:p,visitedProperties:f,resultCache:_,regExpCache:y,formatDateCache:g,formulaTimeoutTimestampMs:b,logFormulaTimeoutFn:v,logFormulaStatsFn:h,experimentService:A,collectionFeatureGates:I,getRelationEdgeList:S}=a,k=r[o];if(k&&"formula"===k.type&&l)if("v2"===k.version){if(!k.formula2)return;const{code:e}=k.formula2,r=l.evaluateCollectionFormula2({block:t,property:o,formulaCode:e,getRecordModel:i,intl:p,userTimeZone:d,depth:u,visitedProperties:f,formulaTimeoutTimestampMs:b,logFormulaTimeoutFn:v,logFormulaStatsFn:h,formula2Error:s,resultCache:_,regExpCache:y,formatDateCache:g,experimentService:A,collectionFeatureGates:I,spaceIdCreator:c});if(!r)return;yield*N(r,i,d,p)}else{if(!k.formula)return;if(!k.formula.result_type)return;const e=l.evaluateFormulaProperty({schema:r,property:o,block:t,getRecordModel:i,collectionRequestContext:{userId:void 0,userTimeZone:d,depth:u,intl:p,resultCache:_,regExpCache:y,formatDateCache:g,visitedProperties:f,formulaTimeoutTimestampMs:b,logFormulaTimeoutFn:v,experimentService:A,collectionFeatureGates:I,getRelationEdgeList:S},spaceIdCreator:c});if("number"===k.formula.result_type){if("number"!=typeof e)return}else if("text"===k.formula.result_type){if("string"!=typeof e)return}else if("checkbox"===k.formula.result_type){if("boolean"!=typeof e)return}else if("date"===k.formula.result_type){if(!m().kC(e))return}else(0,n().HB)(k.formula.result_type);yield{type:k.formula.result_type,value:e}}}function*N(e,t,r,n){if(e&&"undefined"!==e.type)if("array"===e.type)for(const o of e.values)yield*N(o,t,r,n);else if("block"===e.type){const o=t(e.value);if(!o)return;yield{type:"text",value:o.getRenderTitle({getRecordModel:t,userTimeZone:r,intl:n})}}else"person"===e.type?yield{type:"person",value:[e.value]}:"text"===e.type?yield{type:"text",value:(0,f().r4)({textValue:e.value,getRecordModel:t,userTimeZone:r,intl:n})}:("number"===e.type||"date"===e.type||"checkbox"===e.type)&&(yield{type:e.type,value:e.value});else;}function*P(e){const{block:t,schema:r,property:n,getRecordModel:o,propertyMapping:i,collectionRequestContext:a}=e,s=r[n];if(!s)return;if("formula"===s.type)return void(yield*C(e));if("rollup"===s.type)return void(yield*function*(e){const{block:t,schema:r,property:n,getRecordModel:o,collectionRequestContext:i,formula2Error:a,formulasModule:s,spaceIdCreator:l}=e,c=r[n];if(!c)return;if("rollup"!==c.type)return;const d=(0,p().eY)({property:n,schema:r,getRecordModel:o,spaceIdCreator:l});if(!d)return;if("person"===d.rollupType)return;if(c.aggregation&&"show_unique"!==c.aggregation){const t=(0,p().Pm)(e);return void(t&&(yield t))}const u=(0,p().yH)({property:n,schema:r,block:t,getRecordModel:o,spaceIdCreator:l,getRelationEdgeList:i.getRelationEdgeList});for(const p of u)yield*P({block:p,property:d.targetProperty,schema:d.targetCollectionSchema,getRecordModel:o,propertyMapping:void 0,collectionRequestContext:{...i,depth:i.depth+1},formula2Error:a,formulasModule:s,spaceIdCreator:l})}(e));if("button"===s.type)return;const l=b(s.type),c=(null==i?void 0:i[n])??n,d=S({filterValueType:l,propertySchema:s,propertyValue:u().yQ(t,c,o),block:t,getRecordModel:o,filterValueParseContext:{userId:a.userId,userTimeZone:a.userTimeZone,intl:a.intl,getRelationEdgeList:a.getRelationEdgeList,sourceCollectionId:a.sourceCollectionId},propertyId:n});yield d}},749257:(e,t,r)=>{r.d(t,{Ay:()=>a,du:()=>i,wg:()=>o});var n=()=>r(292588);const o={space:!0},i="worker",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,name:n().A.String,custom_function_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,alive:n().A.Boolean},requiredColumns:{version:!0,space_id:!0,name:!0,custom_function_id:!0,parent_id:!0,parent_table:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0})}},754195:(e,t,r)=>{r.d(t,{$N:()=>c,D$:()=>l,NV:()=>s,hV:()=>o,mP:()=>u,py:()=>d,qu:()=>i,ty:()=>a});var n=()=>r(534177);const o={date_is:!0,date_is_before:!0,date_is_after:!0,date_is_on_or_before:!0,date_is_on_or_after:!0,date_is_within:!0,date_is_relative_to:!0,is_empty:!0,is_not_empty:!0},i=(0,n().uv)(o),a=[...(0,r(720665).zu)({today:{type:"relative",value:"today"},tomorrow:{type:"relative",value:"tomorrow"},yesterday:{type:"relative",value:"yesterday"},one_week_ago:{type:"relative",value:"one_week_ago"},one_week_from_now:{type:"relative",value:"one_week_from_now"},one_month_ago:{type:"relative",value:"one_month_ago"},one_month_from_now:{type:"relative",value:"one_month_from_now"}}),{type:"exact",value:void 0}],s={this_week:{type:"relative",value:"surrounding",unit:"week"},the_past_week:{type:"relative",value:"custom",direction:"past",count:1,unit:"week"},the_past_month:{type:"relative",value:"custom",direction:"past",count:1,unit:"month"},the_past_year:{type:"relative",value:"custom",direction:"past",count:1,unit:"year"},the_next_week:{type:"relative",value:"custom",direction:"future",count:1,unit:"week"},the_next_month:{type:"relative",value:"custom",direction:"future",count:1,unit:"month"},the_next_year:{type:"relative",value:"custom",direction:"future",count:1,unit:"year"}},l={start_date:!1,end_date:!0},c=(0,n().uv)(l),d=[...Object.values(s),{type:"exact",value:void 0}],u=[{type:"relative",value:"custom",direction:"future",count:2,unit:"week"},{type:"exact",value:void 0}]},758256:(e,t,r)=>{r.d(t,{Ay:()=>a,U6:()=>i,rk:()=>o});var n=()=>r(292588);const o={workflow:!0,thread:!0},i="workflow_artifact",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,created_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,type:n().A.String,data:n().A.JSON},requiredColumns:{space_id:!0,version:!0,parent_id:!0,parent_table:!0,type:!0,created_at:!0,created_by_table:!0,created_by_id:!0,data:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},761152:(e,t,r)=>{r.d(t,{A:()=>i,I:()=>o});var n=()=>r(292588);const o="legal_hold_user",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,legal_hold_id:n().A.UUID,user_id:n().A.UUID,deleted_at_time:n().A.Number,deleted_by_id:n().A.UUID,deleted_by_table:n().A.String},requiredColumns:{id:!0,version:!0,legal_hold_id:!0,user_id:!0},model:(0,r(152853).P)({RecordStore:!1})}},764880:(e,t,r)=>{r.d(t,{A7:()=>y,Ah:()=>d,D3:()=>_,H3:()=>m,L_:()=>u,MR:()=>b,Pu:()=>f,lR:()=>h,oC:()=>v,ps:()=>p,qt:()=>g,xC:()=>A});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(638681),i=()=>r(799288),a=()=>r(792071),s=()=>r(824862),l=()=>r(798880);const c={[l().oo]:!0,[s().GP]:!0};const d=o().union([o().object({required:{table:o().literals("bot","notion_user"),id:o().string()},optional:{spaceId:o().string()}})]);function u(e){return e.isUser()}function p(e){return e.table===l().oo}function m(e){return e.table===s().GP}function f(e){return"object"==typeof e&&"table"in e&&"id"in e&&("string"==typeof(t=e.table)&&t in c);var t}function _(e){return a().Bj6.isAnyModel(e)?e.asActor:"asActor"in e?e:void 0===e.value?{table:e.table,asActor:void 0}:a().Bj6.fromRecordWithTable(e).asActor}function y(e){return a().Bj6.fromValue(l().oo,e)}function g(e){return a().Bj6.fromValue(s().GP,e)}function b(e){return e?y(e):{table:l().oo,asActor:void 0}}function v(e){return e?g(e):{table:s().GP,asActor:void 0}}function h(e,t){return t?t.table===l().oo?(null===(r=t.asActor)||void 0===r?void 0:r.getDisplayName(e))??e.formatMessage(a().Fvx.messages.anonymousPlaceholder):t.table===s().GP?(0,i().Hg)(t.asActor):void(0,n().HB)(t):e.formatMessage(a().Fvx.messages.anonymousPlaceholder);var r}function A(e){var t;const{pointer:r}=e;return(null===(t=a().b4_.fromGetRecordValueFn(e.getRecordValue||e.getRecordModel)(r))||void 0===t?void 0:t.asActor)??{table:r.table,asActor:void 0}}new Set(r(498212).w7)},765008:(e,t,r)=>{r.d(t,{Ay:()=>a,eV:()=>i});var n=()=>r(638681),o=()=>r(292588);const i="passkey_authenticator",a=(n().literals("direct","indirect","enterprise","none"),n().literals("ble","cable","hybrid","internal","nfc","smart-card","usb"),{table:i,columnTypes:{id:o().A.UUID,user_id:o().A.UUID,credential_id:o().A.Blob,public_key:o().A.Blob,authenticator_name:o().A.String,signature_count:o().A.Number,aaguid:o().A.String,authenticator_attestation_type:o().A.String,transports:o().A.StringArray,created_at:o().A.Number,updated_at:o().A.Number,last_used_at:o().A.Number,version:o().A.Number,last_version:o().A.Number,authenticator_signature:o().A.String},model:(0,r(152853).P)({RecordStore:!0})})},767194:(e,t,r)=>{r.d(t,{A:()=>i,q:()=>o});var n=()=>r(292588);const o="bot_extended_metadata",i={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,type:n().A.String,metadata:n().A.JSON,created_at:n().A.Number,updated_at:n().A.Number,alive:n().A.Boolean,key:n().A.String,last_version:n().A.Number,integration_id:n().A.UUID}}},771927:(e,t,r)=>{r.d(t,{Ay:()=>a,Nm:()=>i,_F:()=>o});var n=()=>r(292588);const o={assistant_chat_session:!0},i="assistant_chat_step",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,created_time:n().A.Number,properties:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,created_time:!0,parent_table:!0,parent_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},776217:(e,t,r)=>{r.d(t,{Ay:()=>a,Of:()=>o,bn:()=>i});var n=()=>r(292588);const o=["pending","paused","archived","active"],i="integration_webhook_subscription",a={table:i,columnTypes:{id:n().A.UUID,integration_id:n().A.UUID,url:n().A.String,status:n().A.String,paused_reason:n().A.String,verification_token:n().A.String,verification_token_hash:n().A.String,api_version:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,event_types:n().A.JSON},model:(0,r(152853).P)({RecordStore:!1})}},778078:(e,t,r)=>{r.d(t,{Ay:()=>b,It:()=>h,XR:()=>f,gK:()=>c,qR:()=>m,sH:()=>p,tb:()=>u,tz:()=>d});r(898992),r(581454),r(908872);var n=()=>r(538556),o=r.n(r(844751)),i=()=>r(496603),a=()=>r(834499),s=()=>r(534177);const l=2e6,c=1e6,d=9e5,u=1e5,p=1e4,m=1e3,f=950,_=900;function y(e){return e.normalize("NFKD")}function g(e){return-e.score}function b(e,t,r,n){const o=(null==n?void 0:n.minScore)||1,a=(null==n?void 0:n.getSortScore)||g,s=i().oE(t.map((t=>{const i=h(e,r(t),{normalizeFuzzyScore:null==n?void 0:n.normalizeFuzzyScore});if(i&&i.score>=o)return{original:t,score:i.score}})));return i().Ul(s,(e=>a(e))).map((e=>e.original))}function v(e,t,r){const o=y(e).toLowerCase(),s=y(t).toLowerCase();if(s===o)return{isExactMatch:!0};const l=s.indexOf(o);if(0===l)return{isPrefixMatch:!0};if(" "===s[l-1])return n().validate(s.substring(l,l+e.length))?{isExactMatch:!0}:{isWordPrefixMatch:!0};if(l>-1)return{isSubstringMatch:!0};const c=(0,a().Q)(e).toLowerCase();if((0,a().Q)(t).toLowerCase().indexOf(c)>-1)return{isSimplifiedSubstringMatch:!0};if(o.includes(" ")){const e=function(e,t){const r=i().Nt(e.trim()).replace(/\s+/g,"(.*?) "),n=new RegExp(r),o=t.match(n);return o?{result:!0,distance:o.slice(1).reduce(((e,t)=>e+t.length),0)}:{result:!1}}(o,s);return e.result?{isInOrderTokenMatch:!0,inOrderMatchDistance:e.distance}:void 0}return null!=r&&r.ignoreFuzzyFallback?void 0:{isFuzzyMatch:!0}}function h(e,t,r){const n=y(e),i=y(t),a=o().match(n,i,r);if(!a)return;const d=n.toLowerCase(),g=i.toLowerCase(),b=v(d,g,r);if(b){if("isExactMatch"in b)return{...a,score:c,matchMetadata:b};if("isPrefixMatch"in b)return{...a,score:u,matchMetadata:b};if("isWordPrefixMatch"in b)return{...a,score:p,matchMetadata:b};if("isSubstringMatch"in b)return{...a,score:m,matchMetadata:b};if("isSimplifiedSubstringMatch"in b)return{...a,score:f,matchMetadata:b};if("isInOrderTokenMatch"in b)return{...a,score:_-b.inOrderMatchDistance,matchMetadata:b};if("isFuzzyMatch"in b){const e=function(e,t,r){const n=e.charAt(0);let i=r;for(let a=1;a<t.length;++a){if(t.charAt(a)!==n)continue;const r=o().match(e,t.substring(a));r&&r.score>i&&(i=r.score)}return i}(d,g,a.score);return{...a,score:null!=r&&r.normalizeFuzzyScore?A(d,e):e,matchMetadata:b}}if("isExactIdMatch"in b)return{...a,score:l,matchMetadata:b};(0,s().HB)(b)}}function A(e,t){if(t){return function(e){const{inputValue:t,inputMin:r,inputMax:n,targetMin:o,targetMax:i}=e,a=n-r;if(0===a)return i;return(t-r)/a*(i-o)+o}({inputValue:t,inputMin:0,inputMax:(r=e.length,Math.pow(2,r+1)-r-2),targetMin:0,targetMax:_-1})}return 0;var r}},778781:(e,t,r)=>{r.d(t,{QV:()=>g,nM:()=>_,cn:()=>h,gp:()=>A,K9:()=>d,N1:()=>y,E2:()=>c,NS:()=>u,i_:()=>f,gx:()=>a,CA:()=>s,Mj:()=>i,Yp:()=>m,V_:()=>p,_Q:()=>o,y6:()=>v,V6:()=>b});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_place:!0};function o(e){return Boolean(e&&"normalizedTitleWithIcon"===e.type)}function i(e){return Boolean(e&&"titleWithIcon"===e.type)}function a(e){return Boolean(e&&s(e.type))}function s(e){return Boolean(e in n)}const l={property_person:!0,property_created_by:!0,property_last_edited_by:!0};function c(e){return e.type in l}function d(e){return"property_file"===e.type}function u(e){return"property_place"===e.type}function p(e){return Boolean(e&&"relationsGroup"===e.type)}function m(e){return Boolean(e&&"property_relation"===e.type)}function f(e){return Boolean(e&&"properties"===e.type)}function _(e){return Boolean(e&&"deleted_property"===e.type)}function y(e){return Boolean(e&&"inlinePageSections"===e.type)}function g(e){return Boolean(e&&"bottomControls"===e.type)}function b(e){return"views"===e.type||"viewsMain"===e.type}function v(e){return"viewsMain"===e.type}function h(e){return"collectionView"===e.type||"collectionViewV2"===e.type}function A(e){return Boolean(e&&"editor"===e.type)}},782398:(e,t,r)=>{r.d(t,{A:()=>i,S:()=>o});var n=()=>r(292588);const o="user_device",i={table:o,columnTypes:{id:n().A.UUID,user_id:n().A.UUID,device_id:n().A.UUID,token_id:n().A.UUID,created_at:n().A.Number,last_login_at:n().A.Number,last_login_ip_address:n().A.String,last_login_geographic_location:n().A.String,last_seen_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,revoked:n().A.Boolean},model:(0,r(152853).P)({})}},783230:(e,t,r)=>{r.d(t,{A:()=>i,i:()=>o});var n=()=>r(292588);const o="form_response_snapshot",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_time:n().A.Number,form_data:n().A.JSON,form_id:n().A.UUID,form_version:n().A.Number,user_provided_email:n().A.String,user_id:n().A.UUID,secret_key:n().A.String},requiredColumns:{id:!0,version:!0,space_id:!0,created_time:!0,form_data:!0,form_id:!0,form_version:!0,secret_key:!0},model:(0,r(152853).P)({RecordStore:!0})}},789011:(e,t,r)=>{r.d(t,{A:()=>i,j:()=>o});var n=()=>r(292588);const o="admin_api_op_log",i={table:o,columnTypes:{id:n().A.UUID,request_id:n().A.UUID,timestamp:n().A.Number,event_name:n().A.String,operation_index:n().A.Number,operation:n().A.JSON,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,version:!0,request_id:!0,timestamp:!0,event_name:!0,operation:!0,operation_index:!0}}},791036:(e,t,r)=>{r.d(t,{A:()=>i,W:()=>o});var n=()=>r(292588);const o="geo_ip_location",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,geoname_id:n().A.Number,locale_code:n().A.String,continent_code:n().A.String,continent_name:n().A.String,country_iso_code:n().A.String,country_name:n().A.String,subdivision_1_iso_code:n().A.String,subdivision_1_name:n().A.String,subdivision_2_iso_code:n().A.String,subdivision_2_name:n().A.String,city_name:n().A.String,metro_code:n().A.Number,time_zone:n().A.String,is_in_european_union:n().A.Boolean}}},793909:(e,t,r)=>{r.d(t,{b:()=>s});var n=()=>r(227030),o=()=>r(534177);const i=12,a=Symbol.for("CRDT_SESSION_ID");function s(){return(0,o().GV)((0,n().Ak)(i),a)}},795727:(e,t,r)=>{r.d(t,{A:()=>a});r(581454);var n=r.n(r(625473));const o=new WeakMap;function i(e){let t=o.get(e);return void 0!==t||(t=n()(e),o.set(e,t)),t}class a{constructor({getKey:e=i,from:t}={}){if(this.map=new Map,this.getKey=void 0,this.getKey=e,t)for(const[r,n]of t)this.set(r,n)}get size(){return this.map.size}set(e,t){return this.map.set(this.getKey(e),[e,t])}get(e){const t=this.map.get(this.getKey(e));if(t)return t[1]}update(e,t){const r=this.getKey(e),[n,o]=this.map.get(r)??[e,void 0],i=t(o);i!==o&&this.map.set(r,[n,i])}getKeyObject(e){const t=this.map.get(this.getKey(e));if(t)return t[0]}has(e){return this.map.has(this.getKey(e))}delete(e){return this.map.delete(this.getKey(e))}*entries(){for(const e of this.map.values())yield e}[Symbol.iterator](){return this.entries()}*keys(){for(const[e,t]of this.map.values())yield e}*values(){for(const[e,t]of this.map.values())yield t}valuesArray(){return Array.from(this.values())}compactedValuesArray(){return r(496603).oE(Array.from(this.values()))}clear(){this.map.clear()}}},797809:(e,t,r)=>{r.d(t,{BY:()=>m,PJ:()=>f,RX:()=>u,TV:()=>l,g1:()=>_,h5:()=>c,hx:()=>y,vn:()=>a});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);var n=()=>r(69708),o=()=>r(496603),i=()=>r(534177);const a=["title","description","caption","link","checked","language","source","size"],s=new Set(a);function l(e){return s.has(e)}const c=Object.keys(r(15440).Yj).map((e=>({value:e,id:e}))),d=(0,n().YK)({title:{id:"block.propertyTypeName.title",defaultMessage:"Title"},description:{id:"block.propertyTypeName.description",defaultMessage:"Description"},caption:{id:"block.propertyTypeName.caption",defaultMessage:"Caption"},link:{id:"block.propertyTypeName.link",defaultMessage:"Link"},checked:{id:"block.propertyTypeName.checked",defaultMessage:"Checked"},language:{id:"block.propertyTypeName.language",defaultMessage:"Language"},source:{id:"block.propertyTypeName.source",defaultMessage:"Source"},size:{id:"block.propertyTypeName.size",defaultMessage:"Size"}}),u=(0,o().Bj)((e=>{const t={name:e.formatMessage(d.title),type:"title"},r={name:e.formatMessage(d.link),type:"url"};return{title:t,description:{name:e.formatMessage(d.description),type:"text"},caption:{name:e.formatMessage(d.caption),type:"text"},link:r,checked:{name:e.formatMessage(d.checked),type:"checkbox"},language:{name:e.formatMessage(d.language),type:"select",options:c},source:{name:e.formatMessage(d.source),type:"url"},size:{name:e.formatMessage(d.size),type:"text"}}}),(e=>e.locale)),p=(0,n().YK)({created_by:{id:"block.propertyTypeName.created_by",defaultMessage:"Created by"},created_time:{id:"block.propertyTypeName.created_time",defaultMessage:"Created time"},last_edited_by:{id:"block.propertyTypeName.last_edited_by",defaultMessage:"Last edited by"},last_edited_time:{id:"block.propertyTypeName.last_edited_time",defaultMessage:"Last edited time"},last_visited_time:{id:"block.propertyTypeName.last_visited_time",defaultMessage:"Last visited time"},location:{id:"block.propertyTypeName.location",defaultMessage:"Source"}}),m=((0,o().Bj)((e=>({created_by:{type:"created_by",name:e.formatMessage(p.created_by)},created_time:{type:"created_time",name:e.formatMessage(p.created_time),time_format:" ",date_format:"relative"},last_edited_by:{type:"last_edited_by",name:e.formatMessage(p.last_edited_by)},last_edited_time:{type:"last_edited_time",name:e.formatMessage(p.last_edited_time),time_format:" "},last_visited_time:{type:"last_visited_time",name:e.formatMessage(p.last_visited_time)},location:{type:"location",name:e.formatMessage(p.location)}})),(e=>e.locale)),["title","created_by","created_time","last_edited_by","last_edited_time"]);function f(e){return!!(0,i().Xk)(m,e)}function _(e,t){switch(e){case"title":return t.formatMessage(d.title);case"created_by":return t.formatMessage(p.created_by);case"created_time":return t.formatMessage(p.created_time);case"last_edited_by":return t.formatMessage(p.last_edited_by);case"last_edited_time":return t.formatMessage(p.last_edited_time);default:(0,i().HB)(e)}}const y="notion://meeting_notes/attendees"},799288:(e,t,r)=>{r.d(t,{EK:()=>y,Hg:()=>b,Hx:()=>_,ML:()=>c,SZ:()=>m,Sd:()=>p,ap:()=>g,cT:()=>l,hu:()=>u,qs:()=>d,tb:()=>v,ut:()=>f});r(898992),r(823215);var n=()=>r(496603),o=()=>r(534177),i=()=>r(792071),a=()=>r(68263),s=()=>r(824862);function l(e){return!(!(0,o().Gv)(e)||0===(0,o().uv)(e).length)&&Object.entries(e).every((([e,t])=>{return!(r=e,"read_property"!==r&&"insert_property"!==r&&"update_property"!==r||!0!==t);var r}))}function c(e){return!(!(0,o().Gv)(e)||0===(0,o().uv)(e).length)&&Object.entries(e).every((([e,t])=>{return r=e,!!(0,o().Xk)(a().oI,r)&&!0===t;var r}))}function d(e){if(!(0,o().Gv)(e)||0===(0,o().uv)(e).length)return!1;const{read_user_without_email:t,read_user_with_email:r,inherit_creator_permissions:n,link_preview:i,synced_database:a,webhooks:s,workspace_search:d,workspace_page_export:u,workspace_content_transfer:p,read_teamspace:m,interact_with_agents:f,..._}=e;return(void 0===r||!0===r&&void 0!==t&&!0===t)&&((void 0===t||!0===t)&&((void 0===n||!0===n)&&(l(_)||c(_)||function(e){return!(!(0,o().Gv)(e)||0===(0,o().uv)(e).length||!0!==e.workspace_content_transfer&&!0!==e.interact_with_agents)}({workspace_content_transfer:p,interact_with_agents:f}))))}function u(e){return i().Bj6.fromValue(s().GP,e).isBotWithCoreApiCapabilities()}function p(e){return d(e.capabilities)&&_(e.capabilities)}function m(e){return i().Bj6.fromValue(s().GP,e).isScimBot()}function f(e){return!!e&&"personal-agent"===e}function _(e){if(!e||!(0,o().Gv)(e)||0===(0,o().uv)(e).length)return!1;const{link_preview:t,synced_database:r}=e;return!0===t||!0===r}function y(e){return!(!e||!(0,o().Gv)(e)||0===(0,o().uv)(e).length)&&!0===e.webhooks}function g(e){if(!e||!(0,o().Gv)(e)||0===(0,o().uv)(e).length)return!1;const{synced_database:t}=e;return!0===t}function b(e,t){if(!e&&f(t))return"Notion AI";return(i().Bj6.isAnyModel(e)?e.getName():null==e?void 0:e.name)||"Unnamed Bot"}function v(e){return n().oE([e.name,"bot"]).join(" ")}},799690:(e,t,r)=>{r.d(t,{$:()=>a});var n=()=>r(534177),o=()=>r(604995),i=()=>r(270995);function a(e){const{operatorValue:t,userTimeZone:r}=e;if("exact"===t.type){const e=t.value;if(!(0,n().O9)(e))return;const{start:i}=o().AA(e,r);return i.startOf("day").valueOf()}return(0,i().U)({operatorValue:t,userTimeZone:r})}},800065:(e,t,r)=>{r.d(t,{LJ:()=>i,LU:()=>l,Lo:()=>a,PF:()=>n,iw:()=>o,xU:()=>s});const n=["discussions","editor"];function o(e){return{properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_place:!0,deleted_property:!0,relationsGroup:!0,placeholder:!0,formQuestion:!0,views:!0,viewsMain:!1,view:!0,row:!0,discussions:!0,editor:!0,cover:!1,formTitle:!1,formSubmit:!1,normalizedTitleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,bottomControls:!1,transcript:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1}[e.type]}function i(e){return{properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_place:!0,deleted_property:!0,relationsGroup:!0,placeholder:!0,formQuestion:!0,views:!0,viewsMain:!1,view:!0,row:!0,discussions:!0,editor:!0,cover:!1,formTitle:!1,formSubmit:!1,normalizedTitleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,bottomControls:!1,transcript:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1}[e.type]&&!n.includes(e.type)}function a(e){return{properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_place:!0,deleted_property:!0,relationsGroup:!0,placeholder:!0,formQuestion:!0,views:!0,viewsMain:!1,view:!0,row:!0,discussions:!0,editor:!0,cover:!1,formTitle:!1,formSubmit:!1,normalizedTitleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,bottomControls:!1,transcript:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1}[e.type]&&n.includes(e.type)}function s(e){return{properties:!0,property:!0,views:!0,viewsMain:!1,view:!0,row:!0,relationsGroup:!0,placeholder:!0,formQuestion:!0,discussions:!0,editor:!0,cover:!1,formTitle:!1,formSubmit:!1,titleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,bottomControls:!1,transcript:!1,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1}[e.type]&&!n.includes(e.type)}function l(e){return{properties:!0,property:!0,views:!0,viewsMain:!1,view:!0,row:!0,relationsGroup:!0,placeholder:!0,formQuestion:!0,discussions:!0,editor:!0,cover:!1,formTitle:!1,formSubmit:!1,titleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,bottomControls:!1,transcript:!1,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1,theirPages:!1}[e.type]&&n.includes(e.type)}},801634:(e,t,r)=>{r.d(t,{Ay:()=>m,Fv:()=>u,IP:()=>d,Z:()=>s,kz:()=>p,rY:()=>a,vd:()=>c,w5:()=>l});r(898992),r(354520),r(581454);var n=r.n(r(625473)),o=()=>r(498212),i=()=>r(292588);const a=r(720665).HP({space_id:!0,team_id:!0,navigable_block_id:!0,collection_id:!0,mentioned_user_id:!0,mentioned_block_id:!0,mentioned_property:!0,top_level_block_id:!0,collection_row_id:!0,discussion_id:!0,invited_user_id:!0,collection_property_id:!0,collection_view_id:!0,reminder_block_id:!0,reminder_property:!0,permission_group_id:!0,access_request_id:!0,mentioned_group_id:!0,mentioned_team_id:!0,contains_important_property_updates_only:!0,access_request_type:!0,suggestion_session_id:!0,reacted_comment_id:!0,upgrade_request_type:!0,automation_id:!0,workflow_id:!0,workflow_group_id:!0}),s={block:!0,space:!0,user_root:!0,collection:!0,team:!0};function l(e){const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>a.includes(e)&&null!=t))),r=n()(t);return(0,o().gB)(r)}const c={"block-created":"block-edited","block-deleted":"block-edited","block-changed":"block-edited","block-property-changed":"block-property-edited","permission-created":"permissions-edited","permission-deleted":"permissions-edited","permission-changed":"permissions-edited","collection-property-permission-created":"permissions-edited","collection-property-permission-updated":"permissions-edited","collection-property-permission-deleted":"permissions-edited","permission-restriction-created":"permissions-edited","permission-restriction-deleted":"permissions-edited","top-level-block-created":"top-level-block-created","top-level-block-deleted":"top-level-block-deleted","collection-row-created":"collection-row-created","collection-row-deleted":"collection-row-deleted","mention-created":"user-mentioned","mention-deleted":"user-mentioned","suggestion-created":"commented","comment-created":"commented","comment-changed":"commented","comment-deleted":"commented","team-member-added":"team-membership-edited","user-invited":"user-invited","collection-created":"collection-edited","collection-changed":"collection-edited","collection-deleted":"collection-edited","collection-page-layout-edited":"collection-page-layout-edited","collection-property-created":"collection-property-edited","collection-property-deleted":"collection-property-edited","collection-property-changed":"collection-property-edited","collection-view-created":"collection-view-edited","collection-view-deleted":"collection-view-edited","collection-view-changed":"collection-view-edited","reminder-created":"reminder","page-locked":"page-locked","page-unlocked":"page-unlocked","email-changed":"email-edited","access-requested":"access-requested","access-request-resolved":"access-request-resolved","page-deleted":"page-deleted","page-restored":"page-restored","page-permanently-deleted":"page-permanently-deleted","private-content-transferred":"private-content-transferred","permission-group-mention-created":"permission-group-mentioned","permission-group-mention-deleted":"permission-group-mentioned","team-mention-created":"team-mentioned","team-mention-deleted":"team-mentioned","transcript-deleted":"transcript-deleted","export-completed":"export-completed","import-completed":"import-completed","in-app-notification-automation-action-triggered":"in-app-notification-automation-action-triggered","automation-paused-due-to-execution-failure":"automation-paused-due-to-execution-failure","automation-typecheck-error-raised":"automation-typecheck-error-raised","reaction-created":"reacted","reaction-deleted":"reacted","upgrade-request-created":"upgrade-request-created","trial-created":"trial-created","app-builder-notification":"app-builder-notification","external-integration-notification":"external-integration-notification"},d=["block-edited","permissions-edited","commented","page-locked","page-unlocked"],u=["block-edited","permissions-edited","collection-row-created","collection-row-deleted","collection-edited","collection-property-edited","collection-view-edited","collection-page-layout-edited"],p="activity",m={table:p,columnTypes:{id:i().A.UUID,version:i().A.Number,last_version:i().A.Number,index:i().A.Number,start_time:i().A.String,end_time:i().A.String,space_id:i().A.UUID,team_id:i().A.UUID,navigable_block_id:i().A.UUID,collection_id:i().A.UUID,mentioned_user_id:i().A.UUID,mentioned_block_id:i().A.UUID,mentioned_property:i().A.String,top_level_block_id:i().A.UUID,discussion_id:i().A.UUID,invited_user_id:i().A.UUID,collection_row_id:i().A.UUID,collection_view_id:i().A.UUID,collection_property_id:i().A.String,reminder_block_id:i().A.UUID,reminder_property:i().A.String,permission_group_id:i().A.UUID,access_request_id:i().A.UUID,type:i().A.String,edits:i().A.JSON,invalid:i().A.Boolean,parent_table:i().A.String,parent_id:i().A.UUID,shard_id:i().A.Number,context_id:i().A.UUID,in_log:i().A.Boolean,mentioned_group_id:i().A.UUID,mentioned_team_id:i().A.UUID,contains_important_property_updates_only:i().A.Boolean,access_request_type:i().A.String},model:(0,r(152853).P)({RecordStore:!0})}},803884:(e,t,r)=>{r.d(t,{Zx:()=>d,iu:()=>c,lK:()=>l,p:()=>s});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(581454),r(908872);var n=()=>r(274147),o=()=>r(855355),i=()=>r(933449),a=()=>r(135460);const s={root:"r",nodes:"n",textSlice:"s",childKeys:"c"};function l(e){const t={};for(const r of e.iterateTextSliceTrees()){const e=r.getTextSlice(),n=r.children;t[e.getSliceKey()]={[s.textSlice]:a().lK(e),[s.childKeys]:n.map((e=>e.getTextSlice().getSliceKey()))}}return{[s.root]:e.getTextSlice().getSliceKey(),[s.nodes]:t}}function c({sessionId:e,serialized:t,opClockValueHolderMap:r,logger:l}){const c=t[s.root],d=t[s.nodes];return function({sessionId:e,sliceKey:t,serializedNodes:r,opClockValueHolderMap:n,logger:l}){const c=[{sliceKey:t,parent:null,childIndex:0,childrenKeys:[],textSliceTree:null}];let d=null;for(;c.length>0;){const t=c[c.length-1];if(null===t.textSliceTree){const{[s.textSlice]:c,[s.childKeys]:d=[]}=(0,i().o9)(r[t.sliceKey],"Serialized node not found for slice"),u=a().qL(t.sliceKey,c.x,l),p=(0,i().o9)(n[u],"Op clock not found for slice text instance"),m=a().iu({serialized:c,opClockValueHolder:p,sliceKey:t.sliceKey,logger:l});t.textSliceTree=new(o().Ay)(e,m),t.childrenKeys=d,t.childIndex=0}if(t.childIndex<t.childrenKeys.length){const e=t.childrenKeys[t.childIndex];t.childIndex++,c.push({sliceKey:e,parent:t.textSliceTree,childIndex:0,childrenKeys:[],textSliceTree:null})}else c.pop(),t.parent&&t.textSliceTree?t.parent.appendChild(t.textSliceTree):!t.parent&&t.textSliceTree&&(d=t.textSliceTree)}return(0,i().o9)(d,"Failed to deserialize TextSliceTree: no root node found")}({sessionId:e,sliceKey:c,serializedNodes:d,opClockValueHolderMap:r??Object.entries(d).reduce(((e,[t,r])=>{const{[s.textSlice]:o}=r,i=a().qL(t,o.x,l);return e[i]||(e[i]=new(n().g)),e}),{}),logger:l})}function d(e){return new Set(function*(e){yield*function*t(r){const n=(0,i().o9)(e.n[r],"node for sliceKey should exist");if(yield a().qL(r,n.s.x),n.c)for(const e of n.c)yield*t(e)}(e.r)}(e))}},804666:(e,t,r)=>{r.d(t,{Ws:()=>u,Ym:()=>l,a0:()=>c,hY:()=>s,tQ:()=>p});var n=()=>r(534177),o=()=>r(179034),i=()=>r(869558),a=()=>r(797809);function s({userId:e,spaceIdCreator:t}){const r=t.getSpaceId();return t.deterministicIdInSavedSpace(o().ev,`${e}:${r}:library-collection-view-block`)}function l({userId:e,spaceIdCreator:t,viewName:r}){const n=t.getSpaceId();return t.deterministicIdInSavedSpace(i().Gy,`${e}:${n}:library-collection-view:${r}`)}function c(e){return"recents"===e||"myMeetings"===e||"favorites"===e||"shared"===e||"private"===e||"teamspaceDirectory"===e||"libraryExternalPages"===e}const d=(0,r(69708).YK)({pageTitle:{id:"libraryPageHelpers.page.title",defaultMessage:"Library"},favoritesTitle:{id:"libraryPageHelpers.favorites.title",defaultMessage:"Favorites"},privateTitle:{id:"libraryPageHelpers.private.title",defaultMessage:"Private"},sharedTitle:{id:"libraryPageHelpers.shared.title",defaultMessage:"Shared"},meetingsTitle:{id:"libraryPageHelpers.meetings.title",defaultMessage:"Meetings"},recentsTitle:{id:"libraryPageHelpers.recents.title",defaultMessage:"Recents"},teamspaceDirectoryTitle:{id:"libraryPageHelpers.teamspaceDirectory.title",defaultMessage:"Teamspaces"},externalPagesTitle:{id:"libraryPageHelpers.externalPages.title",defaultMessage:"External Pages [DEV ONLY]"}});function u(e,t){switch(e){case"pageTitle":return t.formatMessage(d.pageTitle);case"favorites":return t.formatMessage(d.favoritesTitle);case"shared":return t.formatMessage(d.sharedTitle);case"private":return t.formatMessage(d.privateTitle);case"myMeetings":return t.formatMessage(d.meetingsTitle);case"recents":return t.formatMessage(d.recentsTitle);case"teamspaceDirectory":return t.formatMessage(d.teamspaceDirectoryTitle);case"libraryExternalPages":return t.formatMessage(d.externalPagesTitle);default:(0,n().HB)(e)}}function p(e){return{collection_view_source:{type:"myMeetings",spaceId:e},hide_linked_collection_name:!0,collection_peek_mode:"side_peek",subitem_display_mode:"disabled",show_page_icon:!0,collection_group_by:{property:"created_time",hideEmptyGroups:!0,type:"created_time",groupBy:"relative",sort:{type:"descending"}},list_properties:[{property:"title",visible:!0},{property:a().hx,visible:!0},{property:"created_time",visible:!0},{property:"location",visible:!1},{property:"created_by",visible:!1},{property:"last_edited_time",visible:!1}]}}},806045:(e,t,r)=>{r.d(t,{A:()=>i,r:()=>o});var n=()=>r(292588);const o="user_metadata",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,metadata:n().A.JSON,updated_at:n().A.Number}}},813197:(e,t,r)=>{r.d(t,{L:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.5 3.07 13 13.83",svg:(0,r(474848).jsx)("path",{d:"M8.848 3.085c.34.06.567.384.507.724l-.61 3.466h3.42l.65-3.683a.625.625 0 0 1 1.23.216l-.61 3.467h2.435a.625.625 0 1 1 0 1.25h-2.655l-.52 2.95h2.435a.625.625 0 0 1 0 1.25h-2.655l-.65 3.684a.625.625 0 0 1-1.23-.217l.61-3.467h-3.42l-.65 3.684a.625.625 0 0 1-1.23-.217l.61-3.467H4.13a.625.625 0 1 1 0-1.25h2.605l.52-2.95H4.87a.625.625 0 0 1 0-1.25h2.605l.65-3.683a.625.625 0 0 1 .723-.507m2.578 8.39.52-2.95H8.523l-.52 2.95z"})},o=(0,r(340498).wt)("number",n,"default")},813206:(e,t,r)=>{r.d(t,{Gc:()=>U,J6:()=>L,JT:()=>F,Jc:()=>H,KP:()=>E,LR:()=>D,Lf:()=>$,TW:()=>P,Ti:()=>O,ar:()=>B,hd:()=>j,kJ:()=>R,mP:()=>C,r$:()=>T,s2:()=>q,up:()=>k,zP:()=>w,zu:()=>V});r(18107),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(823215),r(430670),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(498212),i=()=>r(534177),a=()=>r(720665),s=()=>r(700500),l=()=>r(855826),c=()=>r(488715),d=()=>r(898244),u=()=>r(792071),p=()=>r(68263),m=()=>r(801634),f=()=>r(179034),_=()=>r(519831),y=()=>r(197959),g=()=>r(959044),b=()=>r(96689),v=()=>r(854150),h=()=>r(798880),A=()=>r(107273),I=()=>r(797809),S=()=>r(201980);a().Xb;function k(e,t){const r=u().Bj6.fromValue(m().kz,t),{edits:n,index:i}=e,a=[...r&&r.getEdits()||[],...n],s=A().gW(a),l=s[0],c=l&&l.timestamp.toString()||r&&r.start_time||n[0].timestamp,d=s.at(-1),p=d&&d.timestamp.toString()||r&&r.end_time||c,g=x(n[0]),h=function(e){const{space_id:t,navigable_block_id:r,collection_id:n,collection_row_id:o,top_level_block_id:i,discussion_id:a,team_id:s,access_request_type:l}=e;return r?"guest_invite_request"===l||"restricted_member_invite_request"===l?{parent_table:b().NX,parent_id:t}:{parent_table:f().ev,parent_id:r}:i?{parent_table:f().ev,parent_id:i}:o?{parent_table:f().ev,parent_id:o}:a?{parent_table:y().$Y,parent_id:a}:n?{parent_table:_().Vl,parent_id:n}:s?{parent_table:v().yK,parent_id:s}:{parent_table:b().NX,parent_id:t}}(n[0]);return{type:m().vd[n[0].type],index:i,start_time:c.toString(),end_time:p.toString(),edits:s.slice(0,1e3),invalid:M(s),shard_id:(0,o().TK)(g.space_id),context_id:m().w5(g),...g,...h}}function T(e){if("collection-changed"===e.type&&e.collection_data){if(!e.collection_data.before&&!e.collection_data.after)return!1;if(!e.collection_data.before||!e.collection_data.after)return!0;const t=e.collection_data.before.description,r=e.collection_data.after.description;return(0,S().dze)(t,r)}if("collection-created"===e.type&&e.collection_data){const t=e.collection_data.description;return Boolean(t)}return!1}function x(e){return a().Up(e,m().rY)}function M(e){if(0===A().W9(e).length)return!0;{const t=e[0];if("mention-deleted"===t.type)return!0;if("mention-created"===t.type){if(t.authors&&t.authors.some((e=>e.table===h().oo&&e.id===t.mentioned_user_id)))return!0}else{if(e.every((e=>"comment-deleted"===e.type)))return!0;if(e.every((e=>"reaction-deleted"===e.type)))return!0}}return!1}function w(e,t){const r=function(e){const t=u().Bj6.fromValue(m().kz,e),r=t&&t.getEdits()||[];return a().qt(n().Bq(r.map((e=>e.authors||[]))))}(u().Bj6.fromValue(m().kz,e));return r.some((e=>e.table===h().oo&&e.id===t))}function C(e){const{before:t,after:r}=e,n=[];return new Set((0,i().uv)(t.properties||{}).concat((0,i().uv)(r.properties||{}))).forEach((e=>{(0,S().dze)(t&&t.properties&&t.properties[e],r&&r.properties&&r.properties[e])&&n.push(e)})),n}const N=["page_icon","is_placeholder"];function P(e){const{before:t,after:r}=e,n=[];return N.forEach((e=>{(t.format&&t.format[e])!==(r.format&&r.format[e])&&n.push(e)})),n}function U(e){const{before:t,after:r,property:n}=e;return(0,S().dze)(t&&t.properties&&t.properties[n],r&&r.properties&&r.properties[n])}function D(e){const{before:t,after:r,schema:n}=e;return(0,l().PE)({before:t,after:r,schema:n}).length>0}function B(e){return e.after.type===s().xd.tableRow&&C(e).length>0}function O(e){return P(e).length>0}function R(e){const{before:t,after:r}=e,n=u().Bj6.fromBlock(t),o=u().Bj6.fromBlock(r),i=n.type,a=o.type,s=n.isNavigableBlock()&&o.isNavigableBlock();return i&&a&&i!==a&&!s}function E(e){const{activity:t,getRecordModel:r,baseUrl:n,pageVisitSource:o}=e;if(t.isType("top-level-block-created")||t.isType("top-level-block-deleted")){const e=r(t.getTopLevelBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("commented")){const e=r(t.getDiscussionPointer());if(e){const t=r(e.getParentPointer());if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,discussionId:e.id,pageVisitSource:o})}}else if(t.isType("collection-row-created")||t.isType("collection-row-deleted")){const e=r(t.getCollectionRowPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("permissions-edited")){const e=t.getNavigableBlockPointer();if(e){const t=r(e);if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else{const e=r(t.getSpacePointer());if(e)return(0,c().Q)({model:e,baseUrl:n})}}else if(t.isType("block-edited")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("user-mentioned")||t.isType("team-mentioned")||t.isType("permission-group-mentioned")){const e=r(t.getMentionedBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("reacted")){const e=r(t.getDiscussionPointer());if(e){const t=r(e.getParentPointer());if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,discussionId:e.id,pageVisitSource:o})}}else if(t.isType("reminder")){const e=r(t.getReminderBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("user-invited")){const e=t.getNavigableBlockPointer();if(e){const t=r(e);if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else{const e=r(t.getSpacePointer());if(e)return(0,c().Q)({model:e,baseUrl:n})}}else if(t.isType("block-property-edited")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("private-content-transferred")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("access-requested")){const e=t.getNavigableBlockPointer(),i=e&&r(e);if(i)return(0,c().Q)({model:i,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("access-request-resolved")){const e=t.getNavigableBlockPointer(),i=e&&r(e);if(i)return(0,c().Q)({model:i,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("verification-expired")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("in-app-notification-automation-action-triggered")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("automation-typecheck-error-raised")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("automation-paused-due-to-execution-failure")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("no-conflicts-found")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("app-builder-notification")){const e=t.getNavigableBlockPointer();if(e){const t=r(e);if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,pageVisitSource:o})}}else{if(t.isType("team-membership-edited")||t.isType("collection-edited")||t.isType("collection-page-layout-edited")||t.isType("collection-property-edited")||t.isType("collection-view-edited")||t.isType("page-locked")||t.isType("page-unlocked")||t.isType("email-edited")||t.isType("upgrade-request-created")||t.isType("page-deleted")||t.isType("page-restored")||t.isType("page-permanently-deleted")||t.isType("import-completed")||t.isType("export-completed")||t.isType("external-integration-notification")||t.isType("trial-created")||t.isType("transcript-deleted"))return n||"/";(0,i().HB)(t)}return n||"/"}function F(e){switch(e){case"top-level-block-created":return"activity_top_level_block_created";case"top-level-block-deleted":return"activity_top_level_block_deleted";case"collection-row-created":return"activity_collection_row_created";case"collection-row-deleted":return"activity_collection_row_deleted";case"block-edited":return"activity_block_edited";case"block-property-edited":return"activity_block_property_edited";case"permissions-edited":return"activity_permissions_edited";case"user-mentioned":return"activity_mention";case"commented":return"activity_comment";case"user-invited":return"activity_invited";case"collection-edited":return"collection_edited";case"collection-view-edited":return"collection_view_edited";case"collection-property-edited":return"collection_property_edited";case"reminder":return"activity_reminder";case"page-locked":return"activity_page_locked";case"page-unlocked":return"activity_page_unlocked";case"email-edited":return"activity_email_edited";case"access-requested":return"activity_access_requested";case"access-request-resolved":return"activity_access_request_resolved";case"page-deleted":return"activity_page_deleted";case"page-restored":return"activity_page_restored";case"page-permanently-deleted":return"activity_page_permanently_deleted";case"team-membership-edited":return"activity_team_membership_edited";case"private-content-transferred":return"activity_private_content_transferred";case"permission-group-mentioned":return"activity_permission_group_mentioned";case"team-mentioned":return"activity_team_mentioned";case"verification-expired":return"activity_verification_expired";case"import-completed":return"activity_import_completed";case"export-completed":return"activity_export_completed";case"in-app-notification-automation-action-triggered":return"activity_in_app_notification_automation_action_triggered";case"collection-page-layout-edited":return"activity_collection_page_layout_edited";case"no-conflicts-found":return"activity_no_conflicts_found";case"automation-typecheck-error-raised":return"activity_automation_typecheck_error_raised";case"automation-paused-due-to-execution-failure":return"activity_automation_paused_due_to_execution_failure";case"reacted":return"activity_reaction";case"upgrade-request-created":return"activity_upgrade_request_created";case"app-builder-notification":return"activity_app_builder_notification";case"external-integration-notification":return"activity_external_integration_notification";case"trial-created":return"activity_trial_created";case"transcript-deleted":return"activity_transcript_deleted"}}function L(e){const t=[],r=[],n=[],o=[];return e.forEach((e=>{!function(e){if("permission-created"===e.type){const t=e.permission_data;if("user_permission"===t.type&&p().Tt(t.role)&&e.authors&&1===e.authors.length&&e.authors[0].table===h().oo&&e.authors[0].id===t.user_id)return!0}return!1}(e)?"permission-restriction-created"===e.type||"permission-restriction-deleted"===e.type?r.push(e):"collection-property-permission-updated"===e.type||"collection-property-permission-created"===e.type||"collection-property-permission-deleted"===e.type?n.push(e):o.push(e):t.push(e)})),{autojoinEdits:t,inheritanceEdits:r,collectionPropertyPermissionEdits:n,otherEdits:o}}function V(e){return"commented"===e||"following"===g().ZS[e]}function H(e){return"mentions"===g().ZS[e]}function j(e,t){return e.block_schema?(0,d().Q8)(e):(0,I().RX)(t)}function q(e){return new Set(e.flatMap((e=>Object.keys(e.property_updates)))).size}function $(e){return"block-property-changed"===e.type}},813690:(e,t,r)=>{r.d(t,{Oj:()=>o,ho:()=>i,xb:()=>n});Symbol("Record Loading Function");const n={constant(e){return this.fromMonomorphicFunctionUnsafe((()=>e))},throw(e){return this.fromMonomorphicFunctionUnsafe((()=>{throw e()}))},tryUntilFound(...e){return this.fromMonomorphicFunctionUnsafe((t=>{for(const r of e){const e=r(t);if(void 0!==e)return e}}))},fromRecordMap(e){return this.fromMonomorphicFunctionUnsafe((t=>e.getValue(t)))},fromRecordMapWithRole(e){return this.fromMonomorphicFunctionUnsafe((t=>e.getValue(t)))},fromMonomorphicFunctionUnsafe:e=>e},o={fromRecordMapWithRole:e=>t=>e.getRole(t),empty:()=>e=>{},constantForPointer:(e,t)=>n=>{if(r(277153).L3.isEqualIdTable(n,e))return t},tryUntilFound:(...e)=>t=>{for(const n of e){const e=n(t);if((0,r(534177).O9)(e))return e}}},i={fromGetRecordValueFn(e){return this.fromMonomorphicFunctionUnsafe((t=>Promise.resolve(e(t))))},fromRecordMap(e){return this.fromMonomorphicFunctionUnsafe((t=>Promise.resolve(e.getValue(t))))},fromRecordMapWithRole(e){return this.fromMonomorphicFunctionUnsafe((t=>Promise.resolve(e.getValue(t))))},sideEffect(e){return this.fromMonomorphicFunctionUnsafe((t=>e(t).then((()=>{}))))},tryUntilFound(...e){return this.fromMonomorphicFunctionUnsafe((async t=>{for(const r of e){const e=await r(t);if(void 0!==e)return e}}))},fromMonomorphicFunctionUnsafe:e=>e}},820156:(e,t,r)=>{r.d(t,{A:()=>n,L:()=>o});const n=50,o=100},823377:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>i});var n=()=>r(292588);const o="education_domain",i={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,domain:n().A.String,activated_count:n().A.Number},requiredColumns:{domain:!0,activated_count:!0},defaultColumnValues:{activated_count:0}}},825237:(e,t,r)=>{r.d(t,{De:()=>m,Eq:()=>s,MU:()=>d,Rr:()=>a,Ws:()=>f,wY:()=>c,x8:()=>l});r(581454);var n=()=>r(496603),o=()=>r(939768),i=()=>r(720665);const a=2e3,s=5e3;function l(e){return u({...e,permissionRecord:void 0})}function c(e){return u(e)}function d(e){if(e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("/icons/"))return;if(e.startsWith("https://images.unsplash.com/"))return;if(!e.includes("/image/")&&e.startsWith("http"))return o().Gm({url:`/image/${encodeURIComponent(e)}`,query:{offline:"true"}});if(e.startsWith("/images/"))return e;const t=["width","cache"].reduce(((e,t)=>o().qm(e,t)),e);return o().O$(t,{offline:"true"})}function u(e){const{userId:t,favicon:r,freeze:i}=e;let{url:s,width:l}=e;const{baseUrl:c,fullyQualified:d,stripGoogleIconQuery:u,permissionRecord:p}=e;if(s.startsWith("C:\\"))return s;o().cW(s)&&(s=o().pf({relativeUrl:s,baseUrl:c})),u&&(s=s.replace("?sz=50",""));const m={...p};l&&s.indexOf(".ico")<0&&s.indexOf(".svg")<0&&s.indexOf(".gif")<0&&(l*=2,l=n().LI(l,-1),l=Math.max(l,40),l=Math.min(l,a),m.width=l.toString()),r&&(m.favicon="true"),i&&(m.freeze="true"),m.userId=t;const f=d?c:"";return o().Gm({url:`${f}/image/${encodeURIComponent(s)}`,query:{...m,cache:"v2"}})}const p="current_space_id";function m(e){const t=(0,i().$z)(e,(e=>e.permissionRecord.spaceId||p));return Array.from(t.keys()).map((e=>({spaceId:e===p?void 0:e,urls:t.get(e)||[]})))}function f(e){const{baseURL:t,url:r,downloadName:n,download:i,permissionRecord:a,currentUserId:s,domainBaseURL:l}=e,c=o().cW(r)?o().pf({relativeUrl:r,baseUrl:t}):r,d={...a};n&&(d.name=n),i&&(d.download="true"),s&&(d.userId=s);const u=l||"";return o().Gm({url:`${u}/signed/${encodeURIComponent(c)}`,query:{...d,cache:"v2"}})}},826081:(e,t,r)=>{r.d(t,{Cm:()=>a,Ug:()=>s,lw:()=>l,rE:()=>c});r(16280),r(898992),r(354520),r(581454);var n=r.n(r(702189)),o=()=>r(634201);const i=new(n()),a=n().DIFF_DELETE,s=n().DIFF_INSERT,l=n().DIFF_EQUAL;function c(e,t){const r=d(e,{count:0,encoding:{},decoding:{}}),n=r.encodedString,o=d(t,r.cypher),a=o.encodedString,s=o.cypher,l=function(e,t){return e.map((([e,r])=>[e,u(r,t)]))}(i.diff_main(n,a),s);return l.filter((([e,t])=>""!==t))}function d(e,t){const r=o().PE(e).map((e=>{const r=t.encoding[e];if(r)return r;{const r=String.fromCharCode(t.count);return t.count++,t.encoding[e]=r,t.decoding[r]=e,r}}));if(t.count>65535)throw new Error("This string has way too many different characters.");const n=r.join("");return{cypher:t,encodedString:n}}function u(e,t){return e.split("").map((e=>t.decoding[e])).join("")}},827570:(e,t,r)=>{r.d(t,{Ay:()=>i,_F:()=>o});var n=()=>r(292588);const o="template_draft",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,locale:n().A.String,description:n().A.String,price:n().A.Number,authors:n().A.StringArray,made_by:n().A.String,tags:n().A.StringArray,attributes:n().A.JSON,block_id:n().A.UUID,created_at:n().A.Number,last_updated_at:n().A.Number,published_version:n().A.Number,status:n().A.String,draft_attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,locale:!0,description:!0,made_by:!0,attributes:!0,created_at:!0,last_updated_at:!0,published_version:!0,status:!0,draft_attributes:!0},model:(0,r(152853).P)({RecordStore:!0})}},829126:(e,t,r)=>{r.d(t,{A:()=>i,W:()=>o});var n=()=>r(292588);const o="global_oauth_client",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,client_name:n().A.String,client_secret:n().A.String,default_scopes:n().A.JSON,redirect_uris:n().A.StringArray,created_at:n().A.Number,updated_at:n().A.Number,metadata:n().A.JSON},model:(0,r(152853).P)({})}},829764:(e,t,r)=>{r.d(t,{Di:()=>o,fQ:()=>i});var n=()=>r(498212);function o(e){return(0,n().gB)(JSON.stringify({table:e.table,contentfulId:e.contentful_id,locale:e.locale}))}function i(e){return(0,n().gB)(JSON.stringify({table:e.table,parent_table:e.parentTable,parentId:e.parentId}))}},834499:(e,t,r)=>{function n(e){return function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(e).toLowerCase()}r.d(t,{Q:()=>n})},835338:(e,t,r)=>{r.d(t,{Ay:()=>u,Cy:()=>d,JY:()=>l,RN:()=>c,gK:()=>i,gU:()=>s,lx:()=>a});var n=()=>r(498212),o=()=>r(292588);function i(e){return{comments:"all",property_updates:"important",mentions:!0,other:!0,explicitly_set_by_user:e.explicitly_set_by_user}}function a(e){return{comments:"all",property_updates:"off",mentions:!0,other:!0,explicitly_set_by_user:e.explicitly_set_by_user}}function s(e){return{comments:"replies",property_updates:"off",mentions:!0,other:!1,explicitly_set_by_user:e.explicitly_set_by_user}}function l(e){return{comments:"all",property_updates:"all",mentions:!0,other:!0,explicitly_set_by_user:e.explicitly_set_by_user}}function c(e){const{user_id:t,navigable_block_id:r}=e;return(0,n().gB)([t,r].join(""))}const d="follow",u={table:d,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,user_id:o().A.UUID,navigable_block_id:o().A.UUID,following:o().A.Boolean,created_time:o().A.Number,space_id:o().A.UUID,follow_settings:o().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},835499:(e,t,r)=>{r.d(t,{B:()=>o});var n=()=>r(42466);const o={[n().Oa6]:48,[n().kzt]:16,[n().eBi]:54,[n().jft]:53,[n().KNP]:166,[n().l1b]:167,[n().Wdc]:113,[n().y$R]:106,[n().Wuo]:13,[n().cKY]:20,[n().TFd]:108,[n().Nm7]:109,[n().YVp]:134,[n().yBS]:77,[n().SC1]:90,[n().OfD]:207,[n().Ok8]:208,[n().kf7]:114,[n().k$w]:196,[n().hrX]:117,[n().evP]:192,[n().H3H]:37,[n().GPl]:39,[n().qPS]:176,[n().hGr]:40,[n().qmW]:138,[n().VlP]:11,[n().Gy1]:12,[n().SNf]:29,[n()._0W]:21,[n().rqL]:171,[n().$XM]:68,[n().eUD]:31,[n().e4Z]:122,[n().$2J]:1,[n().r1d]:59,[n().$YH]:28,[n().HxG]:73,[n().m2N]:36,[n().ITT]:204,[n().$kK]:43,[n().vjA]:44,[n().XHn]:74,[n().gEh]:34,[n().adQ]:42,[n().AsL]:61,[n().hWt]:62,[n().Klg]:205,[n().$MF]:23,[n().HBA]:25,[n().PsW]:72,[n().rGg]:64,[n().DHr]:24,[n().kMj]:180,[n().OjI]:178,[n().T2]:18,[n().Cy3]:15,[n().lo9]:125,[n().iEO]:141,[n().joQ]:135,[n().W8A]:70,[n().hyq]:69,[n().hxQ]:154,[n().Wnz]:130,[n().$$c]:14,[n().yDO]:152,[n().Lij]:55,[n().bhs]:129,[n().SBl]:201,[n().Q4N]:56,[n().bnG]:153,[n().CEK]:116,[n().Yxt]:76,[n().Yxw]:115,[n().aFA]:191,[n().zx0]:110,[n().PXw]:156,[n().dPx]:179,[n().ozN]:162,[n().nYQ]:165,[n().IF6]:158,[n().HtE]:120,[n().jvE]:189,[n().uLb]:190,[n().QOF]:144,[n().KcW]:151,[n().pEW]:174,[r(949502).yA]:210,[r(107072).a8]:211,[n().KqJ]:118,[n()._ig]:123,[n().ULG]:119,[n().UNl]:124,[n().EgT]:150,[n().ziV]:159,[n().V1v]:185,[n().qtq]:186,[n().qrH]:199,[n().lMK]:187,[n().enP]:142,[n().XXy]:168,[n().J6M]:197,[n().OCn]:198,[n().SS3]:206,[n().es0]:58,[n().Sd1]:161,[n().MOG]:22,[n()._pz]:17,[n().oo9]:2,[n().wl6]:57,[n().mEg]:183,[n().pkG]:194,[n().y75]:101,[n().vbv]:200,[n().MRl]:102,[n().ouC]:50,[n().F9f]:49,[n().eV7]:143,[n().KWb]:10,[n().Z4m]:126,[n()._6L]:112,[n().AvP]:46,[n().ez7]:71,[n().sNL]:88,[n().Fub]:89,[n().iPf]:128,[n().Ws0]:184,[n().bwd]:139,[n()._71]:41,[n().Xiz]:149,[n().Xh]:172,[n().GFx]:193,[n().Ghx]:79,[n().kW7]:78,[n().nsO]:82,[n().mlj]:86,[n().sLR]:80,[n().H53]:85,[n().eqd]:83,[n().G4T]:84,[n().oJm]:81,[n().Q$N]:87,[n().Crh]:202,[n().ZPG]:203,[n().ojG]:67,[n().EuC]:121,[n().VY8]:26,[n().Kq7]:27,[n().Xwe]:30,[n().NXh]:3,[n().m3J]:4,[n().aSp]:94,[n().j0B]:52,[n().$RT]:75,[n().Jmj]:91,[n().qcA]:45,[n().gDn]:95,[n().naB]:136,[n().f3c]:137,[n().JrE]:35,[n().aJN]:5,[n().sB_]:92,[n().PcJ]:104,[n().mu7]:6,[n().oNS]:51,[n().ytf]:111,[n().yiT]:177,[n().yKj]:66,[n().XXO]:96,[n().bf7]:127,[n().vnT]:99,[n().Hik]:98,[n()._FR]:100,[n().hRD]:97,[n().R$c]:9,[n().HAA]:155,[n().Toz]:169,[n().mSw]:170,[n().wI1]:7,[n().IvX]:19,[n().A3P]:133,[n().GUg]:157,[n().B7B]:32,[n().yvd]:188,[n().gDt]:47,[n().S6u]:60,[n()._0B]:93,[n().rNM]:38,[n().CsX]:132,[n().bJl]:131,[n().GDR]:8,[n().WQd]:173,[n().pVl]:65,[n().xMx]:33,[n().TFg]:63,[n().du1]:195,[n().C0E]:146,[n().U6v]:175,[n().QRx]:147,[n().lyl]:163,[n().NkI]:164,[n().tEp]:181,[n().yMG]:182,[n().yHj]:209,[n().PuY]:148,[n().EcF]:145,[n().ef6]:160}},835607:(e,t,r)=>{r.d(t,{F:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"0.85 2.79 18.76 14.42",svg:(0,r(474848).jsx)("path",{d:"M11.794 3.936c.57-.71 1.414-1.141 2.456-1.141s1.886.43 2.456 1.14c.558.696.823 1.618.823 2.582s-.265 1.885-.823 2.58c-.57.71-1.414 1.141-2.456 1.141s-1.886-.43-2.456-1.14c-.558-.696-.823-1.618-.823-2.581 0-.964.265-1.886.823-2.581m.975.782c-.341.426-.548 1.052-.548 1.799s.207 1.373.548 1.798c.33.41.813.673 1.481.673s1.152-.262 1.481-.673c.342-.425.548-1.051.548-1.798s-.206-1.373-.548-1.799c-.33-.41-.813-.673-1.48-.673-.669 0-1.152.263-1.482.673M5.75 3.625c-.956 0-1.734.396-2.259 1.05-.513.64-.755 1.484-.755 2.362s.242 1.723.755 2.362c.525.654 1.303 1.05 2.26 1.05s1.733-.396 2.258-1.05c.513-.64.755-1.484.755-2.362s-.242-1.723-.755-2.362c-.525-.654-1.302-1.05-2.259-1.05M3.986 7.037c0-.661.184-1.21.48-1.58.285-.354.702-.582 1.284-.582s1 .228 1.284.582c.297.37.48.919.48 1.58s-.183 1.21-.48 1.58c-.284.354-.701.582-1.284.582-.582 0-1-.228-1.284-.583-.296-.37-.48-.918-.48-1.579m-.948 8.918h4.69c.114.467.337.894.634 1.25H3.038c-.68 0-1.327-.286-1.742-.764-.432-.498-.606-1.209-.265-1.92.823-1.72 2.636-2.896 4.72-2.896 1.128 0 2.178.346 3.034.936a6.6 6.6 0 0 0-.681 1.05 4.1 4.1 0 0 0-2.354-.736c-1.611 0-2.98.908-3.592 2.186-.1.21-.063.393.082.56.161.186.456.334.798.334M14.25 11.21c-2.334 0-4.354 1.36-5.202 3.323-.309.715-.125 1.419.309 1.912.418.476 1.064.76 1.743.76h6.3c.68 0 1.325-.284 1.744-.76.433-.493.617-1.197.308-1.912-.848-1.963-2.868-3.324-5.202-3.324m-4.054 3.818c.645-1.494 2.207-2.569 4.054-2.569s3.409 1.075 4.055 2.57a.52.52 0 0 1-.1.59c-.166.19-.462.336-.805.336h-6.3c-.342 0-.638-.146-.805-.336a.52.52 0 0 1-.1-.59"})},o=(0,r(340498).wt)("people",n,"default")},837241:(e,t,r)=>{r.d(t,{A:()=>i,Z:()=>o});var n=()=>r(292588);const o="plus_lock_waitlist",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,opted_in_at:n().A.Number,opted_in_by_id:n().A.UUID,opted_in_by_table:n().A.String,metadata:n().A.JSON},requiredColumns:{version:!0,space_id:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},837788:(e,t,r)=>{r.d(t,{A:()=>a});r(16280),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);function n(e){return!("object"!=typeof e||!e)&&!(function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==function(e){if(null===e)return void 0===e?"[object Undefined]":"[object Null]";return toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)||Array.isArray(e)||s(e)||l(e))}function o(e,t){return("ignore-class-instances"!==t||!n(e))&&(null==e||Array.isArray(e)&&0===e.length||s(e)&&0===e.size||l(e)&&0===e.size||c(e)&&!s(e)&&!l(e)&&0===Object.keys(e).length)}const i={annotationOpsBefore:!0,annotationOpsAfter:!0,a:!0,b:!0,crdt_data:!0,workflowOperations:!0,threadOperations:!0,threadRecordMap:!0,dashboard_layout_schema:!0};const a=function e(t,r,a=[]){if("ignore-class-instances"===r&&n(t))return t;if(Array.isArray(t)){const n=t;let i=0;for(let t=0;t<n.length;t++){if(a.length>0&&a[0]!==t){n[i]=n[t],i+=1;continue}const s=e(n[t],r,a.slice(1));o(s,r)||(n[i]=s,i+=1)}n.length=i}else if(s(t)){if(a.length>0)throw new Error("Cannot traverse path into a Set");for(const e of t)o(e,r)&&t.delete(e)}else if(l(t)){if(a.length>0)throw new Error("Cannot traverse path into a map");const n=t.keys();for(const i of n){const n=e(t.get(i),r);o(n,r)?t.delete(i):t.set(i,n)}}else if(c(t)){const n=Object.keys(t);for(const s of n){if(i[s])continue;if(a.length>0&&a[0]!==s)continue;const n=e(t[s],r,a.slice(1));o(n,r)?delete t[s]:t[s]=n}}return o(t,r)?void 0:t};function s(e){return e instanceof Set}function l(e){return e instanceof Map}function c(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}},838838:(e,t,r)=>{r.d(t,{Ay:()=>c,KN:()=>i,dT:()=>s,gN:()=>l,nL:()=>o});var n=()=>r(292588);function o(e){return"archetype"in e}const i="ai_connector_connection",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,third_party_id:n().A.String,connection_type:n().A.String,connection_details:n().A.JSON,status:n().A.String,status_reason:n().A.String,auth_details:n().A.JSON,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,version:!0,space_id:!0,parent_id:!0,parent_table:!0,third_party_id:!0,connection_type:!0,connection_details:!0,status:!0,auth_details:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,last_version:!0},model:(0,r(152853).P)({RecordStore:!1})},s={space:!0,organization:!0},l={space:!0,organization:!0},c=a},838968:(e,t,r)=>{r.d(t,{A:()=>i,m:()=>o});var n=()=>r(292588);const o="server_integrations__slack_channel",i={table:o,columnTypes:{id:n().A.UUID,slack_channel_id:n().A.String,slack_workspace_id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,preferences:n().A.JSON}}},840059:(e,t,r)=>{r.d(t,{r:()=>n});const n={CreatedBy:"notion://docs/created_by_property",CreatedTime:"notion://docs/created_time_property",LastEditedBy:"notion://docs/last_edited_by_property",LastEditedTime:"notion://docs/last_edited_time_property",Tags:"notion://docs/doc_tags_property",Type:"notion://docs/type_property",Status:"notion://docs/docs_status_property"}},840911:(e,t,r)=>{r.d(t,{Ay:()=>l,Ps:()=>s,WW:()=>a,q6:()=>i});var n=()=>r(638681),o=()=>r(292588);const i={notion_user:!0},a=n().object({required:{oauth_authorize_url:n().string(),oauth_token_url:n().string(),client_id:n().string(),client_secret:n().string()},optional:{scopes:n().string(),deletion_url:n().string()}});a.value;const s="external_integration_authorization",l={table:s,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,parent_table:o().A.String,parent_id:o().A.String,oauth_authorize_url:o().A.String,oauth_token_url:o().A.String,client_id:o().A.String,client_secret:o().A.String,scopes:o().A.String,deletion_url:o().A.String},model:(0,r(152853).P)({})}},842599:(e,t,r)=>{r.d(t,{C3:()=>p,Ct:()=>f,DT:()=>s,Ff:()=>h,Wy:()=>g,iL:()=>u,j5:()=>b,l2:()=>m,qh:()=>a,xn:()=>d,zN:()=>y});r(944114),r(898992),r(803949),r(581454);var n=()=>r(538556),o=()=>r(496603),i=()=>r(660237);function a(e){if(e){const t=_(e);if(!t)return;const{name:r,domain:n}=t;return`${r.trim().toLowerCase()}@${n.trim().toLowerCase()}`}}function s(e){return Boolean(e&&n().validate(e))}const l=/[a-z0-9.!#$%&'*+/=?^_`{|}~\-]+@[a-z0-9._+\-]+\.[a-z0-9._+\-]+/gi,c=/^[a-z0-9.!#$%&'*+/=?^_`{|}~\-]+(@([a-z0-9._+\-]+(\.[a-z0-9._+\-]+)?)?)?$/gi;function d(e){const t=e.match(c);return null!==t&&t.length>0}function u(e){const t=function(e){const t=e.match(l);if(t&&!(t.length<1))return a(t[0])}(e);return t||""}function p(e){const t=e.match(l);return null===t?[]:o().sb(o().oE(t.map(a)))}function m(e){const t=[],r=[],n=e.split(",").map((e=>e.trim()));n.slice(0,-1).forEach((e=>{if(0===e.length)return;const n=p(e);n.length>0?t.push(...n):r.push(e)}));const i=n[n.length-1],s=p(i);let l="";if(0===s.length)l=i;else if(1===s.length){const e=s[0];a(e)!==a(i)||t.length>0?t.push(e):l=i}else t.push(...s);return{extractedEmails:o().sb(o().oE(t.map(a))),invalidParts:o().sb(r),newInputValue:l}}function f(e){const t=p(e);return t.length>1||1===t.length&&(a(t[0])!==a(e)||e!==e.trimEnd())?{extractedEmails:t,newInputValue:""}:{extractedEmails:[],newInputValue:e}}function _(e){const t=e.lastIndexOf("@"),r=e.substring(0,t),n=e.substring(t+1);if(""!==r&&""!==n)return{name:r,domain:n}}function y(e){var t;if(e)return null===(t=_(e))||void 0===t?void 0:t.domain}function g(e,t){if(!e)return!1;const r=y(t);return o().mK(e,r)}function b(e){return"doubleIn"===(0,i().eh)(e).opt?"https://privacyportal.onetrust.com/ui/#/preferences/multipage/login/85da1f3a-9621-4cdf-a38b-0c15137a20c5":"https://privacyportal.onetrust.com/ui/#/preferences/multipage/login/06108214-ebec-46eb-ba8b-20521af00794"}const v=["gmail.com","googlemail.com","outlook.com","hotmail.com","live.com","msn.com","yahoo.com","icloud.com","me.com","mac.com","aol.com","hey.com","protonmail.com","proton.me","zoho.com","yandex.com","mail.com","gmx.com","qq.com","privaterelay.appleid.com","163.com","126.com","naver.com","foxmail.com","sina.com","gmx.de","web.de","yahoo.com.br","yeah.net","pm.me","hotmail.fr","yahoo.fr","kakao.com","mail.ru"];function h(e){return v.includes(e.toLowerCase())}},845315:(e,t,r)=>{r.d(t,{g:()=>o});const n=(0,r(69708).YK)({workflowDefaultName:{defaultMessage:"Unnamed agent",id:"workflow.defaultName"}});function o(e){return e.formatMessage(n.workflowDefaultName)}},847866:(e,t,r)=>{r.d(t,{Ay:()=>a,dv:()=>i,iP:()=>o});r(898992),r(354520),r(625473);var n=()=>r(292588);const o="record_mention",i={block:!0,comment:!0},a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,type:n().A.String,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,parent_property_id:n().A.String,mentioned_space_id:n().A.UUID,mentioned_table:n().A.String,mentioned_id:n().A.UUID,mentioned_property_id:n().A.UUID},requiredColumns:{type:!0,space_id:!0,parent_table:!0,parent_id:!0,mentioned_table:!0,mentioned_id:!0},model:(0,r(152853).P)({})}},848538:(e,t,r)=>{r.d(t,{$I:()=>k,C4:()=>y,DR:()=>b,GN:()=>I,Jm:()=>h,KM:()=>x,LF:()=>A,MN:()=>T,P:()=>S,SM:()=>m,V2:()=>C,Wf:()=>w,Yr:()=>l,aJ:()=>N,fS:()=>s,i1:()=>_,jM:()=>v,kI:()=>u,l3:()=>p,nc:()=>d,ps:()=>g,v1:()=>c,vp:()=>M,yO:()=>f,zD:()=>P});var n=()=>r(498212),o=()=>r(534177),i=()=>r(416845),a=()=>r(292588);const s=["none","page_guest","restricted_member","member","membership_admin","owner"],l={none:0,page_guest:1,restricted_member:2,member:3,membership_admin:4,owner:5};const c=s.filter(T),d=s.filter(S);function u(e){return!!(0,o().Xk)(s,e)}function p(e){return e.table===N&&function(e){const t=e.split("|"),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}(e.id)}function m(e){const t=e.split("|"),[r,o]=t;if(!(2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)))throw new(i().yI4)("invalid SpaceUserId",{data:{id:e}});return{userId:r,spaceId:o}}function f(e){const{userId:t,spaceId:r}=e;return`${t}|${r}`}function _(e){const{userId:t,spaceId:r}=e;return{id:f({userId:t,spaceId:r}),table:N,spaceId:r}}function y(e){return"member"===e||"restricted_member"===e?"read_and_write":"membership_admin"===e?"membership_admin":"owner"===e?"editor":void(0,o().HB)(e)}function g(e){return function(e){return u(e)?"member"===e||"restricted_member"===e?"read_and_write":"membership_admin"===e?"membership_admin":"owner"===e?"editor":"none"===e||"page_guest"===e?"none":void(0,o().HB)(e):"none"}(e)}function b(e){return u(e)?"member"===e||"restricted_member"===e?"read_and_write":"membership_admin"===e?"membership_admin":"owner"===e?"editor":"none"===e||"page_guest"===e?"none":void(0,o().HB)(e):"none"}function v(e){return"read_and_write"===e?"member":"membership_admin"===e?"membership_admin":"editor"===e?"owner":"none"}function h(e){return"owner"===e}function A(e){return"owner"===e||"membership_admin"===e}function I(e){return"restricted_member"===e}function S(e){return"page_guest"===e}function k(e){return"none"===e}function T(e){return!(!u(e)||k(e)||S(e))}function x(e){return!(!T(e)||I(e))}function M(e){return C({minimumType:"membership_admin",membershipType:e})}function w(e){return C({minimumType:"member",membershipType:e})}function C({minimumType:e,membershipType:t}){return!!t&&l[t]>=l[e]}const N="space_user",P={table:N,columnTypes:{id:a().A.String,user_id:a().A.String,space_id:a().A.String,membership_type:a().A.String,invite_id:a().A.String,version:a().A.Number,last_version:a().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},853040:(e,t,r)=>{r.d(t,{Ay:()=>s,NU:()=>a,kf:()=>o});var n=()=>r(292588);const o="billing_data",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,created_at:n().A.Number,external_id:n().A.String,provider:n().A.String,clock:n().A.JSON,trial:n().A.JSON,email:n().A.String,address:n().A.JSON,payment_method:n().A.JSON,locked_currency_code:n().A.String,tax_ids:n().A.JSON,account_balances:n().A.JSON},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({})},a={space:!0,billing_contract:!0},s=i},855355:(e,t,r)=>{r.d(t,{Ay:()=>u});r(16280),r(18107),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(672577),r(803949),r(581454),r(908872);var n=()=>r(534177),o=()=>r(634201),i=()=>r(201980),a=()=>r(91913),s=()=>r(187534),l=()=>r(1591),c=()=>r(933449);const d={type:"contains",includeEndItem:!1};class u{constructor(e,t){this.parent=void 0,this.children=[],this.sessionId=e,this.textSlice=t}insertText(e,t){(0,c().MX)(!1,"insertText is for testing only");const r=this.getOperationForInsertText(e,t,!0);if(r){const{operation:e}=r;this.applyInsertTextOperation(e)}return this}insertTextValue(e,t){if(0===t.length)return this;const{operations:r}=this.getOperationsForInsertTextValue(e,t,!1);for(const o of r){const e=o.type;"insertText"===e?this.applyInsertTextOperation(o):"addAnnotation"===e||"removeAnnotation"===e?this.applyAnnotationOperation(o):(0,n().HB)(e)}return this}getTextItem(e,t){for(const r of this.iterateTextSliceTrees(e)){const e=r.getTextSlice().getTextItem(t);if(e)return e}}getIndexOfTextItem(e,t){let r=0;for(const o of this.iterateTextSliceTrees()){const i=o.getTextSlice();if(i.textInstanceId===e){const e=i.getIndexOfTextItem(t);if(void 0!==e)switch(e.type){case"visible":return{type:"visible",index:r+e.index};case"deleted":return{type:"deleted",nextVisibleIndex:r+e.nextVisibleIndex};default:(0,n().HB)(e)}}r+=i.getVisibleCount()}}getGraphemeIndexOfTextItem(e,t){const r=this.getIndexOfTextItem(e,t);if(void 0===r)return;const a=this.getTextValue(),s=new(o().FT)(i().qAZ(a));switch(r.type){case"visible":return{type:"visible",index:s.getGraphemeIndex(r.index)};case"deleted":return{type:"deleted",nextVisibleIndex:s.getGraphemeIndex(r.nextVisibleIndex)};default:(0,n().HB)(r)}}getGraphemeIndicesOfSlice(e){let t,r=0;for(const o of this.iterateTextSliceTrees()){const n=o.getTextSlice();if(n.textInstanceId===e.textInstanceId&&("start"===e.boundary&&n.getStartItem().startsWithId(e.start)||"end"===e.boundary&&n.getEndItem().endsWithId(e.end))){t=[r,r+n.getVisibleCount()];break}r+=n.getVisibleCount()}if(!t)return;const n=this.getTextValue(),a=new(o().FT)(i().qAZ(n));return{startIndex:a.getGraphemeIndex(t[0]),exclusiveEndIndex:a.getGraphemeIndex(t[1])}}getOperationsForInsertTextValue(e,t,r){const n=i().q4_(t),o=this.getOperationForInsertText(e,n,r);if(!o)return{operations:[],invertedOperations:[]};const{operation:a,invertedOperation:s}=o,{textSliceTree:l}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(e),{textSlice:c}=l;return{operations:[a,...this.getAnnotationOperationsForInsertTextValue(a,t,c)],invertedOperations:[s]}}getOperationsForInsertTextValueAfterOriginId(e,t,r,n){const o=(0,c().o9)(this.findTextSliceTreeContainingItemWithId(e,r),a().Dp),{textSlice:s}=o,l=i().q4_(n);if(0===l.length)return{operations:[],invertedOperations:[]};const d={type:"insertText",textInstanceId:e,searchLabel:t,id:[this.sessionId,s.opClock.reserveTicks(l.length)],originId:r,content:l},u={type:"invertedInsertText",textInstanceId:e,searchLabel:t,startId:d.id,endId:[d.id[0],d.id[1]+l.length-1]};return{operations:[d,...this.getAnnotationOperationsForInsertTextValue(d,n,s)],invertedOperations:[u]}}getActiveAnnotationsBeforeIndex(e){if(e<0)throw new Error("Index to identify annotations must be non-negative");const t=e-1;if(-1===t)return this.textSlice.getActiveAnnotationsAfterId(this.textSlice.getStartItem().id);{const{textSliceTree:e,originId:r}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(t),{textSlice:n}=e;return n.getActiveAnnotationsAfterId(r)}}getAnnotationOperationsForInsertTextValue(e,t,n){const a=new(o().Z4)(i().qAZ(t)),s=(0,r(957705).k)(t,a),l=n.getActiveAnnotationsAfterId(e.originId),d=new Map,u=new Map;for(const[o,i]of s){const e=l.get(o);if(!e){u.set(o,i);continue}const t=[],n=[];for(const{startIndex:o,endIndex:a,annotation:l,sortIndex:c}of i)(0,r(269288).y)(l,e)?t.push({startIndex:o,endIndex:a}):n.push({startIndex:o,endIndex:a,annotation:l,sortIndex:c});const s=p(t,a.getStringLength()-1);s.length&&d.set(o,s),n.length&&u.set(o,n)}for(const r of l.keys())s.has(r)||((0,c().MX)(!d.has(r),"Annotation already marked for removal"),d.set(r,[{startIndex:0,endIndex:a.getStringLength()-1}]));const m=a.getStringLength(),f=n.getItemIdAfterItem(e.originId),_=[];for(const[r,o]of d){const t=(0,c().o9)(l.get(r),"Active annotations must include given annotation"),a=i().SZO(t);for(const{startIndex:r,endIndex:s}of o){const o=a?{anchor:"before",id:[this.sessionId,e.id[1]+r]}:{anchor:"after",id:r-1>=0?[this.sessionId,e.id[1]+r-1]:e.originId},l={anchor:"before",id:s+1<m?[this.sessionId,e.id[1]+s+1]:f};_.push({type:"removeAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.searchLabel,id:[this.sessionId,n.opClock.reserveTicks(1)],start:o,end:l,annotationKey:i().JIi(t)})}}const y=[...u.values()].flat().sort(((e,t)=>e.sortIndex-t.sortIndex));for(const{startIndex:r,endIndex:o,annotation:c}of y){const t=i().SZO(c),a={anchor:"before",id:[this.sessionId,e.id[1]+r]},s=t?{anchor:"before",id:o+1<m?[this.sessionId,e.id[1]+o+1]:f}:{anchor:"after",id:[this.sessionId,e.id[1]+o]};_.push({type:"addAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.searchLabel,id:[this.sessionId,n.opClock.reserveTicks(1)],start:a,end:s,annotation:c})}return _}getOperationForInsertText(e,t,r=!1){if(0===t.length)return;const{textSliceTree:n,originId:o,prevItems:i}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(e,r),{textSlice:a}=n,s=a.getSearchLabel(),l={type:"insertText",textInstanceId:a.textInstanceId,searchLabel:s,id:[this.sessionId,a.opClock.reserveTicks(t.length)],originId:o,content:t,...r?{prevItems:i}:{}};return{operation:l,invertedOperation:{type:"invertedInsertText",textInstanceId:a.textInstanceId,searchLabel:s,startId:l.id,endId:[l.id[0],l.id[1]+t.length-1]}}}TEST_ONLY__getOperationForInsertText(e,t){return this.getOperationForInsertText(e,t,!0)}applyInsertTextOperation(e){(0,c().o9)(this.findTextSliceContainingItemWithId(e.textInstanceId,e.originId),a().Dp).applyInsertTextOperation({op:e})}deleteText(e,t){return this.getOperationsForDeleteText(e,t).operations.forEach((e=>this.applyDeleteOperation(e))),this}getOperationsForDeleteText(e,t){if((0,c().MX)(e<=t,"Delete start index must be less than or equal to end index"),0===this.getVisibleCount())return{operations:[],invertedOperations:[]};const r=[],n=[];for(const{textSliceTree:a,textSliceStartIndex:l,textSliceEndIndex:d}of this.getTextSliceTreesInRange(e,t)){const{textSlice:u}=a,p=Math.max(0,e-l),m=Math.min(d-l,t-l),f=u.getItemIdsInRange(p,m),_=(0,s().QG)(f),y=u.getTextValue(),g=new(o().FT)(i().qAZ(y)),b=i().Ffo(y,g.getGraphemeIndex(p),g.getGraphemeIndex(m)+1),v=b.reduce(((e,t)=>{var r;return e+((null===(r=t[0])||void 0===r?void 0:r.length)??0)}),0);(0,c().MX)(v===_.length,"Deleted text should have same length as deleted item IDs",{expected:_.length,actual:v}),r.push({type:"deleteText",textInstanceId:u.textInstanceId,searchLabel:u.getSearchLabel(),idRanges:f}),n.push({type:"invertedDeleteText",textInstanceId:u.textInstanceId,searchLabel:u.getSearchLabel(),originId:(0,c().o9)(_.at(-1),"Delete text operation IDs must be non-empty"),deletedTextValue:b,deletedIds:_})}return(0,c().MX)(r.length>0,"Delete operations must be non-empty"),(0,c().MX)(n.length>0,"Inverted delete operations must be non-empty"),{operations:r,invertedOperations:n}}applyDeleteOperation(e){(0,c().o9)(this.findTextSliceContainingItemWithId(e.textInstanceId,(0,c().o9)(e.idRanges[0][0],"Delete text operation ID ranges must be non-empty")),a().Dp).applyDeleteTextOperation(e)}addAnnotation(e,t,r){const{operations:n}=this.getOperationsForAddAnnotation(e,t,r);return n.forEach((e=>this.applyAnnotationOperation(e))),this}removeAnnotation(e,t,r,n=!1){return this.getOperationsForRemoveAnnotation(e,t,r,n).operations.forEach((e=>this.applyAnnotationOperation(e))),this}getOperationsForAddAnnotation(e,t,r){(0,c().MX)(e<=t,"Add annotation start index must be less than or equal to end index");const n=i().SZO(r),o=this.getTextSliceSpansForAnnotationOperation(e,t,n,!1).map((({textSlice:e,start:t,end:n})=>({type:"addAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.getSearchLabel(),id:[this.sessionId,e.opClock.reserveTicks(1)],start:t,end:n,annotation:r})));(0,c().MX)(o.length>0,"Add annotation operations must be non-empty");const{textSliceTree:a,opId:s}=this.getTextSliceTreeAndItemIdForIndex(e),{textSliceTree:l,opId:d}=this.getTextSliceTreeAndItemIdForIndex(t);return{operations:o,invertedOperations:[{type:"invertedAddAnnotation",startTextInstanceId:a.textSlice.textInstanceId,startId:s,endTextInstanceId:l.textSlice.textInstanceId,endId:d,annotationKey:i().JIi(r)}]}}getOperationsForRemoveAnnotation(e,t,r,n=!1){(0,c().MX)(e<=t,"Remove annotation start index must be less than or equal to end index");const a=i().M4u(r),s=i().Kxr(a),l=this.getTextSliceSpansForAnnotationOperation(e,t,s,!0).map((({textSlice:e,start:t,end:n})=>({type:"removeAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.getSearchLabel(),id:[this.sessionId,e.opClock.reserveTicks(1)],start:t,end:n,annotationKey:r})));if((0,c().MX)(l.length>0,"Remove annotation operations must be non-empty"),n)return{operations:l,invertedOperations:[]};const{textSliceTree:d,opId:u}=this.getTextSliceTreeAndItemIdForIndex(e),{textSliceTree:p,opId:m}=this.getTextSliceTreeAndItemIdForIndex(t),f=this.getTextValue(),_=new(o().FT)(i().qAZ(f)),y=i().LPC({textValue:f,startIndex:_.getGraphemeIndex(e),endIndex:_.getGraphemeIndex(t)+1,groupingKey:i().M4u(r)}).find((({annotation:e})=>i().JMm(i().JIi(e),r)));return{operations:l,invertedOperations:y?[{type:"invertedRemoveAnnotation",startTextInstanceId:d.textSlice.textInstanceId,startId:u,endTextInstanceId:p.textSlice.textInstanceId,endId:m,annotation:y.annotation}]:[]}}getTextSliceSpansForAnnotationOperation(e,t,r,n){(0,c().MX)(0<=e&&e<=t&&t<this.getVisibleCount(),"Invalid range to get text slice span",{startIndex:e,endIndex:t});const o=[];for(const{textSliceTree:i,textSliceStartIndex:a,textSliceEndIndex:s}of this.getTextSliceTreesInRange(e,t)){const{textSlice:l}=i;let c,d;c=e<a?{id:l.getStartItem().id,anchor:"after"}:n&&!r?{id:l.getItemIdBeforeIndex(e-a),anchor:"after"}:{id:l.getItemIdAtIndex(e-a),anchor:"before"},d=s<t?{id:l.getEndItem().id,anchor:"before"}:n||r?{id:l.getItemIdAfterIndex(t-a),anchor:"before"}:{id:l.getItemIdAtIndex(t-a),anchor:"after"},o.push({textSlice:l,start:c,end:d})}return o}applyAnnotationOperation(e){(0,c().o9)(this.findTextSliceContainingItemWithId(e.textInstanceId,e.start.id),a().Dp).applyAnnotationOperation({op:e})}splitAtIndex(e){(0,c().MX)(!1,"splitAtIndex is for testing only");const t=this.getOperationsForSplitAtIndex(e),r=t.type;switch(r){case"splitNodeEnd":{const{newTextSliceTree:e,textSliceTreesToMove:r}=t;e.detachFromParent();for(const t of r)t.detachFromParent(),e.appendChild(t);return e}case"splitWithinNode":{const{splitOp:e,textSliceTreesToMove:r}=t,n=this.applySplitOperation(e,!0);n.detachFromParent();for(const t of r)t.detachFromParent(),n.appendChild(t);return n}default:(0,n().HB)(r)}}getOperationsForSplitForMerge(){const{textSlice:e}=this;e.opClock.reserveTicks(20);const t=e.getStartItem();return{type:"splitWithinNode",splitOp:{type:"splitText",textInstanceId:e.textInstanceId,searchLabel:e.getSearchLabel(),id:[this.sessionId,e.opClock.reserveTicks(1)],originId:(0,c().Wg)(t.id,l().XD,a().qP)},textSliceTreeToSplit:this,textSliceTreesToMove:[]}}getOperationsForSplitAtIndex(e){const{textSliceTree:t,originId:r}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(e),{textSlice:n}=t;if(n.isLastOriginItemId(r)){const e=this.getNextTextSliceTree(t);if(e)return{type:"splitNodeEnd",previousTextSliceTree:t,newTextSliceTree:e,textSliceTreesToMove:this.getFollowingTopLevelTextSliceTrees(e)}}return{type:"splitWithinNode",splitOp:{type:"splitText",textInstanceId:n.textInstanceId,searchLabel:n.getSearchLabel(),id:[this.sessionId,n.opClock.reserveTicks(1)],originId:r},textSliceTreeToSplit:t,textSliceTreesToMove:this.getFollowingTopLevelTextSliceTrees(t)}}applySplitOperation(e,t){const r=(0,c().o9)(this.findTextSliceTreeContainingItemWithId(e.textInstanceId,e.originId),a().Dp);r.textSlice.applySplitTextOperation({op:e,originPresentInTextSlice:t});const n=r.textSlice.splitIntoSlices();(0,c().MX)(2===n.length,"Expected two text slices after split");const o=n[1],i=new u(this.sessionId,o);for(;r.children.length;){const e=r.children[0];e.detachFromParent(),i.appendChild(e)}return r.appendChild(i),i}getTextValue(){const e=[];for(const t of this.iterateTextSliceTrees())e.push(...t.textSlice.getTextValue());return i().__s(e)}getText(){return i().q4_(this.getTextValue())}detachFromParent(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}getTextSlice(){return this.textSlice}replaceTextSlice(e){(0,c().MX)(e.textInstanceId===this.textSlice.textInstanceId,"Text instance ID mismatch"),this.textSlice=e}removeChild(e){const t=this.children.indexOf(e);return(0,c().MX)(-1!==t,"Child not found"),this.children.splice(t,1),e.parent=void 0,this}appendChild(e){if((0,c().nh)(e.parent,"Child must not have a parent before appending"),e.parent=this,this.children.push(e),e.hasCycle())throw e.detachFromParent(),new Error("Appending child resulted in a cycle");return this}hasCycle(){const e=new Set;let t=this;for(;t;){if(e.has(t))return!0;e.add(t),t=t.parent}return!1}getTextSliceTreeAndOriginItemIdForInsertionIndex(e,t=!1){let r,n;if(0===e){let e;for(const t of this.iterateTextSliceTrees())if(e=t,t.textSlice.getVisibleCount()>0)break;r=(0,c().o9)(e,"No text slice trees"),n=0}else{const t=(0,c().o9)(this.getTextSliceTreesInRange(e-1,e-1)[0],"No text slice trees including index");r=t.textSliceTree,n=e-t.textSliceStartIndex}const o=r.textSlice,{id:i}=o.getOriginItemForInsertionIndex(n);return{textSliceTree:r,originId:i,prevItems:t?o.getPrevItemsForOriginId(i):void 0}}getTextSliceTreeAndItemIdForIndex(e){const{textSliceTree:t,textSliceStartIndex:r}=(0,c().o9)(this.getTextSliceTreesInRange(e,e)[0],"No text slice trees including index"),n=e-r;return{textSliceTree:t,opId:t.textSlice.getItemIdAtIndex(n)}}findTextSliceContainingItemWithId(e,t,r){var n;return null===(n=this.findTextSliceTreeContainingItemWithId(e,t,r))||void 0===n?void 0:n.textSlice}findTextSliceTreeBeforeTextSliceStartingWithItemId(e,t){let r;for(const n of this.iterateTextSliceTrees()){const{textSlice:o}=n;if(o.textInstanceId===e&&o.getStartItem().startsWithId(t))return r;r=n}}findTextSliceTreeContainingItemWithId(e,t,r=d){for(const o of this.iterateTextSliceTrees(e))switch(r.type){case"contains":if(o.textSlice.containsItemWithId(t,r))return o;break;case"start":if(o.textSlice.getStartItem().startsWithId(t))return o;break;case"end":if(o.textSlice.getEndItem().endsWithId(t))return o;break;default:(0,n().HB)(r)}}getTextSliceTreesInRange(e,t){const r=[];(0,c().MX)(0<=e&&e<=t&&t<this.getVisibleCount(),"Invalid range to get text slice tree",{startIndex:e,endIndex:t});let n=-1;for(const o of this.iterateTextSliceTrees()){const{textSlice:i}=o;if(0===i.getVisibleCount())continue;const a=n+1,s=a+i.getVisibleCount()-1;if(s<e)n=s;else{if(t<a)break;r.push({textSliceTree:o,textSliceStartIndex:a,textSliceEndIndex:s}),n=s}}return r}getNextTextSliceTree(e){let t;for(const r of this.iterateTextSliceTrees()){if(t===e)return r;t=r}}getFollowingTopLevelTextSliceTrees(e){const t=[this];for(;t.length;){const r=(0,c().o9)(t.shift(),"missing tree after shift");if(r===e)return[...t];t.unshift(...r.children)}return[]}getLastTextSliceTreeInPreOrderTraversal(){let e=this;for(const t of this.iterateTextSliceTrees())e=t;return e}getVisibleCount(){let e=0;for(const t of this.iterateTextSliceTrees())e+=t.textSlice.getVisibleCount();return e}*iterateTextSliceTrees(e){const t=[this];for(;t.length>0;){const r=t.pop();e&&r.textSlice.textInstanceId!==e||(yield r);for(let e=r.children.length-1;e>=0;e--)t.push(r.children[e])}}equals(e){if(void 0===e)return!1;if(this===e)return!0;const t=[...this.iterateTextSliceTrees()],r=[...e.iterateTextSliceTrees()];if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){const e=t[n],o=r[n];if(!e.textSlice.equals(o.textSlice))return!1;const i=e.children,a=o.children;if(i.length!==a.length)return!1;for(let t=0;t<i.length;t++){const e=i[t],r=a[t];if(e.textSlice.getSliceKey()!==r.textSlice.getSliceKey())return!1}}return!0}getTextInstanceIds(){const e=new Set;for(const t of this.iterateTextSliceTrees())e.add(t.textSlice.textInstanceId);return e}getMaxClockValueForSession(e){let t=0;for(const r of this.iterateTextSliceTrees())r.sessionId===e&&(t=Math.max(t,r.textSlice.opClock.getValue()));return t}static createEmpty(e=(0,s().Fl)((()=>r(206267))().JW(),"title"),t=(0,(()=>r(793909))().b)(),n=(()=>r(426234))().DI){return new u(t,l().Ay.createEmpty({textInstanceId:e,searchLabel:n}))}}function p(e,t){const r=[];let n=-1;for(const{startIndex:o,endIndex:i}of e)o>n+1&&r.push({startIndex:n+1,endIndex:o-1}),n=i;return t>=n+1&&r.push({startIndex:n+1,endIndex:t}),r}},855826:(e,t,r)=>{r.d(t,{PE:()=>i});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(803949),r(581454);var n=()=>r(797809),o=()=>r(201980);function i(e){const{before:t,after:r,schema:i}=e;return function(e){const{before:t,after:r,schema:i}=e,a=[],s=i?Object.keys(i):n().vn;return s.forEach((e=>{(0,o().dze)(t&&t[e],r&&r[e])&&a.push(e)})),a}({before:null==t?void 0:t.properties,after:null==r?void 0:r.properties,schema:i})}},860620:(e,t,r)=>{r.d(t,{A:()=>i,K:()=>o});var n=()=>r(292588);const o="slack_notification",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,sent:n().A.Boolean}}},861170:(e,t,r)=>{r.d(t,{Bi:()=>o,DK:()=>n,wb:()=>i});const n=(0,r(69708).YK)({notes:{defaultMessage:"Notes",id:"transcriptionBlock.tab.notes"},transcript:{defaultMessage:"Transcript",id:"transcriptionBlock.tab.transcript"},summary:{defaultMessage:"Summary",id:"transcriptionBlock.tab.summary"}});function o(e){var t,r,n;if("transcription"!==e.type)return[];return[{type:"summary",id:null===(t=e.format)||void 0===t?void 0:t.transcription_summary_id},{type:"notes",id:null===(r=e.format)||void 0===r?void 0:r.transcription_notes_id},{type:"transcript",id:null===(n=e.format)||void 0===n?void 0:n.transcription_transcript_id}]}function i(e){const{transcriptionBlockFormat:t,tabBlockId:r}=e;switch(r){case t.transcription_transcript_id:return n.transcript;case t.transcription_notes_id:return n.notes;case t.transcription_summary_id:return n.summary}}},862e3:(e,t,r)=>{r.d(t,{$:()=>i});var n=()=>r(67657),o=()=>r(708685);function i(e){const t=(0,o().getFormulaPropertySchemaResultType)(e);return"formula"===e.type?"date"===t:"rollup"===e.type?Boolean(e.relation_property&&e.target_property&&e.aggregation&&"date"===(0,n().ou)((0,n().ZP)(e.aggregation))):"date"===e.type||"created_time"===e.type||"last_edited_time"===e.type}},862387:(e,t,r)=>{r.d(t,{Ub:()=>l,eE:()=>s,jh:()=>a,vd:()=>i});var n=()=>r(534177),o=()=>r(144081);function i(e,t){for(const r of o().Hj)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o)){if(!(0,n().zR)(e,"view_tab_"))continue;const i=o[e];if(i)for(let n=0;n<i.length;n++){t(i[n],{area:r,viewId:e,index:n})}}}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;const o=Object.values(n);for(let e=0;e<o.length;e++){const n=o[e];t(n,{area:r,moduleId:n.id})}}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}else{const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}}function a(e,t){for(const r of o().E4)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o)){if(!(0,n().zR)(e,"view_tab_"))continue;const i=o[e];if(i)for(let n=0;n<i.length;n++){t(i[n],{area:r,viewId:e,index:n})}}}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;const o=Object.values(n);for(let e=0;e<o.length;e++){const n=o[e];t(n,{area:r,moduleId:n.id})}}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}else{const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}}function s(e,t){for(const r of o().E4)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o))(0,n().zR)(e,"view_tab_")&&t(o[e],{area:r,viewId:e})}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;t(n,{area:r})}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;t(Object.values(n),{area:r})}else{const n=e[r];if(!n)continue;t(n,{area:r})}}function l(e,t){for(const r of o().Hj)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o))(0,n().zR)(e,"view_tab_")&&t(o[e],{area:r,viewId:e})}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;t(Object.values(n),{area:r})}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;t(n,{area:r})}else{const n=e[r];if(!n)continue;t(n,{area:r})}}},865377:(e,t,r)=>{r.d(t,{Ay:()=>a,VY:()=>i,sS:()=>o});var n=()=>r(292588);const o={block:!0},i="slack_integration",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,team_name:n().A.String,channel:n().A.String,channel_id:n().A.String,configuration_url:n().A.String,webhook_url:n().A.String,enabled:n().A.Boolean,parent_id:n().A.UUID,parent_table:n().A.String,channel_locale:n().A.String},model:(0,r(152853).P)({RecordStore:!0})}},867178:(e,t,r)=>{r.d(t,{Ay:()=>i,wI:()=>o});var n=()=>r(292588);const o="token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,timestamp:n().A.Number,revoked:n().A.Boolean,user_ids:n().A.UUIDArray,auth_types:n().A.JSON,admin_user_id:n().A.UUID,expiration_settings:n().A.JSON,refresh_time:n().A.Number,versions:n().A.NumberArray,saml_auth_info:n().A.JSON},model:(0,r(152853).P)({})}},868935:(e,t,r)=>{r.d(t,{A:()=>i,B:()=>o});var n=()=>r(292588);const o="used_credit",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,amount:n().A.Number}}},869190:(e,t,r)=>{r.d(t,{AE:()=>U,PS:()=>_,W_:()=>x,Yq:()=>m,ZF:()=>c,a3:()=>v,aD:()=>w,eV:()=>k,fU:()=>f,jE:()=>N,oo:()=>P,qV:()=>M,rj:()=>I,sH:()=>y,up:()=>b,v9:()=>C,vP:()=>T,wh:()=>d,zI:()=>A,zV:()=>u});r(581454);var n=()=>r(906745),o=()=>r(209199),i=()=>r(534177),a=()=>r(416504),s=()=>r(597777),l=()=>r(604995);function c(e){return u({...e,formatValuesFn:e=>{const{endDate:t,endTime:r,startDate:n}=e;return(0,i().O9)(r)?`${n} ${(0,o().A1)()?"":""} ${r}`:(0,i().O9)(t)?`${n} ${(0,o().A1)()?"":""} ${t}`:n}})}function d(e,t){const{start:r,end:n}=l().AA(e,t);return(0,i().O9)(n)?`${r.toISO()}  ${n.toISO()}`:r.toISO()}function u(e){const{value:t,shortenDateAndRange:r,allowRelativeDates:o,date_format:i,time_format:c,intl:d,alwaysIncludeTimezone:u,formatValuesFn:m,getToday:f}=e,{locale:y}=d,b=e.userTimeZone&&function(e){if(e in p)return p[e];try{Intl.DateTimeFormat(void 0,{timeZone:e})}catch(t){return p[e]=!1,!1}return p[e]=!0,!0}(e.userTimeZone)?e.userTimeZone:(0,a().P)(),v=l().AA(t,b,y),h=Boolean(r),A=i??s().vz,I="date"===t.type||"daterange"===t.type,S=!I&&e.displayInUserTimezone,k=S?v.start.setZone(b):v.start,T=v.end&&S?v.end.setZone(b):v.end,x=k.toLocaleString(n().DateTime.DATE_SHORT).startsWith(String(k.year)),M=g({date:k,dateFormat:A,timeFormat:c,shortenDate:h,allowRelativeDates:o,userTimeZone:b,intl:d,hasRangeDate:x?void 0:T,excludeTime:I,alwaysIncludeTimezone:u,getToday:f});if(T){if("datetimerange"===t.type&&k.startOf("day").equals(T.startOf("day"))){return m({endTime:_({dateTime:T,timeFormat:c,humanReadable:!1}),startDate:M})}return m({endDate:g({date:T,dateFormat:A,timeFormat:c,shortenDate:h,allowRelativeDates:o,userTimeZone:b,intl:d,hasRangeDate:x?k:void 0,excludeTime:I,alwaysIncludeTimezone:u,getToday:f}),startDate:M})}return m({startDate:M})}const p={};function m(e){const{date:t,dateFormat:r,allowRelativeDates:o,shortenDate:i,hasRangeDate:a,intl:c,getToday:d}=e;return o&&"relative"===r?function(e){const{date:t,intl:r,shortenDate:n}=e,o=e.getToday??l().ah,i=o(t.zone),a=Math.round(t.startOf("day").diff(i,"days").get("days"));if(0===a)return r.formatMessage({defaultMessage:"Today",id:"dateFormatHelpers.text.today"});if(1===a)return r.formatMessage({defaultMessage:"Tomorrow",id:"dateFormatHelpers.text.tomorrow"});if(-1===a)return r.formatMessage({defaultMessage:"Yesterday",id:"dateFormatHelpers.text.yesterday"});const s=t.toLocaleString({weekday:n?"short":"long"}),c=function(e,t){const r=e.startOf("week"),n=t.startOf("week"),[o,i]=r<=n?[r,n]:[n,r];return 1===Math.floor(i.diff(o,"week").weeks)}(i,t);if(c)return a>0?r.formatMessage({defaultMessage:"Next {dayOfTheWeek}",id:"dateFormatHelpers.text.nextDayOfTheWeek"},{dayOfTheWeek:s}):r.formatMessage({defaultMessage:"Last {dayOfTheWeek}",id:"dateFormatHelpers.text.lastDayOfTheWeek"},{dayOfTheWeek:s});if(i.weekNumber===t.weekNumber&&i.year===t.year)return s;const d=n&&t.year===i.year,u=k({value:t,preset:n?"medium":"long",options:d?{year:void 0}:void 0});if(n&&t.year===i.year)return u.replace(new RegExp(`, ${t.year}$`),"");return u}({date:t,intl:c,getToday:d,shortenDate:i}):function(e){const{date:t,dateFormat:r,shortenDate:o,hasRangeDate:i}=e,a=function(e){const t="relative"===e.dateFormat||"MMM DD, YYYY"===e.dateFormat?s().vz:e.dateFormat;return s().c1(t)}({dateFormat:r});if("DDD"===a){const e=o&&(!i&&t.year===n().DateTime.now().year||t.year===(null==i?void 0:i.year));return t.toLocaleString({year:e?void 0:"numeric",month:o?"short":"long",day:"numeric"})}return t.toFormat(a)}({date:t,dateFormat:r,shortenDate:i,hasRangeDate:a})}function f(e){const{time_format:t}=e,r=Boolean(e.humanReadable);return _({dateTime:n().DateTime.fromFormat(e.start_time,s().GE).setLocale(e.intl.locale),timeFormat:t,humanReadable:r})}function _(e){const{dateTime:t,humanReadable:r,timeFormat:o}=e;if(r&&"h:mm A"===o){return t.toLocaleString(n().DateTime.TIME_SIMPLE).replace(" ","").toLowerCase()}if(o){const e=s().B4(o);return t.toFormat(e)}return t.toLocaleString(n().DateTime.TIME_SIMPLE)}function y(e){const{time_format:t,intl:r,start_time:o,end_time:i,humanReadable:a}=e;let l=n().DateTime.fromFormat(o,s().GE).setLocale(r.locale).toFormat(s().B4(t)),c=n().DateTime.fromFormat(i,s().GE).setLocale(r.locale).toFormat(s().B4(t));return a&&"h:mm A"===t&&((l.includes("AM")&&c.includes("AM")||l.includes("PM")&&c.includes("PM"))&&(l=l.replace("AM","").replace("PM","")),l.includes(":00")&&c.includes(":00")&&(l=l.replace(":00",""),c=c.replace(":00","")),l=l.replace(" ","").toLowerCase(),c=c.replace(" ","").toLowerCase()),[l,c].join("-")}function g(e){const{date:t,dateFormat:r,timeFormat:n,userTimeZone:o,excludeTime:i,alwaysIncludeTimezone:a}=e;if(!t.isValid)return"";const s=m(e);if(i)return s;const c=[s,_({dateTime:t,timeFormat:n,humanReadable:"relative"===r})].join(" "),d=t.setZone(o);if(a||t.toFormat(l().k8)!==d.toFormat(l().k8)){return`${c} (${t.toFormat("ZZZZ")})`}return c}function b(e,t){const r=e.years;if(r&&r>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} year} other {{number} years}}",id:"dateFormatHelpers.formatDuration.years"},{number:h(r)});const n=e.months||e.month;if(n&&n>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} month} other {{number} months}}",id:"dateFormatHelpers.formatDuration.months"},{number:h(n)});const o=e.days||e.day;if(o&&o>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} day} other {{number} days}}",id:"dateFormatHelpers.formatDuration.days"},{number:Math.round(o)});const i=e.hours||e.hour;if(i&&i>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} hour} other {{number} hours}}",id:"dateFormatHelpers.formatDuration.hours"},{number:Math.round(i)});const a=e.minutes||e.minute||0;return t.formatMessage({defaultMessage:"{number, plural, one {{number} minute} other {{number} minutes}}",id:"dateFormatHelpers.formatDuration.minutes"},{number:Math.round(a)})}function v(e,t,r){const n=l().AA(e,t);if(l().ak(n)){const e=n.end.diff(n.start),t=e.as("year");if(t>=1)return b({years:h(t)},r);const o=e.as("months");if(o>=1)return b({months:h(o)},r);const i=e.as("days");if(i>=1)return b({days:Math.round(i)},r);const a=e.as("hours");if(a>=1)return b({hours:Math.round(a)},r);const s=e.as("minutes");return b({minutes:Math.round(s)},r)}return""}function h(e){return Math.round(10*e)/10}function A(e,t){return(1===e?[1,2,3,4,5,6,7]:[7,1,2,3,4,5,6]).map((e=>[e,n().DateTime.fromObject({weekday:e}).setLocale(t).toLocaleString({weekday:"short"})]))}function I(e){return[1,2,3,4,5].map((t=>[t,n().DateTime.fromObject({weekday:t}).setLocale(e).toLocaleString({weekday:"short"})]))}const S={very_short:{year:"2-digit",month:"numeric",day:"numeric"},short:n().DateTime.DATE_SHORT,short2:{year:"numeric",month:"2-digit",day:"2-digit"},medium:n().DateTime.DATE_MED,medium_with_time:n().DateTime.DATETIME_MED,medium_with_time_no_year:{...n().DateTime.DATETIME_MED,year:void 0},medium_with_seconds:{...n().DateTime.DATETIME_MED,second:"numeric"},long:n().DateTime.DATE_FULL,day:{day:"numeric"},month_long:{month:"long"},month_short:{month:"short"},month_day:{day:"numeric",month:"short"},month_day_time:{day:"numeric",month:"short",hour:"numeric",minute:"numeric"},month_day_long:{day:"numeric",month:"long"},month_year_long:{month:"long",year:"numeric"},month_year_short:{month:"short",year:"numeric"},year:{year:"numeric"},time:{hour:"numeric",minute:"numeric"},time_with_seconds:n().DateTime.TIME_WITH_SECONDS};function k({value:e,preset:t,locale:r,options:n}){return(r?e.setLocale(r):e).toLocaleString({...S[t],...n})}function T(e,t){return"YYYY-MM-DD"===t?e.toISODate():e.toFormat(s().c1(t))}function x(e,t,r,o){return k({value:n().DateTime.fromMillis(e,{locale:r,zone:o}),preset:t})}function M(e){return n().DateTime.fromMillis(e).toUTC().toISO({format:"extended"})}function w(e,t=!1){return(t?n().DateTime.fromMillis(e).toUTC():n().DateTime.fromMillis(e)).toISODate({format:"extended"})}function C(e,t){return n().DateTime.fromMillis(e,{locale:t}).toRelative()??""}function N(e,t,r,o,i){const a=n().DateTime.now().startOf("day"),s=n().DateTime.fromMillis(e,{locale:t}),l=Math.round(s.startOf("day").diff(a,"days").as("days")),c=s.toLocaleString(n().DateTime.TIME_SIMPLE),d=i||"medium_with_time";if(o){if(0===l)return r.formatMessage({defaultMessage:"Today {delimiter} {time}",id:"dateFormatHelpers.formatMillisToCalendar.todayDelimiter"},{delimiter:o,time:c});if(-1===l)return r.formatMessage({defaultMessage:"Yesterday {delimiter} {time}",id:"dateFormatHelpers.formatMillisToCalendar.yesterdayDelimiter"},{delimiter:o,time:c});const e=k({value:s,preset:d});return r.formatMessage({defaultMessage:"{formattedDate} {delimiter} {time}",id:"dateFormatHelpers.formatMillisToCalendar.customDelimiter"},{formattedDate:e,delimiter:o,time:c})}return 0===l?r.formatMessage({defaultMessage:"Today at {time}",id:"dateFormatHelpers.formatMillisToCalendar.todayAt"},{time:c}):-1===l?r.formatMessage({defaultMessage:"Yesterday at {time}",id:"dateFormatHelpers.formatMillisToCalendar.yesterdayAt"},{time:c}):k({value:s,preset:d})}function P(e,t,r,n=!0){const o=new Date(e).getFullYear()!==(new Date).getFullYear()?"long":"month_day_long";return n?N(e,t,r,"",o):x(e,o,t)}function U(e){const{date:t,locale:r,intl:o}=e,i=n().DateTime.now().startOf("day"),a=n().DateTime.fromMillis(t,{locale:r}),s=Math.round(a.diff(i,"days").as("days")),l=Math.round(a.diff(i,"years").as("years")),c=k({value:a,preset:"time"});return 0===s?o.formatMessage({defaultMessage:"Today at {time}",id:"dateFormatHelpers.formatMillisForCitationPreview.todayAt"},{time:c}):-1===s?o.formatMessage({defaultMessage:"Yesterday at {time}",id:"dateFormatHelpers.formatMillisForCitationPreview.yesterdayAt"},{time:c}):k(0===l?{value:a,preset:"medium_with_time_no_year"}:{value:a,preset:"medium_with_time"})}},869558:(e,t,r)=>{r.d(t,{Ay:()=>a,Gy:()=>i,pg:()=>o});var n=()=>r(292588);const o={block:!0,layout:!0},i="collection_view",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,type:n().A.String,name:n().A.String,page_sort:n().A.UUIDArray,parent_id:n().A.UUID,parent_table:n().A.String,alive:n().A.Boolean,format:n().A.JSON,query2:n().A.JSON,space_id:n().A.UUID,created_time:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,last_edited_time:n().A.Number,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,type:!0},defaultColumnValues:{alive:!1},model:(0,r(152853).P)({RecordStore:!0,properties:{query2:{getMethod:"getRawQuery",getKeyStoreMethod:"getQueryStore"},format:{defaultOnRead:{}}}})}},873005:(e,t,r)=>{r.d(t,{Ay:()=>s,ON:()=>i,T2:()=>a});var n=()=>r(206267),o=()=>r(292588);function i(e){const{user_id:t,token:r}=e;return n().gB([t,r].join(""))}const a="firebase_token",s={table:a,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,token:o().A.String,user_id:o().A.UUID,invalid:o().A.Boolean}}},873317:(e,t,r)=>{function n(e,t){const{lowerCaseFirstLetter:r=!0}=t??{};let n=e.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,"");return r&&(n=n.replace(/^(.)/,(e=>e.toLowerCase()))),""===n&&(n="untitled"),r&&/^[^a-z]/.test(n)&&(n=`_${n}`),n}r.d(t,{L:()=>n})},874852:(e,t,r)=>{r.d(t,{Ay:()=>a,b8:()=>o,ou:()=>i});var n=()=>r(292588);const o={block:!0};const i="page_exit",a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,user_id:n().A.UUID,exited_at:n().A.Number,space_id:n().A.UUID},requiredColumns:{parent_table:!0,parent_id:!0,user_id:!0,exited_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},885316:(e,t,r)=>{r.d(t,{A:()=>i,s:()=>o});var n=()=>r(292588);const o="server_integrations__slack_enterprise",i={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number}}},887175:(e,t,r)=>{r.d(t,{A:()=>i,v:()=>o});var n=()=>r(292588);const o="organization_request",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,organization_id:n().A.UUID,space_id:n().A.UUID,type:n().A.String,status:n().A.String,previous_request_id:n().A.UUID,properties:n().A.JSON,requested_by_id:n().A.UUID,requested_by_table:n().A.String,created_time:n().A.Number},requiredColumns:{id:!0,version:!0,organization_id:!0,type:!0,status:!0,requested_by_id:!0,requested_by_table:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},895180:(e,t,r)=>{r.d(t,{A:()=>i,S:()=>o});var n=()=>r(292588);const o="microsoft_oauth",i={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,notion_user_id:n().A.UUID,microsoft_user_tid_oid:n().A.String,access_token:n().A.String,refresh_token:n().A.String},requiredColumns:{id:!0,version:!0,created_time:!0,updated_time:!0,microsoft_user_tid_oid:!0},model:(0,r(152853).P)({RecordStore:!1})}},898244:(e,t,r)=>{r.d(t,{Ho:()=>Ue,Sh:()=>b,mz:()=>Se,Hm:()=>Le,rb:()=>U,rn:()=>Pe,Ky:()=>le,mF:()=>N,D:()=>g,om:()=>ce,YE:()=>de,RM:()=>ue,og:()=>Re,QP:()=>w,ZO:()=>ke,ao:()=>xe,Dp:()=>Te,Q8:()=>Me,v2:()=>E,nP:()=>Ee,Zd:()=>y,zO:()=>v,Nv:()=>h,mh:()=>I,bz:()=>A,ol:()=>Ce,wz:()=>be,$M:()=>se,nu:()=>X,pq:()=>x,UU:()=>L,CH:()=>S,o2:()=>k,bB:()=>fe,hN:()=>R,cP:()=>Be,lb:()=>H,cC:()=>De,F_:()=>ie,Ou:()=>G,st:()=>K,z3:()=>D,sS:()=>J,DQ:()=>te,us:()=>ee,iB:()=>q,qD:()=>pe,sO:()=>ge,sl:()=>Fe,nC:()=>F,bT:()=>V,j4:()=>ne,lx:()=>z,P8:()=>$,DD:()=>j,YW:()=>ye,UH:()=>me,NM:()=>Oe,rd:()=>T,G2:()=>M,rK:()=>Ae,M1:()=>W,WF:()=>Ie,dA:()=>ve,Pl:()=>P,vB:()=>Q,Z8:()=>_,cN:()=>B});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454);var n=()=>r(100622),o=()=>r(496603),i=()=>r(183558),a=()=>r(534177),s=()=>r(148307),l=()=>r(443239),c=()=>r(254947);r(16280);function d(e){if("conditional"===e.type)return{type:e.type,condition:d(e.condition),true:d(e.true),false:d(e.false),result_type:e.result_type};if("constant"===e.type)return{type:e.type,value:e.value,value_type:e.value_type,result_type:e.result_type};if("function"===e.type){const t=e.args||[];return{type:e.type,name:e.name,args:t.map(d),result_type:e.result_type}}if("operator"===e.type){const t=e.args||[];return{type:e.type,operator:e.operator,name:e.name,args:t.map(d),result_type:e.result_type}}if("symbol"===e.type)return{type:e.type,name:e.name,result_type:e.result_type};if("property"===e.type)return{type:e.type,id:e.id,name:e.name,result_type:e.result_type};if("error"===e.type)return{type:e.type,message:e.message,result_type:e.result_type,size:e.size};throw new Error("Invalid formula type.")}var u=()=>r(206267),p=()=>r(792071),m=()=>r(519831),f=()=>r(161479);function _(e){const{collectionId:t,spaceId:r}=e;return{id:t,table:m().Vl,spaceId:r}}function y(e){const t=n().tS.filter((t=>!e.find((e=>e.color===t)))),r=t.length>0?t:n().tS;return r[o().yT(0,r.length-1)]}function g(e,t){const r=[{id:u().JW(),value:t.formatMessage(c().M_.statusOptionNotStarted)},{id:u().JW(),value:t.formatMessage(c().M_.statusOptionInProgress),color:"blue"},{id:u().JW(),value:t.formatMessage(c().M_.statusOptionDone),color:"green"}];return{name:e,type:"status",options:r,groups:[{id:u().JW(),name:c().QV,optionIds:[r[0].id],color:"gray"},{id:u().JW(),name:c().jc,optionIds:[r[1].id],color:"blue"},{id:u().JW(),name:c().P0,optionIds:[r[2].id],color:"green"}],defaultOption:t.formatMessage(c().M_.statusOptionNotStarted)}}let b=function(e){return e[e.SyncProjects=0]="SyncProjects",e[e.SyncAdditionalProperties=1]="SyncAdditionalProperties",e}({});function v(e){var t;return(null===(t=e.collection_pointer)||void 0===t?void 0:t.id)??e.collection_id}function h(e){return e.collection_pointer??(void 0!==e.collection_id?{table:m().Vl,id:e.collection_id,spaceId:(0,f().e)(void 0)}:void 0)}function A(e){const{propertySchema:t}=e;return t.property??t.one_way_relation_placeholder_property}function I(e,t){const r=[];for(const[n,o]of Object.entries(e))o&&"rollup"===o.type&&o.relation_property===t&&r.push(n);return r}function S(e,t,r){return"relation"===t.type&&k(e,t)||"rollup"===t.type&&function(e,t,r){if(!(0,a().O9)(t.relation_property))return!1;const n=null==r?void 0:r[t.relation_property];if("relation"!==(null==n?void 0:n.type))return!1;return k(e,n)}(e,t,r)}function k(e,t){const r=h(t);return!(!e||!(0,a().O9)(null==r?void 0:r.spaceId))&&r.spaceId!==e}function T(e){var t;const{propertySchema:r,property:n,sourceCollectionId:o,targetCollectionSchema:i}=e;if(!r.property)return!1;const a=Boolean(i[r.property]&&"relation"===(null===(t=i[r.property])||void 0===t?void 0:t.type));return(r.property!==n||v(r)!==o)&&a}function x(e){return e.table===m().Vl&&"propertyId"in e}function M(e,t){var r;const n=e.id,o=e.propertyId,i=e.propertySchema,a=t.id,s=i.property;if(!s)return!1;const l=t.getNormalizedSchema()[s];if(!l)return!1;if(!("relation"===l.type))return!1;if(!((null===(r=h(l))||void 0===r?void 0:r.id)===n&&l.property===o))return!1;const c=n===a&&o===s;return!(!i.version&&c)}function w(e){const{type:t}=e;switch(t){case"title":case"text":return"text";case"relation":return"relation";case"checkbox":case"number":case"person":case"file":case"url":case"email":case"phone_number":case"created_time":case"created_by":case"last_edited_time":case"last_edited_by":case"last_visited_time":case"formula":case"rollup":case"select":case"multi_select":case"date":case"button":case"status":case"auto_increment_id":case"location":case"verification":case"place":return"arrow";default:(0,a().HB)(t)}}const C=["person","date"];function N(e){return(0,a().Xk)(C,e)}const P=["title","text","url","email","phone_number","checkbox","person","created_by","last_edited_by","file","select","multi_select","status","number","date","created_time","last_edited_time","last_visited_time","formula","relation","rollup","button","auto_increment_id","location","verification","place"],U=new Set(["last_edited_by","created_by","last_edited_time","created_time","auto_increment_id","location"]);function D(e){return!e||U.has(e.type)}const B=["text","number","select","multi_select","status","date","person","file","checkbox","url","email","phone_number","formula","relation","rollup","created_time","created_by","last_edited_time","last_edited_by","button","auto_increment_id","verification","place"],O=["ai_summary","ai_custom_prompt","ai_extract","ai_translate","ai_keywords"];function R(e){return(0,a().Xk)(O,e)}function E(e){if(R(e))switch(e){case"ai_custom_prompt":case"ai_summary":case"ai_extract":case"ai_translate":return"text";case"ai_keywords":return"multi_select";default:(0,a().HB)(e)}return e}function F(e){return"relation"===e.type}function L(e){return"relation"===e.type&&Boolean(e.connectedRelation)}function V(e){return"rollup"===e.type}function H(e){return"formula"===e.type}function j(e){return"status"===e.type}function q(e){return"place"===e.type}function $(e){return"select"===e.type}function G(e){return"multi_select"===e.type}function z(e){return"select"===e.type||"multi_select"===e.type}function W(e){return"verification"===e.type}function K(e){return"relation"===e.type||"verification"===e.type||"auto_increment_id"===e.type}function Q(e){return B.includes(e.type)&&!K(e)&&!Fe(e)}const Z=["person","multi_select","status","select","number","relation","email","phone_number","text","title","url"];function J(e){return!!e&&(0,a().Xk)(Z,e.type)}function X(e){return"button"===e.type}const Y=["select","multi_select","status"];function ee(e){return(0,a().Xk)(Y,e)}function te(e){return(0,a().Xk)(Y,e.type)}const re=["checkbox","select","multi_select","status"];function ne(e){return(0,a().Xk)(re,e)}const oe=["created_by","created_time","last_edited_by","last_edited_time","auto_increment_id","location"];function ie(e){return(0,a().Xk)(oe,e)}const ae=["text","select","multi_select"];function se(e){return"read_only"!==e.synced_permissions&&(0,a().Xk)(ae,e.type)}function le(e){switch(e.type){case"text":case"checkbox":case"date":case"email":case"number":case"phone_number":case"person":case"multi_select":case"status":case"select":case"url":return!0;case"rollup":case"verification":case"title":case"place":case"relation":case"last_edited_time":case"file":case"last_edited_by":case"last_visited_time":case"location":case"created_time":case"created_by":case"auto_increment_id":case"formula":case"button":return!1;default:(0,a().HB)(e)}}function ce(e){if(e)switch(e.type){case"text":const t=e.ai_inference;return"translate"===(null==t?void 0:t.type)?function(e){if("chinese"===e.toLanguage)return{...e,toLanguage:"chinese (simplified)"};return e}(t):t;case"select":case"multi_select":return e.select_ai_inference;default:return}}function de(e){if("select"===e.type||"multi_select"===e.type||"text"===e.type)return ce(e)}function ue(e){switch(e.type){case"text":return"ai_inference";case"select":case"multi_select":return"select_ai_inference";default:(0,a().HB)(e)}}function pe(e){if(!e)return!1;switch(e.type){case"extract":case"custom":return!0;case"select":case"multi_select":case"summarize":case"translate":return!1;default:throw(0,a().HB)(e)}}function me(e){return"custom"===e||"extract"===e||"translate"===e||"summarize"===e}function fe(e,t){return!!e&&(!("text"!==t||!me(e.type))||("select"===t||"multi_select"===t)&&e.type===t)}const _e=["text","title","url","email","phone_number","number","place"];function ye(e){return _e.includes(e)}function ge(e){return"relation"===e.type||"person"===e.type}const be=["text","relation","url","select","multi_select","person","number","email","phone_number","title","place"],ve=["created_by","created_time","checkbox","last_edited_by","last_edited_time","location"];const he=["verification","button"];function Ae(e){return(0,a().Xk)(he,e)}const Ie=1e3,Se=2e4;function ke(e){const t={},r=Object.keys(e);for(const n of r)(0,i().Ut)(n)&&(t[n]=e[n]);return t}function Te(e){const t=p().Bj6.fromCollection(e),r={...Ne(t),...we(null==t?void 0:t.getSchema(),null==t?void 0:t.id)},n=Ce(r);return r[n]||(r[n]={type:Pe,name:"Name"}),r}function xe(e){return we(null==e?void 0:e.getDeletedSchema())}function Me(e){return we(e.block_schema)}function we(e,t){return function(e,t){const r={...e};let n=!1;const o=Object.keys(r);for(const i of o){const e=r[i];if(e)if((z(e)||j(e))&&e.options){const o=new Set,a=[];for(const r of e.options)r.value&&!o.has(r.value)&&(o.add(r.value),r.collectionIds=t?[t]:void 0,a.push(r));a.length!==e.options.length&&(r[i]={...e,options:a},n=!0)}else if("relation"===e.type)h(e)?e.property||e.version||(r[i]={...e,property:i},n=!0):(r[i]={name:e.name,type:"text"},n=!0);else if("formula"===e.type){const t=e.formula?d(e.formula):void 0,{formula2:o}=e,a=void 0===(null==o?void 0:o.code)?void 0:o;r[i]={...e,formula:t,formula2:a},n=!0}else if(void 0===e.type){const t=e.name;i===Pe&&"string"==typeof t?(r[i]={type:"title",name:t},n=!0):r[i]=void 0}}return{wasNormalized:n,normalizedSchema:r}}(e,t).normalizedSchema}function Ce(e){return Ue in e?Ue:Pe}function Ne(e){var t;const r=null==e||null===(t=e.getFormat())||void 0===t?void 0:t.external_schema;return r?(0,a().MU)(Object.entries(r).flatMap((([t,r])=>{if(void 0===r)return[];const n=`${l().U}${t}`;if("relation"===(null==r?void 0:r.type)){var o;const t=null===(o=e.getFormat())||void 0===o||null===(o=o.related_external_object_uris_to_instance_ids)||void 0===o?void 0:o[r.uri];return t?[[n,{name:r.name,type:null==r?void 0:r.type,collection_id:t,collection_pointer:_({collectionId:t,spaceId:e.getSpaceId()})}]]:[]}return[[n,r]]}))):{}}const Pe="title",Ue=`${l().U}${Pe}`;function De(e){return e===Pe}function Be(e){return e===Ue}function Oe(e){return De(e)||Be(e)}s().A.images.icons.titlePng,s().A.images.icons.textPng,s().A.images.icons.numberPng,s().A.images.icons.urlPng,s().A.images.icons.selectPng,s().A.images.icons.multipleSelectPng,s().A.images.icons.typesStatusSvg,s().A.images.icons.personPng,s().A.images.icons.emailPng,s().A.images.icons.phoneNumberPng,s().A.images.icons.datePng,s().A.images.icons.filePng,s().A.images.icons.checkboxPng,s().A.images.icons.formulaPng,s().A.images.icons.relationPng,s().A.images.icons.relationPng,s().A.images.icons.createdAtPng,s().A.images.icons.createdByPng,s().A.images.icons.createdAtPng,s().A.images.icons.createdByPng,s().A.images.icons.createdAtPng,s().A.images.icons.formulaPng,s().A.images.icons.idPng,s().A.images.icons.locationPng,s().A.images.icons.verificationSvg,s().A.images.icons.verificationSvg;function Re(e){const{collectionId:t,property:r,propertySchema:n,newOption:i,isAscending:a}=e,s=n.options||[],l=o().SL(s,(e=>e.value.localeCompare(i.value,void 0,{sensitivity:"base"})*(a?1:-1)>=0));return-1!==l?{pointer:{table:m().Vl,id:t},command:"keyedObjectListBefore",path:["schema",r,"options"],args:{value:i,before:s[l]}}:{pointer:{table:m().Vl,id:t},command:"keyedObjectListAfter",path:["schema",r,"options"],args:{value:i}}}function Ee(e){const{newTokenValues:t,property:r,propertySchema:n,collectionId:o}=e;if(!z(n))return;const i=n.options||[],a=t.flatMap((e=>e.filter((e=>e&&!i.find((t=>t.value.toLowerCase()===e.toLowerCase()))))));if(0===a.length)return;const s=[];return a.forEach((e=>{const t=y(i),a={id:u().JW(),value:e,color:t};"alphabetical"===n.auto_sort_options||"reverse_alphabetical"===n.auto_sort_options?s.push(Re({collectionId:o,property:r,propertySchema:n,newOption:a,isAscending:"alphabetical"===n.auto_sort_options})):s.push({pointer:{table:m().Vl,id:o},command:"keyedObjectListAfter",path:["schema",r,"options"],args:{value:a}})})),s}function Fe(e){return"read_only"===e.synced_permissions}const Le=50},899605:(e,t,r)=>{r.d(t,{Ay:()=>i,Jr:()=>o});var n=()=>r(292588);const o="space_recover_pages",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,space_id:n().A.UUID,pages:n().A.StringArray,workflows:n().A.StringArray,created_time:n().A.Number,last_edited_time:n().A.Number}}},901610:(e,t,r)=>{function n(e){return o(e.type)}function o(e){return"column"===e||"bar"===e||"line"===e}r.d(t,{I:()=>o,m:()=>n})},908651:(e,t,r)=>{r.d(t,{A:()=>i,p:()=>o});var n=()=>r(292588);const o="user_session_auth_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,expires_at:n().A.Number,cookies:n().A.JSON,source_type:n().A.String}}},908948:(e,t,r)=>{r.d(t,{Gf:()=>a,RT:()=>l,W:()=>i,fe:()=>o,r5:()=>s});r(944114);var n=()=>r(425877);function*o(e,t){let r=e;for(;r;){let e=!0;(null==t||!t.includeDeleted)&&r instanceof n().pC&&r.isDeleted()?e=!1:null!=t&&t.includeEndItem||r.next||(e=!1),e&&(yield r),r=r.next}}function i(e){let t=e;for(const r of o(e,{includeDeleted:!0,includeEndItem:!0}))t=r;return t}function a(e){let t=0;for(const r of o(e,{includeDeleted:!1}))r instanceof n().pC&&(t+=r.getLength());return t}function s(e){const t=[e];let r=e.next;for(;r;)if(r instanceof n().of&&r.next){const e=r.clone(),n=r.next;e.next=n,n.prev=e,e.prev=void 0,r.next=void 0,t.push(e),r=e.next}else r=r.next;return t}function l(e){for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t]}},912720:(e,t,r)=>{r.d(t,{Ay:()=>c,Vx:()=>l,bs:()=>o,cK:()=>s,wt:()=>i,yB:()=>a});var n=()=>r(292588);const o={block:!0,collection:!0};function i(e){return!1===e.frequency}const a="automation",s=300,l=30,c={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,alive:n().A.Boolean,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,status:n().A.String,trigger:n().A.JSON,action_ids:n().A.StringArray,run_at:n().A.Number,properties:n().A.JSON,copied_from_pointer:n().A.JSON,last_executed_time:n().A.Number,last_failed_time:n().A.Number,last_failed_reason:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,alive:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,status:!0,trigger:!0},defaultColumnValues:{status:"disabled"},model:(0,r(152853).P)({RecordStore:!0,properties:{copied_from_pointer:{getMethod:"getCopiedFrom",getKeyStoreMethod:!1,getRelationStoreMethod:!1},trigger:{getKeyStoreMethod:!1}}})}},914462:(e,t,r)=>{r.d(t,{D:()=>n,n:()=>o});const n=(0,r(69708).YK)({groupPlaceHolder:{id:"sharedSpacePermissionGroupHelpers.permissionGroup.anonymous",defaultMessage:"Anonymous group"},untitledGroupName:{defaultMessage:"Untitled",id:"sharedSpacePermissionGroupHelpers.permissionGroup.untitled"}});function o(e){const{intl:t,permissionGroupModel:r}=e;return r?0===r.name.length?t.formatMessage(n.untitledGroupName):`${r.name}`:t.formatMessage(n.groupPlaceHolder)}},919767:(e,t,r)=>{r.d(t,{h:()=>u});r(581454);var n=()=>r(496603),o=()=>r(939768),i=()=>r(700500),a=()=>r(713998),s=()=>r(561565),l=()=>r(179034),c=()=>r(201980),d=()=>r(506391);function u({blockModel:e,getRecordModel:t,externalIntegrations:r,intl:u}){var p,m;let f;if(!e.isType(i().xd.externalObjectInstance)&&!e.isType(i().xd.externalObjectInstancePage))return;if(f=e.getFormatValue("original_url")||e.getFormatValue("uri"),!f)return;const _=o().Jf({str:o().qg(f).href,allowNoProtocol:!0});if(e.isType(i().xd.externalObjectInstance)&&!_)return;const y=(0,d().$B)({url:f,integrations:r,currentSpaceId:e.getSpaceId()});let g=[];const b="success"===y.type?y.pattern.name:void 0,v=(0,s().e)(b),h=e.getFormatValue("related_external_object_uris_to_instance_ids"),A=Object.values(h||{});g=n().oE(A.map((r=>{var n;return null===(n=t({table:l().ev,id:r,spaceId:e.getSpaceId()}))||void 0===n?void 0:n.getFormat()})));const I="success"===y.type?(0,d().WS)({url:f,integration:y.integration}):[],S="success"===y.type?y.integration.info.icon:void 0,k=v.inline({integrationIcon:S,root:e.getFormat(),relations:g,parsedAttributes:I});if(null!=k&&null!==(p=k.title)&&void 0!==p&&p.formatter&&(0,d().cz)(k.title.attribute)){const{attribute:e,formatter:t}=k.title;return u.formatMessage(t,{value:e.values[0]})}return null!=k&&null!==(m=k.title)&&void 0!==m&&m.attribute&&(0,d().cz)(k.title.attribute)?k.title.attribute.values[0]:(0,a().yQ)(e,"title")?c().q4_((0,a().yQ)(e,"title")):_||f}},921940:(e,t,r)=>{r.d(t,{A:()=>f,L:()=>m});r(814603),r(147566),r(198721);var n=()=>r(498212),o=()=>r(939768),i=()=>r(584262),a=()=>r(700500),s=()=>r(713998),l=()=>r(305785),c=()=>r(792071),d=()=>r(427704),u=()=>r(201980),p=()=>r(530199);function m({config:e,domainName:t,isCustomHostname:r}){const{port:n,protocol:i}=new URL(e.domainBaseUrl);return r?o().GP({protocol:i,hostname:t,port:n}):o().GP({protocol:i,host:`${t}.${e.publicDomainName}`})}function f(e){const{pageId:t,spaceDomain:r,scrollToBlockId:m,peekViewBlockId:f,peekMode:_,collectionViewId:y,baseUrl:g,discussionId:b,snapshotTimestamp:v,showMoveTo:h,saveParent:A,duplicate:I,pageVisitSource:S,templateGalleryItem:k,projectManagementLaunch:T,notificationId:x,analyticsNotificationId:M,openPageUpdatesTab:w,updateSidebarTab:C,workflowViewType:N,workflowViewId:P,workflowPrompt:U,chatThreadId:D,queryId:B,demoWorkspaceMode:O,slug:R,embedded:E,config:F,origin:L,autoStartTranscriptionNonce:V,backToSpace:H}=e;let j;"pageModel"in e&&e.pageModel?j=e.pageModel:"pageValue"in e&&e.pageValue&&(j=c().Bj6.fromValue("block",e.pageValue));let q,$="";if(j&&(0,a().Db)(j.getType(),j.getFormat())&&(0,s().yQ)(j,"title")&&!E){const e=(0,s().yQ)(j,"title");$=u().k4p(e||[]).replace(/[^\w]/g," ").trim().slice(0,100).split(/\s+/g).join("-")}q=E?`${d().GJ.embedPublicPages}/`:"/",r&&(q+=`${r}/`),void 0!==R?q+=`${R}`:t&&(q+=$?`${$}-${n().Xw(t)}`:`${n().Xw(t)}`),g&&(q=`${g}${q}`);let G={};return y&&(G.v=n().Xw(y)),f&&(G[p().ZI]=n().Xw(f)),_&&(G.pm=_),b&&(G.d=n().Xw(b)),v&&(G[p().lr]=v),x&&(G.n=n().Xw(x)),G={...G,...(0,l().s)({pageVisitSource:S,queryId:B,analyticsNotificationId:M,chatThreadId:D})},h&&(G.showMoveTo="true"),A&&(G.saveParent="true"),H&&(G.bts=JSON.stringify(H)),I&&(G.duplicate="true"),k&&(G.tg=k),T&&(G.pjm="true"),w&&(G[i().ec]="true"),void 0!==C&&(G.updateSidebarTab=String(C)),O&&(G.demoWorkspaceMode="true"),N&&(G[p().CS]=N),P&&(G.wfk=n().Xw(P)),U&&(G.wfp=U),F&&(G[p().q8]=JSON.stringify(F)),L&&(G.origin=L),V&&(G[p().Gh]=V),o().Gm({url:q,query:G,hash:m&&n().Xw(m)})}},922189:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>o,personCircleFillIcon:()=>i});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10 5.125c-.95 0-1.723.393-2.245 1.044-.51.635-.75 1.474-.75 2.346s.24 1.71.75 2.346c.522.65 1.295 1.044 2.245 1.044s1.723-.394 2.245-1.044c.51-.635.75-1.474.75-2.346s-.24-1.711-.75-2.346c-.522-.65-1.294-1.044-2.245-1.044"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.268C6.702 13.495 8.246 12.56 10 12.56s3.298.934 4.087 2.332A6.375 6.375 0 0 0 10 3.626"})]})},i=(0,r(340498).wt)("personCircleFill",o,"fill")},925753:(e,t,r)=>{r.d(t,{Ay:()=>i,R$:()=>o});var n=()=>r(292588);const o="temporary_password",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,password:n().A.String,timestamp:n().A.Number,use_case:n().A.String,saml_config_id:n().A.UUID,challenge_token:n().A.String}}},926397:(e,t,r)=>{r.d(t,{Ay:()=>a,Hx:()=>i,qF:()=>o});var n=()=>r(292588);const o={notion_user:!0},i="domain_verification_code";const a={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,domain:n().A.String,verification_code:n().A.String,created_at:n().A.Number,expires_at:n().A.Number,verified_at:n().A.Number,alive:n().A.Boolean,type:n().A.String,info:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},927826:(e,t,r)=>{function n(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}r.d(t,{W:()=>n})},931075:(e,t,r)=>{r.d(t,{B2:()=>g,D6:()=>x,Ep:()=>b,F7:()=>S,FG:()=>y,RD:()=>k,U1:()=>_,Yh:()=>f,_e:()=>p,dx:()=>v,gi:()=>A,gj:()=>I,nl:()=>w,sN:()=>h,yj:()=>u});r(16280),r(898992),r(354520);var n=()=>r(906745),o=()=>r(69708),i=()=>r(534177),a=()=>r(187696),s=()=>r(597777),l=()=>r(604995),c=()=>r(437607),d=()=>r(201980);const u=[90,30,7],p={Owner:"verification_owner",Verification:"verification"},m=["verified","archived"];function f(e){return 3===e.length?e:2===e.length?[...e,"verified"]:void(0,i().HB)(e)}function _(e){if(!e)return;const t=d().jEb({value:e,convertGroupPointersToBeComposite:!0}).filter((e=>e.table!==c().n));if(0===t.length)return;const r=(0,a().b)(e);if(!r||!(0,s().Ar)(r)&&!(0,s().L3)(r))return;let n="verified";for(const o of d().RQ(e))if(d().bHQ(o)&&(0,i().Xk)(m,o[0])){n=o[0];break}return[t[0],r,n]}const y=["verified","expired","archived","none"];function g(e){if(!e)return{type:"none"};const[t,r,o]=f(e),a=l().Dz(r);if(!a)return{type:"none"};switch(o){case"verified":return l().ak(a)?function(e){return e.end.valueOf()<=n().DateTime.now().valueOf()}(a)?{type:"expired",actorPointer:t,dateTimeRange:a}:{type:"verified",actorPointer:t,isIndefinite:!1,dateTimeRange:a}:{type:"verified",actorPointer:t,isIndefinite:!0,startDateTime:a.start};case"archived":return{type:"archived",actorPointer:t,isIndefinite:!0,startDateTime:a.start};default:(0,i().HB)(o)}}function b(e){switch(e.type){case"verified":case"expired":return"verified";case"archived":return"archived";default:(0,i().HB)(e)}}function v(e){if(!e)return g(void 0);return g(_(e.getProperty(p.Verification)))}function h(e){return"verified"===v(e).type}function A(e){switch(e.type){case"verified":case"archived":return e.isIndefinite?e.startDateTime:e.dateTimeRange.start;case"expired":return e.dateTimeRange.start;default:(0,i().HB)(e)}}function I(e){return e.end.diff(e.start,"days").days}function S(e){return n().DateTime.min(e,n().DateTime.now()).toRelative()}function k(e,t){if(e<0)throw new Error("negative number of days");if(!isFinite(e))throw new Error("non-finite number of days");const r=t.plus({days:e}).startOf("day");return{start:t,end:r}}const T=(0,o().YK)({verified:{defaultMessage:"Verified",id:"verificationHelpers.verified"},expired:{defaultMessage:"Expired",id:"verificationHelpers.expired"},archived:{defaultMessage:"Archived",id:"verificationHelpers.archived"},none:{defaultMessage:"Empty",id:"verificationHelpers.empty"}});function x(e){return T[e]}const M=(0,o().YK)({verifiedIndefinitely:{defaultMessage:"Verified by {actor} indefinitely",id:"verificationHelpers.verifiedIndefinitely"},archivedIndefinitely:{defaultMessage:"Archived by {actor} on {datetime}",id:"verificationHelpers.archivedIndefinitely"},verifiedUntil:{defaultMessage:"Verified by {actor} until {datetime}",id:"verificationHelpers.verifiedUntil"}}),w={...T,...M}},933449:(e,t,r)=>{r.d(t,{MX:()=>i,Wg:()=>l,nh:()=>s,o9:()=>a,oC:()=>c});var n=()=>r(416845),o=()=>r(220719);function i(e,t,r){return o().MX(e,t,r,n().QkH)}function a(e,t,r){return o().o9(e,t,r,n().QkH)}function s(e,t,r){return o().nh(e,t,r,n().QkH)}function l(e,t,r,i){return o().Wg(e,t,r,i,n().QkH)}function c(e,t,r,i){return o().oC(e,t,r,i,n().QkH)}},935136:(e,t,r)=>{r.d(t,{E:()=>n,I:()=>o});r(898992),r(354520);const n={string_is:!0,string_is_not:!0,string_contains:!0,string_does_not_contain:!0,string_starts_with:!0,string_ends_with:!0,is_empty:!0,is_not_empty:!0,string_has_no_alphabet_prefix:!1},o=(0,r(720665).HP)(n).filter((e=>n[e]))},936802:(e,t,r)=>{r.d(t,{Ab:()=>g,FS:()=>f,OA:()=>c,Pg:()=>m,fD:()=>u,ig:()=>_,l$:()=>y,lJ:()=>v,up:()=>b});var n=()=>r(534177),o=()=>r(109100),i=()=>r(179034),a=()=>r(519831);const s=(0,r(69708).YK)({peopleCollectionName:{id:"people.collection.collectionName",defaultMessage:"People"},peopleCollectionTableViewName:{id:"people.collection.tableViewName",defaultMessage:"Directory View"},peopleCollectionGalleryViewName:{id:"people.collection.galleryViewName",defaultMessage:"Card View"},propertyNameName:{id:"people.collection.property.name",defaultMessage:"Name"},propertyNameEmail:{id:"people.collection.property.email",defaultMessage:"Email"},propertyNamePerson:{id:"people.collection.property.person",defaultMessage:"Person"},propertyNameTitle:{id:"people.collection.property.title",defaultMessage:"Title"},propertyNameAbout:{id:"people.collection.property.about",defaultMessage:"About"},propertyNameAddress:{id:"people.collection.property.address",defaultMessage:"Address"},propertyNameAlternateEmails:{id:"people.collection.property.alternateEmails",defaultMessage:"Alternate Emails"},propertyNameLocale:{id:"people.collection.property.locale",defaultMessage:"Locale"},propertyNameManagerName:{id:"people.collection.property.managerName",defaultMessage:"Manager Name"},propertyNameManager:{id:"people.collection.property.manager",defaultMessage:"Manager"},propertyNamePhoneNumber:{id:"people.collection.property.phoneNumber",defaultMessage:"Phone Number"},propertyNamePreferredLanguage:{id:"people.collection.property.preferredLanguage",defaultMessage:"Preferred Language"},propertyNameTimezone:{id:"people.collection.property.timezone",defaultMessage:"Timezone"},propertyNameCostCenter:{id:"people.collection.property.costCenter",defaultMessage:"Cost Center"},propertyNameDepartment:{id:"people.collection.property.department",defaultMessage:"Department"},propertyNameDivision:{id:"people.collection.property.division",defaultMessage:"Division"},propertyNameOrganization:{id:"people.collection.property.organization",defaultMessage:"Organization"},propertyNameUserType:{id:"people.collection.property.userType",defaultMessage:"User Type"},propertyNameMembershipType:{id:"people.collection.property.membershipType",defaultMessage:"Membership Type"}}),l="people:";function c(e){return`${l}${e}`}function d(e){return c(`scim:${e}`)}function u(){return[c("person")]}function p(e){return d(`urn:ietf:params:scim:schemas:extension:${e.extension}:2.0:${e.property}`)}function m(e){const{spaceIdCreator:t}=e;return t.deterministicIdInSavedSpace(i().ev,"people-collection-view-page")}function f(e){const{spaceIdCreator:t}=e;return t.deterministicIdInSavedSpace(a().Vl,"people-collection")}function _(e){const{spaceIdCreator:t}=e;return{id:f({spaceIdCreator:t}),table:a().Vl,spaceId:t.getSpaceId()}}function y(e){if(!e)return!1;switch(e){case"owner":case"membership_admin":case"member":return!0;case"restricted_member":case"page_guest":case"none":return!1;default:(0,n().HB)(e)}}const g={title:{id:d("title"),name:s.propertyNameTitle.defaultMessage,type:"text"},addresses:{id:d("addresses"),name:s.propertyNameAddress.defaultMessage,type:"text"},emails:{id:d("emails"),name:s.propertyNameAlternateEmails.defaultMessage,type:"email"},locale:{id:d("locale"),name:s.propertyNameLocale.defaultMessage,type:"text"},managerDisplayName:{id:d("manager.displayName"),name:s.propertyNameManagerName.defaultMessage,type:"text"},managerValue:{id:d("manager.value"),name:s.propertyNameManager.defaultMessage,type:"person"},phoneNumber:{id:d("phoneNumber"),name:s.propertyNamePhoneNumber.defaultMessage,type:"phone_number"},preferredLanguage:{id:d("preferredLanguage"),name:s.propertyNamePreferredLanguage.defaultMessage,type:"text"},timezone:{id:d("timezone"),name:s.propertyNameTimezone.defaultMessage,type:"text"},costCenter:{id:p({extension:"enterprise",property:"User.costCenter"}),name:s.propertyNameCostCenter.defaultMessage,type:"text"},department:{id:p({extension:"enterprise",property:"User.department"}),name:s.propertyNameDepartment.defaultMessage,type:"text"},division:{id:p({extension:"enterprise",property:"User.division"}),name:s.propertyNameDivision.defaultMessage,type:"text"},organization:{id:p({extension:"enterprise",property:"User.organization"}),name:s.propertyNameOrganization.defaultMessage,type:"text"},userType:{id:d("userType"),name:s.propertyNameUserType.defaultMessage,type:"text"}};function b(){return Object.values(g).sort(((e,t)=>e.name.localeCompare(t.name)))}function v(e){switch(e){case"owner":return o().S.workspaceOwnerLabel.defaultMessage;case"membership_admin":return o().S.membershipAdminLabel.defaultMessage;case"member":return o().S.memberLabel.defaultMessage;case"restricted_member":return o().S.restrictedMemberLabel.defaultMessage;case"page_guest":return o().S.guestLabel.defaultMessage;case"none":return o().S.deactivatedLabel.defaultMessage;default:(0,n().HB)(e)}}},938379:(e,t,r)=>{r.d(t,{C:()=>c,f:()=>l});var n=()=>r(498212),o=()=>r(939768),i=()=>r(305785),a=()=>r(530199);const s="ds";function l(e){const{collectionAnnotation:t,spaceId:r,spaceDomain:n,parentCvbId:o,domainBaseUrl:i,...a}=e;return c({collectionId:t[1],spaceId:t[2]??r,spaceDomain:n,parentCvbId:t[3]??o,domainBaseUrl:i,...a})}function c(e){const{spaceId:t,spaceDomain:r,collectionId:l,domainBaseUrl:c,parentCvbId:d,...u}=e;let p={};d&&(p[a().vB]=(0,n().S2)(d)),p={...p,...(0,i().s)(u)};const m=r||(t?(0,n().S2)(t):void 0),f=`${m?`/${m}`:""}/${s}/${(0,n().S2)(l)}`;return o().Gm({url:c?`${c}${f}`:f,query:p})}},942198:(e,t,r)=>{r.d(t,{A:()=>i,g:()=>o});var n=()=>r(292588);const o="evernote_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,account:n().A.String,request_token:n().A.String,request_secret:n().A.String,access_token:n().A.String,access_secret:n().A.String,created_time:n().A.Number}}},945038:(e,t,r)=>{r.d(t,{OF:()=>c,h5:()=>l,xl:()=>d});r(16280),r(944114);var n=()=>r(534177),o=()=>r(191507),i=()=>r(498212),a=()=>r(615316);function s(e){const t=e.edge_type;if(t.startsWith(o().SC)){const{sourceCollectionId:e,sourcePropertyId:r,targetCollectionId:n,targetPropertyId:s}=function(e){const t=e.substring(o().SC.length),[r,n]=t.split(o().tf);if(!r||!n)throw new Error(`Invalid edge type name: ${e}`);const[a,s]=r.split(o().vX),[l,c]=n.split(o().vX);if(!(0,i().uj)(a))throw new Error(`Invalid source collection ID: ${a}`);if(!(0,i().uj)(l))throw new Error(`Invalid target collection ID: ${l}`);return{sourceCollectionId:a,sourcePropertyId:s,targetCollectionId:l,targetPropertyId:c}}(t);return(0,a().Q)({sourceCollectionId:e,sourcePropertyId:r,targetCollectionId:n,targetPropertyId:s})}for(const r of o().lP)if(t===r.typeName||t===r.reverseTypeName)return r;throw new Error(`Invalid edge_type: ${t}`)}function l(e){const{spaceIdCreator:t,edgeType:r,sourceId:i,targetId:a}=e,s=r.reverseTypeName,l=o().Ci[r.cardinality];return{forwardId:(()=>{switch(l.forward){case"source-and-target":return t.deterministicIdInSavedSpace("edge",`${r.typeName}:${i}:${a}`);case"source-only":return t.deterministicIdInSavedSpace("edge",`${r.typeName}:${i}`);default:(0,n().HB)(l.forward)}})(),reverseId:(()=>{switch(l.reverse){case"source-and-target":return t.deterministicIdInSavedSpace("edge",`${s}:${a}:${i}`);case"target-only":return t.deterministicIdInSavedSpace("edge",`${s}:${a}`);default:(0,n().HB)(l.reverse)}})()}}function c(e){const{spaceIdCreator:t,edgeType:r,sourcePointer:n,targetPointer:o,metadata:i={}}=e,a=t.getSpaceId(),{forwardId:s,reverseId:c}=l({spaceIdCreator:t,edgeType:r,sourceId:n.id,targetId:o.id}),d=Date.now(),u=r.reverseTypeName;return{forwardEdge:{id:s,space_id:a,version:1,edge_type:r.typeName,source_table:n.table,source_id:n.id,target_table:o.table,target_id:o.id,alive:!0,metadata:i,created_at:d,updated_at:d},reverseEdge:{id:c,space_id:a,version:1,edge_type:u,source_table:o.table,source_id:o.id,target_table:n.table,target_id:n.id,alive:!0,metadata:i,created_at:d,updated_at:d}}}function d(e){const{model:t,spaceIdCreator:r}=e,n=s(t),{forwardId:o,reverseId:i}=l({spaceIdCreator:r,edgeType:n,sourceId:t.source_id,targetId:t.target_id});if(t.id===o)return i;if(t.id===i)return o;throw new Error(`Invalid edge ID: ${t.id}`)}},945778:(e,t,r)=>{r.d(t,{A:()=>n});const n=function(e){return!(!e||e.length>100||e.startsWith("data")||e.startsWith("http")||e.startsWith("/images")||e.startsWith("/icons")||e.startsWith("notion:")||e.startsWith("attachment:"))&&r(289887).onlyEmoji(e).length>0}},946064:(e,t,r)=>{r.d(t,{Ay:()=>i,y7:()=>o});var n=()=>r(292588);const o="organization",i={table:o,columnTypes:{id:n().A.UUID,name:n().A.String,roles:n().A.JSON,version:n().A.Number,last_version:n().A.Number,alive:n().A.Boolean,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,default_space_settings:n().A.JSON,email_domains:n().A.StringArray,managed_user_settings:n().A.JSON,saml_provisioning_space_id:n().A.UUID,icon:n().A.String,onboarding_status:n().A.String},requiredColumns:{id:!0,name:!0,version:!0,alive:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,onboarding_status:!0,managed_user_settings:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{icon:{getMethod:"getRawIcon"}}})}},949502:(e,t,r)=>{r.d(t,{Ay:()=>a,B6:()=>i,yA:()=>o});var n=()=>r(292588);const o="marketplace_custom_agent",i={marketplace_profile:!0},a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,last_edited_time:n().A.Number,attributes:n().A.JSON,listing_id:n().A.UUID,draft_versions:n().A.JSON,published_versions:n().A.JSON,pinned:n().A.Boolean,parent_table:n().A.String,parent_id:n().A.UUID},model:(0,r(152853).P)({RecordStore:!0})}},952232:(e,t,r)=>{r.d(t,{O:()=>o,v:()=>i});var n=()=>r(292588);const o="file_upload",i={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,alive:n().A.Boolean,status:n().A.String,filename:n().A.String,internal_file_id:n().A.UUID,content_type:n().A.String,content_length:n().A.Number,expiry_time:n().A.Number,upload_id:n().A.String,multipart_upload_etags:n().A.JSON,number_of_parts:n().A.Number,external_url:n().A.String,import_file_result:n().A.JSON,created_by_id:n().A.UUID,created_by_table:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number},model:(0,r(152853).P)({RecordStore:!1})}},952882:(e,t,r)=>{r.d(t,{Jz:()=>i,Uj:()=>n,Ym:()=>a,ic:()=>o,zi:()=>s});const n=["person","created_by","last_edited_by"],o={person_contains:!0,person_does_not_contain:!0,is_empty:!0,is_not_empty:!0},i=(0,r(534177).uv)(o),a="person:name",s="person:email"},955363:(e,t,r)=>{r.r(t),r.d(t,{arrowDiagonalUpRightIcon:()=>o,iconDefinition:()=>n});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"4.42 4.42 11.16 11.16",directional:!0,svg:(0,r(474848).jsx)("path",{d:"M15.575 5.05a.625.625 0 0 0-.625-.625H7.313a.625.625 0 1 0 0 1.25h6.128L4.596 14.52a.617.617 0 0 0 .012.872c.244.244.635.25.872.012l8.845-8.845v6.128a.625.625 0 1 0 1.25 0z"})},o=(0,r(340498).wt)("arrowDiagonalUpRight",n,"default")},957705:(e,t,r)=>{r.d(t,{k:()=>a});r(944114),r(898992),r(803949);var n=()=>r(634201),o=()=>r(201980),i=()=>r(980090);function a(e,t){const r=new Map;return t||(t=new(n().Z4)(o().qAZ(e))),o().gsT({textValue:e,startIndex:0,endIndex:t.getLength()}).forEach((({startIndex:e,endIndex:n,annotation:a},s)=>{const l=t.getStringStartIndex(e);let c=t.getStringEndIndex(n-1);(o().iGj(a)||o().gir(a))&&c>l&&(c=l);const d=(0,i().G)(a),u=r.get(d)??[];u.push({startIndex:l,endIndex:c,annotation:a,sortIndex:s}),r.set(d,u)})),r}},959017:(e,t,r)=>{r.d(t,{A:()=>i,h:()=>o});var n=()=>r(292588);const o="billing_subscription",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,billing_data_id:n().A.UUID,external_id:n().A.String,status:n().A.String,provider:n().A.String,start_date:n().A.Number,trial_end:n().A.Number,current_period_end:n().A.Number,items:n().A.JSON,created_at:n().A.Number,pending:n().A.JSON,unrepresentable_reason:n().A.String},requiredColumns:{version:!0,billing_data_id:!0,external_id:!0,status:!0,start_date:!0,current_period_end:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},959044:(e,t,r)=>{r.d(t,{Ay:()=>d,ZS:()=>s,_p:()=>c,aF:()=>a,x9:()=>l});var n=()=>r(534177),o=()=>r(292588);const i=["grouped-commented","grouped-block-property-updated","grouped-user-mentioned"];function a(e){return!!(0,n().Xk)(i,e)}const s={"user-mentioned":"mentions",commented:"mentions","block-property-edited":"mentions","user-invited":"mentions","team-membership-edited":"mentions",reminder:"mentions","email-edited":"mentions","access-requested":"mentions","access-request-resolved":"mentions","private-content-transferred":"mentions","permission-group-mentioned":"mentions","team-mentioned":"mentions","verification-expired":"mentions","import-completed":"mentions","export-completed":"mentions","in-app-notification-automation-action-triggered":"mentions","no-conflicts-found":"mentions","automation-paused-due-to-execution-failure":"mentions","automation-typecheck-error-raised":"mentions",reacted:"mentions","upgrade-request-created":"mentions","trial-created":"mentions","app-builder-notification":"mentions","external-integration-notification":"mentions","block-edited":"following","permissions-edited":"following","top-level-block-created":"following","top-level-block-deleted":"following","transcript-deleted":"following","collection-row-created":"following","collection-row-deleted":"following","collection-edited":"following","collection-property-edited":"following","collection-view-edited":"following","collection-page-layout-edited":"following","page-locked":"following","page-unlocked":"following","page-deleted":"following","page-restored":"following","page-permanently-deleted":"following"},l={...s,"grouped-commented":"mentions","grouped-block-property-updated":"mentions","grouped-user-mentioned":"mentions"};const c="notification",d={table:c,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,user_id:o().A.String,activity_id:o().A.UUID,received:o().A.Boolean,read:o().A.Boolean,visited:o().A.Boolean,emailed:o().A.Boolean,invalid:o().A.Boolean,space_id:o().A.UUID,navigable_block_id:o().A.UUID,collection_id:o().A.UUID,discussion_id:o().A.UUID,parent_notification_id:o().A.UUID,child_notification_ids:o().A.UUIDArray,end_time:o().A.String,type:o().A.String,channel:o().A.String,archived_at:o().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},959577:(e,t,r)=>{r.d(t,{Ay:()=>a,XX:()=>o,fJ:()=>i});var n=()=>r(292588);const o="template",i=["none","optional","required"],a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,locale:n().A.String,description:n().A.String,price:n().A.Number,authors:n().A.StringArray,made_by:n().A.String,tags:n().A.StringArray,body:n().A.JSON,attributes:n().A.JSON,block_id:n().A.UUID,created_at:n().A.Number,last_updated_at:n().A.Number,published_version:n().A.Number,last_synced_at:n().A.Number,all_tags:n().A.StringArray,number_of_duplicates:n().A.Number,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,score_6:n().A.Number,score_7:n().A.Number,score_8:n().A.Number,score_9:n().A.Number,score_10:n().A.Number,score_11:n().A.Number,score_12:n().A.Number,show_in_gallery:n().A.Boolean,template_draft_id:n().A.UUID,template_draft_version:n().A.Number,tags_v2:n().A.StringArray,all_tags_v2:n().A.StringArray,listing_id:n().A.UUID,is_default_locale:n().A.Boolean},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,locale:!0,description:!0,made_by:!0,attributes:!0,created_at:!0,last_updated_at:!0,published_version:!0,last_synced_at:!0,number_of_duplicates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,score_6:!0,score_7:!0,score_8:!0,score_9:!0,score_10:!0,score_11:!0,score_12:!0,show_in_gallery:!0,is_default_locale:!0,template_draft_id:!0,template_draft_version:!0,listing_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},962277:(e,t,r)=>{function n(e){return"none"!==e.role&&Boolean(!e.is_public_share_link||e.is_site)}r.d(t,{W:()=>n})},964348:(e,t,r)=>{r.d(t,{A:()=>i,S:()=>o});var n=()=>r(292588);const o="integration_management_permissions",i={table:o,columnTypes:{id:n().A.UUID,integration_id:n().A.UUID,space_id:n().A.UUID,created_time:n().A.Number,last_update_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,admin_only:n().A.Boolean,mcp_config:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},965571:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>i});var n=()=>r(292588);const o="google_token",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,token:n().A.String,google_user_id:n().A.String}}},969752:(e,t,r)=>{r.d(t,{Ay:()=>s,Ec:()=>o,rA:()=>a});var n=()=>r(292588);const o="workflow_transcript",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_at:n().A.Number},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},a={workflow:!0},s=i},976617:(e,t,r)=>{r.d(t,{A:()=>i,H:()=>o});var n=()=>r(292588);const o="text_slice_block_mapping",i={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,text_instance_id:n().A.UUID,search_label:n().A.String,block_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},978234:(e,t,r)=>{r.d(t,{Ay:()=>a,fx:()=>i,yM:()=>o});var n=()=>r(292588);const o="workflow_module",i={notion_user:!0,workflow:!0},a={table:o,columnTypes:{alive:n().A.Boolean,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,data:n().A.JSON,id:n().A.UUID,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,last_version:n().A.Number,module_type:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,permissions:n().A.JSON,space_id:n().A.UUID,version:n().A.Number},requiredColumns:{alive:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,module_type:!0,parent_id:!0,parent_table:!0,space_id:!0,version:!0},defaultColumnValues:{alive:!0,permissions:[]},model:(0,r(152853).P)({RecordStore:!0})}},978841:(e,t,r)=>{r.d(t,{A:()=>i,b:()=>o});var n=()=>r(292588);const o="user_oauth_authorization_code",i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,client_id:n().A.UUID,created_at:n().A.Number,expires_at:n().A.Number,revoked_at:n().A.Number},model:(0,r(152853).P)({})}},980090:(e,t,r)=>{r.d(t,{A:()=>d,G:()=>p});r(898992),r(581454),r(941795);var n=r.n(r(625473)),o=()=>r(496603),i=()=>r(416845),a=()=>r(201980),s=()=>r(673337),l=()=>r(187534),c=()=>r(933449);class d{constructor(e=[],t=!1){this.ops=e,t||function(e){for(let t=1;t<e.length;t++)if(!((0,l().Nf)(e[t-1].id,e[t].id)<0))throw new(i().QkH)("Annotation operation ID is out of order")}(e)}add(e){(0,c().MX)(!(0,s().nj)(e.start,e.end),"Annotation start and end positions should not be the same"),"addAnnotation"===e.type&&(a().iGj(e.annotation)||a().gir(e.annotation))&&(0,c().MX)((0,s().lS)(e.start.id,e.end.id)&&"before"===e.start.anchor&&"after"===e.end.anchor,"Mention/equation annotation should only be applied to one character",{start:e.start,end:e.end,id:e.id,textInstanceId:e.textInstanceId,searchLabel:e.searchLabel});const t=this.findInsertionIndex(e.id);this.ops.splice(t,0,e)}findInsertionIndex(e){const t=this.ops.findIndex((t=>(0,l().Nf)(t.id,e)>0));return t>=0?t:this.ops.length}getOps(){return this.ops}getActiveAnnotationsInternal(){const e=new(r(319954).r);for(const t of this.ops){const n=t.type;"addAnnotation"===n?e.add(t.annotation):"removeAnnotation"===n?"string"==typeof t.annotationKey?e.removeGroupingKey(t.annotationKey):e.remove(t.annotationKey):(0,r(534177).HB)(n)}return e}getActiveAnnotations(){const e=new Map;for(const t of this.getActiveAnnotationsInternal())e.set(p(t),t);return e}getResolvedAnnotations(){return this.getActiveAnnotationsInternal().toArray()}containsOpId(e){for(const t of this.ops)if((0,s().Dx)(t.id,e.id))return"annotationOp"===e.type&&o().n4(t,e.annotationOp)?"exists_same":"exists_different";return!1}clone(){return new d([...this.ops],!0)}equals(e){return o().n4(this.ops,e.ops)}static equals(e,t){return e===t||(void 0===e||void 0===t?e===t:e.equals(t))}toString(){const e=this.ops.map((e=>{switch(e.type){case"addAnnotation":return`+${u(e.annotation)}`;case"removeAnnotation":return`-${u(e.annotationKey)}`}}));return`[AnnotationOpSet ${e.length?e.join(", "):"empty"}]`}count(){return this.ops.length}}function u(e){const t="string"==typeof e?e:a().JIi(e);return"string"==typeof t?t:`(${t.join(",")})`}function p(e){const t=a().JIi(e);return"string"==typeof t?t:n()(t)}},992214:(e,t,r)=>{r.d(t,{L:()=>i,gS:()=>s,mA:()=>a,tS:()=>n});const n=1e3,o=(0,r(69708).YK)({emptyPageTitle:{id:"emptyPageTitle",defaultMessage:"Untitled"},restrictedPageTitle:{id:"restrictedPageTitle",defaultMessage:"No access"},notFoundPageTitle:{id:"textRenderHelpers.pageMention.untitledPlaceholder",defaultMessage:"Not found"}});function i(e){return e.formatMessage(o.emptyPageTitle)}function a(e){return e.formatMessage(o.restrictedPageTitle)}function s(e){return e.formatMessage(o.notFoundPageTitle)}},997769:(e,t,r)=>{r.d(t,{I6:()=>i,t6:()=>o});r(581454);var n=()=>r(639763);function o(e,t){return n().t6(e,t)}function i(e,t){return n().I6(e,t)}},998687:(e,t,r)=>{r.d(t,{R:()=>c});r(581454);var n=()=>r(534177),o=()=>r(764880),i=()=>r(681873),a=()=>r(437607),s=()=>r(798880),l=()=>r(201980);function c(e){const t=e.map((e=>l().MMZ(e)?l().wmz(l().Ii$({type:e})):(0,o().Pu)(e)?e.table===s().oo?l().wmz(l().P4h(e.id)):l().wmz(l().Vb6(e.id)):(0,a().I6)(e)?l().wmz(l().dWL(e.id,e.spaceId)):void(0,n().HB)(e)));return(0,i().G)(t,(()=>l().Ey_(",")))}},999515:(e,t,r)=>{r.d(t,{q:()=>n});const n={runSync(e,t){let n=t.next();for(;!n.done;){const o=r(388821).RecordMap.create();for(const t of n.value.recordPointers)o.setModel(t,e(t));n=t.next({recordMap:o})}return n.value},async runAsync(e,t){let r=t.next();for(;!r.done;){const n=await e(r.value.recordPointers);r=t.next({recordMap:n})}return r.value},*fetchRecord(e){const{recordMap:t}=yield{recordPointers:[e]};return t.getModel(e)},*fetchRecords(e){const{recordMap:t}=yield{recordPointers:e};return t},return:e=>function*(){return e}()}}}]);