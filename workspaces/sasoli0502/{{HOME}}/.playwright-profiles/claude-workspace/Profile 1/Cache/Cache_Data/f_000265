"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[43239,72982],{24126:(e,t,r)=>{r.d(t,{c:()=>a});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.9 2.75 12.18 14.49",svg:(0,r(474848).jsx)("path",{d:"M12.626 2.768a.625.625 0 0 1 0 1.224l-.126.013h-.125v4.794l3.366 5.159c.893 1.369-.03 3.17-1.623 3.281l-.156.006H6.039c-1.688 0-2.703-1.873-1.78-3.287l3.366-5.157V4.005H7.5a.625.625 0 0 1 0-1.25h5zM8.875 9.173l-.102.156-1.567 2.401h5.589l-1.569-2.403-.101-.156V4.005h-2.25z"})},a=(0,r(340498).wt)("beaker",n,"default")},31902:(e,t,r)=>{r.d(t,{A:()=>i});r(296540);var n=()=>r(69708),a=r(474848);const i=function({collectionViewName:e,collectionViewType:t}){return(0,r(59226).X)("allow_empty_view_name")&&""===e?null:e?(0,a.jsx)(r(288722).A,{children:e}):"page"===t?(0,a.jsx)(n().sA,{id:"database.collectionView.untitledName.untitled",defaultMessage:"Untitled"}):(0,a.jsx)(n().sA,{...r(403905).X[t]})}},38554:(e,t,r)=>{r.d(t,{U:()=>o});var n=()=>r(590526),a=()=>r(822789),i=()=>r(229508);function o(){const e=(0,i().a)();return(0,n().K8)((()=>(0,a().XM)(e)),[e])}},51781:(e,t,r)=>{r.r(t),r.d(t,{FETCHABLE_TEAM_TYPES:()=>l,fetchUnfetchedTeams:()=>p,fetchUnfetchedTeamsFromLocalStorage:()=>v,getActiveTeamsMetadataForUserInSpace:()=>h,getAllTeamsMetadataForUserInSpace:()=>m,getTeamMetadataFromStore:()=>f,getTeamStore:()=>g,refetchTeams:()=>S});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520);var n=()=>r(723085),a=()=>r(383293),i=()=>r(290247),o=()=>r(854150);const s=new(r(29923).R)({key:"localStorageTeams",namespace:r(553737).Bq,important:!1,trackingType:"preference"});var d=()=>r(860048);r(57145);const c=1e3;const l=["Joined","UnjoinedActive","Archived"];async function u(e){const{userId:t,spaceId:r,teamTypesToUpdate:n,teamIdsToUpdate:i,environment:o,canTruncateRecordMap:l,sort:u}=e,p=a().q.getOrCreateUnit(t,r);if(0===n.size||"all"!==i&&0===i.size)return void(await p.pendingUpdates);const S=(0,d().FK)({userId:t,spaceId:r,teamTypes:n,teamIds:i,environment:o,canTruncateRecordMap:l,sort:u});a().q.queueUpdateForSpaceUser({userId:t,spaceId:r,fetchedTeamsPromise:S,fetchedTeamsSource:"server",teamTypesToUpdate:n,teamIdsToUpdate:i}),await p.pendingUpdates,function(e){const{userId:t,spaceId:r,teamsResponse:n}=e;if(!(0,d().HK)())return;const{teams:a}=n,i=a.filter((e=>"Joined"===e.type)),o=a.filter((e=>"UnjoinedActive"===e.type)).toSorted(((e,t)=>{var r,n;return((null===(r=t.membershipSummary)||void 0===r?void 0:r.membersIncludingOwnersCount)??0)-((null===(n=e.membershipSummary)||void 0===n?void 0:n.membersIncludingOwnersCount)??0)})),l=a.filter((e=>"Archived"===e.type)),u=i.concat(o,l).slice(0,c);s.update((e=>({...e??{},[t]:{...(null==e?void 0:e[t])??{},[r]:{...n,teams:u}}})))}({userId:t,spaceId:r,teamsResponse:{teams:Object.values(p.teams),hasUnjoinedActiveTeams:p.hasUnjoinedActiveTeams}})}async function p(e){const{userId:t,spaceId:r,teamTypes:n,environment:i,canTruncateRecordMap:o,sort:s}=e,d=a().q.getOrCreateUnit(t,r),c=new Set(Array.from(n.values()).filter((e=>"server"!==d.lastFetchSourceOfTeamType[e])));await u({userId:t,spaceId:r,teamTypesToUpdate:c,teamIdsToUpdate:"all",environment:i,canTruncateRecordMap:o,sort:s})}async function S(e){const{userId:t,spaceId:r,teamIds:n,environment:i}=e,o=a().q.getOrCreateUnit(t,r),s=new Set(l.filter((e=>"server"===o.lastFetchSourceOfTeamType[e])));await u({userId:t,spaceId:r,teamTypesToUpdate:s,teamIdsToUpdate:n,environment:i})}function v(){const e=s.getState();for(const t in e)for(const r in e[t]){const n=a().q.getOrCreateUnit(t,r),i=new Set(l.filter((e=>"none"===n.lastFetchSourceOfTeamType[e])));0!==i.size&&a().q.queueUpdateForSpaceUser({userId:t,spaceId:r,fetchedTeamsPromise:Promise.resolve(e[t][r]),fetchedTeamsSource:"local",teamTypesToUpdate:i,teamIdsToUpdate:"all"})}}async function b(e){const{userId:t,spaceStore:r,teamTypes:n,environment:i}=e;return await p({userId:t,spaceId:r.id,teamTypes:n,environment:i}),a().q.readTeams(t,r.id,n).teams}async function h(e){const{userId:t,spaceStore:r,environment:n}=e;return await b({userId:t,spaceStore:r,teamTypes:new Set(["Joined","UnjoinedActive"]),environment:n})}async function m(e){const{userId:t,spaceStore:r,environment:n}=e;return await b({userId:t,spaceStore:r,teamTypes:new Set(["Joined","UnjoinedActive","Archived"]),environment:n})}function g(e){const{teamId:t,spaceStore:r}=e;return n().h.createChildStore(r,{table:o().yK,id:t})}function f(e){var t;const{teamStore:r,userId:n,spaceStore:o}=e,s=a().q.readMembershipCount(n,o.id,r.id),d=r.getArchivedBy()?"Archived":r.isMemberOrGuest(n,i()._.getSpacePermissionGroupIds({userId:n,spaceId:o.id}))?"Joined":"UnjoinedActive";return{id:r.id,title:r.getName()??"",icon:null===(t=r.getIcon())||void 0===t?void 0:t.icon,type:d,membershipSummary:s,isDefaultTeam:r.isDefault(),accessLevel:r.getTeamAccessLevel(),description:r.getDescription()}}},57145:(e,t,r)=>{var n=r(746518),a=r(179504),i=r(479306),o=r(225397),s=r(435370),d=r(344124),c=r(206469),l=Array,u=a(d("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&i(e);var t=o(this),r=s(l,t);return u(r,e)}}),c("toSorted")},63728:(e,t,r)=>{r.d(t,{l:()=>a});class n extends(()=>r(757695))().Store{getInitialState(){return null}}const a=new n},65307:(e,t,r)=>{r.d(t,{A:()=>a,g:()=>n});const n=r(757695).Store.createValue(null,{name:"InAppActivityOverlayElemStore"});function a(e){n.setState(e)}},72307:(e,t,r)=>{r.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3,aiChatSidebar:4}}},106702:(e,t,r)=>{r.d(t,{$:()=>i});var n=()=>r(590526);const a=new(r(140934).ComputedStore)((()=>r(907258).default.state.currentUserStore),{debugName:"AppStoreCurrentUserStore"});function i(){return(0,n().O$)(a)}},107620:(e,t,r)=>{r.d(t,{y:()=>a});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"1.81 2.89 16.38 15.08",svg:(0,r(474848).jsx)("path",{d:"M16.938 9.853c0-2.97-2.539-5.54-6.545-5.697L10 4.148c-4.232 0-6.938 2.639-6.938 5.705 0 1.438.583 2.752 1.617 3.76a.63.63 0 0 1 .18.546 7.3 7.3 0 0 1-.89 2.528c1.108-.13 2.12-.614 3.01-1.344l.063-.044a.63.63 0 0 1 .505-.073 9 9 0 0 0 2.454.333l.392-.007c4.006-.158 6.545-2.728 6.545-5.699m1.25 0c0 3.803-3.234 6.766-7.747 6.948l-.44.008a10.2 10.2 0 0 1-2.485-.299c-1.349 1.022-2.985 1.62-4.826 1.428a.625.625 0 0 1-.406-1.033c.712-.817 1.096-1.737 1.284-2.642-1.116-1.197-1.756-2.733-1.756-4.41 0-3.925 3.447-6.955 8.189-6.955l.44.009c4.512.181 7.747 3.143 7.747 6.946"})},a=(0,r(340498).wt)("chatBubble",n,"default")},133043:(e,t,r)=>{r.d(t,{P:()=>a});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.5 3.05 15 13.82",svg:(0,r(474848).jsx)("path",{d:"M9.08 3.341a1.625 1.625 0 0 1 1.84 0l5.875 4.035c.441.304.705.805.705 1.34v6.034a2.125 2.125 0 0 1-2.125 2.125h-2.716a1.625 1.625 0 0 1-1.625-1.625v-4.065H8.967v4.065c0 .898-.728 1.625-1.625 1.625H4.625A2.125 2.125 0 0 1 2.5 14.75V8.716c0-.535.264-1.036.705-1.34zm1.132 1.03a.375.375 0 0 0-.424 0L3.913 8.407a.38.38 0 0 0-.163.309v6.034c0 .483.392.875.875.875h2.716a.375.375 0 0 0 .375-.375v-4.19c0-.621.503-1.125 1.125-1.125h2.319c.62 0 1.124.504 1.124 1.125v4.19c0 .207.168.375.375.375h2.716a.875.875 0 0 0 .875-.875V8.716c0-.124-.06-.24-.163-.31z"})},a=(0,r(340498).wt)("home",n,"default")},174422:(e,t,r)=>{r.d(t,{A:()=>E});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=r(296540),a=()=>r(484714),i=()=>r(590526),o=()=>r(86159),s=()=>r(69708),d=()=>r(100622),c=()=>r(209199),l=()=>r(496603),u=()=>r(534177),p=()=>r(720665),S=()=>r(661920),v=()=>r(35392),b=()=>r(747100),h=()=>r(822789),m=()=>r(770906),g=()=>r(900652),f=()=>r(941463),y=()=>r(441199),w=()=>r(440024),x=()=>r(712505),I=()=>r(869562),A=()=>r(644914),T=()=>r(749687),j=()=>r(737230),_=r(474848);const k=new Set(["page","secondary_sidebar"]),M=600;const E=function({type:e,sidebarRef:t}){const d=(0,s().tz)(),p=(0,a().v3)(),[S,v]=(0,r(819121).A)(),b=(0,n.useRef)(null),h=(0,r(93583).A)(S,b),m=(0,n.useRef)(!1),g=(0,n.useCallback)((()=>function(e){R({isResizing:!1},e)}(e)),[e]),y=(0,n.useCallback)((()=>function(e,t,r,n){r.current||D(t,e);R({isResizing:!1},t)}(p,e,m)),[p,e]),x=(0,n.useCallback)((r=>{if(t.current)return function(e,t,r,n,a){switch(o().clear(t),a.current=!0,n){case"page":I().setWidth({width:L(e.currentX,r,n),environment:t});break;case"update":I().setUpdateWidth({width:L(e.currentX,r,n),environment:t});break;case"peek":I().setPeekWidth({width:L(e.currentX,r,n),environment:t});break;case"secondary_sidebar":f().Ay.setWidth(L(e.currentX,r,n));break;default:(0,u().HB)(n)}}(r,p,t.current,e,m)}),[p,e,t]),j=(0,n.useCallback)((()=>function(e,t,r){(0,w().I)({environment:e}),r.current=!1,R({...T().sidebarResizingStore.state,isResizing:!0},t)}(p,e,m)),[p,e]),{device:M}=p,E=(0,i().O$)(r(230062).A),O=(0,i().K8)((()=>({cursor:"col-resize",height:"100%",width:12})),[e]),V=(0,i().K8)((()=>function(e,t){const r=(0,A().KB)(t),n="peek"===e||"update"===e;return{position:"absolute",insetInlineStart:n?0:void 0,insetInlineEnd:n?void 0:0,width:1,flexGrow:0,zIndex:"peek"===e?109:1,top:r?0:-1,bottom:r?0:-1,pointerEvents:"auto",backfaceVisibility:"hidden"}}(e,p)),[e,p]),H=(0,i().K8)((()=>{const t=C(e),r=function(e,t){const r=P(e),n=B(e);if(n===r)return 0;return(t-n)/(r-n)}(e,t);return r}),[e]),K=(0,n.useRef)(!1),[F,N]=(0,n.useState)(null);function W(e){N(e.clientY)}const J=(0,n.useCallback)((()=>{R({isResizerHovered:K.current||v},e)}),[v,e]);function G(){K.current=!0,J()}function $(){K.current=!1,J()}(0,n.useEffect)((()=>{J()}),[v,J]);const q=(0,n.useCallback)((()=>{t.current&&z(10,t.current,e,p)}),[e,p,t]),X=(0,n.useCallback)((()=>{t.current&&z(-10,t.current,e,p)}),[e,p,t]),Y=(0,c().A1)()&&!k.has(e)||!(0,c().A1)()&&k.has(e)?"left":"right",Q="left"===Y?X:q,Z="left"===Y?q:X,ee=(0,n.useCallback)((()=>{D(e,p)}),[e,p]);return E||M.isChromebook?null:(0,_.jsx)(r(782482).N,{capture:v,debugName:"SidebarResizer",onLeft:Q,onRight:Z,onUp:l().D_,onDown:l().D_,onTab:l().D_,onUntab:l().D_,onEnter:ee,children:(0,_.jsx)(r(26697).m,{renderTooltip:()=>(0,_.jsx)(U,{type:e}),delayThreshold:0,originRectTransform:e=>F?new DOMRect(e.left,F,0,0):e,placement:"page"===e||"secondary_sidebar"===e?"right":"left",originGap:10,render:e=>(0,_.jsx)("div",{style:V,...(0,r(383036).A)(e,{onMouseMove:G,onMouseLeave:$,onMouseEnter:W}),children:(0,_.jsx)(r(222321).A,{onDraggableDragStart:j,onDraggableDragMove:x,onDraggableDragEnd:y,onDraggableDragCancel:g,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,_.jsx)("div",{ref:h,role:"separator",tabIndex:0,"aria-label":d.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*H),"aria-valuemin":0,"aria-valuemax":100,style:O,...e})})})})})};function B(e){switch(e){case"page":return(0,h().hw)()?T().SLIPPERY_SLOPE_SIDEBAR_MIN_WIDTH:T().SIDEBAR_MIN_WIDTH;case"update":return j().Iz;case"peek":return x().SIDEPEEK_MIN_WIDTH;case"secondary_sidebar":return f().WR;default:(0,u().HB)(e)}}function P(e){switch(e){case"page":return(0,h().hw)()?M:480;case"secondary_sidebar":return f().y8;case"update":return A().aL;case"peek":return(0,b().QX)();default:(0,u().HB)(e)}}function C(e){switch(e){case"page":return T().sidebarWidthStore.state;case"secondary_sidebar":const t=T().sidebarExpandedStore.state,r=g().n5();return t?T().sidebarWidthStore.state+r:r;case"update":return j().Ay.state.width;case"peek":return x().default.state.preferredSidePeekWidth;default:(0,u().HB)(e)}}function R(e,t){switch(t){case"page":T().sidebarResizingStore.update((t=>({...t,...e})));break;case"update":j().Ay.update((t=>({...t,...e})));break;case"secondary_sidebar":y().default.update((t=>({...t,...e})));break;case"peek":break;default:(0,u().HB)(t)}}function O(e,t){const r=P(t),n=B(t);return(0,p().qE)(e,n,r)}function L(e,t,r){let n;const a=(0,c().A1)();switch(r){case"page":n=a?window.innerWidth-e:e;break;case"secondary_sidebar":const i=T().sidebarExpandedStore.state?T().sidebarWidthStore.state:0;n=a?window.innerWidth-e-i:e-i;break;case"peek":case"update":const o=t.getBoundingClientRect();n=a?e-o.left:o.right-e;break;default:(0,u().HB)(r)}return O(n,r)}function U({type:e}){const t=(0,a().v3)(),r=(0,i().K8)((()=>function(e,t){switch(e){case"page":return(0,A().KB)(t);case"update":return(0,A().Nk)(t);case"peek":return x().default.state.open;case"secondary_sidebar":return y().default.isOpen();default:(0,u().HB)(e)}}(e,t)),[e,t]),n=d().Tj.text.inverseSecondary,o=(0,_.jsx)(v().A,{name:"toggleSidebar"}),c=e=>(0,_.jsx)("span",{style:{color:n},children:e});let l;if(r)switch(e){case"secondary_sidebar":case"update":l=(0,_.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage.noShortcut",values:{invertedcolor:c,keyboardShortcut:o}});break;default:l=(0,_.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage",values:{invertedcolor:c,keyboardShortcut:o}})}else l=(0,_.jsx)(s().sA,{defaultMessage:"Lock open <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.lockMessage",values:{invertedcolor:c,keyboardShortcut:o}});return(0,_.jsxs)(_.Fragment,{children:[l?(0,_.jsxs)(_.Fragment,{children:[l,(0,_.jsx)("br",{})]}):null,(0,_.jsx)(s().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"sidebarResizer.tooltip.resizeMessage",values:{invertedcolor:c,keyboardShortcut:o}})]})}function D(e,t){switch(e){case"page":I().setExpand({environment:t,isExpanded:!T().sidebarExpandedStore.state,from:"sidebar_resizer",saveDetailsSidebarPreference:!0}),T().sidebarOpenStore.setState(!1);break;case"update":I().setUpdateExpand({environment:t,isExpanded:!(0,A().Nk)(t),from:"drag",saveDetailsSidebarPreference:!0});break;case"peek":S().VN({environment:t,from:"resizer_click"});break;case"secondary_sidebar":m().VI({environment:t});break;default:(0,u().HB)(e)}}function z(e,t,r,n){const a=C(r)+e;switch(r){case"page":I().setWidth({width:O(a,r),environment:n});break;case"update":I().setUpdateWidth({width:O(a,r),environment:n});break;case"peek":I().setPeekWidth({width:O(a,r),environment:n});break;case"secondary_sidebar":const e=T().sidebarExpandedStore.state?T().sidebarWidthStore.state:0;f().Ay.setWidth(O(a-e,r));break;default:(0,u().HB)(r)}}},175947:(e,t,r)=>{r.d(t,{$C:()=>i,Hi:()=>a,Qy:()=>o,Uu:()=>s,ek:()=>c,jq:()=>l,pz:()=>u});var n=()=>r(418135);const a=52,i=45,o=44,s=44,d=30;function c(e){return e?s:o}function l(e){return 2*c(e)}function u(e,t,r){return(e&&!t?(0,n().n$)(r):12)+d}},224011:(e,t,r)=>{r.d(t,{A:()=>i});var n=()=>r(20022);class a extends(()=>r(757695))().Store{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().Y5.get();void 0!==e&&this.setState({isFullScreen:e})},n().Y5.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const i=new a},229508:(e,t,r)=>{r.d(t,{a:()=>i});var n=()=>r(907258),a=()=>r(590526);function i(){return(0,a().O$)(n().AppStoreSidebarSpaceViewStore)}},231704:(e,t,r)=>{r.d(t,{p:()=>p,w:()=>u});r(296540);var n=()=>r(590526),a=()=>r(74351),i=()=>r(970236),o=()=>r(109100),s=()=>r(468006),d=()=>r(69708),c=()=>r(47373),l=r(474848);function u(e){const{labelType:t}=e,r="invited"===t,a=(0,n().K8)((()=>"invited"===t?o().S.invitedLabel:(0,c().Qd)()?"team_level_guest"===t?o().S.teamGuestLabel:o().S.pageGuestLabel:o().S.guestLabel),[t]);return(0,l.jsx)(i().E,{content:(0,l.jsx)(d().sA,{...a}),color:r?"gray":"yellow"})}function p(e){const{store:t,userId:r,spaceUserStore:n}=e,i=(0,a().U)(t),o=null==i?void 0:i.getModel();if(o){if((0,s().CG)({team:o,userId:r}))return"team_level_guest"}if(n&&n.isPageGuest())return"page_guest"}},232280:(e,t,r)=>{r.d(t,{a:()=>a,h:()=>n});const n=.5,a=.3},245720:(e,t,r)=>{r.d(t,{W:()=>n});const n=(0,r(69708).YK)({done:{id:"modal.doneButton",defaultMessage:"Done"},cancel:{id:"modal.cancelButton",defaultMessage:"Cancel"},back:{id:"modal.backButton",defaultMessage:"Back"}})},279047:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(296540),a=()=>r(590526),i=()=>r(401497),o=()=>r(100622),s=()=>r(141333),d=r(474848);const c=4;function l({scrollerStore:e,type:t,dividerColor:r,errorMargin:l=c}){const u=(0,a().K8)((()=>e.state.elementRef),[e]),p=(0,s().Xg)(u),S=(0,s().CR)(u),v=(0,s().sj)(u),b=(0,s().yE)(u),h=(0,s().o7)(u),m=(0,s().HJ)(u),g=(0,n.useMemo)((()=>{if(!e)return!1;switch(t){case"top":return Math.round(b)>l;case"bottom":return Math.abs(Math.round(b)-(S-h))>l;case"left":return Math.round(v)>l;case"right":return Math.abs(Math.round(v)-(p-m))>l}}),[e,t,l,p,S,v,b,h,m]),f="left"===t||"right"===t,y=(0,i().IS)((()=>({divider:{flexShrink:0,boxShadow:g?f?`1px 0 0 ${r??o().Tj.border.secondaryTranslucent}`:`0 1px 0 ${r??o().Tj.border.secondaryTranslucent}`:"0 0 0 transparent",transition:"box-shadow 300ms",...f?{width:1,height:"100%",marginInlineStart:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[f,g,r]);return(0,d.jsx)("div",{style:y.divider})}},299177:(e,t,r)=>{r.d(t,{A:()=>i});class n extends(()=>r(757695))().Store{getInitialState(){return{}}}const a=new n;r(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",a);const i=a},314595:(e,t,r)=>{r.d(t,{a:()=>o});var n=()=>r(187174),a=()=>r(534177),i=()=>r(753812);function o(e){const{environment:t}=e,[{status:r,error:o,value:s}]=(0,n().Yb)((async()=>{const e=await i().callMainCellApi({eventName:"getEmailDomainSettings",environment:t,data:{}});if("success"===e.type)return e.data;if("failed"===e.type)throw e.error;return(0,a().HB)(e)}),[t]);return{loading:"pending"===r||"idle"===r,error:o,isNotionMailDisabled:Boolean(null==s?void 0:s.settings.disable_notion_mail)}}},344124:(e,t,r)=>{var n=r(444576);e.exports=function(e,t){var r=n[e],a=r&&r.prototype;return a&&a[t]}},347930:(e,t,r)=>{r.d(t,{H:()=>i});var n=()=>r(79926);const a=new(n().O2)("permissionsInviteWithModal",(async()=>await Promise.all([r.e(75134),r.e(35530),r.e(9773),r.e(36556),r.e(55373),r.e(36192),r.e(40537),r.e(71562),r.e(96346),r.e(44711),r.e(53321),r.e(51220),r.e(16471),r.e(37353),r.e(37571),r.e(29151),r.e(40118),r.e(50397),r.e(62475),r.e(3151),r.e(98629),r.e(22926),r.e(22900),r.e(42838),r.e(85128),r.e(49889),r.e(20108),r.e(46174),r.e(27992),r.e(63452),r.e(66249),r.e(92845),r.e(87249),r.e(79022),r.e(14578),r.e(34877),r.e(46414),r.e(11676),r.e(61165),r.e(47668),r.e(94522),r.e(24587),r.e(44584),r.e(67494),r.e(10522),r.e(38293),r.e(40992),r.e(88455),r.e(63515),r.e(33893),r.e(55162),r.e(91793),r.e(71003),r.e(32370),r.e(26264),r.e(97989),r.e(36437),r.e(93963),r.e(44590),r.e(7914),r.e(55113),r.e(85071),r.e(25588),r.e(6769),r.e(23640),r.e(72252),r.e(93134),r.e(12452),r.e(18825),r.e(52871),r.e(29351),r.e(22370),r.e(93049),r.e(22582),r.e(18636),r.e(87289),r.e(16060),r.e(16529),r.e(34281),r.e(35279),r.e(69785),r.e(77754),r.e(29357),r.e(64242),r.e(39986),r.e(22585),r.e(47160),r.e(76677),r.e(68609),r.e(37384),r.e(15553),r.e(77345),r.e(79340),r.e(72659),r.e(37759),r.e(41423),r.e(42056),r.e(41751),r.e(41714),r.e(5181),r.e(19456),r.e(3261),r.e(23371),r.e(17729),r.e(32116),r.e(65375),r.e(94995),r.e(98339),r.e(51240),r.e(54219),r.e(20029),r.e(68395),r.e(81803),r.e(96654),r.e(68643),r.e(32625),r.e(79231),r.e(63687),r.e(95885),r.e(27083),r.e(11424),r.e(40119),r.e(54742),r.e(88522),r.e(90880),r.e(49175),r.e(69668),r.e(5331),r.e(92924),r.e(71381),r.e(92192),r.e(96385),r.e(80326),r.e(53352),r.e(2373),r.e(73069),r.e(995),r.e(76690),r.e(60713),r.e(31106),r.e(63248),r.e(54719),r.e(48570),r.e(78862),r.e(54234),r.e(85160),r.e(15381),r.e(77149),r.e(86036),r.e(68466),r.e(77651),r.e(51204),r.e(57105),r.e(3759),r.e(44128),r.e(95103),r.e(58071),r.e(75681)]).then(r.bind(r,317655)))),i=(0,n()._h)(a,(e=>e.PermissionsInviteWithModal))},383567:(e,t,r)=>{r.d(t,{F:()=>i});r(296540);var n=r(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"3.26 1.98 16.32 17.52",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M15.825 12a3.75 3.75 0 1 1-.001 7.501 3.75 3.75 0 0 1 0-7.501m0 1.325a.55.55 0 0 0-.55.55V15.2H13.95a.55.55 0 0 0-.001 1.1h1.326v1.325a.55.55 0 0 0 1.1 0V16.3h1.324a.55.55 0 0 0 0-1.1h-1.325v-1.325a.55.55 0 0 0-.55-.55M9.702 5.022a3.918 3.918 0 0 1 6.742.036.626.626 0 0 1-1.08.63 2.667 2.667 0 0 0-4.59-.023L5.376 14.68l4.19.678a.626.626 0 0 1-.2 1.235l-5.1-.827a.625.625 0 0 1-.437-.938z"}),(0,n.jsx)("path",{d:"M10.912 8.094a1.178 1.178 0 1 1 2.326.377 1.178 1.178 0 0 1-2.326-.377M4.7 7.087a1.178 1.178 0 1 1 2.327.377A1.178 1.178 0 0 1 4.7 7.087M3.488 2.985a3.92 3.92 0 0 1 5.572.357.625.625 0 0 1-.944.818 2.67 2.67 0 0 0-3.796-.243.625.625 0 1 1-.832-.932"})]})},i=(0,r(340498).wt)("aiFacePlus",a,"default")},406632:(e,t,r)=>{r.d(t,{N:()=>l,B:()=>c});var n=()=>r(484714),a=()=>r(943101),i=()=>r(590526);class o extends(()=>r(757695))().Store{getInitialState(){return-1}getHeight(e){return-1===this.state?(0,r(175947).ek)(e.isElectronMac):this.state}overrideHeight(e){this.setState(e)}reset(){this.setState(-1)}}const s=new o("topbarHeight");function d(e){s.overrideHeight(e.height)}function c(){return(0,a().pP)(d)}function l(){const e=(0,n().Y0)();return(0,i().K8)((()=>s.getHeight(e)),[e])}},408897:(e,t,r)=>{r.d(t,{td:()=>o,v4:()=>i});var n=()=>r(79926);const a={SidebarTrial:new(n().O2)("SidebarTrial",(async()=>await Promise.all([r.e(35530),r.e(9773),r.e(36556),r.e(55373),r.e(36192),r.e(40537),r.e(71562),r.e(96346),r.e(27992),r.e(63452),r.e(66249),r.e(92845),r.e(87249),r.e(79022),r.e(14578),r.e(87017),r.e(46414),r.e(61165),r.e(47668),r.e(24587),r.e(67494),r.e(10522),r.e(48486),r.e(61631)]).then(r.bind(r,631461)))),SidebarTrialButton:new(n().O2)("SidebarTrialButton",(async()=>await r.e(25315).then(r.bind(r,512483))))},i=(0,n()._h)(a.SidebarTrial,(e=>e.SidebarTrial)),o=(0,n()._h)(a.SidebarTrialButton,(e=>e.SidebarTrialButton))},418135:(e,t,r)=>{r.d(t,{n$:()=>s,rx:()=>o,yA:()=>d});var n=()=>r(496603);const a=.5,i=4.9,o=1;function s(e){switch(n().qE(n().LI(e,1),a,i)){case a:return 155;case.6:return 128;case.7:return 108;case.8:return 94;case.9:return 83;default:return 75}}function d(e){const t=n().qE(n().LI(e,1),a,i);switch(t){case a:return 273;case.6:return 228;case.7:return 195;case.8:return 171;case.9:return 151;case 1:return 136;case 1.1:return 123;case 1.2:return 113;case 1.3:return 105;case 1.4:return 97;case 1.5:return 91;case 1.6:return 85;default:return Math.max(85-Math.floor(10*(t-1.6)*5),0)}}},435761:(e,t,r)=>{r.d(t,{LN:()=>w,Qh:()=>b,Qs:()=>m,gc:()=>x,hL:()=>S,m:()=>y,rV:()=>f});r(57145),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);var n=r(296540),a=()=>r(907258),i=()=>r(755531),o=()=>r(484714),s=()=>r(590526),d=()=>r(383293),c=()=>r(821062),l=()=>r(51781);function u(e){const{teamTypes:t}=e,r=(0,o().v3)(),u=(0,s().K8)((()=>{var t;return e.userId??(null===(t=a().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]),p=(0,s().K8)((()=>e.spaceStore??(0,i().S)()),[e.spaceStore]);return(0,n.useEffect)((()=>{void 0!==u&&void 0!==p&&(0,l().fetchUnfetchedTeams)({userId:u,spaceId:p.id,teamTypes:t,environment:r,canTruncateRecordMap:null==e?void 0:e.canTruncateRecordMap,sort:null==e?void 0:e.sort})}),[u,p,t,r,null==e?void 0:e.canTruncateRecordMap,null==e?void 0:e.sort]),(0,s().K8)((()=>{if(void 0===u||void 0===p)return{teams:[],isLoading:!0,isError:!1};const{teams:e,isLoading:r,isError:n}=d().q.readTeams(u,p.id,t);return{teams:e,isLoading:r,isError:n}}),[u,p,t],{equalityFn:c().k})}const p=new Set(["Joined"]);function S(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:p})}const v=new Set(["UnjoinedActive"]);function b(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:v,canTruncateRecordMap:null==e?void 0:e.canTruncateRecordMap,sort:null==e?void 0:e.sort})}const h=new Set(["Joined","UnjoinedActive"]);function m(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:h})}const g=new Set(["Joined","UnjoinedActive","Archived"]);function f(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:g})}function y(e){const{userId:t,spaceStore:r}=e,{teams:i,isLoading:o,isError:d}=S({userId:t,spaceStore:r}),c=(0,s().K8)((()=>{var e;return new Map(((null===(e=a().AppStoreSidebarSpaceViewStore.state)||void 0===e?void 0:e.getJoinedTeams())??[]).map(((e,t)=>[e,t])))}),[]);return{teams:(0,n.useMemo)((()=>i.toSorted(((e,t)=>(c.get(e.id)??1/0)-(c.get(t.id)??1/0)))),[i,c]),isLoading:o,isError:d}}function w(e){const{spaceStore:t}=e,{teams:r,isLoading:n,isError:a}=y(e);return{teams:(0,s().K8)((()=>t?r.map((e=>(0,l().getTeamStore)({teamId:e.id,spaceStore:t}))):[]),[r,t]),isLoading:n,isError:a}}function x(e){const{teams:t}=e,r=(0,s().K8)((()=>e.spaceStore??(0,i().S)()),[e.spaceStore]);return r?t.map((({id:e,type:t,membershipSummary:n})=>({store:(0,l().getTeamStore)({teamId:e,spaceStore:r}),type:t,membershipSummary:n}))):[]}},465031:(e,t,r)=>{r.d(t,{G6:()=>o,nQ:()=>s,sh:()=>d});var n=()=>r(907258),a=()=>r(72234),i=()=>r(244828);function o({environment:e,notionApps:t}){const r=n().default.state.sidebarSpaceViewStore;r&&i().createAndCommit({userAction:"sidebarNotionAppsActions.moveNotionApp",environment:e,canUndo:!0,cellTarget:"main",perform:e=>{a().AG(r,e,{...r.getSettings(),notion_apps:{order:t}})}})}function s(e){const t=n().default.state.sidebarSpaceViewStore;t&&i().createAndCommit({userAction:"sidebarNotionAppsActions.hideNotionAppsSection",environment:e,canUndo:!0,perform:e=>{const r=t.getNotionAppsOrder();a().AG(t,e,{notion_apps:{hidden:!0,order:r}})}})}function d(e){const t=n().default.state.sidebarSpaceViewStore;t&&i().createAndCommit({userAction:"sidebarNotionAppsActions.showNotionAppsSection",environment:e,canUndo:!0,perform:e=>{const r=t.getNotionAppsOrder();a().AG(t,e,{notion_apps:{hidden:!1,order:r}})}})}},499172:(e,t,r)=>{r.d(t,{D:()=>a,K:()=>i});r(898992),r(737550);var n=()=>r(68263);function a(){return"all_workspace_members"}function i(e){const{policy:t,userRole:r,userPermissionGroups:a}=e,i=t??"all_workspace_members",o=r&&(0,n().Km)(r);switch(i){case"workspace_owners_only":if(!o)return{canCreate:!1,reason:"policy_restriction"};break;case"all_workspace_members":break;case"custom":if(!(null==a?void 0:a.some((e=>{var t;return!0===(null===(t=e.settings)||void 0===t?void 0:t.can_create_custom_agents)})))&&!o)return{canCreate:!1,reason:"policy_restriction"};break}return{canCreate:!0}}},525271:(e,t,r)=>{r.d(t,{M:()=>s,W:()=>i});var n=()=>r(79926);const a=new(n().O2)("teamspaceDirectory",(()=>Promise.all([r.e(13023),r.e(79349),r.e(66012),r.e(49587)]).then(r.bind(r,89921)))),i=(0,n()._h)(a,(e=>e.TeamspaceDirectoryView)),o=new(n().O2)("TeamspaceDirectoryOpenInSidePeekButton",(async()=>await Promise.all([r.e(13023),r.e(79349),r.e(66012),r.e(49587)]).then(r.bind(r,54151)))),s=(0,n()._h)(o,(e=>e.TeamspaceDirectoryOpenInSidePeekButton))},529099:(e,t,r)=>{r.r(t),r.d(t,{aiFaceIcon:()=>i,iconDefinition:()=>a});r(296540);var n=r(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"4.13 2.52 13.27 14.61",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.758 9.976a1.178 1.178 0 1 0 .377-2.326 1.178 1.178 0 0 0-.377 2.326M6.547 8.97a1.178 1.178 0 1 0 .377-2.327 1.178 1.178 0 0 0-.377 2.326"}),(0,n.jsx)("path",{d:"M10.573 5.554a3.917 3.917 0 0 1 6.743.035.625.625 0 1 1-1.08.63 2.667 2.667 0 0 0-4.591-.023l-5.398 9.015 4.192.68a.625.625 0 0 1-.2 1.233l-5.102-.827a.625.625 0 0 1-.436-.938zM4.36 3.517a3.92 3.92 0 0 1 5.572.356.625.625 0 1 1-.945.818 2.67 2.67 0 0 0-3.795-.243.625.625 0 1 1-.833-.931"})]})},i=(0,r(340498).wt)("aiFace",a,"default")},541235:(e,t,r)=>{r.d(t,{Ud:()=>o,YD:()=>i,c$:()=>n,q_:()=>a});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]},database_onboarding:{steps:[{id:"database_onboarding_status_property_tooltip"},{id:"database_onboarding_add_property_tooltip"},{id:"database_onboarding_database_page_tooltip"},{id:"database_onboarding_board_view_tooltip"}]},"new-user-home-workspace-tour":{steps:[{id:"teamspaces"}]}},a="completed",i="dismissed";function o(e,t){return null==t?void 0:t[e]}},551171:(e,t,r)=>{r.d(t,{C:()=>a});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 15.25 11.75",svg:(0,r(474848).jsx)("path",{d:"M9.375 4.125H4.5A2.125 2.125 0 0 0 2.375 6.25v.965h7zm-7 7.41v-3.07h7v3.07zm0 1.25v.965c0 1.174.951 2.125 2.125 2.125h4.875v-3.09zm8.25 0v3.09H15.5a2.125 2.125 0 0 0 2.125-2.125v-.965zm7-1.25v-3.07h-7v3.07zm0-5.285v.965h-7v-3.09H15.5c1.174 0 2.125.951 2.125 2.125"})},a=(0,r(340498).wt)("viewTableFill",n,"fill")},551345:(e,t,r)=>{r.d(t,{or:()=>a,pV:()=>i});var n=()=>r(383070);function a(e){const{configurationState:t}=e;return t.deepFindRequested&&n().zD.isDeepFindEnabled()}function i(e){const{configurationState:t,assistantSurface:r}=e;return a({configurationState:t})&&r.isType("fullPage")}},574039:(e,t,r)=>{r.r(t),r.d(t,{Sidebar:()=>ft});var n=r(296540),a=()=>r(242422),i=()=>r(756117),o=()=>r(402014),s=()=>r(484714),d=()=>r(590526),c=()=>r(401497),l=()=>r(75435),u=()=>r(755222),p=()=>r(882722),S=()=>r(72307),v=()=>r(232280),b=()=>r(69708),h=()=>r(100622),m=()=>r(284371),g=()=>r(406632),f=()=>r(269183),y=()=>r(38554),w=()=>r(59226),x=()=>r(65307),I=r(474848);function A(){return(0,w().X)("in_app_activity_renderer")?(0,I.jsx)("div",{ref:x().A,style:{position:"fixed",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:0,zIndex:2,pointerEvents:"none",overflow:"hidden"}}):null}var T=()=>r(155723),j=()=>r(224011),_=()=>r(869562),k=()=>r(644914),M=()=>r(749687),E=()=>r(907258),B=()=>r(711339),P=()=>r(923455),C=()=>r(82648),R=()=>r(404694),O=()=>r(201941),L=()=>r(964899),U=()=>r(906745),D=()=>r(878126),z=()=>r(807449),V=()=>r(529099),H=()=>r(829548),K=()=>r(925695),F=()=>r(120282),N=()=>r(795523),W=()=>r(166386),J=()=>r(61844),G=()=>r(383070),$=()=>r(47373),q=()=>r(272509),X=()=>r(288157),Y=()=>r(303742),Q=()=>r(310526),Z=()=>r(408897),ee=()=>r(985315),te=(r(898992),r(737550),()=>r(106702)),re=()=>r(187174),ne=()=>r(753812),ae=()=>r(680977),ie=()=>r(680074),oe=()=>r(244828);var se=()=>r(179534);function de({environment:e}){const t=(0,d().K8)((()=>{const{sidebarSpaceStore:e}=E().default.state;if(e)return e}),[]),r=(0,te().$)(),a=(0,d().K8)((()=>{const{results:e}=se().A.state,r=null==t?void 0:t.getSpaceId();return e.some((e=>e.spaceId===r&&(e.unreceived.notificationIds.length>0||Object.values(e.unread).some((e=>e>0)))))}),[t]),i=(0,w().X)("hide_sidebar_inbox_and_trash"),o=(0,d().K8)((()=>{var t;const r=(0,ie().R$)(e);return(null==r||null===(t=r.getSettings())||void 0===t?void 0:t.adoption_sidebar_inbox)??!1}),[e]),[s]=(0,re().Yb)((async()=>{if(o||!r||!t)return null;const n=await ne().callCellCompatibleApi({eventName:"getNotificationLog",environment:e,data:{spaceId:t.id,size:1,type:"unread_and_read"},userId:r.id,cellNavigation:{spaceId:t.id}});return"failed"!==n.type&&n.data.notificationIds.length>0}),[t,r,e,o]),c=a||((null==s?void 0:s.value)??!1);return(0,n.useEffect)((()=>{c&&!o&&function(e){const t=(0,ie().R$)(e);t&&oe().createAndCommit({environment:e,userAction:"userSettingsActions.markAdoptionInboxShown",canUndo:!1,cellTarget:"main",perform:e=>{(0,ae().m)({userSettingsStore:t,transaction:e,data:{adoption_sidebar_inbox:!0}})}})}(e)}),[e,c,o]),o||!i||c}var ce=()=>r(797730),le=()=>r(299937),ue=()=>r(35392),pe=()=>r(804319);function Se(e){const{styles:t,isPublicPageSearch:n}=e,a=(0,s().v3)(),i=(0,k().ab)(),o=(0,d().K8)((()=>(0,r(159588).ic)()),[]),c=(0,d().K8)((()=>{const e=r(483730).default.getActiveSession(),t=null==e?void 0:e.assistantConfigurationStoreState,n="chat"===a.RouterStore.state.route.name;if(!t)return!1;return(0,r(551345).or)({configurationState:t})&&n}),[a]);return(0,I.jsx)(r(26697).m,{renderTooltip:()=>(0,I.jsx)(ve,{}),originGap:6,placement:"right",render:e=>(0,I.jsx)(r(718827).Ay,{...e,onClick:()=>{r(321874)._N({environment:a,analyticsFrom:"sidebar",isPublicPageSearch:n})},hoveredStyle:null==t?void 0:t.buttonHoveredStyle,style:{...i.baseSidebarItem,...c&&i.currentSelectedSidebarItem},children:(0,I.jsx)(pe().A,{left:(0,I.jsx)(z().I,{icon:r(207207).magnifyingGlassIcon,colorVariant:"secondary",size:"lg"}),style:o,rightStyle:{height:void 0,alignSelf:"stretch"},children:(0,I.jsx)(b().sA,{defaultMessage:"Search",id:"sidebar.search.label"})})})})}function ve(){const e=(0,c().IS)((()=>({shortcutLabel:{color:h().Tj.text.inverseSecondary}})),[]);return(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{children:(0,I.jsx)(b().sA,{defaultMessage:"Find pages & information from your workspace",id:"sidebar.quickFindSearch.tooltip"})}),(0,I.jsx)(ue().A,{style:e.shortcutLabel,name:"openLinkMenuOrOpenSearch"})]})}const be=n.memo(Se);var he=()=>r(79926);const me=(0,he()._h)(new(he().O2)("SidebarAiButton",(async()=>await Promise.all([r.e(44711),r.e(53321),r.e(41882)]).then(r.bind(r,583550)))),(e=>e.SidebarAiButton)),ge=(0,he()._h)(new(he().O2)("SidebarFeedButton",(async()=>await r.e(13073).then(r.bind(r,820022)))),(e=>e.SidebarFeedButton)),fe=(0,he()._h)(new(he().O2)("SidebarInboxButton",(async()=>await Promise.all([r.e(44711),r.e(53321),r.e(41882)]).then(r.bind(r,84987)))),(e=>e.SidebarInboxButton)),ye=(0,he()._h)(new(he().O2)("SidebarLibraryButton",(async()=>await Promise.all([r.e(44711),r.e(53321),r.e(41882)]).then(r.bind(r,610832)))),(e=>e.SidebarLibraryButton)),we=(0,he()._h)(new(he().O2)("SidebarMeetingsButton",(async()=>await Promise.all([r.e(44711),r.e(53321),r.e(41882)]).then(r.bind(r,290488)))),(e=>e.SidebarMeetingsButton));var xe=()=>r(411471);const Ie=(0,he()._h)(new(he().O2)("SidebarWorkersButton",(async()=>await Promise.all([r.e(44711),r.e(53321),r.e(41882)]).then(r.bind(r,697781)))),(e=>e.SidebarWorkersButton));var Ae=()=>r(817221);function Te(){const e=(0,s().v3)(),t=(0,P().Rx)(),r=(0,d().O$)(E().AppStoreSidebarSpaceStore),{currentUserRootStore:i,currentUserStore:o,sidebarSpaceViewStore:l}=(0,d().K8)((()=>({currentUserRootStore:E().default.state.currentUserRootStore,currentUserStore:E().default.state.currentUserStore,sidebarSpaceViewStore:E().default.state.sidebarSpaceViewStore})),[]),u=(0,R().V)(),p=(0,O().u)(),S=(0,d().K8)((()=>(0,Q().U)(l)),[l]),v=(null==t?void 0:t.isMember)||S,b=(0,d().K8)((()=>(0,$().i3)({spaceStore:r,spaceViewStore:l,userRootStore:i,currentUserStore:o})),[r,i,o,l]),m=de({environment:e}),g=(0,c().IS)((()=>({container:{flexGrow:0,flexShrink:0,paddingBottom:8,display:"flex",flexDirection:"column",gap:1,cursor:"pointer",marginInlineStart:k().bG,marginInlineEnd:k().bG},sidebarItemHoveredStyle:{background:h().Tj.sidebarItemSelectedBackground}})),[]),f=(0,n.useMemo)((()=>({buttonHoveredStyle:g.sidebarItemHoveredStyle})),[g.sidebarItemHoveredStyle]),y=(0,X().cd)(),x=(0,w().X)("feed_sidebar_item"),A=(0,d().K8)((()=>(0,q().I)(r)),[r]),T=(0,le().c)(),j=(0,d().K8)((()=>(0,Y().o)(l)),[l]),_=x&&!j,M=y&&!j&&!A,B=(0,w().X)("workers")&&!j&&!A,C=(0,d().K8)((()=>G().zD.isAiEnabled()),[]),z=(0,d().K8)((()=>{if(null!=r&&r.id)return D().T.getData(e,{spaceId:r.id})}),[e,null==r?void 0:r.id]),te=(0,ee().g)({spaceId:null==r?void 0:r.id}),re=(0,N().xz)(z),ne=(0,d().K8)((()=>a().default.getConfigKey("trial_home_panel_config","experimentStartDate")),[]),ae=(0,d().K8)((()=>{if(!(re&&re>U().DateTime.fromISO(ne)))return!1;if(!(0,N().TB)(z)||"business"!==(0,N().AI)(z))return!1;if(null==te||!te.length)return!1;const e=(0,W().e8)(te,"trial");return e&&(0,J().LV)(e.offer.campaign)?"on"===a().default.getEligibleGroup({experimentId:"trial_home_panel_auto_convert",defaultGroup:"control"}):"on"===a().default.getEligibleGroup({experimentId:"trial_home_panel_non_auto_convert",defaultGroup:"control"})}),[z,te,re,ne]);return(0,I.jsxs)("div",{style:g.container,children:[(0,I.jsx)(be,{styles:f}),v?(0,I.jsx)(L().n,{step:"home",inAppCalloutStore:u,teamIds:p,renderTooltip:e=>(0,I.jsx)(Ae()._T,{...e}),children:(0,I.jsx)(xe().Ay,{styles:f})}):void 0,T?(0,I.jsx)(we,{styles:f,renderLoading:()=>(0,I.jsx)(je,{icon:F().a,message:ce().D.meetings})}):void 0,_?(0,I.jsx)(ge,{styles:f,renderLoading:()=>(0,I.jsx)(je,{icon:K().N,message:ce().D.feed})}):void 0,b?(0,I.jsx)(xe().ke,{styles:f}):void 0,C?(0,I.jsx)(me,{styles:f,renderLoading:()=>(0,I.jsx)(je,{icon:V().aiFaceIcon,message:ce().D.notionAi})}):void 0,m?(0,I.jsx)(fe,{styles:f,renderLoading:()=>(0,I.jsx)(je,{icon:H().y,message:ce().D.inbox})}):void 0,ae?(0,I.jsx)(Z().td,{store:r}):void 0,M?(0,I.jsx)(ye,{styles:f}):void 0,B?(0,I.jsx)(Ie,{styles:f}):void 0]})}function je({icon:e,message:t}){const r=(0,b().tz)();return(0,I.jsx)(pe().A,{left:(0,I.jsx)(z().I,{icon:e,colorVariant:"secondary",size:"lg"}),children:r.formatMessage(t)})}const _e=(0,he()._h)(new(he().O2)("SidebarFooter",(async()=>await Promise.all([r.e(75134),r.e(35530),r.e(9773),r.e(36556),r.e(55373),r.e(36192),r.e(40537),r.e(71562),r.e(96346),r.e(44711),r.e(53321),r.e(51220),r.e(16471),r.e(37353),r.e(37571),r.e(29151),r.e(40118),r.e(50397),r.e(35837),r.e(27992),r.e(63452),r.e(66249),r.e(92845),r.e(87249),r.e(79022),r.e(14578),r.e(87017),r.e(34877),r.e(46414),r.e(11676),r.e(61165),r.e(47668),r.e(94522),r.e(24587),r.e(44584),r.e(67494),r.e(10522),r.e(38293),r.e(40992),r.e(88455),r.e(63515),r.e(33893),r.e(55162),r.e(91793),r.e(71003),r.e(32370),r.e(26264),r.e(97989),r.e(36437),r.e(93963),r.e(44590),r.e(7914),r.e(55113),r.e(85071),r.e(25588),r.e(6769),r.e(23640),r.e(72252),r.e(93134),r.e(12452),r.e(18825),r.e(52871),r.e(29351),r.e(22370),r.e(93049),r.e(22582),r.e(18636),r.e(87289),r.e(16060),r.e(16529),r.e(34281),r.e(35279),r.e(69785),r.e(77754),r.e(29357),r.e(22585),r.e(49021),r.e(19456),r.e(65375),r.e(6039),r.e(60751),r.e(51761),r.e(13023),r.e(51224),r.e(57418),r.e(39005),r.e(19659),r.e(31911),r.e(36902),r.e(48854),r.e(2209)]).then(r.bind(r,790100)))),(e=>e.SidebarFooter));r(354520);var ke=()=>r(230711),Me=()=>r(792485),Ee=()=>r(226627),Be=()=>r(939453),Pe=()=>r(440375),Ce=()=>r(946065),Re=()=>r(395868),Oe=()=>r(955104),Le=()=>r(534177),Ue=()=>r(439549),De=()=>r(285230),ze=()=>r(855801),Ve=()=>r(396301),He=()=>r(401566),Ke=()=>r(388601),Fe=()=>r(675540);const Ne=new(he().O2)("WorkspaceTourTooltip",(async()=>await r.e(43897).then(r.bind(r,812360)))),We=(0,he()._h)(Ne,(e=>e.WorkspaceTourTooltip));function Je(e){const{spaceStore:t,spaceViewStore:r,sidebarState:a,isTransactionQueueHealthy:i}=e,o=(0,O().u)(),s=(0,R().V)(),d=n.useRef(null);return(0,I.jsx)(L().n,{step:"teamspaces",inAppCalloutStore:s,renderTooltip:e=>(0,I.jsx)(n.Suspense,{fallback:null,children:(0,I.jsx)(We,{...e})}),teamIds:o,children:(0,I.jsx)("div",{ref:d,children:(0,I.jsx)(Fe().Ay,{type:"workspace",from:"main_sidebar",shouldPersistToggleState:!0,spaceStore:t,spaceViewStore:r,showAddButton:i,labelTooltip:(0,I.jsx)(b().sA,{defaultMessage:"All workspace members can access these pages.",id:"sidebar.workspacePagesSection.tooltip"}),right:r?(0,I.jsx)(De().N,{type:"workspace",spaceViewStore:r}):void 0,renderSidebar:({labelAriaId:e,contentsAriaId:t})=>(0,I.jsx)(Ke().W,{type:"workspace",sidebarState:a,contentsAriaId:t,labelAriaId:e})})})})}var Ge=()=>r(770906),$e=()=>r(271205),qe=()=>r(764503),Xe=()=>r(242246),Ye=()=>r(757379),Qe=()=>r(996881),Ze=()=>r(362749),et=()=>r(778040),tt=()=>r(761966),rt=()=>r(589771),nt=()=>r(900810),at=()=>r(184865);const it={SidebarBottomActions:new(he().O2)("SidebarBottomActions",(async()=>await Promise.all([r.e(75134),r.e(35530),r.e(9773),r.e(36556),r.e(55373),r.e(36192),r.e(40537),r.e(71562),r.e(96346),r.e(44711),r.e(53321),r.e(51220),r.e(16471),r.e(37353),r.e(37571),r.e(29151),r.e(40118),r.e(50397),r.e(35837),r.e(27992),r.e(63452),r.e(66249),r.e(92845),r.e(87249),r.e(79022),r.e(14578),r.e(87017),r.e(34877),r.e(46414),r.e(11676),r.e(61165),r.e(47668),r.e(94522),r.e(24587),r.e(44584),r.e(67494),r.e(10522),r.e(38293),r.e(40992),r.e(88455),r.e(63515),r.e(33893),r.e(55162),r.e(91793),r.e(71003),r.e(32370),r.e(26264),r.e(97989),r.e(36437),r.e(93963),r.e(44590),r.e(7914),r.e(55113),r.e(85071),r.e(25588),r.e(6769),r.e(23640),r.e(72252),r.e(93134),r.e(12452),r.e(18825),r.e(52871),r.e(29351),r.e(22370),r.e(93049),r.e(22582),r.e(18636),r.e(87289),r.e(16060),r.e(16529),r.e(34281),r.e(35279),r.e(69785),r.e(77754),r.e(29357),r.e(22585),r.e(49021),r.e(19456),r.e(65375),r.e(6039),r.e(60751),r.e(51761),r.e(13023),r.e(51224),r.e(57418),r.e(39005),r.e(19659),r.e(31911),r.e(36902),r.e(48854),r.e(2209)]).then(r.bind(r,920618))))},ot=(0,he()._h)(it.SidebarBottomActions,(e=>e.SidebarBottomActions)),st=(0,he()._h)(new(he().O2)("SidebarCard",(async()=>await Promise.all([r.e(75134),r.e(35530),r.e(9773),r.e(36556),r.e(55373),r.e(36192),r.e(40537),r.e(71562),r.e(96346),r.e(44711),r.e(53321),r.e(51220),r.e(16471),r.e(37353),r.e(37571),r.e(29151),r.e(40118),r.e(50397),r.e(35837),r.e(27992),r.e(63452),r.e(66249),r.e(92845),r.e(87249),r.e(79022),r.e(14578),r.e(87017),r.e(34877),r.e(46414),r.e(11676),r.e(61165),r.e(47668),r.e(94522),r.e(24587),r.e(44584),r.e(67494),r.e(10522),r.e(38293),r.e(40992),r.e(88455),r.e(63515),r.e(33893),r.e(55162),r.e(91793),r.e(71003),r.e(32370),r.e(26264),r.e(97989),r.e(36437),r.e(93963),r.e(44590),r.e(7914),r.e(55113),r.e(85071),r.e(25588),r.e(6769),r.e(23640),r.e(72252),r.e(93134),r.e(12452),r.e(18825),r.e(52871),r.e(29351),r.e(22370),r.e(93049),r.e(22582),r.e(18636),r.e(87289),r.e(16060),r.e(16529),r.e(34281),r.e(35279),r.e(69785),r.e(77754),r.e(29357),r.e(22585),r.e(49021),r.e(19456),r.e(65375),r.e(6039),r.e(60751),r.e(51761),r.e(13023),r.e(51224),r.e(57418),r.e(39005),r.e(19659),r.e(31911),r.e(36902),r.e(48854),r.e(2209)]).then(r.bind(r,12932)))),(e=>e.SidebarCard));var dt=()=>r(701505),ct=()=>r(91511);function lt({sidebarState:e}){const{spaceStore:t,spaceViewStore:r,currentUserRootStore:a,currentUserStore:i,currentUserSettingsStore:o}=(0,d().K8)((()=>{const{sidebarSpaceStore:e,sidebarSpaceViewStore:t,currentUserRootStore:r,currentUserStore:n,currentUserSettingsStore:a}=E().default.state;return{spaceStore:e,spaceViewStore:t,currentUserRootStore:r,currentUserStore:n,currentUserSettingsStore:a}}),[]),{showTeamSection:l,showPrivateSection:u,showSharedOverflowButton:p,showPrivateOverflowButton:S,showTeamsOverflowButton:v,visibleTeamsStores:h,showEmptySharedSection:m}=e,g=(0,s().v3)(),f=(0,c().IS)((()=>({draggingStyle:{opacity:.7}})),[]),y=!(0,d().O$)(Pe().l),x=(0,d().K8)((()=>(null==t?void 0:t.canEdit())&&y),[t,y]),A=(0,w().X)("team_feed_as_any_other_db"),T=(0,X().wu)(),j=(0,X().Km)(),M=(0,X().$1)(),B=(0,d().K8)((()=>r?ut("private",e,A):[]),[r,e,A]),P=(0,d().K8)((()=>r?ut("workspace",e,A):[]),[r,e,A]),C=(0,d().K8)((()=>(0,$().i3)({spaceStore:t,spaceViewStore:r,userRootStore:a,currentUserStore:i})),[t,a,i,r]),R=(null==e?void 0:e.sidebarOrder)??[],O=(0,Ve().KP)({sidebarOrder:R,sidebarState:e,showLockedSidebar:C}),L=(0,d().K8)((()=>{const e=null==t?void 0:t.getSpaceIdCreator();return T&&r&&e?O.filter((t=>{if(!(0,Re().Yw)(t))return!0;if("teamspaces"===t&&!M)return!0;const n=Ee().L.fromSpaceViewStore(e,r,t);return!(null!=n&&n.isHidden())})):O}),[T,O,r,t,M]),U=(0,Me().S)(),D=(0,d().K8)((()=>void 0!==r&&(0,Ve().XA)({spaceViewStore:r,userSettingsStore:o})),[r,o]),z=(0,d().K8)((()=>{if(r&&t)return(0,Ve().rE)({typeWithTeam:{type:"private"},spaceStore:t,spaceViewStore:r})}),[r,t]),V=(0,n.useCallback)((({draggingStores:e})=>!!D&&(!!t&&(0,Ve().ox)({environment:g,draggingStores:e,parentStore:z,spaceStore:t,pageContext:U}))),[g,z,D,t,U]),{value:H}=(0,he().fJ)(ze().VI.duplicateActions),K=(0,n.useCallback)((e=>{(0,Ge().ZT)({environment:g,contentType:"shared_pages"}),Oe().u4({name:"panel_opened",args:{type:"shared"}})}),[g]),F=(0,ke().U2)(t),N=(0,n.useCallback)((async e=>{z&&await Ue().RM({dropArgs:e,environment:g,type:"private",isDroppingOnFullSection:!0,parentStore:z,duplicateActions:H,spaceUserStore:F})}),[H,g,z,F]);if(!B||!P)return null;const W=(0,I.jsx)($e().Ay,{shouldAnimateDrop:!0,direction:"vertical",keys:L,gap:k().sx,draggingStyle:f.draggingStyle,hoverCursorStyleOverride:"pointer",renderKey:n=>{if("favorites"===n)return T?(0,I.jsx)(Ye().H,{sectionType:"favorites"}):(0,I.jsx)(Fe().Ay,{type:"bookmarks",from:"main_sidebar",shouldPersistToggleState:!0,spaceStore:t,spaceViewStore:r,showAddButton:!1,labelTooltip:(0,I.jsx)(b().sA,{defaultMessage:"Pages you have favorited.",id:"sidebar.bookmarkedPagesSection.tooltip"}),right:r?(0,I.jsx)(De().N,{type:"favorites",spaceViewStore:r}):void 0,renderSidebar:({labelAriaId:t,contentsAriaId:r})=>(0,I.jsx)(Ke().W,{type:"bookmarks",sidebarState:e,contentsAriaId:r,labelAriaId:t})});if("meetings_today"!==n){if("recents"===n)return j?(0,I.jsx)(Ye().H,{sectionType:"recents"}):void 0;if("myMeetings"===n)return(0,I.jsx)(Ye().H,{sectionType:"myMeetings"});if("workspace"===n)return(0,I.jsx)(dt().s,{content:(0,I.jsx)(Je,{spaceStore:t,spaceViewStore:r,sidebarState:e,isTransactionQueueHealthy:y}),type:"workspace"});if("shared"===n)return T?(0,I.jsx)(Ye().H,{sectionType:"shared"}):(0,I.jsx)(Fe().Ay,{type:"shared",from:"main_sidebar",shouldPersistToggleState:!0,spaceStore:t,spaceViewStore:r,showAddButton:!1,labelTooltip:(0,I.jsx)(b().sA,{defaultMessage:"Only people you shared with can access these pages.",id:"sidebar.sharedPagesSection.tooltip"}),right:m||!r?(0,I.jsx)(qe().Z,{}):(0,I.jsx)(De().N,{type:"shared",spaceViewStore:r}),renderSidebar:({labelAriaId:t,contentsAriaId:r})=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ke().W,{type:"shared",sidebarState:e,contentsAriaId:r,labelAriaId:t}),m?(0,I.jsx)(Xe().m,{}):p&&(0,I.jsx)(tt().H,{onClick:K,tooltipMessage:(0,I.jsx)(b().sA,{defaultMessage:"All shared pages",id:"sidebar.openAllSharedPages.tooltip"})})]})});if("teamspaces"===n)return l?(0,I.jsx)(pt,{showTeamsOverflowButton:v,visibleTeamsStores:h,enableLibrarySidebarSections:T}):(0,I.jsx)(rt().o,{});if("private"===n){if(u)return T?(0,I.jsx)(Ye().H,{sectionType:"private"}):(0,I.jsx)(at().p,{handleCanAcceptDrop:V,handleDropOntoPrivateSection:N,lastEditedSortedPrivateSection:D,currentSpaceStore:t,currentSpaceViewStore:r,isTransactionQueueHealthy:y,showPrivateOverflowButton:S})}else{if("agents"===n)return(0,I.jsx)(et().K,{});if("notion_apps"===n)return(0,I.jsx)(nt().v,{});(0,Le().HB)(n)}}},onDrop:(t,n)=>{r&&(0,_().handleSidebarSectionDrop)({environment:g,sidebarState:e,newSidebarOrder:(0,k().vK)({newVisibleOrder:t,previousFullOrder:R}),previousSidebarOrder:R,dropArgs:n,spaceViewStore:r})}});return(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",minHeight:"100%"},children:[(0,I.jsx)(Qe().N,{}),(0,I.jsx)(n.Suspense,{fallback:null,children:(0,I.jsx)(He().f,{})}),(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fe().kv,paddingInlineStart:k().bG,paddingInlineEnd:k().bG,paddingBottom:20},children:[W,x?(0,I.jsx)(ot,{}):void 0]}),(0,I.jsx)(st,{})]})}function ut(e,t,r){return(0,Ve().o_)({typeWithTeam:{type:e},sidebarState:t,teamFeedAsAnyOtherDBEnabled:r})}function pt(e){const{showTeamsOverflowButton:t,visibleTeamsStores:r,enableLibrarySidebarSections:a}=e,i=(0,s().v3)(),{sidebarSpaceStore:o,sidebarSpaceViewStore:l}=(0,d().K8)((()=>{const{sidebarSpaceStore:e,sidebarSpaceViewStore:t}=E().default.state;return{sidebarSpaceStore:e,sidebarSpaceViewStore:t}}),[]),u=(0,d().K8)((()=>"inactive"!==Be().default.state.type),[]),p=(0,c().IS)((()=>({shortcutLabel:{color:h().Tj.text.inverseSecondary}})),[]),S=(0,X().$1)(),v=(0,w().X)("sidebar_library_flyout"),m=(0,n.useCallback)((async e=>{if(!v&&a&&S){(await(0,Ze().p)())({event:e,environment:i,analyticsFrom:"sidebar_section_more_button",viewName:"teamspaceDirectory"})}else(0,Ge().ZT)({environment:i,contentType:"teams"})}),[v,a,i,S]);return(0,I.jsx)(dt().s,{content:(0,I.jsx)(Fe().Ay,{type:Ce().st,from:"main_sidebar",sectionLabel:(0,I.jsx)(b().sA,{id:"sidebarOutliner.teamsSection.teamsLabel",defaultMessage:"Teamspaces"}),shouldPersistToggleState:!0,spaceStore:o,spaceViewStore:l,showAddButton:!1,labelTooltip:(0,I.jsx)(b().sA,{defaultMessage:"Teamspaces you have joined.",id:"sidebarOutliner.teamsSection.tooltip"}),right:(0,I.jsx)(De().N,{type:"teamspaces",spaceViewStore:l}),renderSidebar:({contentsAriaId:e})=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ct().w,{teams:r,reorderable:!u,id:e,shouldPersistToggleState:!0,teamOutlinerType:Ce().st,from:"main_sidebar"}),t?(0,I.jsx)(tt().H,{onClick:m,tooltipMessage:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{children:(0,I.jsx)(b().sA,{defaultMessage:"Browse all teamspaces",id:"sidebar.openSidebarTeamBrowserButton.tooltip"})}),(0,I.jsx)(ue().A,{style:p.shortcutLabel,name:"toggleAllTeams"})]})}):void 0]})}),type:"teams"})}function St({sidebarState:e}){const t=(0,d().uB)(void 0,r(150669).A),n=(0,R().V)(),a=(0,O().u)(),i=(0,y().U)();return(0,r(236248).v)(),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(r(495010).G,{}),(0,I.jsx)(L().n,{step:"actions",inAppCalloutStore:n,teamIds:a,renderTooltip:e=>(0,I.jsx)(Ae().Su,{...e}),children:(0,I.jsx)(Te,{})}),(0,I.jsx)(r(849460).d,{scrollerStore:t,children:(0,I.jsx)(lt,{sidebarState:e})}),i?void 0:(0,I.jsx)(_e,{scrollerStore:t})]})}const vt=n.memo(St);function bt({isExpanded:e,topPx:t}){const a=(0,s().v3)(),i=(0,P().Rx)(),o=Boolean(i),l=(0,r(753721).X)(),u=(0,d().K8)((()=>{var e;if(!o)return!1;const t=null===(e=E().default.getState().sidebarSpaceStore)||void 0===e?void 0:e.id,n=a.currentUser.id;return!(!t||!n)&&r(90873).A.hasLoaded({userId:n,spaceId:t})}),[a,o]),{paddingTop:p,paddingLeft:S,paddingBottom:v}=(0,d().K8)((()=>{const{WindowSizeStore:e}=a;return{paddingTop:e.getSafePaddingTopPx(0),paddingLeft:e.getSafePaddingLeftPx(0),paddingBottom:e.getSafePaddingBottomPx(0)}}),[a]),b=function({isExpanded:e,topPx:t,paddingTop:r,paddingLeft:n,paddingBottom:a}){return(0,c().IS)((()=>({topLevelSidebar:{display:"flex",flexDirection:"column",height:e?"100%":"auto",maxHeight:e?"100%":`calc(100vh - ${3*t}px)`,justifyContent:"space-between",overflow:"hidden",position:"relative",paddingTop:r,paddingInlineStart:n,paddingBottom:a}})),[e,t,r,n,a])}({isExpanded:e,topPx:t,paddingTop:p,paddingLeft:S,paddingBottom:v}),h=(0,d().K8)((()=>{var e;return(0,r(466088).w)(a)&&Boolean(null===(e=r(267956).A.state.publicPageData)||void 0===e?void 0:e.template)}),[a]),m=(0,d().K8)((()=>{const{shouldShowLoggedOutPublicSharingSidebar:e}=r(155723);return e(a)}),[a]),g=(0,d().O$)(M().sidebarShouldLogInitialRenderStore),f=(0,n.useRef)(!1);(0,n.useEffect)((()=>{f.current||(f.current=!0,(0,C().yd)("sidebar_mounted"))}),[null==i?void 0:i.isCached,u,l]);const y=(0,n.useRef)(!1);(0,n.useEffect)((()=>{u&&!y.current&&(y.current=!0)}),[u]),(0,n.useEffect)((()=>{var t,n;if(!g)return;if(null!=i&&i.isCached&&(0,C().yd)("initial_render_from_cache"),i&&(0,C().Hg)({is_initial_page_render_done:l}),!u)return void(0,C().yd)("partial_render");const o=C().q6({environment:a});if(null==o||!o.initial_render)return;const s=o.initial_render_from_cache??o.initial_render,d={...C().Tc(),subMetrics:o,show_workspace_section:null==i?void 0:i.showWorkspaceSection,get_spaces_prefetch_type:null===(t=a.prefetcher.cache)||void 0===t||null===(t=t.getPrefetchAnalytic("getSpaces"))||void 0===t?void 0:t.type,get_user_shared_pages_in_space_prefetch_type:null===(n=a.prefetcher.cache)||void 0===n||null===(n=n.getPrefetchAnalytic(`getUserSharedPagesInSpace(${null==i?void 0:i.spaceId})`))||void 0===n?void 0:n.type,is_expanded:e,is_cached:Boolean(o.initial_render_from_cache)},c=(0,B().getPageOriginOrPrewarmedTabAppStartTime)(a);if(void 0===c)return r(391400).A.update((e=>({...e,prewarmedTabSidebarRenderData:d}))),E().default.setSidebarRendered(),void M().sidebarShouldLogInitialRenderStore.setState(!1);B().default.measure({metricName:"sidebar.initial_render",startTime:c,endTime:s},{environment:a,data:d,shouldSendIfStatsigNotInitialized:!0}),E().default.setSidebarRendered(),M().sidebarShouldLogInitialRenderStore.setState(!1)}),[a,e,g,null==i?void 0:i.showWorkspaceSection,u,i,l]);const w=e=>{const t=e.currentTarget;t instanceof Element&&t.scrollTo({left:0,top:0,behavior:"instant"})};return h?(0,I.jsx)("div",{style:b.topLevelSidebar,onScroll:w,children:(0,I.jsx)(r(850409).o,{})}):m&&e?(0,I.jsx)("div",{style:b.topLevelSidebar,onScroll:w,children:(0,I.jsx)(r(667910).V,{})}):i?(0,I.jsx)("div",{style:b.topLevelSidebar,onScroll:w,children:(0,I.jsx)(vt,{sidebarState:i})}):(0,I.jsx)(I.Fragment,{})}const ht=n.memo(bt);var mt=()=>r(174422);const gt=(0,he()._h)(new(he().O2)("SidebarContentContainerSlipperySlope",(async()=>await Promise.all([r.e(75134),r.e(35530),r.e(9773),r.e(36556),r.e(55373),r.e(36192),r.e(40537),r.e(71562),r.e(96346),r.e(44711),r.e(53321),r.e(51220),r.e(16471),r.e(37353),r.e(37571),r.e(29151),r.e(40118),r.e(50397),r.e(27992),r.e(63452),r.e(66249),r.e(92845),r.e(87249),r.e(79022),r.e(14578),r.e(87017),r.e(34877),r.e(46414),r.e(11676),r.e(61165),r.e(47668),r.e(94522),r.e(24587),r.e(44584),r.e(67494),r.e(10522),r.e(38293),r.e(40992),r.e(88455),r.e(63515),r.e(33893),r.e(55162),r.e(91793),r.e(71003),r.e(32370),r.e(26264),r.e(97989),r.e(36437),r.e(93963),r.e(44590),r.e(7914),r.e(55113),r.e(85071),r.e(25588),r.e(6769),r.e(23640),r.e(72252),r.e(93134),r.e(12452),r.e(18825),r.e(52871),r.e(29351),r.e(22370),r.e(93049),r.e(22582),r.e(18636),r.e(87289),r.e(16060),r.e(16529),r.e(34281),r.e(35279),r.e(69785),r.e(77754),r.e(29357),r.e(64242),r.e(22585),r.e(37384),r.e(72659),r.e(49021),r.e(23371),r.e(17729),r.e(6039),r.e(51761),r.e(13023),r.e(51224),r.e(20592),r.e(43288),r.e(57418),r.e(45277),r.e(31106),r.e(63248),r.e(41997),r.e(19659),r.e(4908),r.e(59264),r.e(31835),r.e(31061)]).then(r.bind(r,597891)))),(e=>e.SidebarContentContainerSlipperySlope));function ft({isExpanded:e,isElectronMac:t,isTablet:r}){const w=(0,b().tz)(),x=(0,s().v3)(),E=(0,n.useRef)(null),[B,P]=(0,n.useState)(!1),C=(0,d().O$)(M().sidebarWidthStore),R=(0,d().O$)(M().sidebarOpenStore),O=(0,d().O$)(M().sidebarResizingStore),L=(0,d().O$)(M().sidebarHoverPreviewDisabledStore),U=(0,d().K8)((()=>j().A.state.isFullScreen),[]),D=O.isResizerHovered||O.isResizing,z=(0,d().K8)((()=>{var e;return Boolean(null===(e=l().A.state.preferences)||void 0===e?void 0:e.isVibrancyEnabled)}),[]),V=(0,d().O$)(u().P),H=(0,y().U)(),K=(0,n.useMemo)((()=>H?gt:ht),[H]);(0,n.useEffect)((()=>{H&&0!==C&&C<M().SLIPPERY_SLOPE_SIDEBAR_MIN_WIDTH&&_().setWidth({width:M().SLIPPERY_SLOPE_SIDEBAR_MIN_WIDTH,environment:x})}),[x,H,C]),(0,n.useEffect)((()=>{const e=a().default.getEligibleGroup({experimentId:"prefetch_shared_and_private_pages",enableEventTrailLogging:!0}),t=a().default.getEligibleGroup({experimentId:"enable_sidebar_state_cache",enableEventTrailLogging:!0}),r=a().default.getEligibleGroup({experimentId:"enable_strict_render_completion",enableEventTrailLogging:!0}),n=a().default.getEligibleGroup({experimentId:"defer_sidebar_loading_when_collapsed",enableEventTrailLogging:!0}),i=x.currentUser.id;i&&(0,f().v8)({userId:i,gates:{prefetchSharedAndPrivatePages:"on"===e,enableSidebarStateCache:"on"===t,enableStrictRenderCompletion:"on"===r,deferSidebarLoadingWhenCollapsed:"on"===n}})}),[x.currentUser.id]),(0,n.useEffect)((()=>{_().setIsAnimating(B)}),[B]);const F=O.isResizing||V,N=(0,g().N)()+k().qe,W=(0,n.useCallback)((()=>{M().sidebarMouseEnteredStore.setState(!0)}),[]),J=(0,n.useCallback)((e=>{t&&U&&e.relatedTarget===window||M().sidebarMouseEnteredStore.setState(!1)}),[t,U]),G=(0,d().K8)((()=>(0,T().shouldShowLoggedOutPublicSharingSidebar)(x)),[x]),$=R&&!G||e,q=(0,c().eP)(),X=(0,c().IS)((()=>{const t={boxShadow:D?h().Tj.sidebarResizerBoxShadow:h().Tj.sidebarBoxShadow,...z&&{boxShadow:D?h().Tj.sidebarResizerBoxShadow:h().Tj.sidebarBoxShadow}};return{container:{order:S().A.appCursorListener.sidebar,flexGrow:0,flexShrink:0,pointerEvents:"none",position:"relative",zIndex:111,background:h().Tj.background.secondary,...G?{overflow:"hidden"}:{},...z&&{..."light"===q?{background:`rgba(255, 255, 255, ${v().h-.05})`}:{background:"rgba(255, 255, 255, 0)"}},...t},wrap:{...H?{}:{color:h().Tj.sidebarTextColor,fontWeight:m().Wy.medium},height:"100%"},resizer:{position:"absolute",top:0,insetInlineStart:0,bottom:0,insetInlineEnd:0,borderStartEndRadius:8,borderEndEndRadius:8,zIndex:-1,display:e?"none":"block",...t},content:{position:"absolute",top:0,insetInlineStart:0,bottom:0,display:"flex",flexDirection:"column",width:G?C:0,overflow:"visible",zIndex:9,pointerEvents:"none"},pane:{display:"flex",flexDirection:"column",height:e?"100%":"auto",position:"relative",pointerEvents:$?"auto":"none",visibility:(!G||e||R)&&($||B)?"visible":"hidden",...z&&{...!e&&{borderStartEndRadius:8,borderEndEndRadius:8,backdropFilter:"blur(20px) brightness(110%) saturate(90%)"}}},paneBackground:{display:e?"none":"block",position:"absolute",top:0,insetInlineStart:0,bottom:0,insetInlineEnd:0,borderStartEndRadius:8,borderEndEndRadius:8,zIndex:-1,background:h().Tj.background.elevated,boxShadow:(!G||e||R)&&($||B)?h().Tj.shadowMD:void 0,...z&&{background:"rgba(0, 0, 0, 0)"}}}}),[D,z,e,$,G,R,B,C,q,H]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(i().A,{tag:"nav",animate:{width:e?C:0},skip:F,"aria-hidden":$?void 0:"true","aria-label":w.formatMessage({id:"sidebar.ariaLabel",defaultMessage:"Sidebar"}),style:X.container,className:"notion-sidebar-container",ref:e=>{E.current=e,x.device.isElectron&&(e?M().sidebarSizeObserver.observe(e):M().sidebarSizeObserver.destroy())},children:(0,I.jsx)("div",{style:X.wrap,children:(0,I.jsx)("div",{style:X.content,onMouseMove:e=>{L||B||(0,o().SQ)(e,o().y$.SidebarMouseMove,(()=>{_().open({fromElectron:!1})}))},children:(0,I.jsxs)(i().A,{animate:yt({isExpanded:e,isSidebarOpen:R,sidebarWidth:C,topPx:N,isSidebarWithNoCollapsedState:G}),skip:F,onAnimationStart:()=>{P(!0)},onAnimationEnd:()=>{P(!1)},style:X.pane,className:p().pz7,onMouseMove:W,onMouseLeave:J,children:[(0,I.jsx)("div",{style:{position:"relative",top:-1*k().qe,height:k().qe,background:"transparent",width:G?"100%":C,marginBottom:-1*k().qe}}),(0,I.jsx)("div",{style:X.paneBackground}),(0,I.jsx)("div",{style:X.resizer}),(0,I.jsx)(K,{isExpanded:e,topPx:N}),(0,I.jsx)(mt().A,{sidebarRef:E,type:"page"})]})})})}),(0,I.jsx)(A,{})]})}function yt({isExpanded:e,isSidebarOpen:t,sidebarWidth:r,topPx:n,isSidebarWithNoCollapsedState:a}){if(e)return{...a?{}:{width:r},translateX:0,translateY:0,opacity:1};if(t)return{...a?{}:{width:r},translateX:0,translateY:n,opacity:1};return{...a?{}:{width:r},translateX:a?-r:20-r,translateY:n,opacity:0}}},619403:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>a,pageFillIcon:()=>i});r(296540);var n=r(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 11.75 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.95 2.375h-3.7A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.3H12a2.05 2.05 0 0 1-2.05-2.05zM13.3 14.25a.55.55 0 0 1-.55.55h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 .55.55m-.55-1.95h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 0 1.1"}),(0,n.jsx)("path",{d:"M15.665 7.2a2.1 2.1 0 0 0-.412-.581L11.63 2.997c-.17-.17-.367-.31-.581-.412V6.25c0 .525.425.95.95.95z"})]})},i=(0,r(340498).wt)("pageFill",a,"fill")},619553:(e,t,r)=>{r.d(t,{B:()=>o});var n=()=>r(459621),a=()=>r(59145),i=()=>r(441748);function o({openInNew:e,url:t,makeTabActive:r,position:o,isNewPage:s,environment:d}){"tab"===e&&r?(0,a().x)(d,{url:t,position:o,makeTabActive:r,isNewPage:s}):"tab"!==e||r?"window"===e&&(0,i().E)(t):(0,n().x)(d,{url:t,position:o})}},642557:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>a,lockSmallIcon:()=>i});r(296540);var n=r(474848);const a={viewBox:"0 0 16 16",fittedViewBox:"3.17 1.59 9.66 12.45",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8 8.1a1.125 1.125 0 0 0-.525 2.12v.93a.525.525 0 1 0 1.05 0v-.93A1.125 1.125 0 0 0 8 8.1"}),(0,n.jsx)("path",{d:"M8 1.6a3.25 3.25 0 0 0-3.25 3.25v1a2.026 2.026 0 0 0-1.575 1.975v4.2c0 1.118.907 2.025 2.025 2.025h5.6a2.025 2.025 0 0 0 2.025-2.025v-4.2c0-.964-.673-1.77-1.575-1.975v-1A3.25 3.25 0 0 0 8 1.6M6 4.85a2 2 0 1 1 4 0v.95H6zM4.425 7.825c0-.428.347-.775.775-.775h5.6c.428 0 .775.347.775.775v4.2a.775.775 0 0 1-.775.775H5.2a.775.775 0 0 1-.775-.775z"})]})},i=(0,r(340498).wt)("lockSmall",a,"small")},646355:(e,t,r)=>{r.d(t,{KD:()=>d,gt:()=>c,i9:()=>s,ll:()=>i,tb:()=>o,x$:()=>a});r(18107),r(967357);var n=()=>r(541235);function a(e,t){return i(c(e,t))}function i(e){return void 0!==e&&(e===n().q_||e===n().YD)}function o(e,t){if(i(t))return;const r=n().c$[e],a=r.steps.findIndex((e=>e.id===t));return-1===a?r.steps[0].id:a===r.steps.length-1?n().q_:r.steps[a+1].id}function s(e,t){const r=c(e,t);if(r&&!i(r))return o(t,r)}function d(e,t){const r=c(e,t);if(r)return function(e,t){const r=n().c$[e];var a;if(i(t))return null===(a=r.steps.at(-1))||void 0===a?void 0:a.id;const o=r.steps.findIndex((e=>e.id===t));return-1!==o&&0!==o?r.steps[o-1].id:void 0}(t,r)}function c(e,t){var r;if(!e)return;const a=((null===(r=e.getSettings())||void 0===r?void 0:r.tutorials)||{})[t];return void 0===a?n().c$[t].steps[0].id:a}},713590:(e,t,r)=>{r.d(t,{C8:()=>p,Dz:()=>d,GC:()=>v,GL:()=>b,YY:()=>S,dM:()=>l,h9:()=>c,jX:()=>s,oF:()=>u,uj:()=>o});var n=()=>r(79926);const a={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([r.e(75134),r.e(68744)]).then(r.bind(r,664932)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([r.e(75134),r.e(2686)]).then(r.bind(r,787797)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await Promise.all([r.e(63515),r.e(28763)]).then(r.bind(r,363524)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await r.e(98288).then(r.bind(r,366792)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await r.e(21446).then(r.bind(r,844291)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await r.e(21446).then(r.bind(r,844291)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await r.e(21446).then(r.bind(r,844291)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await r.e(21446).then(r.bind(r,844291)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await r.e(21446).then(r.bind(r,844291))))},i={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([r.e(35530),r.e(36556),r.e(55373),r.e(36192),r.e(27992),r.e(63452),r.e(66249),r.e(87249),r.e(79022),r.e(34877),r.e(11676),r.e(94522),r.e(38293),r.e(63515),r.e(55162),r.e(71003),r.e(32370),r.e(26264),r.e(64242),r.e(47160),r.e(76677),r.e(42056),r.e(53697),r.e(3261),r.e(54219),r.e(56188)]).then(r.bind(r,324026))))},o=(0,n()._h)(i.JiraSyncTeamSpaceModal,(e=>e.default)),s=(0,n()._h)(a.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),d=(0,n()._h)(a.JiraDCAuthModal,(e=>e.default)),c=(0,n()._h)(a.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),l=(0,n()._h)(a.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n()._h)(a.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,n()._h)(a.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),S=(0,n()._h)(a.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),v=(0,n()._h)(a.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),b=(0,n()._h)(a.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator))},753721:(e,t,r)=>{r.d(t,{X:()=>i});var n=()=>r(590526),a=()=>r(391400);function i(){return(0,n().K8)((()=>a().A.state.initialRenderCompleted),[])}},778450:(e,t,r)=>{r.d(t,{e:()=>o});var n=()=>r(165358),a=()=>r(753812),i=()=>r(63728);async function o(e){if(null!==i().l.state)return i().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const r=await a().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===r.type)return n().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:r.error}),!1;const o=r.data.isRegistered||Boolean(r.data.isRegistered30Day);return i().l.setState(o),o}},797730:(e,t,r)=>{r.d(t,{D:()=>n,P:()=>a});const n=(0,r(69708).YK)({agents:{id:"sidebar.agents.button",defaultMessage:"Agents"},notionAi:{id:"sidebar.notionAi.button",defaultMessage:"Notion AI"},inbox:{id:"sidebar.inbox.button",defaultMessage:"Inbox"},messages:{id:"sidebar.messages.button",defaultMessage:"Messages"},feed:{id:"sidebarFeedButton.label",defaultMessage:"Feed"},meetings:{id:"sidebar.meetings.button",defaultMessage:"Meetings"},trial:{id:"sidebar.trial.button",defaultMessage:"Trial Home"}}),a={inbox:r(829548).y,feed:r(925695).N,present:r(822295).presentIcon}},804319:(e,t,r)=>{r.d(t,{A:()=>b});r(296540);var n=()=>r(59226),a=()=>r(726637),i=()=>r(484714),o=()=>r(590526),s=()=>r(401497),d=()=>r(100622),c=()=>r(209199),l=()=>r(3700),u=()=>r(205981),p=()=>r(159588),S=()=>r(644914),v=r(474848);function b(e){var t;const r=(0,i().v3)(),{isTablet:b}=(0,i().Y0)(),h=(0,n().X)("editor_basic_rtl"),m=(0,o().K8)((()=>{var t,n;if(a().A.isMobile)return r.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingInlineStart)?null===(n=e.style)||void 0===n?void 0:n.paddingInlineStart:10)}),[r.WindowSizeStore,null===(t=e.style)||void 0===t?void 0:t.paddingInlineStart]),g=(0,s().IS)((()=>{const t=a().A.isMobile?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:b?4:8,paddingBottom:b?4:8,paddingInlineStart:m,paddingInlineEnd:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:S().Zr,paddingTop:4,paddingBottom:4,...(0,p().ic)()},r=a().A.isMobile?24:e.isLibrary?l().yy:S().ry;return{wrapper:{...t,...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a().A.isMobile?28:22,height:a().A.isMobile?24:18,marginInlineEnd:e.isLibrary?3:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:d().Tj.text.secondary,width:r,height:r,display:"flex",alignItems:"center",justifyContent:"center",marginInlineEnd:e.isLibrary?8:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a().A.isMobile?"clip":"ellipsis",...e.childrenStyle}}}),[b,m,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.isLibrary,e.icon,e.right,e.childrenStyle]);return(0,v.jsxs)("div",{role:e.role,dir:h&&(0,c().A1)()?"rtl":"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:g.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left?(0,v.jsx)("div",{style:g.left,children:e.left}):void 0,e.icon?(0,v.jsxs)("div",{style:g.icon,children:[e.icon,e.isAlias?(0,v.jsx)(u().H,{size:"xs"}):void 0]}):void 0,(0,v.jsx)("div",{style:g.children,children:e.children}),e.right?(0,v.jsx)("div",{style:g.right,children:e.right}):void 0]})}},822295:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>n,presentIcon:()=>a});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 14.56 15.51",svg:(0,r(474848).jsx)("path",{d:"M4.625 4.535a2.765 2.765 0 0 1 3.307-2.711l.07.014a3.26 3.26 0 0 1 2.01 1.297 3.34 3.34 0 0 1 2.044-1.309c1.706-.34 3.319.96 3.319 2.71 0 .558-.166 1.079-.452 1.514h.777c.87 0 1.575.705 1.575 1.575v1.9c0 .613-.35 1.144-.861 1.404V15.7c0 .87-.705 1.575-1.575 1.575H5.16c-.87 0-1.575-.705-1.575-1.575v-4.77a1.58 1.58 0 0 1-.861-1.405v-1.9c0-.87.705-1.575 1.575-1.575h.776a2.75 2.75 0 0 1-.451-1.515m6 2.765v2.55H15.7c.18 0 .325-.145.325-.325v-1.9A.325.325 0 0 0 15.7 7.3zm-1.25 0H4.3a.325.325 0 0 0-.325.325v1.9c0 .18.145.325.325.325h5.075zm0-1.25V5.038c0-.96-.678-1.786-1.618-1.974l-.07-.014a1.515 1.515 0 1 0-.297 3zm3.25 0c.83-.008 1.5-.683 1.5-1.515 0-.95-.882-1.671-1.824-1.483a2.084 2.084 0 0 0-1.676 2.035v.963zm-2 5.05v4.925h4.214c.18 0 .325-.145.325-.325v-4.6zm-1.25 0h-4.54v4.6c0 .18.146.325.326.325h4.214z"})},a=(0,r(340498).wt)("present",n,"default")},849460:(e,t,r)=>{r.d(t,{d:()=>g});var n=r(296540),a=()=>r(907258),i=()=>r(484714),o=()=>r(590526),s=()=>r(401497),d=()=>r(611648),c=()=>r(779315),l=()=>r(539801),u=()=>r(279047),p=()=>r(376254),S=()=>r(151838),v=()=>r(712505),b=()=>r(127581),h=()=>r(923455),m=r(474848);function g({children:e,scrollerStore:t,scrollerStyle:r}){const g=(0,o().O$)(a().AppStoreSidebarSpaceStore),f=(0,h().Rx)(),{isTablet:y}=(0,i().Y0)(),w=(0,l().x)(),x=(0,o().K8)((()=>v().default.isCenterPeekOpen()||b().A.state.open),[]),I=(0,s().IS)((()=>({scroller:{paddingTop:6,flexGrow:1,...r}})),[r]),A=(0,n.useCallback)((e=>{c().A.SidebarScroller=e}),[]);return f?g?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u().A,{type:"top",scrollerStore:t}),(0,m.jsx)(S().A,{store:g,droppable:!0,disableRectangularSelection:!0,disableEditNearestBlock:!0,disable:x,render:({selectableEvents:r})=>(0,m.jsx)(p().H,{type:d().A.Y,store:t,style:I.scroller,ref:A,preventType:y?w:void 0,...r,children:e},f.spaceViewId)})]}):(0,m.jsx)(p().H,{type:d().A.Y,store:t,style:I.scroller,ref:A,preventType:void 0,children:e},f.spaceViewId):null}},859384:(e,t,r)=>{r.d(t,{M:()=>i});r(296540);var n=r(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"3.12 2.99 13.88 13.88",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"m16.774 4.341-.59.589-1.109-1.11.596-.594a.784.784 0 0 1 1.103 0c.302.302.302.8 0 1.102zM8.65 12.462l6.816-6.813-1.11-1.11-6.822 6.808a1.1 1.1 0 0 0-.236.393l-.289.932c-.052.196.131.38.315.314l.932-.288a.9.9 0 0 0 .394-.236"}),(0,n.jsx)("path",{d:"M4.375 6.25c0-1.036.84-1.875 1.875-1.875H11a.625.625 0 1 0 0-1.25H6.25A3.125 3.125 0 0 0 3.125 6.25v7.5c0 1.726 1.4 3.125 3.125 3.125h7.5c1.726 0 3.125-1.4 3.125-3.125V9a.625.625 0 1 0-1.25 0v4.75c0 1.036-.84 1.875-1.875 1.875h-7.5a1.875 1.875 0 0 1-1.875-1.875z"})]})},i=(0,r(340498).wt)("compose",a,"default")},877051:(e,t,r)=>{r.d(t,{V:()=>s});var n=r(296540),a=()=>r(907258),i=()=>r(590526),o=()=>r(391400);function s(){const e=(0,n.useRef)(!1),t=(0,i().K8)((()=>a().default.state.renderPhase),[]),r=(0,i().K8)((()=>o().A.state.initialCollectionPendingRenderCount>0),[]);return"rendered"!==t||r||(e.current=!0),!e.current}},888325:(e,t,r)=>{function n(e){return`${e.table}:${e.id}`}r.d(t,{_:()=>n})},923455:(e,t,r)=>{r.d(t,{Lp:()=>y,Rx:()=>x,a$:()=>w});var n=r(296540),a=()=>r(907258),i=()=>r(755531),o=()=>r(59226),s=()=>r(484714),d=()=>r(590526),c=()=>r(391400),l=()=>r(269183),u=()=>r(753721),p=()=>r(877051),S=()=>r(644914),v=()=>r(82648),b=()=>r(840247),h=()=>r(479349),m=r(474848);const g=(0,n.createContext)(null);g.displayName="SidebarStateContext";const f=2e4;function y({children:e}){const t=(0,s().v3)(),r=(0,b().r)(t),y=(0,p().V)(),{deferSidebarLoadingWhenCollapsed:w}=(0,l().b8)(t.currentUser.id),x=!(0,d().K8)((()=>(0,S().KB)(t)),[t])&&w&&y,[I,A]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{A(!0)}),f);return()=>{clearTimeout(e)}}),[]);const{currentUserId:T,spaceId:j,isFreshStateReady:_}=(0,d().K8)((()=>{var e,t,n,o;null!==(e=a().default.state.currentUserStore)&&void 0!==e&&e.id&&null!==(t=(0,i().S)())&&void 0!==t&&t.id&&(0,v().yd)("user_and_space_stores_loaded");const s=null===(n=a().default.state.currentUserStore)||void 0===n?void 0:n.id,d=null===(o=(0,i().S)())||void 0===o?void 0:o.id;if(x)return{currentUserId:s,spaceId:d,isFreshStateReady:!1};const l=r.state,u=c().A.state.initialRenderCompleted;return{currentUserId:s,spaceId:d,isFreshStateReady:(0,h().XA)({sidebarState:l,userId:s,spaceId:d,isInitialPageRenderCompleted:u})}}),[r,x]),k=(0,o().X)("enable_greedy_sidebar_initial_render"),M=(0,u().X)(),E=(0,h().cT)({isFreshStateReady:_,userId:T,spaceId:j}),B=(0,d().K8)((()=>{const e=null==E?void 0:E.state;return Boolean(T===(null==e?void 0:e.userId)&&j===(null==e?void 0:e.spaceId))}),[E,T,j]),P=Boolean(B&&(M||k)&&!_&&!I);return(0,m.jsx)(g.Provider,{value:P?E:r,children:e})}function w(){const e=(0,n.useContext)(g),t=(0,s().v3)(),r=(0,b().r)(t);return e??r}function x(){return(0,d().O$)(w())}},935748:(e,t,r)=>{r.d(t,{g:()=>c});var n=r(296540),a=()=>r(59226),i=()=>r(402673),o=()=>r(484714),s=()=>r(802149),d=()=>r(753812);function c(){const[e,t]=(0,n.useState)((0,s().HU)()?"true":"not-yet-known"),[r,c]=(0,n.useState)(!0),[l,u]=(0,n.useState)(!1),p=(0,o().v3)(),S=(0,n.useRef)(!1),v=(0,n.useCallback)((()=>{c(!0)}),[]),b=(0,a().X)("connected_apps_upsell--mail")&&r&&"true"!==e,h=(0,n.useCallback)((async()=>{if(!b)return;if(l)return;u(!0);const e=await async function({environment:e}){try{const t=await d().callApi({eventName:"getIsMailUser",environment:e,data:{}});if("success"===t.type)return t.data.isMailUser}catch(t){return}}({environment:p});u(!1),void 0!==e&&(t(e?"true":"false"),c(!1),e&&(0,s().L_)(),window.removeEventListener("blur",v),window.addEventListener("blur",v,{once:!0}))}),[b,l,p,v]);return(0,n.useEffect)((()=>{if(!b)return;if(S.current)return;S.current=!0;(0,i().$)((()=>{h()}),2e3)}),[h,b]),(0,n.useEffect)((()=>()=>{window.removeEventListener("blur",v)}),[v]),{isMailUser:e,checkMailUser:h}}},970236:(e,t,r)=>{r.d(t,{E:()=>s});r(296540);var n=()=>r(401497),a=()=>r(100622),i=()=>r(284371),o=r(474848);function s(e){const{color:t="gray",style:r,content:s,...d}=e,c=(0,n().IS)((()=>({badge:{alignSelf:"center",padding:"2px 4px",background:a().Tj[t].background.secondaryTranslucent,color:a().Tj[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:i().Wy.medium,lineHeight:1.3,...r}})),[t,r]);return(0,o.jsx)("div",{style:c.badge,...d,children:s})}},985315:(e,t,r)=>{r.d(t,{g:()=>o});var n=()=>r(484714),a=()=>r(590526),i=()=>r(342641);function o({spaceId:e}){const t=(0,n().v3)();return(0,a().K8)((()=>{if(e)return i().default.getData(t,{spaceId:e})}),[t,e])}},994006:(e,t,r)=>{r.d(t,{A:()=>a});r(296540);var n=r(474848);const a=function(e){const t={marginInlineEnd:e.avatarMarginRight??6,alignSelf:"center"},a={display:"flex",alignItems:"center",minWidth:0,...e.style},i=e.inline?{...t,width:"none",minHeight:"none"}:t,{userStore:o,avatarShouldShowShadow:s,avatarSize:d,hasTooltip:c,tooltipHeader:l,hasPersonHoverCard:u,spaceStore:p}=e,S=(0,r(69708).tz)(),v=(0,r(590526).K8)((()=>null==o?void 0:o.getDisplayName(S)),[o,S]),b=(0,n.jsxs)("div",{style:a,children:[(0,n.jsx)("div",{style:i,children:(0,n.jsx)(r(453697).A,{userStore:o,avatarShouldShowShadow:s,size:d,hasTooltip:c&&!u,hasPersonHoverCard:!1,tooltipHeader:l})}),(0,n.jsx)("div",{className:"notranslate",style:{...r(284371).RC},children:v})]});return u?(0,n.jsx)(r(436525).D,{userStore:o,spaceStore:p,children:b}):b}}}]);