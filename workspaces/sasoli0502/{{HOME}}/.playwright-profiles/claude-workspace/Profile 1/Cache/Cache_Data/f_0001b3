"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22542,77345],{29197:(e,t,n)=>{n.d(t,{T:()=>i});n(296540);var o=()=>n(35622),r=()=>n(360083),a=n(474848);function i(e){const{imageRef:t,url:n,blockStore:i,environment:l}=e;return e=>{if(e.stopPropagation(),e.preventDefault(),!t.current)return;const s=t.current.getBoundingClientRect(),u=s.width/s.height;o().o9({environment:l,renderFullScreenNode:()=>(0,a.jsx)(r().A,{url:n,isAuthenticated:!0,permissionRecord:i.pointer,width:window.innerWidth,render:(e,t)=>(0,a.jsx)("img",{src:t,style:{position:"relative",maxHeight:"100%",maxWidth:"100%",margin:0,alignSelf:"center",width:"100%"}})}),fullScreenNodeRect:s,contentAspectRatio:u,imageUrl:n,blockStore:i})}}},96409:(e,t,n)=>{n.d(t,{X:()=>i});var o=n(296540),r=()=>n(401497),a=n(474848);const i=o.memo((function(e){const{value:t,description:i,color:l,shouldShrink:s,type:u,style:c,shouldShowTooltip:d}=e,p="status"===u?e.groupColor??"default":void 0,m=(0,r().DP)(),{baseStyles:y}=(0,o.useContext)(n(971003).L8),f=(0,n(496645).Ug)(e.tokenFormat??(null==y?void 0:y.tokenFormat)),h=(0,r().IS)((()=>({token:{margin:0,...n(284371).RC,...c}})),[c]);if(!t)return null;const{textColor:g,backgroundColor:v}=(0,n(100622).LD)(m,l??p);let b;return"status"===u&&(b=l||(p||"gray")),(0,a.jsx)(n(881690).A,{format:f,value:(0,a.jsx)(n(288722).A,{children:t}),description:i,color:g,backgroundColor:v,showRemoveButton:!1,shouldShrink:s,isRound:"status"===u,isSingle:!1,showColoredDot:b,showTooltip:d?"always":"never",tooltipPlacement:"top",style:h.token,tooltipClassName:n(882722).Efz})}))},98205:(e,t,n)=>{n.d(t,{DG:()=>p,Yg:()=>c,Yx:()=>m,_N:()=>d,fY:()=>y,h8:()=>f,wG:()=>u});n(944114),n(898992),n(803949);var o=()=>n(467947),r=()=>n(430896),a=()=>n(31503),i=()=>n(500993),l=()=>n(37165),s=()=>n(131448);const u="forms_add_conditional_logic_tooltip";function c({currentModule:e,nestedModules:t,includePlaceholders:n}){const o=[{currentModule:e,depth:1}],r=[];let a=0;for(;o.length>0;){const e=o.shift();if(!e)continue;const{currentModule:l,depth:s}=e;var i;if(r.push(l),s>a&&(a=s),"formQuestion"===l.type)null===(i=l.conditionalGroups)||void 0===i||i.forEach((e=>{const r=e.children??[];for(const a of r){const e=t[a];e&&("formQuestion"===e.type||n&&"placeholder"===e.type)&&o.push({currentModule:e,depth:s+1})}}))}return{formQuestionDescendants:r,maxDepth:a}}function d(e,t,n){if(!e)return;const o=(0,i().A)(e,t.getModules());if(!o)return;const a=r().c.createChildStore(t,{table:l().lo,id:o.module.formQuestionId,spaceId:t.getSpaceId()??""}).getPropertyId();if(!a)return;const s=n.getSchema()[a],u=null==s?void 0:s.type;return"select"===u||"multi_select"===u||"checkbox"===u?u:void 0}function p({mouseEntered:e,currentQuestionModule:t,modulesByArea:n,featureAvailable:o,inputFocused:r,isDragging:i,showTutorialTooltip:l}){if(void 0===n)return!1;const s=(0,a().Cg)({moduleId:null==t?void 0:t.id,modulesByArea:n}).length>=a().mh,u=(e||l)&&!s&&!r&&!i;return u}function m(e){const{formQuestionId:t,formAddConditionalLogicTooltipStore:n}=e;if(o().A.state.open||!t||!n)return!1;if("multi_select"===e.type){const o=e.optionValue;if(!o||n.state.openTooltip!==y({formQuestionId:t,optionValue:o}))return!1}else if(n.state.openTooltip!==y({formQuestionId:t}))return!1;return s().default.isVisible(u)}function y({formQuestionId:e,optionValue:t}){return t?`fqid:${e} value:${t}`:`fqid:${e}`}function f(e,t){return`${e}:${t}`}},310188:(e,t,n)=>{n.d(t,{K:()=>a});var o=()=>n(713998),r=()=>n(641007);function a({type:e,store:t,textValue:n}){if(!n||!e)return{linkHref:void 0,shouldShowMaliciousContentDialog:!1};const a=(null==t?void 0:t.getCreatedById())===r().xY.id&&"url"===e;return{linkHref:(0,o().UY)(e,n),shouldShowMaliciousContentDialog:a}}},324440:(e,t,n)=>{n.d(t,{o:()=>a});n(898992),n(354520);var o=n(296540),r=n(474848);const a=o.memo((function(e){var t;const{propertyLabel:a,checked:i,enablePointerEventsForInteractiveTypes:l,onClick:s,disabled:u,tooltip:c,withComma:d,store:p,property:m}=e,{baseStyles:y}=(0,o.useContext)(n(971003).L8),f=(0,n(590526).K8)((()=>{if(p)return(0,n(299545).O3)(p,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===m))}),[p,m]),h=f&&null!==(t=f[0])&&void 0!==t&&t.id?(0,n(451306).wV)({discussionId:f[0].id}):void 0,g=(null==y?void 0:y.sizing)??"default",v="small"===g?14:16,b=(0,n(401497).IS)((()=>({wrapperStyle:{maxWidth:"100%"},cardCheckboxWrapStyle:{display:"flex",alignItems:"center",lineHeight:`${v}px`,height:"100%"},cardCheckboxNameStyle:{marginInlineStart:"small"===g?5:6,marginInlineEnd:2,...n(284371).RC},checkboxStyle:{...l&&{pointerEvents:"auto"}}})),[g,v,l]),x=(0,o.useMemo)((()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(26697).m,{disableTooltip:!c,renderTooltip:()=>c,render:e=>(0,r.jsx)(n(420802).S,{checked:i,disabled:u,style:b.checkboxStyle,onClick:s,size:v,...e})}),d?", ":""]})),[v,i,u,s,c,d,b.checkboxStyle]);return(0,r.jsx)("div",{className:h,style:b.wrapperStyle,children:a?(0,r.jsxs)("div",{style:b.cardCheckboxWrapStyle,children:[x,(0,r.jsx)("div",{style:b.cardCheckboxNameStyle,children:a})]}):x})}))},340072:(e,t,n)=>{n.d(t,{a:()=>a});var o=n(296540),r=n(474848);const a=o.memo((function(e){const{recordPointer:t,parentStore:a,linkify:i,withComma:l,style:s,noUnderline:u,noWrap:c,disableTooltip:d}=e,{canEdit:p,shouldWrap:m,baseStyles:y,containerRef:f}=(0,o.useContext)(n(971003).L8),h=(0,n(496645).Ug)(null==y?void 0:y.tokenFormat),g=n(295633).B.createChildStore(a,{table:n(179034).ev,id:t.id}),v=(0,n(590526).K8)((()=>"external_object_instance_page"===(null==g?void 0:g.getType())),[g]),b="never"===i||"whenReadOnly"===i&&p&&!v,x=(0,n(401497).IS)((()=>({relationToken:{margin:0,...s}})),[s]);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(n(554548).A,{blockId:t.id,isSingle:!1,parentStore:a,shouldWrap:m&&!c,format:h,style:x.relationToken,containingParentRef:f,noUnderline:u,disableTooltip:d,disableLinks:b},t.id),l?", ":""]})}))},358167:(e,t,n)=>{n.d(t,{v:()=>a});var o=()=>n(590526),r=()=>n(116008);function a(e){const{blockId:t,propertyId:n}=e;return(0,o().K8)((()=>r().A.isPropertyWithDraftDiscussion({blockId:t,propertyId:n})),[t,n])}},399176:(e,t,n)=>{n.d(t,{E:()=>f});n(898992),n(354520);var o=n(296540),r=()=>n(59226),a=()=>n(590526),i=()=>n(401497),l=()=>n(451306),s=()=>n(72135),u=()=>n(924703),c=()=>n(67775),d=()=>n(299545),p=()=>n(358167),m=()=>n(971003),y=n(474848);function f(e){var t,n;const{numberValue:f,numberFormatOverride:h,numberPrecisionOverride:g,withComma:v,isRightAligned:b,store:x,property:k,fullWidthBar:C}=e,{baseStyles:T,propertySchema:S,shouldRenderTooltip:w,shouldWrap:I}=(0,o.useContext)(m().L8),M=(0,i().eP)(),A=(0,r().X)("improved_progress_bar"),F=S,N=(0,a().K8)((()=>{if(x)return(0,d().O3)(x,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===k))}),[x,k]),W=(0,p().v)({blockId:null==x?void 0:x.id,propertyId:k});let P;N&&null!==(t=N[0])&&void 0!==t&&t.id&&(P=(0,l().wV)({discussionId:N[0].id}));const R=N&&N.length>0,_=(null==T?void 0:T.sizing)??"default",L=(0,i().IS)((()=>{var e,t,n,o,r;const a="bar"===(null==F||null===(e=F.show_as)||void 0===e?void 0:e.type)||"ring"===(null==F||null===(t=F.show_as)||void 0===t?void 0:t.type);let i;return C||(i=A?48:160),{style:{...!a&&{display:void 0},...a?{flex:"1 0 auto",justifyContent:b?"flex-end":void 0}:{},...!I&&{display:a?"inline-flex":"inline",textWrap:"nowrap"},fontSize:null==T||null===(n=T.textStyle)||void 0===n?void 0:n.fontSize,lineHeight:null==T||null===(o=T.textStyle)||void 0===o?void 0:o.lineHeight,...(R||W)&&(0,u().sQ)(M),..."large"===_&&"bar"===(null==F||null===(r=F.show_as)||void 0===r?void 0:r.type)&&{flexDirection:"column",alignItems:void 0},...T.textStyle},barStyle:{..."large"===_&&{flexGrow:1,minWidth:48,maxWidth:C?void 0:"min(100%, 250px)",height:10,marginBottom:4},..."small"===_&&{flexGrow:1,minWidth:48,maxWidth:C?void 0:120},..."default"===_&&{flexGrow:1,minWidth:48,maxWidth:i}}}}),[null==F||null===(n=F.show_as)||void 0===n?void 0:n.type,b,I,T.textStyle,R,W,M,_,A,C]),[j,X]=(0,o.useMemo)((()=>[h||"number"===(null==F?void 0:F.type)&&(null==F?void 0:F.number_format)||s().C4,g||"number"===(null==F?void 0:F.type)&&(null==F?void 0:F.number_precision)||s().pS]),[h,g,F]);return(0,y.jsx)(c().l,{style:L.style,barStyle:L.barStyle,progressSize:T.textLineHeight,numberValue:f,barHeight:"large"===_?8:4,ringWidth:"large"===_?3:2,numberFormat:j,numberPrecision:X,numberShowAs:null==F?void 0:F.show_as,shouldRenderTooltip:!w,withComma:v,className:P})}},431616:(e,t,n)=>{n.d(t,{C:()=>a});var o=n(296540),r=n(474848);const a=o.forwardRef((function({children:e,fontColor:t,style:a,isRightAligned:i,isEmpty:l},s){const{baseStyles:u}=(0,o.useContext)(n(971003).L8),c=(0,n(401497).IS)((()=>({textStyle:{...l?u.emptyTextStyle??u.textStyle:u.textStyle,...a,...i?{justifyContent:"right",textAlign:"end"}:{},..."light"===t?{color:n(100622).Tj.text.tertiary}:{}}})),[l,u.emptyTextStyle,u.textStyle,a,i,t]);return(0,r.jsx)("div",{ref:s,style:c.textStyle,children:e})}))},465741:(e,t,n)=>{n.d(t,{C0:()=>I,CK:()=>R,Dx:()=>N,Fc:()=>L,Gi:()=>C,Hd:()=>X,KU:()=>D,TW:()=>P,Vm:()=>j,YA:()=>F,d0:()=>x,eb:()=>k,ls:()=>M,mY:()=>S,px:()=>A});n(16280),n(296540);var o=()=>n(590526),r=()=>n(675133),a=()=>n(792057),i=()=>n(732810),l=()=>n(197636),s=()=>n(584262),u=()=>n(31503),c=()=>n(898244),d=()=>n(713998),p=()=>n(69708),m=()=>n(284371),y=()=>n(720665),f=()=>n(390650),h=()=>n(492414),g=()=>n(761309),v=()=>n(98205),b=n(474848);const x=5e3,k=500,C=(0,p().YK)({characterLimitReached:{defaultMessage:"Character limit reached.",id:"form.characterLimitReached"},questionLimitReachedTitle:{defaultMessage:"Question limit reached",id:"form.questionLimitReached.title"},questionLimitReachedSubtitle:{defaultMessage:"Please delete a question before creating a new one.",id:"form.questionLimitReached.subtitle"},questionLimitReachedFullMessage:{defaultMessage:"Question limit reached. Please delete a question before creating a new one.",id:"form.questionLimitReached.fullMessage"}}),T=(0,p().YK)({title:{defaultMessage:"Title",id:"database.questionTypeName.title"},text:{defaultMessage:"Text",id:"database.questionTypeName.text"},number:{defaultMessage:"Number",id:"database.questionTypeName.numberTypeLabel"},url:{defaultMessage:"URL",id:"database.questionTypeName.url"},multi_select:{defaultMessage:"Multiple choice",id:"database.questionTypeName.multi_select"},person:{defaultMessage:"Person",id:"database.questionTypeName.person"},email:{defaultMessage:"Email",id:"database.questionTypeName.email"},phone_number:{defaultMessage:"Phone",id:"database.questionTypeName.phone_number"},date:{defaultMessage:"Date",id:"database.questionTypeName.dateTypeLabel"},file:{defaultMessage:"Files & media",id:"database.questionTypeName.file"},checkbox:{defaultMessage:"Checkbox",id:"database.questionTypeName.checkbox"},relation:{defaultMessage:"Relation",id:"database.questionTypeName.relation"},place:{defaultMessage:"Place",id:"database.questionTypeName.place"}}),S={title:r().A.formatMessage(T.title),text:r().A.formatMessage(T.text),number:r().A.formatMessage(T.number),url:r().A.formatMessage(T.url),multi_select:r().A.formatMessage(T.multi_select),person:r().A.formatMessage(T.person),email:r().A.formatMessage(T.email),phone_number:r().A.formatMessage(T.phone_number),date:r().A.formatMessage(T.date),file:r().A.formatMessage(T.file),checkbox:r().A.formatMessage(T.checkbox),relation:r().A.formatMessage(T.relation),place:r().A.formatMessage(T.place)},w=["relation","person"];function I(e,t){return t?"closed":e?"shared_to_web":"shared_to_space"}function M(e){const{formSharingState:t,isOverBlockLimit:n,spaceName:o}=e;if(n)return(0,b.jsx)(p().sA,{id:"editorFormResponderWarning.overBlockLimit.message",defaultMessage:"You are over the block limit. No new responses can be submitted through this form."});switch(t){case"closed":return(0,b.jsx)(p().sA,{id:"editorFormResponderWarning.closed.message",defaultMessage:"This form is closed. No new responses can be submitted."});case"shared_to_web":return(0,b.jsx)(p().sA,{id:"editorFormResponderWarning.public.message",defaultMessage:"This form is public. Anyone with the link can submit a response."});case"shared_to_space":return(0,b.jsx)(p().sA,{id:"editorFormResponderWarning.internal.message",defaultMessage:"Only members at {spaceName} can fill out this form.",values:{spaceName:o}})}}function A(e,t=!1){return e.getIsFormPublic()?(0,h().Ay)({store:e,preferPublicLink:!0,pageVisitSource:s().y8.FormPublicPage}):(0,h().Ay)({store:e,openInCenterPeek:t,pageVisitSource:s().y8.FormInternalPage})}function F({collectionContextStore:e,propertyId:t,questionId:n,area:o,parentModuleId:r,layoutStore:a}){var i,l;const s=e?(0,f().sl)(e):void 0,u=null==e?void 0:e.collectionViewStore(),c=null==e?void 0:e.collectionStore(),d=null==u?void 0:u.getFormat(),p=null==d||null===(i=d.form_block_pointer)||void 0===i?void 0:i.id,m=null==e||null===(l=e.normalizedSchemaStore.state)||void 0===l||null===(l=l[t])||void 0===l?void 0:l.type;if(!c)throw new Error("Collection store is undefined");return{question_type:m,question_id:n,form_id:p,is_conditional:"form_conditional_modules"===o,parent_question_type:(0,v()._N)(r,a,c),...s??{}}}function N(e){const t=null==e?void 0:e.getFormat().form_layout_pointer;if(t)return l().K.createChildStore(e,t)}const W=new(n(29923).R)({key:"opt_out_form_content_warning",namespace:n(553737).cd,important:!1,trackingType:"preference"});function P(e){const t=W.getState(),n=void 0===t||Date.now()-t>y().nD,o="file"===e.propertyType?(0,b.jsx)(p().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.file.message",defaultMessage:"Download file?"}):(0,b.jsx)(p().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.url.message",defaultMessage:"Open link?"}),r=(0,b.jsx)(p().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.description",defaultMessage:"This content was submitted anonymously. Only proceed if you trust the source."}),i="file"===e.propertyType?(0,b.jsx)(p().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.file.confirmLabel",defaultMessage:"Download anyway"}):(0,b.jsx)(p().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.url.confirmLabel",defaultMessage:"Open anyway"});n?a().ui({showCancel:!1,showCloseButton:!0,keepFocus:!0,mode:"wide",message:(0,b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",fontWeight:m().Wy.medium},children:o}),description:(0,b.jsx)("div",{style:{textAlign:"center",fontSize:14},children:r}),items:[{label:i,onAccept:e.onConfirm,color:"red",buttonType:"solid"}],selectionItems:[{key:"opt_out",showBelowButtons:!0,text:(0,b.jsx)("span",{style:{fontWeight:m().Wy.regular},children:(0,b.jsx)(p().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.optOut",defaultMessage:"Don’t show again for 24 hours"})}),onSelect:e=>{!0===e?W.setState(Date.now()):W.setState(void 0)}}]}):e.onConfirm()}function R(e){const{environment:t,propertyType:n,propertySchema:o,isPublicForm:r}=e;if(r&&w.includes(n)){if("person"===n)return"invalid_property_type_for_public_form";if("relation"===(null==o?void 0:o.type)){const e=(0,c().Nv)(o);if(e){const n=new(i().m)(t,e);if(n.isDefined()){if(!(0,g().qw)(n))return"related_collection_not_public"}}}}}const _=(0,p().YK)({checkboxYes:{id:"FormResponseSnapshotModal.Checkbox.Yes",defaultMessage:"Yes"},checkboxNo:{id:"FormResponseSnapshotModal.Checkbox.No",defaultMessage:"No"}});function L(e){return"true"===e?r().A.formatMessage(_.checkboxYes):r().A.formatMessage(_.checkboxNo)}function j(e){const{formQuestionStore:t,propertySchema:n}=e;return(0,o().K8)((()=>{const e=null==t?void 0:t.getModel();return!(!e||!n)&&((0,u().Fi)({formQuestionModel:e,propertySchema:n})||"select"===(null==n?void 0:n.type))}),[t,n])}function X(e){const{draftFormBlockStore:t,formQuestionStore:n,propertyId:o,propertySchema:r}=e;if(!t||!o||!r)return;if("multi_select"!==r.type&&"select"!==r.type)return;const a=t.getPropertyValue(o);if("select"===r.type)return(0,d().L3)(a,r.options??[]);const i=n.getModel();if(i&&!(0,u().Fi)({formQuestionModel:i,propertySchema:r}))return;const l=(0,d().o2)(a,r.options??[]);return 1===l.length?l[0]:void 0}function D(e){var t;const{formQuestionStore:n,propertySchema:o}=e;if(o&&(0,c().lx)(o))return(null===(t=n.getPropertyTypeSpecificConfig(o.type))||void 0===t?void 0:t.displayMode)??"list"}},563015:(e,t,n)=>{n.d(t,{SA:()=>u,eJ:()=>h,ew:()=>f,ml:()=>d,rA:()=>m,yI:()=>y,zf:()=>p});n(581454);var o=()=>n(496603),r=()=>n(534177),a=()=>n(708685),i=()=>n(145076),l=()=>n(349835),s=()=>n(239381);function u(e){if("type"in e){if(e.type===l().IA.CalledFunctionOnEmptyValue)return"warning";if(e.type===l().IA.CallingFunctionWithUnknownTarget)return"warning";if(e.type===l().IA.CallingFunctionWithUnknownArgument)return"warning"}return"error"}function c(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,r().HB)(e)}}function d(e){switch(e.type){case l().M9.InvalidCharacter:return{...i().x0.InvalidCharacter,values:{errorCharacter:e.character}};case l().M9.UnclosedStringLiteral:return i().x0.UnclosedStringLiteral;case l().M9.UnclosedComment:return i().x0.UnclosedComment;case l().M9.TokenExpected:return{...i().x0.TokenExpected,values:{expectedToken:e.token}};case l().M9.StringLiteralContainsToken:return i().x0.StringLiteralContainsToken;case l().M9.ExpressionExpected:return i().x0.ExpressionExpected;case l().M9.PropertyTokenOrFunctionExpected:return i().x0.PropertyTokenOrFunctionExpected;case l().M9.EndOfInputExpected:return i().x0.EndOfInputExpected;case l().M9.UnexpectedError:return i().x0.UnexpectedError;case l().M9.TooDeeplyNested:return i().x0.TooDeeplyNested;default:(0,r().HB)(e)}}function p(e){switch(e.type){case l().IA.FunctionCallArgumentWrongType:case l().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function m(e,t){let n;switch(t.type){case l().IA.ThisRowTypeNotFound:n=i().Xz.ThisRowTypeNotFound;break;case l().IA.ThisRowNotBlockWithCollection:n=i().Xz.ThisRowNotBlockWithCollection;break;case l().IA.MissingPropertyOnThisRow:n={...i().Xz.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case l().IA.MissingContextVariable:{const e=(0,s().ix)(t.token)?t.token.contextValueId:t.token.valueId;n={...i().Xz.MissingContextVariable,values:{valueId:e}}}break;case l().IA.MissingBlock:n={...i().Xz.MissingBlock,values:{blockId:t.token.blockId}};break;case l().IA.CallingNotFunction:n={...i().Xz.CallingNotFunction,values:{expressionType:c(t.callee.type.type)}};break;case l().IA.FunctionCallTooFewArguments:n={...i().Xz.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case l().IA.FunctionCallUnexpectedArgument:n={...i().Xz.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case l().IA.FunctionCallArgumentWrongType:n={...i().Xz.FunctionCallArgumentWrongType,values:{argumentType:c(t.argument.type.type),functionName:t.libraryFunction.name}};break;case l().IA.CallingFunctionWithUnknownArgument:{const e=Array.isArray(t.expectedParameter.type)?t.expectedParameter.type[0]:t.expectedParameter.type,o="expression"===e.type?"expression":c(e.type);n={...i().Xz.CallingFunctionWithUnknownArgument,values:{functionName:t.libraryFunction.name,expectedType:o}};break}case l().IA.MemberPropertyMismatchCollection:n={...i().Xz.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case l().IA.MemberPropertyMissing:n={...i().Xz.MemberPropertyMissing,values:{propertyName:t.property}};break;case l().IA.MemberPropertyTargetNotBlock:n=i().Xz.MemberPropertyTargetNotBlock;break;case l().IA.MemberPropertyTypeInvalid:n={...i().Xz.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case l().IA.UndefinedIdentifier:n={...i().Xz.UndefinedIdentifier,values:{identifier:t.node.text}};break;case l().IA.InvalidPropCall:n={...i().Xz.InvalidPropCall,values:{propertyName:t.name}};break;case l().IA.InvalidContextCall:n={...i().Xz.InvalidContextCall,values:{variableName:t.name}};break;case l().IA.InvalidVariableCall:n={...i().Xz.InvalidVariableCall,values:{variableName:t.name}};break;case l().IA.UnifiedFunctionCannotFindFunction:n={...i().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case l().IA.UnifiedFunctionNoArguments:n={...i().Xz.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case l().IA.UnifiedFunctionTargetWrongType:n={...i().Xz.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:c(t.expression.type.type)}};break;case l().IA.CallingFunctionWithUnknownTarget:{const e=Array.isArray(t.expectedParameter.type)?t.expectedParameter.type[0]:t.expectedParameter.type,o="expression"===e.type?"expression":c(e.type);n={...i().Xz.CallingFunctionWithUnknownTarget,values:{functionName:t.libraryFunction.name,expectedType:o}};break}case l().IA.CannotRelativelyCompareTypes:n={...i().Xz.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case l().IA.CannotDoMathOnType:n={...i().Xz.CannotDoMathOnType,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case l().IA.UnaryMinusOnNonNumber:n={...i().Xz.UnaryMinusOnNonNumber,values:{type:c(t.expression.type.type)}};break;case l().IA.IdentifierExpected:n=i().Xz.IdentifierExpected;break;case l().IA.FunctionCallExpected:n={...i().Xz.FunctionCallExpected,values:{functionName:t.functionName}};break;case l().IA.RenamedIdentifier:n={...i().Xz.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case l().IA.RemovedFunction:n={...i().Xz.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case l().IA.ContextVariableNotBlockWithCollection:n={...i().Xz.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case l().IA.MissingPropertyOnContextVariable:n={...i().Xz.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case l().IA.BlockPropertyTypeInvalid:n={...i().Xz.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case l().IA.DisallowedReturnType:{const o=t.allowedReturnTypes.map((t=>e.formatMessage((0,a().getHumanReadableType)(t)).toLocaleLowerCase()));n={...i().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(o,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,a().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case l().IA.CrossSpacePropertyNotSupported:n={...i().Xz.CrossSpacePropertyNotSupported};break;case l().IA.CalledFunctionOnEmptyValue:n={...i().Xz.CalledFunctionOnEmptyValue};break;default:(0,r().HB)(t)}return{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function y(e,t){let n;switch(t.type){case l().uW.MissingThisRow:n=i().X8.MissingThisRow;break;case l().uW.MissingSchemaPropertyOnThisRow:n={...i().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case l().uW.ThisRowBlockPropertyMismatchCollection:n=i().X8.ThisRowBlockPropertyMismatchCollection;break;case l().uW.MissingContextVariable:n={...i().X8.MissingContextVariable,values:{valueId:t.valueId}};break;case l().uW.IdentifierNotFound:n={...i().X8.IdentifierNotFound,values:{identifier:t.node.text}};break;case l().uW.CannotRelativelyCompareTypes:n={...i().X8.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType),rhsType:c(t.rhsType)}};break;case l().uW.CannotDoMathOnType:n={...i().X8.CannotDoMathOnType,values:{valueType:c(t.valueType)}};break;case l().uW.CannotCallNonFunction:n={...i().X8.CannotCallNonFunction,values:{calleeType:c(t.calleeType)}};break;case l().uW.UnifiedFunctionPropertyNotFound:n={...i().X8.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case l().uW.LibraryFunctionExecutionError:const o=t.error instanceof l().x4?t.error:void 0;n=(null==o?void 0:o.info.type)===l().v3.DateInvalidDurationUnit?{...i().gW.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:o.info.invalidUnit}}:(null==o?void 0:o.info.type)===l().v3.CannotUseToNumberOnList?{...i().gW.CannotUseToNumberOnList}:(null==o?void 0:o.info.type)===l().v3.CannotRoundToNonInteger?{...i().gW.CannotRoundToNonInteger,values:{precision:o.info.precision}}:(null==o?void 0:o.info.type)===l().v3.CannotRoundToTooManyDecimalPlaces?{...i().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:o.info.precision}}:(null==o?void 0:o.info.type)===l().v3.NumberFormatInvalid?{...i().gW.NumberFormatInvalid,values:{invalidFormat:o.info.invalidFormat}}:{...i().X8.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case l().uW.FunctionCallTooFewArguments:n={...i().X8.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case l().uW.FunctionCallUnexpectedArgument:n={...i().X8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case l().uW.FunctionCallArgumentWrongType:n={...i().X8.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:c(t.argumentType)}};break;case l().uW.AccessingPropertyOnNonBlock:n=i().X8.AccessingPropertyOnNonBlock;break;case l().uW.MissingDataDependencyBlock:n={...i().X8.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case l().uW.MissingDataDependencyPerson:n={...i().X8.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case l().uW.MemberPropertyMismatchCollection:n=i().X8.MemberPropertyMismatchCollection;break;case l().uW.MissingPropertyOnSchemaForMemberProperty:n=i().X8.MissingPropertyOnSchemaForMemberProperty;break;case l().uW.UnaryMinusOnNonNumber:n={...i().X8.UnaryMinusOnNonNumber,values:{expressionType:c(t.expressionType)}};break;case l().uW.UnexpectedRecoveryNode:n=i().X8.UnexpectedRecoveryNode;break;case l().uW.UnexpectedError:n=i().X8.UnexpectedError;break;case l().uW.DepthExceeded:n=i().X8.DepthExceeded;break;case l().uW.CycleDetected:n=i().X8.CycleDetected;break;case l().uW.DownstreamParseFailure:n=i().X8.DownstreamParseFailure;break;case l().uW.MaxEvaluationTimeExceeded:n=i().X8.MaxEvaluationTimeExceeded;break;case l().uW.MissingSchemaPropertyOnCollection:n={...i().X8.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case l().uW.ContextVariableWrongType:n={...i().X8.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case l().uW.DisallowedValueType:{const o=t.allowedValueTypes.map((t=>e.formatMessage((0,a().getHumanReadableType)(t)).toLocaleLowerCase()));n={...i().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(o,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,a().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}case l().uW.TotalDependencyLimitExceeded:n={...i().X8.TotalDependencyLimitExceeded,values:{totalLoaded:t.totalLoaded,limit:t.limit}};break;case l().uW.PerFormulaDependencyLimitExceeded:n={...i().X8.PerFormulaDependencyLimitExceeded,values:{perFormulaLoaded:t.perFormulaLoaded,limit:t.limit}};break;default:(0,r().HB)(t)}return(0,s().li)(t)?{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:n}function f(e){const t=null==e?void 0:e.values;return[o().cJ(e,"values"),t]}function h(e){return e.type===l().uW.DepthExceeded||e.type===l().uW.CycleDetected||e.type===l().uW.MaxEvaluationTimeExceeded||e.type===l().uW.LibraryFunctionExecutionError}},586117:(e,t,n)=>{n.d(t,{b:()=>l});n(898992),n(354520);var o=n(296540),r=()=>n(401497),a=()=>n(597777),i=n(474848);const l=o.memo((function(e){var t;const{dateValue:l,dateFormat:s,timeFormat:u,withComma:c,store:d,property:p,formatWithUltraCompactRelativeFormat:m}=e,y=(0,r().eP)(),{baseStyles:f,shouldRenderTooltip:h}=(0,o.useContext)(n(971003).L8),g=(0,n(590526).K8)((()=>{if(d)return(0,n(299545).O3)(d,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===p))}),[d,p]),v=(0,n(358167).v)({blockId:null==d?void 0:d.id,propertyId:p}),b=(0,r().IS)((()=>({dateBox:{...f.textStyle,display:"inline",...(((null==g?void 0:g.length)??!1)||v)&&(0,n(924703).sQ)(y)}})),[f.textStyle,null==g?void 0:g.length,v,y]);let x;var k;g&&null!==(t=g[0])&&void 0!==t&&t.id&&(x=(0,n(451306).wV)({discussionId:null===(k=g[0])||void 0===k?void 0:k.id}));if(m&&l){const e=n(604995).ln(l,(0,n(416504).P)()),t=(0,n(815585).nl)(e,{useCompactFormat:!0,useWeeks:!0,showDaysToOneWeek:!0});return(0,i.jsx)("div",{className:x,style:b.dateBox,children:t})}return(0,i.jsx)(n(79877).A,{value:l,dateFormat:s??a().vz,timeFormat:u??a().CE,style:b.dateBox,disableTooltip:h||"relative"!==s,withComma:c,displayInUserTimezone:!0,discussionStore:null==g?void 0:g[0],className:x})}))},586295:(e,t,n)=>{n.d(t,{h:()=>a});var o=n(296540),r=n(474848);const a=o.forwardRef((function({children:e,style:t,isRightAligned:a,className:i},l){const{baseStyles:s}=(0,o.useContext)(n(971003).L8),u=(0,n(401497).IS)((()=>({tokenWrapStyle:{...s.tokenWrapStyle,...a?{justifyContent:"end"}:void 0,...t}})),[s.tokenWrapStyle,t,a]);return(0,r.jsx)("div",{ref:l,style:u.tokenWrapStyle,className:i,children:e})}))},648747:(e,t,n)=>{n.d(t,{O:()=>s});n(898992),n(430670);var o=()=>n(675133),r=()=>n(869190),a=()=>n(416504),i=()=>n(450648),l=()=>n(534177);function s(e,t,n){if(void 0===e)return[];switch(e.type){case"text":const u=(0,i().r4)({textValue:e.value,getRecordModel:t,userTimeZone:n,intl:o().A.getIntl(),deterministic:!0});return 0===u.length?[]:[{id:u,type:"text",value:e.value}];case"block":return[{id:e.value.id,type:"relation",value:e.value}];case"date":return[{id:(0,r().ZF)({allowRelativeDates:!1,value:e.value,userTimeZone:(0,a().P)(),intl:o().A.getIntl()}),type:"date",value:e.value}];case"checkbox":return[{id:e.value,type:"checkbox",value:e.value}];case"number":return[{id:e.value,type:"number",value:e.value}];case"person":return[{id:e.value.id,type:"person",value:e.value}];case"array":return e.values.flatMap((e=>s(e,t,n)));case"undefined":case"function":return[];default:(0,l().HB)(e)}}},684847:(e,t,n)=>{n.d(t,{X:()=>a});var o=n(296540),r=n(474848);const a=o.memo((function(e){const{linkValue:t,style:a,store:i,shouldDisableLinks:l,shouldLockImageAspectRatio:s}=e,u=i.pointer,{url:c,name:d}=t,{baseStyles:p}=(0,o.useContext)(n(971003).L8),m=(0,n(484714).v3)(),y=m.device.isRetina,f=(0,o.useRef)(null),h=(null==p?void 0:p.sizing)??"default",g="small"===h?20:"large"===h?28:24,v=(0,n(401497).IS)((()=>({fileTextStyle:{display:"inline-block",height:g,lineHeight:`${g}px`,borderRadius:4,background:n(100622).Tj.legacyDefaultSelectColor,fontSize:n(115512).Kw,padding:"0px 6px",maxWidth:120,minWidth:40,...l?{}:{cursor:"pointer"},...n(284371).RC,...a},fileImageStyle:{maxHeight:g,borderRadius:4,...l?{}:{cursor:"zoom-in"},...s?{maxHeight:g,minHeight:g,maxWidth:g,minWidth:g,objectFit:"cover"}:{},...a}})),[l,g,s,a]),b=(0,o.useCallback)(((e,t)=>{if(!t)return null;const o=l?void 0:(0,n(29197).T)({imageRef:f,url:c,blockStore:i,environment:m});return(0,r.jsx)("img",{ref:f,src:t,style:v.fileImageStyle,onClick:o},c)}),[l,m,i,v.fileImageStyle,c]);if((0,n(304740).rS)({url:c}))return(0,r.jsx)(n(360083).A,{url:c,isAuthenticated:!0,permissionRecord:u,width:y?2*g:g,render:b},c);return(0,r.jsx)("span",{style:v.fileTextStyle,onClick:l?void 0:e=>{e.preventDefault(),e.stopPropagation();const t=n(242422).default.getConfigKey("file_block_download","force_download_extensions"),o=(0,n(522419).YR)({url:c,forceDownloadExtensions:t});n(196570).OG(m,{url:c,type:"file",from:"view_original",downloadName:d,permissionRecord:u,download:o})},children:(0,r.jsx)(n(404905).j,{children:d})},c)}))},729564:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(296540),r=()=>n(590526),a=()=>n(784892),i=()=>n(437607),l=n(474848);const s=o.memo((function(e){var t;const{actorOrGroupPointer:s,style:u,shouldShrink:c,withComma:d,avatarSize:p}=e,{store:m,baseStyles:y,shouldRenderTooltip:f,propertySchema:h}=(0,o.useContext)(n(971003).L8),g=e.tokenFormat??(0,n(496645).Ug)(null==y?void 0:y.tokenFormat),v=(0,n(401497).IS)((()=>({actorStyle:{margin:0,lineHeight:1.5,...u,...g===a().NY.Inline&&{pointerEvents:"auto"},display:"inline-block"}})),[g,u]),b=(0,r().K8)((()=>{if(m)return m.getSpaceStore()}),[m]),x=(0,r().K8)((()=>{if((0,i().I6)(s))return;const e=null==m?void 0:m.getRecordModel;return e?(0,n(764880).xC)({pointer:s,getRecordModel:e}):void 0}),[s,null==m?void 0:m.getRecordModel]);return(0,i().I6)(s)?void 0===m?null:(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(n(27356).UISpacePermissionGroupToken,{groupPointer:s,parentStore:m,format:g,isSingle:!1,style:v.actorStyle,avatarSize:p}),d?", ":""]}):void 0===x?null:(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(n(448693).Ay,{actor:x,showRemoveButton:!1,format:g,isSingle:!1,shouldShrink:c,style:v.actorStyle,hasPersonHoverCard:!f||g===a().NY.Inline,tooltipHeader:null==h?void 0:h.name,avatarSize:p,spaceStore:b},null===(t=x.asActor)||void 0===t?void 0:t.id),d?", ":""]})}))},891725:(e,t,n)=>{n.d(t,{LE:()=>c,lj:()=>d});n(898992),n(354520);var o=n(296540),r=()=>n(590526),a=()=>n(401497),i=()=>n(201980),l=()=>n(100622),s=()=>n(468882),u=n(474848);const c=o.memo((function(e){const{textValue:t,type:l,useShortenedUrl:c,disableLinkify:p,withComma:m,store:y,property:f}=e,h=(0,r().K8)((()=>{if(y)return(0,n(299545).O3)(y,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===f))}),[y,f]),g=(0,n(358167).v)({blockId:null==y?void 0:y.id,propertyId:f}),v=h&&(null==h?void 0:h.length)>0||g,b=(0,a().eP)(),x=(0,a().IS)((()=>({linkBoxStyle:{pointerEvents:"all",display:"inline",background:void 0,...(0,s().w_)(),...v&&(0,n(924703).sQ)(b)},hoveredLinkBoxStyle:{background:void 0,...(0,s().w_)()},pressedLinkBoxStyle:{background:void 0,...(0,s().w_)()}})),[v,b]),{collectionContextStore:k}=(0,o.useContext)(n(971003).L8),C=(0,r().K8)((()=>null==k?void 0:k.searchQueryStore.state),[null==k?void 0:k.searchQueryStore]),T=(0,r().K8)((()=>{if(!C||!t)return!1;const e=(0,i().k4p)(t);return null==e?void 0:e.toLowerCase().includes(C.toLowerCase())}),[C,t]),{linkHref:S,shouldShowMaliciousContentDialog:w}=(0,r().K8)((()=>(0,n(310188).K)({textValue:t||(f?null==y?void 0:y.getPropertyValue(f):void 0),type:l,store:y})),[f,y,t,l]);let I;I=t&&"url"===l&&(c||T)?(0,u.jsx)(d,{textValue:t,searchQuery:C}):(0,i().k4p)(t);const M=(0,r().K8)((()=>{var e;if(null!=h&&h[0])return(0,n(451306).wV)({discussionId:null==h||null===(e=h[0])||void 0===e?void 0:e.id})}),[h]),A=(0,n(484714).Y0)();return!S||p?(0,u.jsx)(u.Fragment,{children:I}):(0,u.jsxs)(n(996332).Q,{href:S,onClick:e=>{A.isElectron||!e.metaKey&&!e.ctrlKey||e.defaultPrevented||window.open(S,"_blank")},style:x.linkBoxStyle,hoveredStyle:x.hoveredLinkBoxStyle,pressedStyle:x.pressedLinkBoxStyle,external:!0,className:M,preNavigationAction:e=>{w?(0,n(465741).TW)({propertyType:"url",onConfirm:()=>{e()}}):e()},children:[I,m?", ":null]})}));function d({textValue:e,searchQuery:t}){const n=(0,a().IS)((()=>({restOfUrl:{color:l().Tj.text.tertiary}})),[]),{domain:o,restOfUrl:r}=(0,s().Kc)(e);if(!o)return(0,u.jsx)(u.Fragment,{children:(0,i().k4p)(e)});const c=function(e,t,n){if(!t)return;let o=t,r=!1;if(t&&n){const a=null==t?void 0:t.toLowerCase().indexOf(n.toLowerCase()),i=`${e}${t}`.toLowerCase().indexOf(n.toLowerCase());if(a>=0){let e="";a>0&&(e=`${t.slice(0,1)}`),a>1&&(e+="…");let i="";a+n.length<t.length&&(i="…"),o=`${e}${t.slice(a,a+n.length)}${i}`,r=!0}else if(i>=0&&i+n.length>e.length){const a=i+n.length-e.length;o=t.slice(0,a),a<t.length&&(o+="…"),r=!0}}!r&&t&&t.length>12&&(o=`${t.slice(0,4)}…${t.slice(-6)}`);return o}(o,r,t);return(0,u.jsxs)(u.Fragment,{children:[o,c?(0,u.jsx)("span",{style:n.restOfUrl,children:c}):null]})}},956394:(e,t,n)=>{n.d(t,{GL:()=>L,Or:()=>P,Ye:()=>_,yZ:()=>R});n(898992),n(354520);var o=n(296540),r=()=>n(590526),a=()=>n(401497),i=()=>n(807449),l=()=>n(26697),s=()=>n(563015),u=()=>n(621594),c=()=>n(72135),d=()=>n(924703),p=()=>n(69708),m=()=>n(100622),y=()=>n(534177),f=()=>n(284371),h=()=>n(299545),g=()=>n(358167),v=()=>n(971003),b=()=>n(496645),x=()=>n(324440),k=()=>n(891725),C=()=>n(586117),T=()=>n(684847),S=()=>n(340072),w=()=>n(399176),I=()=>n(729564),M=()=>n(96409),A=()=>n(431616),F=()=>n(837622),N=()=>n(586295),W=n(474848);const P={id:"empty",type:"empty",value:[["Empty"]]};function R(e){const{token:t,targetPropertySchema:n,blockStore:o,checkboxPropertyLabel:r,withComma:a,numberRightAlign:d,disableLinks:h,shouldTruncate:g,fullWidthBar:v}=e,b=(0,p().tz)(),{type:A,value:N}=t;switch(A){case"url":case"email":case"phone_number":return(0,W.jsx)(k().LE,{textValue:N,type:A,useShortenedUrl:!1,withComma:a,disableLinkify:h});case"checkbox":return(0,W.jsx)(x().o,{checked:N,propertyLabel:r,disabled:!0,withComma:a});case"number":return(0,W.jsx)(w().E,{numberValue:N,numberFormatOverride:n&&"number_format"in n?null==n?void 0:n.number_format:c().C4,numberPrecisionOverride:n&&"number_precision"in n?null==n?void 0:n.number_precision:void 0,withComma:a,isRightAligned:d,fullWidthBar:v});case"date":return(0,W.jsx)(C().b,{dateValue:N,dateFormat:n&&"date_format"in n?n.date_format:void 0,timeFormat:n&&"time_format"in n?n.time_format:void 0,withComma:a});case"file":return(0,W.jsx)(T().X,{linkValue:N,store:o,shouldDisableLinks:h});case"person":return(0,W.jsx)(I().A,{actorOrGroupPointer:N,shouldShrink:g,withComma:a});case"relation":return(0,W.jsx)(S().a,{recordPointer:N,parentStore:o,linkify:h?"never":"always",withComma:a,noWrap:g,style:{...g&&{maxWidth:"100%",...f().RC}}});case"select":return(0,W.jsx)(M().X,{type:t.groupColor?"status":"select",value:N,groupColor:t.groupColor,color:t.color,shouldShrink:g});case"text":return(0,W.jsx)(F().A,{textValue:N,parentStore:o,withComma:a,linkifyUrls:!h,disableCommentHighlight:!0,shouldTruncate:g});case"error":return(0,W.jsx)(l().m,{render:e=>(0,W.jsxs)("div",{style:{display:"inline-flex",cursor:"help",color:m().Tj.red.text.primary,alignItems:"center",gap:3},...e,children:[(0,W.jsx)(i().I,{icon:u().exclamationMarkCircleSmallIcon,size:"sm",colorPalette:"red",colorVariant:"accentPrimary"}),(0,W.jsx)(p().sA,{id:"propertyValueToken.error",defaultMessage:"Error"})]}),renderTooltip:()=>(0,W.jsx)(p().sA,{...(0,s().yI)(b,N)}),placement:"top",alignment:"center"});case"empty":return(0,W.jsx)(l().m,{render:e=>(0,W.jsx)("div",{style:{opacity:.8,cursor:"help"},...e,children:(0,W.jsx)(F().A,{textValue:N,parentStore:o,withComma:a,linkifyUrls:!0})}),renderTooltip:()=>(0,W.jsx)(p().sA,{id:"propertyValueToken.emptyValueTooltip",defaultMessage:"Empty values aren’t displayed but affect formula calculations."}),placement:"top",alignment:"center"});default:return(0,y().HB)(A)}}function _({children:e,propertyType:t,rootPropertySchema:n,numberRightAlign:i,store:l,property_id:s}){const{shouldWrap:u}=(0,o.useContext)(v().L8),c="number"===t&&i,p=(0,g().v)({blockId:null==l?void 0:l.id,propertyId:s}),m=(0,r().K8)((()=>{if(l)return(0,h().O3)(l,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===s))}),[l,s]),y=(0,a().eP)(),f=(0,a().IS)((()=>({commentHighlightWrapperStyle:(null==m?void 0:m.length)||p?{...(0,d().sQ)(y),paddingTop:8,height:"fit-content",paddingInlineStart:5,display:"inline-flex"}:{}})),[p,null==m?void 0:m.length,y]);return L(t,n)?(0,W.jsx)(A().C,{style:{...f.commentHighlightWrapperStyle,...u&&{display:"flex",flexWrap:"wrap"}},isRightAligned:c,children:e}):(0,W.jsx)(N().h,{isRightAligned:c,style:f.commentHighlightWrapperStyle,children:e})}function L(e,t){var n,o;return void 0!==e&&"title"!==e&&(!!(0,b().YX)(e)&&("number"!==e||"bar"!==(null==t||null===(n=t.show_as)||void 0===n?void 0:n.type)&&"ring"!==(null==t||null===(o=t.show_as)||void 0===o?void 0:o.type)))}},991114:(e,t,n)=>{n.d(t,{C:()=>i});var o=()=>n(590526);const r=Number(n(720665).Xb),a=new(n(140934).ComputedStore)((()=>n(242422).default.getConfigKey("collection_request_settings","clientFormulaTimeoutMs")??r),{debugName:"clientFormulaTimeoutMsStore"});function i(){return(0,o().O$)(a)}}}]);