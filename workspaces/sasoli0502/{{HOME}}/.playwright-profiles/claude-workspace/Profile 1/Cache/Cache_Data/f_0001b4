"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[96654],{156736:(e,t,o)=>{o.d(t,{a:()=>s});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698);var a=()=>o(534177),r=()=>o(764880),n=()=>o(437607),i=()=>o(201980);function s(e){const{value:t,isTemplatePage:o,propertySchema:s,blockCreatorPointer:l}=e;if(!s)return[];const c=i().ELt({includeTemplateVariables:o,value:t}),u=new Set;let d=[];for(const p of c){let e;(0,r().Pu)(p)?e=p.id:i().MMZ(p)?e=p:(0,n().I6)(p)?e=p.id:(0,a().HB)(p),u.has(e)||(u.add(e),d.push(p))}0===d.length&&"created_by"===s.default&&l&&(d=[l]);const g=s.limit;return g?d.slice(0,g):d}},288739:(e,t,o)=>{o.d(t,{M:()=>r});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"0.7 2.19 14.6 11.6",svg:(0,o(474848).jsx)("path",{d:"M3.142 2.332a.55.55 0 0 1 .695-.017l.081.077.227.264.008.01 8.772 10.235.057.082a.551.551 0 0 1-.819.701l-.08-.076-1.18-1.376A8.5 8.5 0 0 1 8 12.74c-3.027 0-5.685-1.569-7.026-3.911L.848 8.6a1.29 1.29 0 0 1 0-1.199l.126-.228c.705-1.233 1.776-2.251 3.073-2.94l-.965-1.125-.063-.091a.55.55 0 0 1 .123-.685m2.77 4.078a2.6 2.6 0 0 0-.537 1.588l.014.269a2.626 2.626 0 0 0 2.343 2.343l.268.014c.453 0 .878-.118 1.25-.32L8.023 8.872 8 8.874a.875.875 0 0 1-.861-1.032zM8 3.26c3.125 0 5.857 1.673 7.153 4.141l.064.144c.11.293.11.617 0 .91l-.065.145a7.5 7.5 0 0 1-2.255 2.577L10.58 8.475q.02-.103.031-.208l.014-.269A2.626 2.626 0 0 0 8 5.372l-.077.002-1.66-1.937A8.6 8.6 0 0 1 8 3.261"})},r=(0,o(340498).wt)("eyeSlashFillSmall",a,"fillSmall")},344590:(e,t,o)=>{o.d(t,{q:()=>s});o(296540);var a=()=>o(401497),r=()=>o(874832),n=()=>o(100622),i=o(474848);function s(e){const t=(0,a().IS)((()=>({container:{display:"flex",width:"100%",justifyContent:e.isRightAligned?"flex-end":void 0},shimmer:{width:"60%",marginTop:6,height:10,flexShrink:0,borderRadius:12,backgroundColor:n().Tj.background.tertiaryTranslucent}})),[e.isRightAligned]);return(0,i.jsx)("div",{style:t.container,children:(0,i.jsx)(r().P,{style:t.shimmer})})}},495748:(e,t,o)=>{o.d(t,{Vt:()=>i,wC:()=>n});var a=()=>o(79926);const r={CollectionMapView:new(a().O2)("CollectionMapView",(async()=>await Promise.all([o.e(9773),o.e(36556),o.e(40537),o.e(71562),o.e(53066),o.e(87421),o.e(95576),o.e(51680)]).then(o.bind(o,6418)))),MapTile:new(a().O2)("MapTile",(async()=>await Promise.all([o.e(9773),o.e(36556),o.e(40537),o.e(87421),o.e(80983)]).then(o.bind(o,467238))))},n=(0,a()._h)(r.CollectionMapView,(e=>e.CollectionMapView)),i=(0,a()._h)(r.MapTile,(e=>e.MapTile))},513996:(e,t,o)=>{o.d(t,{i:()=>u});var a=o(296540),r=()=>o(401497),n=()=>o(69708),i=()=>o(421107),s=()=>o(971003),l=o(474848);const c=(0,n().YK)({copy:{defaultMessage:"Copy to Clipboard",id:"database.copyButton.copyToClipboard"}}),u=a.memo((function(e){const{store:t,property:u,surface:d}=e,g=(0,o(484714).v3)(),p=(0,r().DP)(),m=(0,n().tz)(),f=(0,o(908201).Ks)(),{collectionSchemaStore:y}=(0,a.useContext)(s().L8),{isEmptyStore:h,propertySchema:v,canEdit:b}=(0,a.useContext)(s().L8),S=(0,o(590526).O$)(h),_=(0,r().IS)((()=>({buttonStyle:{display:"flex",position:"relative"}})),[]),x="table"===d,M=m.formatMessage(c.copy),k=(0,a.useCallback)((()=>M),[M]),C=(0,a.useCallback)((e=>(0,l.jsx)("div",{style:_.buttonStyle,...e,children:(0,l.jsx)(o(695115).A,{onClick:async()=>{const e=y.getState();if(!e)return;let a;x&&(a=i().A.getState(),(0,o(186441).w)()),await o(581350).E({environment:g,theme:p,store:t,schema:e,property:u,collectionContextStore:f}),x&&a&&i().A.setState(a)},ariaLabel:M,icon:o(627503).a,colorVariant:"secondary",style:{height:20,width:24,borderRadius:4}})})),[f,y,g,x,u,t,_.buttonStyle,p,M]);return void 0===v||S||o(726637).A.isMobile&&!0===b||"checkbox"===(0,o(501053).c)(v)?null:(0,l.jsx)(o(26697).m,{renderTooltip:k,render:C})}))},515872:(e,t,o)=>{function a(e){return"form_editor"===e||"form_viewer"===e}o.d(t,{J:()=>a})},525955:(e,t,o)=>{o.d(t,{NT:()=>k,SE:()=>f,Y9:()=>x,cx:()=>b,fp:()=>h,jA:()=>v,o_:()=>S,rv:()=>M,zI:()=>_,zY:()=>p});var a=()=>o(675133),r=()=>o(148307),n=()=>o(67657),i=()=>o(597777),s=()=>o(869190),l=()=>o(72135),c=()=>o(69708),u=()=>o(496603),d=()=>o(534177);const g=(0,c().YK)({show_unique:{defaultMessage:"Show unique values",id:"database.aggregationFullName.unique_values"},count:{defaultMessage:"Count all",id:"database.aggregationFullName.count"},count_values:{defaultMessage:"Count values",id:"database.aggregationFullName.count_values"},unique:{defaultMessage:"Count unique values",id:"database.aggregationFullName.unique"},empty:{defaultMessage:"Count empty",id:"database.aggregationFullName.empty"},not_empty:{defaultMessage:"Count not empty",id:"database.aggregationFullName.not_empty"},percent_empty:{defaultMessage:"Percent empty",id:"database.aggregationFullName.percent_empty"},percent_not_empty:{defaultMessage:"Percent not empty",id:"database.aggregationFullName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationFullName.sum"},average:{defaultMessage:"Average",id:"database.aggregationFullName.average"},median:{defaultMessage:"Median",id:"database.aggregationFullName.median"},min:{defaultMessage:"Min",id:"database.aggregationFullName.min"},max:{defaultMessage:"Max",id:"database.aggregationFullName.max"},range:{defaultMessage:"Range",id:"database.aggregationFullName.range"},earliest_date:{defaultMessage:"Earliest date",id:"database.aggregationFullName.earliest_date"},latest_date:{defaultMessage:"Latest date",id:"database.aggregationFullName.latest_date"},date_range:{defaultMessage:"Date range",id:"database.aggregationFullName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationFullName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationFullName.unchecked"},percent_checked:{defaultMessage:"Percent checked",id:"database.aggregationFullName.percent_checked"},percent_unchecked:{defaultMessage:"Percent unchecked",id:"database.aggregationFullName.percent_unchecked"},count_per_group:{defaultMessage:"Count per group",id:"database.aggregationFullName.count_per_group"},percent_per_group:{defaultMessage:"Percent per group",id:"database.aggregationFullName.percent_per_group"},count_aggregations:{defaultMessage:"Count",id:"database.aggregationBucket.count"},percent_aggregations:{defaultMessage:"Percent",id:"database.aggregationBucket.percent"},statistics_aggregations:{defaultMessage:"More options",id:"database.aggregationBucket.more_options"},date_aggregations:{defaultMessage:"Date",id:"database.aggregationBucket.dateGroupingLabel"}}),p={count:a().A.formatMessage(g.count),count_values:a().A.formatMessage(g.count_values),unique:a().A.formatMessage(g.unique),show_unique:a().A.formatMessage(g.show_unique),empty:a().A.formatMessage(g.empty),not_empty:a().A.formatMessage(g.not_empty),percent_empty:a().A.formatMessage(g.percent_empty),percent_not_empty:a().A.formatMessage(g.percent_not_empty),sum:a().A.formatMessage(g.sum),average:a().A.formatMessage(g.average),median:a().A.formatMessage(g.median),min:a().A.formatMessage(g.min),max:a().A.formatMessage(g.max),range:a().A.formatMessage(g.range),earliest_date:a().A.formatMessage(g.earliest_date),latest_date:a().A.formatMessage(g.latest_date),date_range:a().A.formatMessage(g.date_range),checked:a().A.formatMessage(g.checked),unchecked:a().A.formatMessage(g.unchecked),percent_checked:a().A.formatMessage(g.percent_checked),percent_unchecked:a().A.formatMessage(g.percent_unchecked),count_per_group:a().A.formatMessage(g.count_per_group),percent_per_group:a().A.formatMessage(g.percent_per_group)},m=(0,c().YK)({count:{defaultMessage:"Count",id:"database.aggregationShortName.count"},count_values:{defaultMessage:"Values",id:"database.aggregationShortName.count_values"},unique:{defaultMessage:"Unique",id:"database.aggregationShortName.unique"},show_unique:{defaultMessage:"Show unique",id:"database.aggregationShortName.showUnique"},empty:{defaultMessage:"Empty",id:"database.aggregationShortName.empty"},not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.not_empty"},percent_empty:{defaultMessage:"Empty",id:"database.aggregationShortName.percent_empty"},percent_not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationShortName.sum"},average:{defaultMessage:"Average",id:"database.aggregationShortName.average"},median:{defaultMessage:"Median",id:"database.aggregationShortName.median"},min:{defaultMessage:"Min",id:"database.aggregationShortName.min"},max:{defaultMessage:"Max",id:"database.aggregationShortName.max"},range:{defaultMessage:"Range",id:"database.aggregationShortName.range"},earliest_date:{defaultMessage:"Earliest",id:"database.aggregationShortName.earliest_date"},latest_date:{defaultMessage:"Latest",id:"database.aggregationShortName.latest_date"},date_range:{defaultMessage:"Range",id:"database.aggregationShortName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationShortName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.unchecked"},percent_checked:{defaultMessage:"Checked",id:"database.aggregationShortName.percent_checked"},percent_unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.percent_unchecked"},count_per_group:{defaultMessage:"Count",id:"database.aggregationShortName.count_per_group"},percent_per_group:{defaultMessage:"Percent",id:"database.aggregationShortName.percent_per_group"}}),f={count:a().A.formatMessage(m.count),count_values:a().A.formatMessage(m.count_values),unique:a().A.formatMessage(m.unique),show_unique:a().A.formatMessage(m.show_unique),empty:a().A.formatMessage(m.empty),not_empty:a().A.formatMessage(m.not_empty),percent_empty:a().A.formatMessage(m.percent_empty),percent_not_empty:a().A.formatMessage(m.percent_not_empty),sum:a().A.formatMessage(m.sum),average:a().A.formatMessage(m.average),median:a().A.formatMessage(m.median),min:a().A.formatMessage(m.min),max:a().A.formatMessage(m.max),range:a().A.formatMessage(m.range),earliest_date:a().A.formatMessage(m.earliest_date),latest_date:a().A.formatMessage(m.latest_date),date_range:a().A.formatMessage(m.date_range),checked:a().A.formatMessage(m.checked),unchecked:a().A.formatMessage(m.unchecked),percent_checked:a().A.formatMessage(m.percent_checked),percent_unchecked:a().A.formatMessage(m.percent_unchecked),count_per_group:a().A.formatMessage(m.count_per_group),percent_per_group:a().A.formatMessage(m.percent_per_group)},y=(0,c().YK)({count:{defaultMessage:"Counts the total number of pages, including blank pages.",id:"database.aggregationDescription.count"},count_values:{defaultMessage:"Counts the number of non-empty values for this property. For a type that can contain multiple values like multi-select or person, this will count the number of selected values for each page.",id:"database.aggregationDescription.count_values"},unique:{defaultMessage:"Counts the number of unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.unique"},show_unique:{defaultMessage:"Shows the unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.show_unique"},empty:{defaultMessage:"Counts the number of pages with an empty value for this property.",id:"database.aggregationDescription.empty"},not_empty:{defaultMessage:"Counts the number of pages with a non-empty value for this property.",id:"database.aggregationDescription.not_empty"},percent_empty:{defaultMessage:"Displays the percentage of pages that have an empty value for this property.",id:"database.aggregationDescription.percent_empty"},percent_not_empty:{defaultMessage:"Displays the percentage of pages that have a non-empty value for this property.",id:"database.aggregationDescription.percent_not_empty"},sum:{defaultMessage:"Computes the sum of a numeric property.",id:"database.aggregationDescription.sum"},average:{defaultMessage:"Computes the average of a numeric property.",id:"database.aggregationDescription.average"},median:{defaultMessage:"Finds the median of a numeric property.",id:"database.aggregationDescription.median"},min:{defaultMessage:"Finds the minimum of a numeric property.",id:"database.aggregationDescription.min"},max:{defaultMessage:"Finds the maximum of a numeric property.",id:"database.aggregationDescription.max"},range:{defaultMessage:"Computes the range (maximum - minimum) of a numeric property.",id:"database.aggregationDescription.range"},earliest_date:{defaultMessage:"Finds the earliest date in time of a date property.",id:"database.aggregationDescription.earliest_date"},latest_date:{defaultMessage:"Finds the latest date in time of a date property.",id:"database.aggregationDescription.latest_date"},date_range:{defaultMessage:"Computes the date range (latest date - earliest date) of a date property.",id:"database.aggregationDescription.date_range"},checked:{defaultMessage:"Counts the number of pages with a checked checkbox for this property.",id:"database.aggregationDescription.checked"},unchecked:{defaultMessage:"Counts the number of pages with an unchecked checkbox for this property.",id:"database.aggregationDescription.unchecked"},percent_checked:{defaultMessage:"Displays the percentage of pages that have a checked checkbox for this property.",id:"database.aggregationDescription.percent_checked"},percent_unchecked:{defaultMessage:"Displays the percentage of pages that have an unchecked checkbox for this property.",id:"database.aggregationDescription.percent_unchecked"},count_per_group:{defaultMessage:"Counts the total number of pages that have this Status Group.",id:"database.aggregationDescription.count_per_group"},percent_per_group:{defaultMessage:"Displays the percentage of pages that have this Status Group",id:"database.aggregationDescription.percent_per_group"}}),h={count:a().A.formatMessage(y.count),count_values:a().A.formatMessage(y.count_values),unique:a().A.formatMessage(y.unique),show_unique:a().A.formatMessage(y.show_unique),empty:a().A.formatMessage(y.empty),not_empty:a().A.formatMessage(y.not_empty),percent_empty:a().A.formatMessage(y.percent_empty),percent_not_empty:a().A.formatMessage(y.percent_not_empty),sum:a().A.formatMessage(y.sum),average:a().A.formatMessage(y.average),median:a().A.formatMessage(y.median),min:a().A.formatMessage(y.min),max:a().A.formatMessage(y.max),range:a().A.formatMessage(y.range),earliest_date:a().A.formatMessage(y.earliest_date),latest_date:a().A.formatMessage(y.latest_date),date_range:a().A.formatMessage(y.date_range),checked:a().A.formatMessage(y.checked),unchecked:a().A.formatMessage(y.unchecked),percent_checked:a().A.formatMessage(y.percent_checked),percent_unchecked:a().A.formatMessage(y.percent_unchecked),count_per_group:a().A.formatMessage(y.count_per_group),percent_per_group:a().A.formatMessage(y.percent_per_group)},v={count_aggregations:a().A.formatMessage(g.count_aggregations),percent_aggregations:a().A.formatMessage(g.percent_aggregations),statistics_aggregations:a().A.formatMessage(g.statistics_aggregations),date_aggregations:a().A.formatMessage(g.date_aggregations)},b={count:r().A.images.aggregations.countPng,count_values:r().A.images.aggregations.countValuesPng,unique:r().A.images.aggregations.uniquePng,show_unique:void 0,empty:r().A.images.aggregations.emptyPng,not_empty:r().A.images.aggregations.notEmptyPng,percent_empty:r().A.images.aggregations.percentEmptyPng,percent_not_empty:r().A.images.aggregations.percentNotEmptyPng,sum:r().A.images.aggregations.sumPng,average:r().A.images.aggregations.averagePng,median:r().A.images.aggregations.medianPng,min:r().A.images.aggregations.minPng,max:r().A.images.aggregations.maxPng,range:r().A.images.aggregations.rangePng,earliest_date:r().A.images.aggregations.earliestDatePng,latest_date:r().A.images.aggregations.latestDatePng,date_range:r().A.images.aggregations.dateRangePng,checked:r().A.images.aggregations.checkedPng,unchecked:r().A.images.aggregations.uncheckedPng,percent_checked:r().A.images.aggregations.percentCheckedPng,percent_unchecked:r().A.images.aggregations.percentUncheckedPng,count_per_group:r().A.images.aggregations.countPng,percent_per_group:r().A.images.aggregations.percentCheckedPng};function S(e,t){switch(e){case"earliest_date":case"show_unique":case"latest_date":case"date_range":return;case"percent_empty":case"percent_not_empty":case"percent_checked":case"percent_unchecked":return"percent";case"count":case"empty":case"not_empty":case"unique":case"count_values":case"checked":case"unchecked":return"number";case"sum":case"average":case"median":case"min":case"max":case"range":return t??"number";default:switch(e.operator){case"count_per_group":return;case"percent_per_group":return"percent";default:(0,d().HB)(e.operator)}}}function _(e,t){switch(e){case"earliest_date":case"show_unique":case"latest_date":case"date_range":case"count":case"empty":case"not_empty":case"unique":case"count_values":case"checked":case"unchecked":return;case"percent_empty":case"percent_not_empty":case"percent_checked":case"percent_unchecked":case"average":return t??"precision_2";case"sum":case"median":case"min":case"max":case"range":return t??void 0;default:switch(e.operator){case"count_per_group":return;case"percent_per_group":return t??"precision_2";default:(0,d().HB)(e.operator)}}}function x(e){const{aggregationType:t,value:o,userTimeZone:r,dateFormat:c,numberPrecision:d}=e;if("date"===o.type){if(!(0,n().Y)(t))return;if(!o.value)return;return"date_range"===t?(0,s().a3)(o.value,r,a().A.getIntl()):(0,s().ZF)({value:i().pp(o.value),date_format:c??i().vz,userTimeZone:r,allowRelativeDates:!0,intl:a().A.getIntl()})}if((0,n().Y)(t))return;if("show_unique"===t)return;if("object"==typeof o.value)return;if("string"==typeof o.value)return o.value;let g;g=void 0===d||"precision_uncapped"===d?void 0===o.value?void 0:u().LI(o.value,5):o.value;const p=S(t,e.numberFormat);return(0,l().ZV)(g,p,a().A.getIntl(),void 0,d)}function M(e){const{aggregation:t,value:o,numberFormat:a,dateFormat:r,numberPrecision:i}=e,s=x({numberFormat:a,dateFormat:r,aggregationType:t?t.aggregator:"count",userTimeZone:e.userTimeZone,value:o,numberPrecision:i});if(null!=t&&t.enforceMaxAggregationLimit){const e=Number(s);if(e&&e>=n().iY)return n().iY-1+"+"}return s}function k(e){const t=e.aggregator,o=(0,n().ET)(t)?t.operator:t;return{enforceMaxAggregationLimit:Boolean(e.enforceMaxAggregationLimit),disabled:!(0,n().AS)(o)}}},553748:(e,t,o)=>{o.d(t,{r:()=>h});o(296540);var a=()=>o(401497),r=()=>o(807449),n=()=>o(921123),i=()=>o(257545),s=o(474848);const l={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.26",svg:(0,s.jsx)("path",{d:"M10.833 16.321a.626.626 0 0 1 .162 1.24 7.7 7.7 0 0 1-1.99 0 .625.625 0 1 1 .162-1.24 6.4 6.4 0 0 0 1.666 0m-6.768-2.555a.625.625 0 0 1 .876.115c.34.442.736.838 1.178 1.178a.625.625 0 1 1-.762.99 7.7 7.7 0 0 1-1.407-1.406.626.626 0 0 1 .115-.877m10.994.114a.625.625 0 1 1 .99.763 7.7 7.7 0 0 1-1.406 1.407.626.626 0 0 1-.762-.991 6.4 6.4 0 0 0 1.178-1.178m-3.255-6.542a.625.625 0 0 1 1.072.642l-3 5a.626.626 0 0 1-1.01.086l-2-2.334a.625.625 0 0 1 .948-.813l1.436 1.674zM3.14 8.466a.626.626 0 0 1 .539.701 6.4 6.4 0 0 0 0 1.666.626.626 0 0 1-1.24.162 7.7 7.7 0 0 1 0-1.99.625.625 0 0 1 .7-.54m13.721.001a.625.625 0 0 1 .7.539 7.7 7.7 0 0 1 0 1.99.625.625 0 1 1-1.239-.162 6.4 6.4 0 0 0 0-1.666.626.626 0 0 1 .54-.701M5.357 3.95a.626.626 0 0 1 .762.991 6.4 6.4 0 0 0-1.178 1.178.625.625 0 1 1-.99-.762A7.7 7.7 0 0 1 5.356 3.95m8.41.115a.626.626 0 0 1 .877-.115c.528.406 1.001.88 1.407 1.407a.626.626 0 0 1-.991.762 6.4 6.4 0 0 0-1.178-1.178.625.625 0 0 1-.115-.876M10 2.375q.506 0 .995.064a.625.625 0 1 1-.162 1.24 6.4 6.4 0 0 0-1.666 0 .626.626 0 0 1-.162-1.24q.49-.063.995-.064"})},c=(0,o(340498).wt)("checkmarkCircleDash",l,"default");var u=()=>o(53528),d=()=>o(931075),g=()=>o(69708),p=()=>o(100622),m=()=>o(534177),f=()=>o(284371),y=()=>o(968021);function h(e){const{verificationState:t,fontSize:o=y().Mi}=e,l=(0,g().tz)(),h=t.type,v=(0,a().IS)((()=>({caption:{fontVariantNumeric:"normal",fontWeight:f().Wy.regular,color:p().Tj.text.primary,textTransform:"none",letterSpacing:0,marginInlineStart:6,marginInlineEnd:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:o,lineHeight:y().$g}})),[o]);if("none"===h)return null;let b=null,S=null;const _=v.caption;switch(h){case"verified":b=(0,s.jsx)(r().I,{icon:i().badgeCheckFillIcon,colorPalette:"blue",colorVariant:"accentPrimary",fitToViewBox:"horizontal"}),S=t.isIndefinite?(0,s.jsx)(g().sA,{defaultMessage:"Verified",id:"VerificationPropertyButton.verifiedIndefinitely"}):(0,s.jsx)(g().sA,{defaultMessage:"Until {date}",id:"VerificationPropertyButton.verifiedUntil",values:{date:u().OH({dateTime:t.dateTimeRange.end,intl:l})}});break;case"expired":b=(0,s.jsx)(r().I,{icon:c,colorVariant:"secondary",fitToViewBox:"horizontal"}),S=(0,s.jsx)(g().sA,{defaultMessage:"Expired {timeFromMoment}",id:"VerificationPropertyButton.expired.text",values:{timeFromMoment:d().F7(t.dateTimeRange.end.setLocale(l.locale))}});break;case"archived":b=(0,s.jsx)(r().I,{icon:n().archiveBoxFillIcon,colorVariant:"secondary",fitToViewBox:"horizontal"}),S=(0,s.jsx)(g().sA,{defaultMessage:"Archived",id:"VerificationPropertyButton.archived.text"});break;default:(0,m().HB)(h)}return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[b,(0,s.jsx)("div",{style:_,children:S})]})}},564883:(e,t,o)=>{o.d(t,{_X:()=>s,kF:()=>n,qO:()=>i});var a=()=>o(79926);const r={contactVisitButton:new(a().O2)("contactVisitButton",(()=>o.e(82970).then(o.bind(o,837606)))),workflowAutofillButton:new(a().O2)("WorkflowAutofillButton",(()=>Promise.all([o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(14578),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(24587),o.e(44584),o.e(67494),o.e(10522),o.e(40992),o.e(88455),o.e(33893),o.e(81803),o.e(82690)]).then(o.bind(o,490378)))),workflowFeedbackButtons:new(a().O2)("WorkflowFeedbackButtons",(()=>Promise.all([o.e(75134),o.e(35530),o.e(9773),o.e(36556),o.e(55373),o.e(36192),o.e(40537),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(51220),o.e(16471),o.e(37353),o.e(37571),o.e(29151),o.e(40118),o.e(50397),o.e(27992),o.e(63452),o.e(66249),o.e(92845),o.e(87249),o.e(79022),o.e(14578),o.e(87017),o.e(34877),o.e(46414),o.e(11676),o.e(61165),o.e(47668),o.e(94522),o.e(24587),o.e(44584),o.e(67494),o.e(10522),o.e(38293),o.e(40992),o.e(88455),o.e(63515),o.e(33893),o.e(55162),o.e(91793),o.e(32370),o.e(26264),o.e(97989),o.e(36437),o.e(93963),o.e(44590),o.e(7914),o.e(55113),o.e(85071),o.e(25588),o.e(6769),o.e(23640),o.e(72252),o.e(93134),o.e(12452),o.e(18825),o.e(52871),o.e(29351),o.e(22370),o.e(93049),o.e(22582),o.e(18636),o.e(87289),o.e(16060),o.e(16529),o.e(34281),o.e(35279),o.e(69785),o.e(77754),o.e(79580)]).then(o.bind(o,899530))))},n=(0,a()._h)(r.contactVisitButton,(e=>e.default)),i=(0,a()._h)(r.workflowAutofillButton,(e=>e.WorkflowAutofillButton)),s=(0,a()._h)(r.workflowFeedbackButtons,(e=>e.WorkflowFeedbackButtons))},668250:(e,t,o)=>{o.d(t,{R:()=>r});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"0.55 1.9 15.26 11.99",svg:(0,o(474848).jsx)("path",{d:"M11.4 1.908c-.872 0-1.584.362-2.064.96-.469.584-.687 1.353-.687 2.145 0 .793.218 1.561.687 2.145.48.599 1.192.96 2.064.96s1.584-.361 2.065-.96c.468-.584.687-1.352.687-2.145s-.219-1.56-.687-2.144c-.48-.6-1.193-.96-2.065-.96M2.693 3.46c.445-.554 1.104-.888 1.907-.888.804 0 1.463.334 1.907.888.433.539.632 1.245.632 1.97s-.2 1.43-.632 1.97c-.444.553-1.103.887-1.907.887-.803 0-1.462-.334-1.907-.888-.433-.539-.632-1.245-.632-1.97s.2-1.43.632-1.97M.71 11.561c.68-1.42 2.175-2.389 3.89-2.389.797 0 1.547.21 2.19.576a5.6 5.6 0 0 0-.814 1.333 2.78 2.78 0 0 0 .337 2.811H2.43c-.577 0-1.132-.243-1.49-.656a1.51 1.51 0 0 1-.23-1.675M11.4 8.84c-1.917 0-3.58 1.117-4.279 2.735a1.54 1.54 0 0 0 .268 1.665c.36.41.913.652 1.49.652h5.04c.579 0 1.131-.242 1.492-.652a1.54 1.54 0 0 0 .268-1.665c-.7-1.618-2.362-2.736-4.279-2.736"})},r=(0,o(340498).wt)("peopleFillSmall",a,"fillSmall")},704276:(e,t,o)=>{o.d(t,{V:()=>n});var a=()=>o(792071),r=()=>o(813690);function n(e,t){let o=!1;return[t(a().b4_.fromMonomorphicFunctionUnsafe((t=>{const a=e.getRecordStore(e,t);return a.isReady()||(o=!0),a.getModel()}),r().xb.fromMonomorphicFunctionUnsafe((t=>{const a=e.getRecordStore(e,t);return a.isReady()||(o=!0),a.getValue()})))),o]}},877750:(e,t,o)=>{o.d(t,{W:()=>b,e:()=>v});o(296540);var a=()=>o(401497),r=()=>o(784892),n=()=>o(360576),i=()=>o(381553),s=()=>o(340498),l=()=>o(436632),c=()=>o(201980),u=()=>o(69708),d=()=>o(100622),g=()=>o(534177),p=()=>o(848401),m=()=>o(431616),f=o(474848);const y="20px",h=(0,u().YK)({me:{id:"templateVariablePropertyValueComponent.templateVariables.text.me",defaultMessage:"Person who duplicated page"},now:l().H.nowText,today:l().H.todayText});function v(e){const t=(0,a().IS)((()=>({textWrapper:{lineHeight:y}})),[]);return(0,f.jsx)(m().C,{fontColor:"light",style:t.textWrapper,children:(0,f.jsx)(b,{templateVariableType:e.templateVariableType})})}function b(e){const{templateVariableType:t,showRemoveButton:o,onRemove:l,style:m}=e,y=(0,u().tz)(),h=(0,a().IS)((()=>({uiToken:{background:d().Tj.outlineBlueButtonPressedBackground,color:d().Tj.blue.text.accentPrimary,padding:"2px 4px",width:"max-content",...m||{}}})),[m]);return(0,f.jsx)(p().Ay,{format:r().NY.Medium,isSingle:!0,title:S(t,y),renderAvatar:()=>function(e){let t;(0,c().pbt)(e)?t=n().personFillSmallIcon:(0,c().UKc)(e)?t=i().Y:(0,g().HB)(e);return t}(t)({width:s().Ev.xs,height:s().Ev.xs,marginInlineEnd:4}),shouldShrink:!0,onClickRemove:l,showRemoveButton:Boolean(o),style:h.uiToken})}function S(e,t){let o;return"me"===e?o=t.formatMessage(h.me):"now"===e?o=t.formatMessage(h.now):"today"===e?o=t.formatMessage(h.today):(0,g().HB)(e),o}},878181:(e,t,o)=>{o.d(t,{G$:()=>te,sK:()=>ee,HZ:()=>$,A7:()=>X,pe:()=>J,lS:()=>Z,s3:()=>ae,VD:()=>re,GF:()=>G,Rm:()=>oe,lY:()=>ie});o(16280),o(898992),o(354520),o(581454);var a=o(296540),r=()=>o(726637),n=()=>o(484714),i=()=>o(590526),s=()=>o(401497),l=()=>o(675133),c=()=>o(708685),u=()=>o(597777),d=()=>o(869190),g=()=>o(416504),p=()=>o(69708),m=()=>o(534177),f=()=>o(354032),y=()=>o(862292),h=()=>o(483795),v=()=>o(968021),b=(o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),()=>o(242422)),S=()=>o(79926),_=()=>o(140934),x=()=>o(267956),M=()=>o(247331),k=()=>o(349835),C=()=>o(319625),A=()=>o(973647),w=()=>o(89053),P=()=>o(908201),T=()=>o(991114),B=()=>o(704276);function R(e){const t=function(e){const{blockStore:t,collectionStore:o,propertyId:a,environment:r}=e,{value:n}=(0,S().fJ)(y().T.formulas),s=(0,T().C)(),l=(0,p().tz)(),c=(0,P().Ks)(),[u,d]=(0,i().K8)((()=>{var e;return[t.getModel(),null===(e=o.getModel())||void 0===e?void 0:e.getVersion()]}),[t,o]);if(!n)return I;if((0,m().O9)(d)&&(0,m().O9)(u)){const e=n.getFormula2Thunk({blockModel:u,collectionVersion:d,propertyId:a});if(e)return e}const f=new(_().ComputedStore)((()=>{var e;const i=o.getSchema(),u=null==i?void 0:i[a];if(!u||"formula"!==u.type||"v2"!==u.version)return;const d=null===(e=u.formula2)||void 0===e?void 0:e.code;if(!d)return{value:{type:"undefined"}};if(!t.isDefined())return M().FORMULA_LOADING;const p=t.getModel(),f=x().A.state.publicPageData,[y,h]=(0,B().V)(t,(e=>n.evaluateCollectionFormula2WithoutCache({block:p,collectionFeatureGates:(0,w().i)(),depth:0,formulaCode:d,formulaTimeoutTimestampMs:Date.now()+s,getRecordModel:e,intl:l,property:a,experimentService:b().default,publicPageDataCollection:{id:null==f?void 0:f.collectionId,schema:null==f?void 0:f.collectionSchema},regExpCache:new Map,resultCache:new Map,formatDateCache:new Map,userTimeZone:(0,g().P)(),visitedProperties:new Set,spaceIdCreator:r.idCreator.getSpaceIdCreatorSync(p.space_id)})));if(h){const e=F({collectionContextStore:c,blockId:t.id,propertyId:a,formulasModule:n});return e?{value:e}:M().FORMULA_LOADING}return(0,m().O9)(y)?A().Q.isFail(y)?{type:y.error.type,error:y.error}:{value:y.value}:{error:{type:k().uW.UnexpectedError,error:(0,C().A)(void 0)}}}),{debugName:`formula2Evaluation${t.id}`,useDeepEqual:!0}),h=()=>f.getState();(0,m().O9)(d)&&(0,m().O9)(u)&&n.setFormula2Thunk({blockModel:u,collectionVersion:d,propertyId:a,thunkCallback:h});return h}(e);return(0,i().K8)((()=>{if(!h().Pe&&t)return t()}),[t],{debugName:`formula2Evaluation${e.blockStore.id}`,useDeepEqual:!0})}function I(){return M().FORMULA_LOADING}function F(e){const{collectionContextStore:t,blockId:o,propertyId:a,formulasModule:r}=e,n=null==t?void 0:t.resultSetStore.state.propertyResultCache;if(!(0,m().O9)(n))return;const i=r.getFormula2ResultCache({resultCache:n,blockId:o,property:a});return(0,m().O9)(i)?r.formulaValueToCollectionFormulaValue(i):void 0}var j=()=>o(956394),E=()=>o(344590),V=o(474848);var D=()=>o(59226),L=()=>o(648747);const N=[k().uW.MaxEvaluationTimeExceeded,k().uW.DepthExceeded,k().uW.CycleDetected];function q(e){const{blockStore:t,formula2Result:o,legacyFormulaResult:a,propertySchema:r}=e,n=(0,D().X)("show_all_formula_errors_in_db_views");return(0,i().K8)((()=>{if(!r)return[[],"empty"];var e,i,s;if("v2"!==r.version)return a?a===M().FORMULA_LOADING?[[],"loading"]:[ie(a),(null===(e=r.formula)||void 0===e?void 0:e.result_type)??"text"]:[[],"empty"];if(void 0===o)return[[],"empty"];if(o===M().FORMULA_LOADING)return[[],"loading"];if(A().Q.isFail(o))return i=o.error,s=n,"offset"in i||!s&&!N.includes(i.type)?[[],"formula"]:[[{id:"error",type:"error",value:o.error}],"error"];if(A().Q.isSuccess(o)){var l;const e=(0,L().O)(o.value,t.getRecordModel,(0,g().P)());return[e,(null===(l=e[0])||void 0===l?void 0:l.type)??"text"]}(0,m().HB)(o)}),[t,o,a,r,n])}var O=()=>o(842076);var K=()=>o(971003),H=()=>o(712354);const W=a.memo(a.forwardRef((function(e,t){var r,l;const{store:u,property:d,EmptyComponent:v,collectionStore:_,onContextMenu:x,editButtonClickProps:k,checkboxButtonStyle:C,textButtonStyle:A,quickActionButtons:I,checkboxShowLabel:D,userExpandable:L}=e,{baseStyles:N,propertySchema:H,surface:W,collectionContextStore:z}=(0,a.useContext)(K().L8),G=H,U="v2"===(null==G?void 0:G.version)?null==G||null===(r=G.formula2)||void 0===r?void 0:r.result_type.type:null==G||null===(l=G.formula)||void 0===l?void 0:l.result_type,Z=!0===e.numberRightAlign&&"number"===(0,c().getFormulaPropertySchemaBaseResultType)(G),[Q,$]=function(e){const{store:t,collectionStore:o,property:r,checkboxShowLabel:s,numberRightAlign:l}=e,{propertySchema:u,surface:d,collectionSchemaStore:m}=(0,a.useContext)(K().L8),h=(0,n().v3)(),v=(0,i().O$)(m);!function(e){if(void 0===e||"formula"===e.type)return;throw new Error(`Expected a formula property schema, got ${e.type}`)}(u);const _=function(e){const{blockStore:t,collectionSchema:o,propertyId:a,propertySchema:r}=e,{value:s}=(0,S().fJ)(y().T.formulas),l=(0,T().C)(),c=(0,p().tz)(),u=(0,n().v3)();return(0,i().K8)((()=>{if(!r||"v2"===r.version)return;if(!s||!o||!t.isDefined())return M().FORMULA_LOADING;const e=(0,w().i)(),n=(0,g().P)(),[i,d]=(0,B().V)(t,(r=>s.evaluateFormulaProperty({block:t.getModel(),collectionRequestContext:{collectionFeatureGates:e,depth:0,experimentService:b().default,formulaTimeoutTimestampMs:Date.now()+l,intl:c,regExpCache:new Map,resultCache:new Map,formatDateCache:new Map,userId:void 0,userTimeZone:n,visitedProperties:new Set,getRelationEdgeList:(0,O().Y)({environment:u,spaceId:t.getSpaceId()})},getRecordModel:r,property:a,schema:o,spaceIdCreator:t.environment.idCreator.getSpaceIdCreatorSync(t.getSpaceId())})));return d?M().FORMULA_LOADING:i}),[r,s,o,t,l,c,u,a],{debugName:`legacyFormulaEvaluation${t.id}`})}({blockStore:t,collectionSchema:v,propertyId:r,propertySchema:u}),x=R({blockStore:t,collectionStore:o,propertyId:r,environment:h}),k=q({blockStore:t,formula2Result:x,legacyFormulaResult:_,propertySchema:u}),C="loading"===k[1],A=function(e){const{blockStore:t,checkboxShowLabel:o,surface:a,formulaTokenData:r,numberRightAlign:n,propertyId:s,propertySchema:l}=e,u=(0,P().Ks)(),d=(0,i().K8)((()=>(0,f().yQ)({viewType:null==u?void 0:u.getViewType(),propertySchema:l})),[u,l]);return(0,i().K8)((()=>{const[e,i]=r;if("loading"===i)return(0,V.jsx)(E().q,{isRightAligned:n});if(0===e.length)return null;const u=o&&"checkbox"===(0,c().getFormulaPropertySchemaResultType)(l)&&1===e.length?null==l?void 0:l.name:void 0,g=!!l&&(0,j().GL)(i,l),p=1===e.length;return l&&(0,V.jsx)(j().Ye,{propertyType:i,rootPropertySchema:l,numberRightAlign:n,store:t,property_id:s,children:e.map(((o,r)=>(0,V.jsx)(j().yZ,{token:o,targetPropertySchema:l,blockStore:t,checkboxPropertyLabel:u,withComma:g&&r<e.length-1,numberRightAlign:n,shouldTruncate:p&&"compact_page"===a,fullWidthBar:d},`${o.id}-${r}`)))})}),[r,o,l,n,t,s,a,d])}({blockStore:t,checkboxShowLabel:s,surface:d,formulaTokenData:k,numberRightAlign:l,propertyId:r,propertySchema:u});return[A,C]}({checkboxShowLabel:Boolean(D),collectionStore:_,numberRightAlign:Boolean(Z),property:d,store:u});!function(e){const{pageId:t,propertyId:r,isLoading:n}=e,{collectionContextStore:i}=(0,a.useContext)(K().L8);(0,o(852507).w)((()=>{var e;null==i||null===(e=i.propertyResultDurationTracker)||void 0===e||e.trackMount({pageId:t,propertyId:r,propertyType:"formula"})})),(0,a.useEffect)((()=>{if(!n){const e=performance.now();async function o(){var o;const a=await y().T.formulas.load();null==i||null===(o=i.propertyResultDurationTracker)||void 0===o||o.trackResult({pageId:t,propertyId:r,propertyType:"formula",endTime:e,context:{formula_property_cache_result_available:(0,m().O9)(F({collectionContextStore:i,blockId:t,propertyId:r,formulasModule:a}))}})}o()}}),[i,n,t,r])}({pageId:u.id,propertyId:d,isLoading:$});const J=(0,i().K8)((()=>(0,f().yQ)({viewType:null==z?void 0:z.getViewType(),propertySchema:G})),[z,G]),X=(0,s().IS)((()=>({buttonStyle:{...N.buttonStyle,..."checkbox"===U?C:{},..."number"===U||"date"===U||"text"===U?A:{},...J?{width:"inherit"}:{}},buttonPressedStyle:N.buttonPressedStyle??{},buttonHoveredStyle:N.buttonHoveredStyle??{}})),[N.buttonHoveredStyle,N.buttonPressedStyle,N.buttonStyle,C,U,A,J]),ee=(0,o(213828).s)({propertyId:d,store:u}),te=null===Q,oe=(0,a.useMemo)((()=>!te&&(0,o(468882).Lo)(U)),[te,U]);return h().Pe?(0,V.jsx)("div",{style:{padding:"5px 8px"},children:(0,V.jsx)(o(431616).C,{fontColor:"light",children:(0,V.jsx)(p().sA,{defaultMessage:"Disabled",id:"database.pageProperty.disableFormulas"})})}):te&&void 0===v?null:(0,V.jsxs)(o(381176).P,{ref:t,className:ee,onContextMenu:x,editButtonClickProps:k,style:X.buttonStyle,pressedStyle:X.buttonPressedStyle,hoveredStyle:X.buttonHoveredStyle,quickActionButtons:!$&&I?(0,V.jsx)(Y,{buttons:I,store:u,collectionStore:_,property:d,surface:W,isEmpty:te,isCopyable:oe}):void 0,quickActionButtonsAlign:Z?"left":void 0,userExpandable:L,children:[te&&v?(0,V.jsx)(v,{}):void 0,te?void 0:(0,V.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:(0,V.jsx)("div",{style:{flex:1,minWidth:0},children:Q})})]})})));function Y(e){const{buttons:t,store:a,property:r,surface:n,isEmpty:i,isCopyable:s}=e;if(i)return null;const l=t.map((e=>{switch(e){case"copy":return s?(0,V.jsx)(o(513996).i,{store:a,property:r,surface:n},"copy"):null;case"comment":return(0,V.jsx)(o(153364).k,{},"comment");default:(0,m().HB)(e)}})).filter(m().Pe);return l?(0,V.jsx)(V.Fragment,{children:l}):null}const z=["comment","copy"],G=a.forwardRef((function(e,t){const{isPhone:o}=(0,n().Y0)(),{shouldWrap:i}=(0,a.useContext)(K().L8),l=ne(e,t,(0,s().IS)((()=>{const e=(0,v()._Q)({isPhone:o});return{checkboxButtonStyle:{...e.table.checkbox},textButtonStyle:{...e.table.text}}}),[o]));return(0,V.jsx)(W,{...l,numberRightAlign:!0,EmptyComponent:H().rW,quickActionButtons:r().A.isMobile?void 0:z,userExpandable:i})})),U=["comment","copy"],Z=a.forwardRef((function(e,t){const{isPhone:o}=(0,n().Y0)(),a=ne(e,t,(0,s().IS)((()=>{const e=(0,v()._Q)({isPhone:o});return{checkboxButtonStyle:{...e.page.checkbox},textButtonStyle:{...e.page.text}}}),[o]));return(0,V.jsx)(W,{...a,EmptyComponent:H().ao,quickActionButtons:U})})),Q=["comment","copy"],$=a.forwardRef((function(e,t){const{isPhone:a}=(0,n().Y0)(),i=ne(e,t,(0,s().IS)((()=>{const e=(0,v()._Q)({isPhone:a});return{checkboxButtonStyle:{...e.compact_page.checkbox},textButtonStyle:{...e.compact_page.text,width:"100%",...o(284371).RC}}}),[a]));return(0,V.jsx)(W,{...i,EmptyComponent:H().ao,quickActionButtons:r().A.isMobile?void 0:Q})})),J=a.forwardRef((function(e,t){const o=ne(e,t);return(0,V.jsx)(W,{...o,EmptyComponent:H().Fe})})),X=a.forwardRef((function(e,t){const a=ne(e,t,(0,o(999943).F)(t,e.collectionStore,e.property,"formula"));return(0,V.jsx)(W,{...a})})),ee=a.forwardRef((function(e,t){const o=(0,n().WS)(),a=ne(e,t,(0,s().IS)((()=>{const e=(0,v()._Q)({isPhone:o});return{checkboxButtonStyle:{...e.card.checkbox},textButtonStyle:{...e.card.text}}}),[o]));return(0,V.jsx)(W,{...a,checkboxShowLabel:!0})})),te=a.forwardRef((function(e,t){const o=ne(e,t);return(0,V.jsx)(W,{...o,checkboxShowLabel:!0})})),oe=a.forwardRef((function(e,t){const o=ne(e,t);return(0,V.jsx)(W,{...o})})),ae=a.forwardRef((function(e,t){const o=ne(e,t);return(0,V.jsx)(W,{...o})})),re=a.forwardRef((function(e,t){const o=ne(e,t);return(0,V.jsx)(W,{...o})}));function ne(e,t,a){const{store:r,onContextMenu:n,property:i,collectionStore:s}=e;return{ref:t,store:r,property:i,collectionStore:s,editButtonClickProps:(0,o(802229).QK)(e),onContextMenu:n,checkboxButtonStyle:null==a?void 0:a.checkboxButtonStyle,textButtonStyle:null==a?void 0:a.textButtonStyle}}function ie(e){if(void 0===e)return[];if("string"==typeof e)return 0===e.length?[]:[{id:e,type:"text",value:[[e]]}];if("number"==typeof e)return[{id:e,type:"number",value:e}];if((0,u().kC)(e)){return[{id:(0,d().ZF)({allowRelativeDates:!1,value:e,userTimeZone:(0,g().P)(),intl:l().A.getIntl()}),type:"date",value:e}]}if("boolean"==typeof e)return[{id:e,type:"checkbox",value:e}];(0,m().HB)(e)}},924476:(e,t,o)=>{o.d(t,{_s:()=>ke,aG:()=>Me,Pv:()=>Se,Q4:()=>xe,Xh:()=>_e,p0:()=>be,wM:()=>Ae,N$:()=>we,gN:()=>ve,TN:()=>Ce,KV:()=>me});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(672577),o(803949),o(581454);var a=o(296540),r=()=>o(920198),n=()=>o(242422),i=()=>o(484714),s=()=>o(590526),l=()=>o(401497),c=()=>o(79926),u=()=>o(675133),d=()=>o(295633),g=()=>o(732810),p=()=>o(273648),m=()=>o(657970),f=()=>o(187696),y=()=>o(302322),h=()=>o(952882),v=()=>o(363170),b=()=>o(716016),S=()=>o(898244),_=()=>o(713998),x=()=>o(568063),M=()=>o(869190),k=()=>o(604995),C=()=>o(239381),A=()=>o(416504),w=()=>o(792071),P=()=>o(571595),T=()=>o(96330),B=()=>o(450648),R=()=>o(559653),I=()=>o(201980),F=()=>o(69708),j=()=>o(496603),E=()=>o(534177),V=()=>o(89053),D=()=>o(354032),L=()=>o(908201),N=()=>o(525955),q=()=>o(842076),O=()=>o(862292),K=()=>o(991114),H=()=>o(981342),W=()=>o(468882),Y=()=>o(968021),z=()=>o(648747),G=()=>o(704276),U=()=>o(344590),Z=()=>o(971003),Q=()=>o(726637),$=()=>o(968578),J=()=>o(105819),X=()=>o(100622),ee=()=>o(581350),te=()=>o(527257),oe=o(474848);const ae=(0,F().YK)({rollup:{defaultMessage:"Configure rollup",id:"database.editButton.configureRollupTooltip"}});function re(e){const{type:t,editButtonClickProps:o}=e,r=(0,i().v3)(),n=(0,F().tz)(),{containerRef:c,collectionContextStore:u,canEdit:d}=(0,a.useContext)(Z().L8),g=(0,s().uB)(void 0,$().A),p=n.formatMessage(ae[t]),m=(0,l().IS)((()=>({iconStyle:{color:X().Tj.text.secondary,fill:X().Tj.text.secondary},button:{height:20,width:20}})),[]),f=(0,a.useCallback)((async e=>{if(void 0===o)return;const{onClick:t,store:a,property:n,surface:i,collectionStore:s,blockPropertyValueOverlayStore:l,disableHorizontalEdgeScroll:d}=o,p=c&&"current"in c&&(null==c?void 0:c.current)||void 0;await ee().VE({element:p,environment:r,onClick:t,store:a,property:s.getMappedProperty(n),surface:i,collectionStore:s,blockPropertyValueOverlayStore:l,disableHorizontalEdgeScroll:d,collectionContextStore:u,mouseStore:g})}),[u,c,o,r,g]);return!d||Q().A.isMobile?null:(0,oe.jsx)(te().A,{icon:J().pencilLineIcon,tooltip:p,onClick:f,style:m.button,iconStyle:m.iconStyle,hasBackground:!1})}var ne=()=>o(89956);function ie(e){const{editButtonClickProps:t}=e,o=(0,i().v3)(),{containerRef:r,collectionContextStore:n}=(0,a.useContext)(Z().L8),c=(0,F().tz)(),u=(0,s().uB)(void 0,$().A),d=(0,l().IS)((()=>({iconStyle:{color:X().Tj.text.secondary,fill:X().Tj.text.secondary},button:{height:20,width:20}})),[]),g=(0,a.useCallback)((async e=>{if(void 0===t)return;const{onClick:a,store:i,property:s,surface:l,collectionStore:c,blockPropertyValueOverlayStore:d,disableHorizontalEdgeScroll:g}=t,p=r&&"current"in r&&(null==r?void 0:r.current)||void 0;await ee().DJ({element:p,environment:o,onClick:a,store:i,property:c.getMappedProperty(s),surface:l,collectionStore:c,blockPropertyValueOverlayStore:d,disableHorizontalEdgeScroll:g,collectionContextStore:n,mouseStore:u})}),[n,r,t,o,u]);return Q().A.isMobile?null:(0,oe.jsx)(te().A,{icon:ne().p,tooltip:c.formatMessage({defaultMessage:"Expand",id:"pageProperty.expandButton.tooltip"}),onClick:g,style:d.button,iconStyle:d.iconStyle})}var se=()=>o(496645),le=()=>o(712354),ce=()=>o(878181),ue=()=>o(399176),de=()=>o(956394),ge=()=>o(431616),pe=()=>o(586295);function me(e){const{store:t,collectionSchemaStore:o,property:p,collectionStore:m,numberRightAlign:f,surface:y}=e,b=(0,r().L)(),M=(0,i().v3)(),k=(0,s().K8)((()=>M.idCreator.getSpaceIdCreatorSync((null==b?void 0:b.id)??"")),[M,b]),T=(0,s().O$)(o),B=(0,s().K8)((()=>{if(!T)return;const e=(0,x().fS)({schema:T,property:p});if(e.isValid&&"people_collection"===e.type)return(0,H().vT)({spaceStore:t.getSpaceStore(),environment:M});if(e.isValid&&"relation"===e.type){const o=e.relationPropertySchema,a=S().Nv(o);return a?g().m.createChildStore(t,a):void 0}}),[M,p,T,t]),R=(0,K().C)(),I=(0,s().K8)((()=>{if(void 0!==T)return(0,x().eY)({property:p,schema:T,preLoadedTargetCollectionModel:null==B?void 0:B.getModel(),getRecordModel:m.getRecordModel,spaceIdCreator:k,block:t.getModel()})}),[T,p,B,k,t,m.getRecordModel]),F=(0,s().K8)((()=>!(null==B||!B.isReady())&&!1===B.canRead()),[B]),{element:E,isLoading:W,aggregationType:Y}=function(e){const{schema:t,property:o,blockStore:r,rollupPropertyData:d,numberRightAlign:g,clientFormulaTimeoutMs:p}=e,{value:m}=(0,c().fJ)(O().T.formulas),f=(0,L().Ks)(),y=(0,i().v3)(),h=(0,s().K8)((()=>{const e=r.getModel(),{propertySchema:a,targetPropertySchema:i}=d??{};if(null==a||!a.aggregation||"show_unique"===a.aggregation||!e||!t){const e=()=>{if(!t)return{isLoading:!0,aggregationType:"unknown"};if(!a){return(0,x().fS)({schema:t,property:o}).isValid?{isLoading:!0,aggregationType:"unknown"}:{isLoading:!1,aggregationType:"invalid-schema"}}return a.aggregation&&"show_unique"!==a.aggregation?{isLoading:!0,aggregationType:a.aggregation}:{isLoading:!1,aggregationType:a.aggregation}};return{rollupType:null==d?void 0:d.rollupType,rollupAggregationValue:void 0,numberFormat:void 0,numberPrecision:void 0,...e()}}const s=a.aggregation,l=y.idCreator.getSpaceIdCreatorSync(e.space_id),[c,g]=function({collectionContextStore:e,blockStore:t,blockModel:o,property:a,schema:r,collectionRequestContext:n,formulasModule:i,spaceIdCreator:s}){const[l,c]=(0,G().V)(t,(e=>(0,x().Pm)({block:o,property:a,schema:r,getRecordModel:e,collectionRequestContext:n,formulasModule:i,spaceIdCreator:s})));if(c){const t=(0,x().tf)({remoteResultCache:null==e?void 0:e.resultSetStore.state.propertyResultCache,blockId:o.id,property:a});if(t)return[t,!1]}return[l,c]}({collectionContextStore:f,blockStore:r,blockModel:e,property:o,schema:t,collectionRequestContext:{userId:void 0,userTimeZone:(0,A().P)(),depth:0,intl:u().A.getIntl(),visitedProperties:new Set,resultCache:new Map,regExpCache:new Map,formatDateCache:new Map,formulaTimeoutTimestampMs:Date.now()+p,experimentService:n().default,collectionFeatureGates:(0,V().i)(),getRelationEdgeList:(0,q().Y)({environment:y,spaceId:e.space_id})},formulasModule:m,spaceIdCreator:l});if(!c)return{rollupAggregationValue:void 0,numberFormat:void 0,numberPrecision:void 0,aggregationType:s,isLoading:g};const h=(0,N().o_)(a.aggregation,"formula"===(null==i?void 0:i.type)||"number"===(null==i?void 0:i.type)?i.number_format:void 0),v=(0,N().zI)(a.aggregation,"formula"===(null==i?void 0:i.type)||"number"===(null==i?void 0:i.type)?i.number_precision:void 0);if(h){const e=void 0===(null==c?void 0:c.value)||null===(null==c?void 0:c.value)||"number"!=typeof c.value?void 0:Number(c.value);if(void 0!==e&&!isNaN(e))return{rollupAggregationValue:e,numberFormat:h,numberPrecision:v,isLoading:g,aggregationType:s}}const b=(0,N().Y9)({numberFormat:void 0,dateFormat:i&&"date_format"in i?i.date_format:void 0,aggregationType:a.aggregation,value:c,userTimeZone:(0,A().P)(),numberPrecision:void 0});return void 0===b||""===b?{rollupAggregationValue:void 0,numberFormat:void 0,numberPrecision:void 0,isLoading:g,aggregationType:s}:{rollupAggregationValue:b,numberFormat:void 0,numberPrecision:void 0,isLoading:g,aggregationType:s}}),[r,d,t,y,f,o,p,m]),v=(0,s().K8)((()=>(0,D().yQ)({viewType:null==f?void 0:f.getViewType(),propertySchema:null==d?void 0:d.propertySchema})),[f,d]),b=(0,l().IS)((()=>({tokenWrapper:{...v?{width:"100%"}:{}}})),[v]),S=(0,a.useMemo)((()=>{if(h.isLoading){var e,t;const o=Boolean(!0===g&&(null==d||null===(e=d.propertySchema)||void 0===e?void 0:e.aggregation)&&void 0!==(0,N().o_)(null==d||null===(t=d.propertySchema)||void 0===t?void 0:t.aggregation,"number"));return(0,oe.jsx)(U().q,{isRightAligned:o})}const{rollupAggregationValue:o,numberFormat:a,numberPrecision:r}=h;if(void 0===o)return null;if(a){var n,i;return"bar"===(null==d||null===(n=d.propertySchema)||void 0===n||null===(n=n.show_as)||void 0===n?void 0:n.type)||"ring"===(null==d||null===(i=d.propertySchema)||void 0===i||null===(i=i.show_as)||void 0===i?void 0:i.type)?(0,oe.jsx)(pe().h,{isRightAligned:g,style:b.tokenWrapper,children:(0,oe.jsx)(ue().E,{numberFormatOverride:a,numberPrecisionOverride:r,numberValue:o,isRightAligned:g,fullWidthBar:v})}):(0,oe.jsx)(ge().C,{isRightAligned:g,children:(0,oe.jsx)(ue().E,{numberFormatOverride:a,numberPrecisionOverride:r,numberValue:o,isRightAligned:g})})}return(0,oe.jsx)(ge().C,{children:o})}),[g,null==d?void 0:d.propertySchema,h,v,b.tokenWrapper]);return{element:S,isLoading:h.isLoading,aggregationType:h.aggregationType}}({blockStore:t,schema:T,property:p,rollupPropertyData:I,numberRightAlign:f,clientFormulaTimeoutMs:R}),z=function(e){const{store:t,rollupPropertyData:o,numberRightAlign:r,clientFormulaTimeoutMs:n,surface:l,targetCollectionStore:g}=e,{value:p}=(0,c().fJ)(O().T.formulas),m=(0,i().v3)(),f=(0,L().Ks)(),{propertySchema:y}=o||{},b=(0,s().K8)((()=>(0,D().yQ)({viewType:null==f?void 0:f.getViewType(),propertySchema:y})),[f,y]),S=(0,s().K8)((()=>{if(!o||!y)return[];const e=new Map,a=new Map,r=new Map,i=m.idCreator.getSpaceIdCreatorSync(t.getSpaceId());if("person"===o.rollupType){const s=t.getModel();if(!s)return[];const l=(0,v().e)({textValue:y.person_property?s.getProperty(y.person_property):void 0,propertySchema:o.personPropertySchema,blockCreatorPointer:w().Bj6.fromBlock(s).getCreatedByPointer(),convertGroupPointersToBeComposite:!0}),c=[];return l.forEach((s=>{const l=t.getRecordModel(s);if("notion_user"===(null==l?void 0:l.table))if((0,x().cl)(o.targetProperty)){let e;o.targetProperty===h().zi?e=l.getEmail():o.targetProperty===h().Ym&&(e=l.getFullName(u().A.getIntl())??l.getEmail()),e&&c.push({token:{id:e,type:"text",value:[[e]]},blockStore:null})}else if(o.targetCollectionSchema&&o.targetPropertySchema&&g){if(!t.getSpaceId()||null==l||!l.id)return;const s=(0,P().ZH)({spaceIdCreator:i,userId:l.id}),u=d().B.createChildStore(t,s);he({textValue:u.getPropertyValue(o.targetProperty),blockStore:u,targetCollectionStore:g,targetPropertySchema:o.targetPropertySchema,targetProperty:o.targetProperty,currentUserId:m.currentUser.id,clientFormulaTimeoutMs:n,resultCache:e,regExpCache:a,formatDateCache:r,formulasModule:p,spaceIdCreator:i}).forEach((e=>{c.push({token:e,blockStore:u})}))}})),"show_unique"===y.aggregation?j().hS(c,(e=>e.token.id)):c}if("relation"===o.rollupType&&g&&o.targetPropertySchema){const s=t.getModel(),l=[];if(s&&y.relation_property&&o.relationPropertySchema&&o.targetCollectionModel){const e=_().bG({relationValue:_().n(_().yQ(s,y.relation_property)),getRecordModel:t.getRecordModel,propertySchema:o.relationPropertySchema,includeNoAccess:!0}).map((e=>d().B.createChildStore(t,e)));l.push(...e.filter((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)===o.targetCollectionModel.id})))}const c=[];for(const t of l){const s=he({textValue:t.getPropertyValue(o.targetProperty),blockStore:t,targetCollectionStore:g,targetPropertySchema:o.targetPropertySchema,targetProperty:o.targetProperty,currentUserId:m.currentUser.id,clientFormulaTimeoutMs:n,resultCache:e,regExpCache:a,formatDateCache:r,formulasModule:p,spaceIdCreator:i});for(const e of s)c.push({token:e,blockStore:t})}return"show_unique"===y.aggregation?j().hS(c,(e=>e.token.id)):c}return[]}),[o,y,g,t,m,n,p]);return(0,a.useMemo)((()=>{if(null==S||!S.length||!y)return null;const e=1===S.length,a=S[0].token.type,n=(0,de().GL)(a,y);return(0,oe.jsx)(de().Ye,{propertyType:a,rootPropertySchema:y,numberRightAlign:r,children:S.map(((a,i)=>(0,oe.jsx)(de().yZ,{token:a.token,targetPropertySchema:"relation"===(null==o?void 0:o.rollupType)?o.targetPropertySchema:void 0,blockStore:a.blockStore??t,withComma:n&&i<S.length-1,numberRightAlign:r,shouldTruncate:e&&"compact_page"===l,fullWidthBar:b},`${a.token.id}-${i}`)))})}),[S,y,r,l,t,o,b])}({store:t,rollupPropertyData:I,numberRightAlign:f,clientFormulaTimeoutMs:R,targetCollectionStore:B,surface:y??"page"}),Z=!E&&!z,Q=(0,s().K8)((()=>{if(Z||!I)return"text";const{targetPropertySchema:e,propertySchema:t}=I;return void 0!==(null==t?void 0:t.aggregation)&&"show_unique"!==t.aggregation?void 0!==(0,N().o_)(t.aggregation,"number")?"number":"text":e?function(e){if(!e)return"text";if("formula"===e.type){if(e.formula2){const t=(0,C().pg)(e.formula2.result_type).type;return"block"===t?"relation":"unknown"===t||"array"===t||"undefined"===t?"text":t}return"text"}return"rollup"===e.type?"text":e.type}(e):"text"}),[Z,I]);return{rollupPropertyData:I,rollupAggregationValue:E,rollupTokens:z,propertyStylingType:Q,isLoading:W,aggregationType:Y,isNoAccess:F}}const fe=a.memo(a.forwardRef((function(e,t){const{store:r,property:n,EmptyComponent:i,onContextMenu:c,editButtonClickProps:u,checkboxButtonStyle:d,textButtonStyle:g,buttonButtonStyle:p,quickActionButtons:m,numberRightAlign:f,userExpandable:y}=e,{baseStyles:h,surface:v,collectionSchemaStore:b,collectionContextStore:S}=(0,a.useContext)(Z().L8),{rollupAggregationValue:_,rollupTokens:x,propertyStylingType:M,isLoading:k,aggregationType:C,rollupPropertyData:A,isNoAccess:w}=me({...e,surface:v,collectionSchemaStore:b}),P=!_&&!x;!function(e){const{store:t,property:r,isLoading:n,aggregationType:i}=e,{surface:s,collectionContextStore:l}=(0,a.useContext)(Z().L8);(0,o(852507).w)((()=>{var e;"table"===s&&(null==l||null===(e=l.propertyResultDurationTracker)||void 0===e||e.trackMount({pageId:t.id,propertyId:r,propertyType:"rollup"}))})),(0,a.useEffect)((()=>{var e;"table"!==s||n||"invalid-schema"===i||"unknown"===i||(null==l||null===(e=l.propertyResultDurationTracker)||void 0===e||e.trackResult({pageId:t.id,propertyId:r,propertyType:"rollup",context:{rollup_aggregation_type:i}}))}),[l,s,r,t,n,i])}({store:r,property:n,isLoading:k,aggregationType:C});const T=(0,a.useMemo)((()=>{if(P||!A)return!1;switch(A.rollupType){case"person":return(0,W().Lo)(A.rollupType);case"relation":return(0,W().Lo)(A.targetPropertySchema.type)}}),[P,A]),B=(0,a.useMemo)((()=>!(P||!A)&&"checkbox"!==A.targetPropertySchema.type),[P,A]),R=(0,s().K8)((()=>(0,D().yQ)({viewType:null==S?void 0:S.getViewType(),propertySchema:null==A?void 0:A.propertySchema})),[S,A]),I=(0,l().IS)((()=>({buttonStyle:{...h.buttonStyle,..."checkbox"===M?d:{},..."title"!==M&&(0,se().YX)(M)?g:{},...(0,se()._t)(M)?p:{},...R?{width:"inherit"}:{}},buttonPressedStyle:h.buttonPressedStyle??{},buttonHoveredStyle:h.buttonHoveredStyle??{},noAccessStyle:{display:"flex",alignItems:"center",gap:4,fontSize:14,fontWeight:500}})),[h.buttonHoveredStyle,h.buttonPressedStyle,h.buttonStyle,p,d,M,g,R]);if(P&&void 0===i)return null;const j=!0===f&&"number"===M,E=(null==m?void 0:m.includes("expand"))&&(P||!B);return(0,oe.jsx)(o(381176).P,{ref:t,onContextMenu:c,editButtonClickProps:E?void 0:u,style:I.buttonStyle,pressedStyle:I.buttonPressedStyle,hoveredStyle:I.buttonHoveredStyle,quickActionButtons:m?(0,oe.jsx)(ye,{buttons:m,editButtonClickProps:u,store:r,property:n,surface:v,isCopyable:T,isExpandable:B}):void 0,quickActionButtonsAlign:j?"left":void 0,userExpandable:y,forceEnableButton:!P&&(null==m?void 0:m.includes("expand"))&&B,children:P?i?(0,oe.jsx)(i,{}):null:w?(0,oe.jsxs)("div",{style:I.noAccessStyle,children:[(0,oe.jsx)(o(807449).I,{icon:o(288739).M,size:"sm",colorVariant:"secondary"}),(0,oe.jsx)(F().sA,{id:"rollupProperty.noAccess",defaultMessage:"No access"})]}):_??x})})));function ye({buttons:e,editButtonClickProps:t,store:a,property:r,surface:n,isCopyable:i,isExpandable:s}){const l=e.map((e=>{switch(e){case"edit":return(0,oe.jsx)(re,{type:"rollup",editButtonClickProps:t},e);case"copy":return i?(0,oe.jsx)(o(513996).i,{store:a,property:r,surface:n},e):null;case"expand":return s?(0,oe.jsx)(ie,{editButtonClickProps:{...t,surface:"compact_page"}},e):null;default:(0,E().HB)(e)}})).filter(E().Pe);return l?(0,oe.jsx)(oe.Fragment,{children:l}):null}function he(e){var t;const{textValue:o,blockStore:a,targetCollectionStore:r,targetPropertySchema:i,targetProperty:s,clientFormulaTimeoutMs:l,resultCache:c,regExpCache:d,formatDateCache:g,formulasModule:h,spaceIdCreator:S}=e,{type:x}=i;switch(x){case"auto_increment_id":if(void 0===o)return[];const w=null===(t=r.getRecordKeyStore())||void 0===t?void 0:t.getRecordKey(),P=(0,b().H4)(w,_().On(o));return P?[{id:P,type:"text",value:[[P]]}]:[];case"button":case"rollup":case"location":case"verification":return[];case"checkbox":{const e=(0,m().w)(o);return[{id:e,type:"checkbox",value:e}]}case"date":{const e=(0,f().b)(o);if(void 0===e)return[];return[{id:M().ZF({allowRelativeDates:!1,value:e,userTimeZone:(0,A().P)(),intl:u().A.getIntl()}),type:"date",value:e}]}case"email":case"phone_number":case"url":return void 0===o?[]:[{id:(0,I().k4p)(o),type:x,value:o}];case"file":return _().pJ(o).map((e=>({id:e.url,type:"file",value:e})));case"formula":{const e=a.getModel();if(void 0===e)return[];if(!h)return[];const t=u().A.getIntl(),o=(0,A().P)();if("v2"===i.version){var C;if(null===(C=i.formula2)||void 0===C||!C.code)return[];const r=h.evaluateCollectionFormula2({block:e,property:s,formulaCode:i.formula2.code,getRecordModel:a.getRecordModel,intl:t,userTimeZone:o,depth:0,visitedProperties:new Set,formulaTimeoutTimestampMs:Date.now()+l,resultCache:c,regExpCache:d,formatDateCache:g,experimentService:n().default,collectionFeatureGates:(0,V().i)(),spaceIdCreator:S});return r?(0,z().O)(r,a.getRecordModel,o):[]}{const r=h.evaluateFormulaProperty({property:s,schema:a.getSchema(),block:e,getRecordModel:a.getRecordModel,collectionRequestContext:{userId:void 0,userTimeZone:o,depth:0,intl:t,resultCache:c,regExpCache:d,formatDateCache:g,visitedProperties:new Set,formulaTimeoutTimestampMs:Date.now()+l,experimentService:n().default,collectionFeatureGates:(0,V().i)(),getRelationEdgeList:(0,q().Y)({environment:a.environment,spaceId:a.getSpaceId()})},spaceIdCreator:S});return(0,ce().lY)(r)}}case"select":{const e=_().L3(o,i.options??[]);if(!i.options||!e)return[];return[{id:e,type:"select",value:e,color:(0,_().FE)(i.options??[],e)}]}case"multi_select":return _().o2(o,i.options??[]).map((e=>({id:e,type:"select",value:e,color:(0,_().FE)(i.options??[],e)})));case"number":{const e=y().M(o);return void 0===e?[]:[{id:e,type:"number",value:e}]}case"person":return(0,v().e)({textValue:o,propertySchema:i,blockCreatorPointer:a.getCreatedByPointer(),convertGroupPointersToBeComposite:!0}).map((e=>({id:e.id,type:"person",value:e})));case"title":if(void 0===r)return[];return[{id:(0,B().r4)({textValue:o,getRecordModel:a.getRecordModel,deterministic:!0,userTimeZone:(0,A().P)(),intl:u().A.getIntl()}),type:"relation",value:{id:a.id,table:"block",spaceId:r.getSpaceId()}}];case"relation":if(void 0===r)return[];return _().bG({relationValue:_().n(o),getRecordModel:a.getRecordModel,propertySchema:i,includeNoAccess:!0}).map((e=>({id:e.id,type:"relation",value:e})));case"status":{const e=_().RZ(o,i),{options:t,groups:a}=i,r=null==t?void 0:t.find((t=>t.value===e));if(void 0===e||void 0===r)return[];const n=null==a?void 0:a.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(r.id)}));return[{id:e,type:"select",value:e,color:r.color,groupColor:(null==n?void 0:n.color)??"default"}]}case"text":if(void 0===o)return[];const F=(0,B().r4)({textValue:o,getRecordModel:a.getRecordModel,deterministic:!0,userTimeZone:(0,A().P)(),intl:u().A.getIntl()});return 0===F.length?[]:[{id:F,type:"text",value:o}];case"created_by":const j=a.getCreatedByPointer();return j?[{id:j.id,type:"person",value:j}]:[];case"created_time":{const e=a.getCreatedTime();return[{id:e,type:"date",value:(0,k().KQ)(e,(0,A().P)())}]}case"last_edited_by":{const e=a.getLastEditedByPointer();return e?[{id:e.id,type:"person",value:e}]:[]}case"last_edited_time":{const e=a.getLastEditedTime();return[{id:e,type:"date",value:(0,k().KQ)(e,(0,A().P)())}]}case"last_visited_time":{const{currentUserId:t}=e;if(!t)return[];const o=(0,R().$5)({parent_id:a.id,user_id:t}),r=p()._.createChildStore(a,{table:R().F9,id:o,spaceId:a.getSpaceId()}).getModel(),n=null==r?void 0:r.getVisitedAt();if(!n)return[];return[{id:n,type:"date",value:(0,k().KQ)(n,(0,A().P)())}]}case"place":{const e=(0,T().X1)((0,T().eC)(o));return e?[{id:e,type:"text",value:[[e]]}]:[]}default:(0,E().HB)(x)}}const ve=a.forwardRef((function(e,t){const{shouldWrap:o}=(0,a.useContext)(Z().L8),r=(0,i().WS)(),n=Pe(e,t,(0,l().IS)((()=>{const e=(0,Y()._Q)({isPhone:r});return{checkboxButtonStyle:{...e.table.checkbox},textButtonStyle:{...e.table.text},buttonButtonStyle:{...e.table.button}}}),[r]));return(0,oe.jsx)(fe,{...n,numberRightAlign:!0,EmptyComponent:le().rW,quickActionButtons:["edit","copy"],userExpandable:o})})),be=a.forwardRef((function(e,t){const o=(0,i().WS)(),a=Pe(e,t,(0,l().IS)((()=>{const e=(0,Y()._Q)({isPhone:o});return{checkboxButtonStyle:{...e.page.checkbox},textButtonStyle:{...e.page.text},buttonButtonStyle:{...e.page.button}}}),[o]));return(0,oe.jsx)(fe,{...a,quickActionButtons:["edit","copy"],EmptyComponent:le().ao})})),Se=a.forwardRef((function(e,t){const a=(0,i().WS)(),r=Pe(e,t,(0,l().IS)((()=>{const e=(0,Y()._Q)({isPhone:a});return{checkboxButtonStyle:{...e.compact_page.checkbox},textButtonStyle:{...e.compact_page.text},buttonButtonStyle:{...e.compact_page.button}}}),[a])),n=(0,o(59226).X)("rollup_pinned_property_expand");return(0,oe.jsx)(fe,{...r,quickActionButtons:n&&!a?["expand"]:void 0,EmptyComponent:le().ao})})),_e=a.forwardRef((function(e,t){const o=Pe(e,t);return(0,oe.jsx)(fe,{...o,EmptyComponent:le().Fe})})),xe=a.forwardRef((function(e,t){const a=Pe(e,t,(0,o(999943).F)(t,e.collectionStore,e.property,"rollup"));return(0,oe.jsx)(fe,{...a})})),Me=a.forwardRef((function(e,t){const o=(0,i().WS)(),a=Pe(e,t,(0,l().IS)((()=>{const e=(0,Y()._Q)({isPhone:o});return{checkboxButtonStyle:{...e.card.checkbox},textButtonStyle:{...e.card.text},buttonButtonStyle:{...e.card.button}}}),[o]));return(0,oe.jsx)(fe,{...a})})),ke=a.forwardRef((function(e,t){const o=Pe(e,t);return(0,oe.jsx)(fe,{...o})})),Ce=a.forwardRef((function(e,t){const o=Pe(e,t);return(0,oe.jsx)(fe,{...o})})),Ae=a.forwardRef((function(e,t){const o=Pe(e,t);return(0,oe.jsx)(fe,{...o})})),we=a.forwardRef((function(e,t){const o=Pe(e,t);return(0,oe.jsx)(fe,{...o})}));function Pe(e,t,a){const{store:r,onContextMenu:n,property:i,collectionStore:s}=e;return{ref:t,store:r,property:i,collectionStore:s,editButtonClickProps:(0,o(802229).QK)(e),onContextMenu:n,checkboxButtonStyle:null==a?void 0:a.checkboxButtonStyle,textButtonStyle:null==a?void 0:a.textButtonStyle,buttonButtonStyle:null==a?void 0:a.buttonButtonStyle}}}}]);