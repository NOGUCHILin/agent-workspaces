"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[54719],{321172:(e,t,n)=>{n.d(t,{XP:()=>f,T:()=>g,Tk:()=>y});n(898992),n(354520),n(581454),n(296540);var o=()=>n(792057),a=()=>n(179034),i=()=>n(69708),r=()=>n(314529);var s=()=>n(998992),c=()=>n(931729),l=()=>n(380682),d=()=>n(712505),u=()=>n(212640),m=()=>n(538233),v=()=>n(437487),p=n(474848);function y(e){const{environment:t,store:n}=e;v().Ay.reset(),d().default.state.open?u().A.setState({...u().A.state,open:!0}):m().A.setState({...m().A.state,open:!0}),function(e,t){(0,r().DO_NOT_USE_trackLegacy)(e,"open_page_share",t)}(t,{share_menu_session_id:v().Ay.state.sessionId,...n&&n.table===a().ev&&n.isCollectionView()?{collection_view_block_id:n.id,...(0,c().P)(n,{skipPages:!1})}:{}})}function f(e){const{environment:t,store:n}=e;d().default.state.open?u().A.setState({...u().A.state,open:!1}):m().A.setState({...m().A.state,open:!1}),l().A.setState({...l().A.state,siteSettingContentType:"initial"});const{collection_view_block_id:o,collection_view_id:i,collection_id:p,owned_collection_count:y,linked_collection_count:f}=(()=>{if(n&&n.table===a().ev&&n.isCollectionView()){const e=(0,c().P)(n,{skipPages:!1});return{collection_view_block_id:n.id,collection_view_id:(0,s().I)(n,t),collection_id:e.collectionId,owned_collection_count:e.ownedCollectionCount,linked_collection_count:e.linkedCollectionCount}}return{collection_view_block_id:void 0,collection_view_id:void 0,collection_id:void 0,owned_collection_count:void 0,linked_collection_count:void 0}})();!function(e,t){(0,r().DO_NOT_USE_trackLegacy)(e,"close_page_share",t)}(t,{share_menu_session_id:v().Ay.state.sessionId,collection_id:p,collection_view_id:i,collection_view_block_id:o,owned_collection_count:y,linked_collection_count:f})}async function g(e){const{inviteTargetsStore:t}=e,n=(0,p.jsx)(i().sA,{id:"shareMenu.closeInviteDialog.confirmationMessage",defaultMessage:"Your changes have not been saved. Discard changes?"}),a=(0,p.jsx)(i().sA,{id:"shareMenu.closeInviteDialog.confirmationButton.label",defaultMessage:"Yes"}),r=(0,p.jsx)(i().sA,{id:"shareMenu.closeInviteDialog.cancelButton.label",defaultMessage:"Cancel"});if(t.state.inviteTargets.length>0){return(await o().Gh({message:n,acceptLabel:a,cancelLabel:r})).accept}return!1}},340593:(e,t,n)=>{n.d(t,{d:()=>i});var o=()=>n(907258),a=()=>n(712505);function i(){const{mainEditorCurrentBlockStore:e}=o().default.state;return a().default.state.open&&a().default.state.targetStore||e}},380682:(e,t,n)=>{n.d(t,{A:()=>a});class o extends(()=>n(757695))().Store{getInitialState(){return{siteSettingContentType:"initial"}}}const a=new o},521334:(e,t,n)=>{n.d(t,{M:()=>i});var o=()=>n(917908),a=()=>n(993130);function i(e){const{TabbedRouterStore:t,RouterStore:n}=e;return(0,a().A)(e)?t.canGoForward():e.device.isElectron?o().H.canGoForward():n.canGoForward()}},624643:(e,t,n)=>{n.d(t,{y:()=>c});n(898992),n(737550);var o=()=>n(77311),a=()=>n(232615),i=()=>n(634201),r=()=>n(201980),s=()=>n(718957);function c(e){const t=a().default.state;if("editing"!==t.mode)return!1;const{multiSelection:n}=t;if((0,o().k)(n))return!1;const c=(0,s().$W)(n);for(const{store:o,selection:a}of c){const t=o.getValue();if(!t)continue;const n=r().RQ(t);let s=0;for(const o of n){const t=i().PE(r().N8A(o));if(s>=a.startIndex&&s<a.endIndex||s<a.startIndex&&s+t.length>a.startIndex){if(r().uPN(o).some((t=>r()._XS(t)===e)))return!0}s+=t.length}}return!1}},719807:(e,t,n)=>{n.d(t,{s:()=>a});var o=()=>n(800140);function a(e){null!=e&&e.device.isElectron?(0,o().s)(e):window.history.forward()}},791117:(e,t,n)=>{function o({environment:{device:e}}){return e.isWindows}n.d(t,{u:()=>o})},890909:(e,t,n)=>{n.d(t,{WR:()=>u,aU:()=>l,lY:()=>d});var o=()=>n(749687),a=()=>n(863642),i=()=>n(869562);const r=1;function s({environment:e,windowWidth:t}){return t>0?t:e.WindowSizeStore.state.width}function c({fallbackWidth:e,availableWindowWidth:t}){const n=e??o().SIDEBAR_MIN_WIDTH,a=Math.abs(n-t)<r?o().SIDEBAR_MIN_WIDTH:n,i=Math.max(a,o().SIDEBAR_MIN_WIDTH);return Math.min(i,t)}function l({environment:e,sidebarWidth:t,windowWidth:n,fallbackWidth:o}){const a=t>=n-1,r=s({environment:e,windowWidth:n});if(r<=0)return;if(!a)return void i().setWidth({width:r,environment:e});const l=c({fallbackWidth:o,availableWindowWidth:r});i().setWidth({width:l,environment:e})}function d({environment:e,windowWidth:t,sidebarWidth:n,fallbackWidth:o}){if(!(n>=t-1))return;const a=s({environment:e,windowWidth:t});if(a<=0)return;const r=c({fallbackWidth:o,availableWindowWidth:a});i().setWidth({width:r,environment:e})}function u(e){a().d.setState(e)}},954719:(e,t,n)=>{n.d(t,{Fg:()=>kt,p6:()=>ht,bD:()=>zt,tN:()=>tt});n(898992),n(823215),n(354520),n(581454);var o=n.n(n(36545));n(296540);function a(e){return void 0!==e.shortcuts}var i=()=>n(907258),r=()=>n(692031),s=()=>n(212497),c=()=>n(232615),l=()=>n(584262),d=()=>n(700500),u=()=>n(742852),m=()=>n(201980),v=()=>n(69708),p=()=>n(231536),y=()=>n(908006),f=()=>n(747674),g=()=>n(206051),k=()=>n(132867),h=()=>n(822934);var N=()=>n(884107),S=()=>n(340593),b=()=>n(495262),w=()=>n(391214),M=()=>n(703748),A=()=>n(920836),P=()=>n(574357),_=()=>n(426716),F=()=>n(414479);function T({blocks:e}){return n(999140).Rd(e)}n(737550);var B=()=>n(129522);var C=()=>n(624643);var I=()=>n(158658);function L(e){return(0,n(126744).U)(e.environment)}function U(e){return(0,n(521334).M)(e.environment)}var x=()=>n(523195),E=(n(18107),n(967357),()=>n(3700));function R({blocks:e}){const t=null==e?void 0:e.at(0);return Boolean(t&&(0,E().qr)(t))}var W=()=>n(339425),K=()=>n(664767);var O=()=>n(929084),D=()=>n(375308),Y=()=>n(514779);function V(){return g().default.state.stores.length>0}function q(e){const{environment:t}=e,{device:n}=t,o="quickSearch"===t.RouterStore.state.route.name;return n.isElectron&&o}var z=()=>n(598101),H=()=>n(422155);var G=()=>n(852100);var X=()=>n(822789),j=()=>n(202786),J=()=>n(712287),Q=()=>n(656219),$=()=>n(267271),Z=()=>n(535960);const ee=(0,$().Fw)({key:"open home",displayName:void 0,analyticsName:"openHome",validators:[Y().M,(0,z().A)((()=>(0,X().hw)()))],shortcuts:["openHome"],closeParentMenu:!0,action:async e=>{const t=e.environment,o=n(696746).XH("main");o&&(await o.load(),o.canRead()&&((0,n(162674).ZL)({environment:t,from:"keyboard_shortcut"}),(0,Z().u)({environment:t,store:o,pageVisitSource:l().y8.SidebarHome})))}});var te=()=>n(305743),ne=()=>n(719807),oe=()=>n(231940);var ae=()=>n(287234),ie=()=>n(708830),re=()=>n(496603),se=()=>n(20313),ce=()=>n(840495),le=()=>n(942983),de=()=>n(806080);function ue(e){const t=g().default.state.stores,n=g().default.state.pivot,o=(0,re().oE)((0,re().FF)(t,n));let a;a=n===(0,de().HV)(t)?t[t.length-2]:t[1],(0,f().t)({environment:e,stores:o,pivot:a})}var me=()=>n(453607),ve=()=>n(836724);function pe(e){const t=g().default.state.pivot||(0,de().HV)(g().default.state.stores);if(t){const n=ve().T.findScrollToSelectableFromStore(t);n&&(0,me().p)({environment:e,handle:n,vertical:{reveal:"bottom"},horizontal:n.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}var ye=()=>n(274873),fe=()=>n(468484),ge=()=>n(281243);function ke(e){const t=g().default.state.pivot||g().default.state.stores[0],n=ve().T.findScrollToSelectableFromStore(t);n&&(0,me().p)({environment:e,handle:n,vertical:{reveal:"top"},horizontal:n.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}var he=()=>n(869562),Ne=()=>n(171018),Se=()=>n(712505),be=()=>n(244828),we=()=>n(443616),Me=()=>n(154562),Ae=()=>n(557583),Pe=()=>n(599364),_e=()=>n(410767),Fe=()=>n(774411),Te=()=>n(934049),Be=()=>n(893306),Ce=()=>n(571157),Ie=()=>n(37689),Le=()=>n(426928);function Ue(e){return Boolean(i().default.state.mainEditorCurrentBlockStore)}var xe=()=>n(486674);function Ee(){var e,t;const n=(0,xe().a)(),o=null==n||null===(e=n.getSiteStore())||void 0===e?void 0:e.getModel();return!!o&&Boolean(null===(t=o.getHeader())||void 0===t?void 0:t.hideSearch)}var Re=()=>n(321874);const We=(0,v().YK)({quickFindName:{id:"action.quickFind.name",defaultMessage:"Quick find"}}),Ke=(0,$().Fw)({key:"quick find",displayName:We.quickFindName,analyticsName:We.quickFindName.defaultMessage,validators:[(0,H().or)([Ue,De]),(0,z().A)(Ee)],shortcuts:["quickFind"],closeParentMenu:!0,action:({environment:e})=>Re().su({environment:e,analyticsFrom:"keyboard-shortcut"})}),Oe=(0,$().Fw)({key:"quick find (alternative)",displayName:We.quickFindName,analyticsName:We.quickFindName.defaultMessage,validators:[(0,H().or)([Ue,De]),(0,z().A)((0,H().or)([(0,P().U)([K().c,j().T]),(0,P().U)([I().p,n(440902).v,n(198365).w])])),(0,z().A)(Ee)],shortcuts:["openLinkMenuOrOpenSearch"],closeParentMenu:!0,action:({environment:e})=>Re().su({environment:e,analyticsFrom:"keyboard-shortcut-command-k"})});function De(e){const t=e.environment.RouterStore.state.route.name;switch(t){case"chat":case"gallery":case"marketplace":case"home":case"page":case"team":case"meet":case"posts":case"workers":case"agent":case"ai":return!0;default:return!1}}var Ye=()=>n(22913);const Ve=(0,v().YK)({searchName:{id:"action.search.name",defaultMessage:"Search"}}),qe=(0,$().Fw)({key:"search",displayName:Ve.searchName,analyticsName:Ve.searchName.defaultMessage,validators:[Y().M,(0,H().or)([n(868673).a,Ue]),(0,z().A)(n(222958).d),(0,z().A)(n(620612).n),(0,z().A)((function(){return Boolean(n(279115).Ay.state.open)}))],shortcuts:["search"],closeParentMenu:!0,action:e=>{var t,o;const a=(0,xe().a)();if(!a)return;const i=a.isCollectionView(),r=(0,n(799832).U)(a),s="page"===(null==r||null===(t=r.collectionViewStore())||void 0===t?void 0:t.getType());if(i&&!s){const e=B().K.findCollectionViewBlockFromStore(a);return void(e&&"collectionContextStore"in e&&(null==e||e.collectionContextStore.searchOpenStore.setState(!0)))}const l=null===(o=window.getSelection())||void 0===o?void 0:o.toString(),d="editing"===c().default.state.mode?c().default.state:void 0;n(909443).h({environment:e.environment,selectedString:l,textSelectionOnOpen:d})}});var ze=()=>n(363019),He=()=>n(611357),Ge=()=>n(843005),Xe=n(474848);const je=(0,v().YK)({enterName:{id:"action.enter.name",defaultMessage:"Enter"},writerShortcutMoved:{id:"action.agent.writerShortcutMoved",defaultMessage:"Looking for inline AI editing? Writer shortcut moved to {shortcut}"},copyFormattedLinkNavigableTypeName:{id:"action.copyFormattedLinkNavigableType.name",defaultMessage:"Copy linked title"},pasteName:{id:"action.paste.name",defaultMessage:"Paste"},moveUpName:{id:"action.moveUp.name",defaultMessage:"Move up"},moveDownName:{id:"action.moveDown.name",defaultMessage:"Move down"},propertyVisibilityLabel:{id:"action.propertyVisibility.label",defaultMessage:"Toggle property visibility"},createLinkName:{id:"action.createLink.name",defaultMessage:"Add link"},boldName:{id:"action.bold.name",defaultMessage:"Bold"},italicName:{id:"action.italic.name",defaultMessage:"Italic"},strikeThroughName:{id:"action.strikeThrough.name",defaultMessage:"Strike-through"},underlineName:{id:"action.underline.name",defaultMessage:"Underline"},darkModeName:{id:"action.darkMode.name",defaultMessage:"Dark mode"},openAsPageName:{id:"action.openAsPage.name",defaultMessage:"Open as page"},toggleQnAMessage:{defaultMessage:"Toggle QnA",id:"action.toggleQnA.name"}}),Je=[I().p,(0,z().A)(D().v),n(590081).O];function Qe(e){var t;const o=i().default.state.currentUserSettingsStore;(null==o||null===(t=o.getSettings())||void 0===t?void 0:t.seen_writer_shortcut_hint)||(n(128933).D6({label:(0,Xe.jsx)(v().sA,{...je.writerShortcutMoved,values:{shortcut:(0,Xe.jsxs)(Xe.Fragment,{children:["Â ",(0,Xe.jsx)(n(35392).A,{name:"commandAltJ"})]})}})}),o&&be().createAndCommit({userAction:"actionRegistry.maybeShowWriterShortcutHint",environment:e,canUndo:!0,perform:e=>{(0,n(680977).m)({userSettingsStore:o,transaction:e,data:{seen_writer_shortcut_hint:!0}})}}))}function $e(e){return(0,$().Fw)({...e,validators:Je,closeParentMenu:!0,action:({environment:t,blocks:o})=>{be().createAndCommit({userAction:"actionRegistry.createAnnotationAction",environment:t,canUndo:!0,perform:a=>{n(699744).XJ({environment:t,blocks:o,annotation:e.annotation,transaction:a})}})}})}const Ze=(0,$().Fw)({key:"toggle all updates",displayName:void 0,analyticsName:"toggleAllUpdates",validators:[Y().M],shortcuts:["toggleAllUpdates"],closeParentMenu:!0,action:e=>{if((0,X().hw)())return he().setExpand({environment:e.environment,isExpanded:!0,from:"keyboard_shortcut",saveDetailsSidebarPreference:!0}),void(0,n(890909).WR)("inbox");n(770906).ZT({environment:e.environment,contentType:"inbox"})}}),et=(0,$().Fw)({key:"open share menu",displayName:void 0,analyticsName:"openShareMenu",validators:[Y().M],shortcuts:["openShareMenu"],closeParentMenu:!0,action:({environment:e,blocks:t})=>n(321172).Tk({environment:e,store:null==t?void 0:t[0]})}),tt=(0,$().Fw)({key:"undo",displayName:$().AY.undoName,analyticsName:$().AY.undoName.defaultMessage,svg:n(454503).arrowUTurnUpLeftIcon,validators:[Y().M,I().p,n(6744).B,(0,z().A)(n(775584).F),(0,z().A)((0,n(419286).X)(d().xd.externalObjectInstancePage)),(0,H().or)([(0,z().A)(n(858904).l),(0,z().A)(n(467294).P)]),(0,z().A)(W().o)],shortcuts:["undo"],closeParentMenu:!0,track:{actionName:"undo"},action:(e,{environment:t},n)=>b().tN({environment:t,preventSelectText:!1,callback:e})}),nt=(0,$().Fw)({key:"redo",displayName:$().AY.redoName,analyticsName:$().AY.redoName.defaultMessage,svg:n(638616).W,validators:[n(809210).f],shortcuts:["redo"],closeParentMenu:!0,track:{actionName:"redo"},action:(e,{environment:t},n)=>b().ZS({environment:t,callback:e})}),ot=(0,$().Fw)({key:"up",analyticsName:"Up",displayName:void 0,validators:[],shortcuts:["up"],closeParentMenu:!0,action:({environment:e},t)=>{if(t&&(0,Te().k)(t))return t.metaKey||t.ctrlKey?function(e){const t=(0,ce().X)()[0];if(t){(0,f().t)({environment:e,stores:[t],pivot:t,multiSelectBoundaryStore:t});const n=ve().T.findScrollToSelectableFromStore(t);n&&(0,me().p)({environment:e,handle:n,vertical:{reveal:"top"},horizontal:n.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}(e):void function(e){const{environment:t}=e,n=g().default.state.stores;(0,le().B)(n);const o=g().default.state.pivot,a=n[0];if(a)if(e.shiftKey)if(o===a){const o=(0,se().OL)({includeNonSelectableListContainer:!1}),i=(0,se().Xs)(a,o.children),{prev:r,parent:s}=e.altKey?(0,ie().MY)(o,i):(0,ie().zJ)(o,i);if(r){const e=r.value.store,o=(0,re().KC)(n,[e]);(0,f().t)({environment:t,stores:o,pivot:e,multiSelectBoundaryStore:e})}else if(s){const e=s.value.store,o=(0,re().KC)(n.filter((e=>!(0,ie().uU)(s,(t=>t.store===e)))),[e]);(0,f().t)({environment:t,stores:o,pivot:e,multiSelectBoundaryStore:e})}}else ue(e.environment);else{const n=(0,se().OL)({includeNonSelectableListContainer:!1}),o=(0,se().Xs)(a,n.children),{prev:i,parent:r}=e.altKey?(0,ie().MY)(n,o):(0,ie().zJ)(n,o);if(i){const e=i.value.store;(0,f().t)({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}else if(r){const e=r.value.store;(0,f().t)({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}else(0,f().t)({environment:t,stores:[a],pivot:a,multiSelectBoundaryStore:a})}else if(o)(0,f().t)({environment:t,stores:[o],multiSelectBoundaryStore:o});else{const e=(0,ce().X)(),n=(0,de().HV)(e);n&&(0,f().t)({environment:t,stores:[n],pivot:n,multiSelectBoundaryStore:n})}ke(t)}({environment:e,shiftKey:Boolean(t&&t.shiftKey),altKey:Boolean(t&&t.altKey)})}}),at=(0,$().Fw)({key:"left",analyticsName:"Left",displayName:void 0,validators:[],shortcuts:["left"],closeParentMenu:!0,action:({environment:e},t)=>{t&&(0,Te().k)(t)&&function(e){const t=g().default.state.stores;(0,le().B)(t);const n=g().default.state.pivot;if(0!==t.length&&n)if((0,ge().BN)(n)&&fe().A.isOpen(n.id))(0,f().t)({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n}),ye().xT({environment:e,blockId:n.id,state:!1,currentUserId:e.currentUser.id});else if((0,E().qr)(n))A().jG(n);else{const t=(0,se().OL)({includeNonSelectableListContainer:!1}),o=(0,se().Xs)(n,t.children),a=(0,ie().dC)(o);if(a){const t=a.value.store;(0,f().t)({environment:e,stores:[t],pivot:t,multiSelectBoundaryStore:t})}else(0,f().t)({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n})}else if(n)(0,f().t)({environment:e,stores:[n],multiSelectBoundaryStore:n});else{const t=(0,ce().X)(),n=(0,de().HV)(t);n&&(0,f().t)({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n})}ke(e)}(e)}}),it=(0,$().Fw)({key:"down",analyticsName:"Down",displayName:void 0,validators:[],shortcuts:["down"],closeParentMenu:!0,action:({environment:e},t)=>{if(t&&(0,Te().k)(t))return t.metaKey||t.ctrlKey?function(e){const t=(0,ce().X)(),n=t[t.length-1];if(n){(0,f().t)({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n});const t=ve().T.findScrollToSelectableFromStore(n);t&&(0,me().p)({environment:e,handle:t,vertical:{reveal:"bottom"},horizontal:t.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}(e):void function(e){const{environment:t}=e,n=g().default.state.stores;(0,le().B)(n);const o=g().default.state.pivot,a=n.at(-1);if(a)if(e.shiftKey)if(o===a){const e=(0,se().OL)({includeNonSelectableListContainer:!1}),o=(0,se().Xs)(a,e.children),{next:i}=(0,ie().Eq)(e,o);if(i){const e=i.value.store,o=re().KC(n,[e]);(0,f().t)({environment:t,stores:o,pivot:e,multiSelectBoundaryStore:e})}}else ue(t);else{const n=(0,se().OL)({includeNonSelectableListContainer:!1}),o=(0,se().Xs)(a,n.children),{next:i}=e.altKey?(0,ie().Eq)(n,o):(0,ie().hi)(n,o);if(i){const e=i.value.store;(0,f().t)({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}else(0,f().t)({environment:t,stores:[a],pivot:a,multiSelectBoundaryStore:a})}else if(o)(0,f().t)({environment:t,stores:[o],multiSelectBoundaryStore:o});else{const e=(0,ce().X)()[0];e&&(0,f().t)({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}pe(t)}({environment:e,shiftKey:Boolean(t&&t.shiftKey),altKey:Boolean(t&&t.altKey)})}}),rt=(0,$().Fw)({key:"right",analyticsName:"Right",displayName:void 0,validators:[],shortcuts:["right"],closeParentMenu:!0,action:({environment:e})=>{!function(e){const t=g().default.state.stores;(0,le().B)(t);const n=g().default.state.pivot;if(0!==t.length&&n)if((0,ge().BN)(n)&&!fe().A.isOpen(n.id))(0,f().t)({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n}),ye().xT({environment:e,blockId:n.id,state:!0,currentUserId:e.currentUser.id});else if((0,E().qr)(n))A().Uz(n);else{const t=(0,se().OL)({includeNonSelectableListContainer:!1}),o=(0,se().Xs)(n,t.children),a=(0,ie().NU)(o);if(a){const t=a.value.store;(0,f().t)({environment:e,stores:[t],pivot:t,multiSelectBoundaryStore:t})}else(0,f().t)({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n})}else if(n)(0,f().t)({environment:e,stores:[n],multiSelectBoundaryStore:n});else{const t=(0,ce().X)()[0];t&&(0,f().t)({environment:e,stores:[t],pivot:t,multiSelectBoundaryStore:t})}pe(e)}(e)}}),st=(0,$().Fw)({key:"context menu",analyticsName:"Context menu",displayName:void 0,validators:[V,(0,z().A)(D().v)],shortcuts:["commandSlash"],closeParentMenu:!0,action:({environment:e})=>{const{stores:t}=g().default.state;n(901265).WU({environment:e,stores:t,actionSectionGroupKey:"default",analyticsFrom:"command_slash_menu"})}}),ct=(0,$().Fw)({key:"toggle keyboard shortcuts",analyticsName:"Toggle keyboard shortcuts",displayName:void 0,validators:[Y().M],shortcuts:["toggleKeyboardShortcutsModalVisibility"],closeParentMenu:!1,action:e=>{n(449789).j({store:n(965142).V,toggleSource:"keyboard_shortcut"})}}),lt=(0,$().Fw)({key:"indent",analyticsName:"Indent",displayName:void 0,validators:[I().p,(0,z().A)(D().v),F().c,(0,z().A)(_().$)],shortcuts:["tab"],closeParentMenu:!0,action:({environment:e})=>{be().createAndCommit({userAction:"actionRegistry.indent",environment:e,canUndo:!0,perform:t=>{!function(e){const t=g().default.state.stores;if(t.length>0){const n=k().pZ({environment:e.environment,blocks:t,transaction:e.transaction});n&&(0,f().t)({environment:e.environment,stores:n})}}({environment:e,transaction:t})}})}}),dt=(0,$().Fw)({key:"subitemIndent",analyticsName:"Toggle By Indent",displayName:void 0,validators:[I().p,(0,z().A)(D().v),F().c,_().$,R,T],shortcuts:["tab"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{be().createAndCommit({userAction:"actionRegistry.subitemIndent",environment:t,canUndo:!0,perform:n=>{A().RJ({environment:t,transaction:n,blocks:e,action:"indentSelfAndSubtree"})}})}}),ut=(0,$().Fw)({key:"unindent",analyticsName:"Unindent",displayName:void 0,validators:[I().p,(0,z().A)(D().v),F().c,(0,z().A)(_().$)],shortcuts:["untab"],closeParentMenu:!0,action:({environment:e})=>{be().createAndCommit({userAction:"actionRegistry.unindent",environment:e,canUndo:!0,perform:t=>{!function(e){const t=g().default.state.stores;if(t.length>0){const n=k().Y1({environment:e.environment,blocks:t,transaction:e.transaction});n&&(0,f().t)({environment:e.environment,stores:n})}}({environment:e,transaction:t})}})}}),mt=(0,$().Fw)({key:"subitemUnindent",analyticsName:"Toggle By Unindent",displayName:void 0,validators:[I().p,(0,z().A)(D().v),F().c,_().$,R,T],shortcuts:["untab"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{be().createAndCommit({userAction:"actionRegistry.subitemUnindent",environment:t,canUndo:!0,perform:n=>{A().RJ({environment:t,transaction:n,blocks:e,action:"unindentSelf"})}})}}),vt=(0,$().Fw)({key:"escape",analyticsName:"Escape",displayName:void 0,validators:[(0,z().A)(q)],shortcuts:["esc"],closeParentMenu:!0,action:({environment:e})=>{(0,n(909993).P)(e),(0,n(440024).I)({environment:e}),n(661920).nJ(e),M().maybeCloseSlipperySlopeChatSidebar({environment:e}),n(939453).default.dismissTourTutorial()}}),pt=(0,$().Fw)({key:"escape",analyticsName:"Quick Search Escape",displayName:void 0,validators:[q],shortcuts:["esc"],closeParentMenu:!0,action:()=>{ae().Ay.state.query.text.length>0?ae().Ay.updateQueryText(""):(0,n(251200).y)()}}),yt=(0,$().Fw)({key:"select all",analyticsName:"Select all",displayName:void 0,validators:[],shortcuts:["selectAll"],closeParentMenu:!0,action:({environment:e})=>{(0,n(355110).U)(e)}}),ft=(0,$().Fw)({key:"cut",analyticsName:"Cut",displayName:void 0,validators:[I().p,(0,z().A)(D().v),x().o],shortcuts:["cut"],closeParentMenu:!0,lazyDependencyKeys:["clipboardActions","markdownLinkifyIt"],action:({environment:e},t)=>{const n=(0,p().Y)("clipboardActions"),o=(0,p().Y)("markdownLinkifyIt");n&&t&&(0,Te().N)(t)&&n.cutWithMaybeConfirmation({environment:e,event:t,markdownLinkifyIt:o})}}),gt=(0,$().Fw)({key:"copy",analyticsName:"Copy",displayName:void 0,validators:[],shortcuts:["copy"],closeParentMenu:!0,lazyDependencyKeys:["clipboardActions","markdownLinkifyIt"],action:({environment:e},t)=>{const n=(0,p().Y)("clipboardActions"),o=(0,p().Y)("markdownLinkifyIt");n&&t&&(0,Te().N)(t)&&n.copy({environment:e,event:t,markdownLinkifyIt:o})}});async function kt(e,t,n){const[o,a,i]=await Promise.all([(0,s().jd)(),N().R.clipboardActions.load(),(0,r().r)()]),c=(0,S().d)();if(c)return void e(a)({environment:t,blockStore:c,callback:n});const l=function(e){const{route:t}=e.RouterStore.state;if(t&&"marketplace"===t.name&&"templates"===t.pageType&&t.slug)return(0,G().sO)(t.slug,t)}(t);if(l)return void o({environment:t,stringValue:l,copiedMessage:i.copiedLinkToClipboard}).then(n);const d=function(e){const{route:t}=e.RouterStore.state;if(t&&"agent"===t.name)return window.location.href}(t);d&&o({environment:t,stringValue:d,copiedMessage:i.copiedLinkToClipboard}).then(n)}const ht=(0,$().Fw)({key:"copy link to current page",displayName:$().AY.copyLinkNavigableTypeName,analyticsName:$().AY.copyLinkNavigableTypeName.defaultMessage,svg:u().linkIcon,validators:[O().b,(0,z().A)(W().o)],shortcuts:["copyLinkToCurrentPage"],closeParentMenu:!0,track:{actionName:"copy_block_link"},action:(e,{environment:t},n)=>kt((e=>e.copyLinkToBlock),t,e)}),Nt=(0,$().Fw)({key:"copy linkified page title to current page",displayName:je.copyFormattedLinkNavigableTypeName,analyticsName:je.copyFormattedLinkNavigableTypeName.defaultMessage,svg:u().linkIcon,validators:[],shortcuts:["copyCurrentPageLinkifiedBlockTitle"],closeParentMenu:!0,track:{actionName:"copy_block_link"},action:(e,{environment:t},n)=>kt((e=>e.copyFormattedLinkToBlock),t,e)}),St=(0,$().Fw)({key:"paste",displayName:je.pasteName,analyticsName:je.pasteName.defaultMessage,validators:[I().p,(0,z().A)(D().v),x().o,Y().M],shortcuts:["paste"],closeParentMenu:!0,track:{actionName:"paste"},lazyDependencyKeys:["clipboardActions","formulasModule","markdownLinkifyIt","tinyMceMicrosoftWordPasteFilter"],action:(e,{environment:t,pageContext:o},a)=>{const i=(0,p().Y)("clipboardActions"),r=(0,p().Y)("formulasModule"),s=(0,p().Y)("markdownLinkifyIt"),c=(0,p().Y)("tinyMceMicrosoftWordPasteFilter");if(!a||!(0,Te().N)(a)||!i)return;const{serverCommitResult:l}=be().createAndCommit({userAction:"actionRegistry.paste",environment:t,canUndo:!0,perform:e=>{i.paste({environment:t,event:a,disableEmbedMenu:!0,transaction:e,onPasteFiles:i.pasteFilesForBlocks,formulasModule:r,markdownLinkifyIt:s,tinyMceMicrosoftWordPasteFilter:c,spaceStore:(0,n(876338).$)(o)})}});l.then(e)}}),bt=(0,$().Fw)({key:"move up",displayName:je.moveUpName,analyticsName:je.moveUpName.defaultMessage,validators:[I().p,F().c,(0,z().A)(_().$)],shortcuts:["moveUp"],closeParentMenu:!0,action:({environment:e})=>{be().createAndCommit({userAction:"actionRegistry.moveUp",environment:e,canUndo:!0,perform:t=>{!async function(e){const t=k().BO({transaction:e.transaction,blocks:g().default.state.stores});t&&((0,f().t)({environment:e.environment,stores:t}),await y().default.afterNextFlush(),(0,h().B)({environment:e.environment}))}({environment:e,transaction:t})}})}}),wt=(0,$().Fw)({key:"move down",displayName:je.moveDownName,analyticsName:je.moveDownName.defaultMessage,validators:[I().p,F().c,(0,z().A)(_().$)],shortcuts:["moveDown"],closeParentMenu:!0,action:({environment:e})=>{be().createAndCommit({userAction:"actionRegistry.moveDown",environment:e,canUndo:!0,perform:t=>{!async function(e){const t=k().oJ({transaction:e.transaction,blocks:g().default.state.stores});t&&((0,f().t)({environment:e.environment,stores:t}),await y().default.afterNextFlush(),(0,h().B)({environment:e.environment}))}({environment:e,transaction:t})}})}}),Mt=(0,$().Fw)({key:"property visibility",displayName:je.propertyVisibilityLabel,analyticsName:je.propertyVisibilityLabel.defaultMessage,shortcuts:["togglePropertyVisibility"],validators:[I().p,(0,z().A)(n(155963).K)],closeParentMenu:!0,action:e=>{const t=Object.values(Se().default.state.open?Ne().A6.state.pagePropertiesStoreMap:Ne().Ep.state.pagePropertiesStoreMap),n=Se().default.state.open?Se().default.state.targetStore:i().default.state.mainEditorCurrentBlockStore;if(!n)return;const o=n.getAssociatedCollectionStore();if(!o)return;const a=t.every((e=>e.state.forceShowProperties)),r=(null==o?void 0:o.getNormalizedPropertyGroups())??[],s=r.every((e=>Q().A.isPropertyGroupExpanded({groupId:e.id}))),c=!a||!s;for(const i of t)i.setState({...i.state,forceShowProperties:c});for(const i of r)Q().A.setPropertyGroupExpandedOverride({groupId:i.id,override:c?"open":"closed"})}}),At=(0,$().Fw)({key:"enter",displayName:je.enterName,analyticsName:je.enterName.defaultMessage,validators:[I().p,(0,z().A)(D().v)],shortcuts:["enter"],closeParentMenu:!0,action:({environment:e,blocks:t})=>{be().createAndCommit({userAction:"actionRegistry.enter",environment:e,canUndo:!0,perform:e=>{w().x7({blocks:t,transaction:e})}})}}),Pt=(0,$().Fw)({key:"activate",analyticsName:"Activate",displayName:void 0,validators:[I().p,function(e){return e.blocks.some((e=>Boolean(B().K.findBlockFromStoreWithMethod(e,"activate"))))}],shortcuts:["commandEnter"],closeParentMenu:!0,action:e=>w().Yf(e)}),_t=(0,$().Fw)({key:"open tab",analyticsName:"open tab",displayName:void 0,validators:[function(e){if(1!==e.blocks.length)return!1;const t=e.blocks.at(0);if(!t)return!1;const o=t.getParentStore();return!(!o||o.table!==n(179034).ev)&&o.isType(d().xd.tab)}],shortcuts:["commandEnter"],closeParentMenu:!0,action:e=>w().AP(e)}),Ft=(0,$().Fw)({key:"toggle sidebar",analyticsName:"Toggle sidebar",displayName:void 0,validators:[(0,z().A)((function(){return n(905487).default.state.open}))],shortcuts:["toggleSidebar"],closeParentMenu:!0,action:({environment:e})=>he().setExpand({environment:e,isExpanded:!n(749687).sidebarExpandedStore.state,from:"keyboard_shortcut",saveDetailsSidebarPreference:!0})}),Tt=(0,$().Fw)({key:"toggle update sidebar",analyticsName:"Toggle update sidebar",displayName:void 0,validators:[],shortcuts:["toggleUpdateSidebar"],closeParentMenu:!0,action:({environment:e})=>{if(Se().default.state.open){const t=n(455994).A.getPanelState("peek"),o=Se().default.state.targetStore,a=null==o?void 0:o.getAssociatedCollectionStore();if(!a)return;const i=a.getLayoutStore();if(!i)return;t.isOpen?(0,J().F)({environment:e,layoutStore:i,from:"keyboard_default",panelLocation:"peek"}):(0,J().j)({environment:e,layoutStore:i,from:"keyboard_default",panelLocation:"peek"})}else he().setUpdateExpand({environment:e,isExpanded:!(0,n(644914).Nk)(e),from:"keyboard_default",saveDetailsSidebarPreference:!0})}}),Bt=(0,$().Fw)({key:"open link annotation menu",displayName:je.createLinkName,analyticsName:je.createLinkName.defaultMessage,validators:[K().c,j().T,function(){return!((0,C().y)(m().Ifu.User)||(0,C().y)(m().Ifu.Bot)||(0,C().y)(m().Ifu.Date)||(0,C().y)(m().Ifu.Page))},x().o,(0,z().A)(n(9402).P)],shortcuts:["openLinkMenuOrOpenSearch"],closeParentMenu:!0,action:()=>n(501666).fi({type:"focusOnly",focus:!0})}),Ct=(0,$().Fw)({key:"exit app",analyticsName:"Exit app",displayName:void 0,validators:[(0,z().A)(L),n(875855).m],shortcuts:["backbutton"],closeParentMenu:!0,action:({environment:e})=>{if(e.mobileNative)if((0,n(993130).A)(e)){const{TabbedRouterStore:t}=e;"home"!==t.state.activeTab?(0,n(291430).s)({environment:e,tab:"home",navigationAction:"pop",navigationSource:"mobile-back-navigation"}):e.mobileNative.exitApp()}else e.mobileNative.exitApp()}}),It=(0,$().Fw)({key:"command left",analyticsName:"Go back",displayName:void 0,validators:[L,(0,z().A)(K().c)],shortcuts:["commandLeft"],closeParentMenu:!0,action:(e,t)=>(0,te().a)(e.environment)}),Lt=(0,$().Fw)({key:"command right",analyticsName:"Go forward",displayName:void 0,validators:[U,(0,z().A)(K().c)],shortcuts:["commandRight"],closeParentMenu:!0,action:e=>(0,ne().s)(e.environment)}),Ut=(0,$().Fw)({key:"go back",analyticsName:"Go back",displayName:void 0,validators:[L],shortcuts:["goBack","backbutton"],closeParentMenu:!0,action:({environment:e})=>(0,te().a)(e)}),xt=(0,$().Fw)({key:"go forward",analyticsName:"Go forward",displayName:void 0,validators:[U],shortcuts:["goForward"],closeParentMenu:!0,action:e=>(0,ne().s)(e.environment)}),Et=(0,$().Fw)({key:"go up",analyticsName:"Go up",displayName:void 0,validators:[()=>function(){const e=i().default.state.mainEditorCurrentBlockStore;return!!e&&Boolean((0,oe().N)(e,1))}()],shortcuts:["goUp"],closeParentMenu:!0,action:({environment:e})=>function(e){const t=i().default.state.mainEditorCurrentBlockStore;if(!t)return;const o=(0,oe().N)(t,1);o&&(0,Z().u)({environment:e,store:n(295633).B.createChildStore(o,o.pointer),pageVisitSource:l().y8.Breadcrumb})}(e)}),Rt=(0,$().Fw)({key:"open settings",analyticsName:"Open settings",displayName:void 0,validators:[O().b,n(791117).u],shortcuts:["settings"],closeParentMenu:!0,action:e=>{n(209660).Ow()}}),Wt=(0,$().Fw)({key:"new page",analyticsName:"New page",displayName:void 0,validators:[function(){const{sidebarSpaceStore:e}=i().default.state;return Boolean(e&&e.canEdit())},Y().M,(0,H().or)([O().b,n(918871).w]),(0,z().A)((function({environment:e}){return(0,n(266615).J)({environment:e})}))],shortcuts:["newPage"],closeParentMenu:!0,action:({environment:e})=>{const t="open"===n(981475).globalChatPanelRuntimeStore.state.chatPanelVisibility,o=document.querySelector('[data-testid="ai-sidebar-chat"]'),a=(null==o?void 0:o.contains(document.activeElement))??!1;t&&a?M().createNewChatThread(e):(0,n(599412).M)({environment:e,from:"cmd_n"})}}),Kt=(0,$().Fw)({key:"turn into type",displayName:$().AY.turnIntoName,analyticsName:$().AY.turnIntoName.defaultMessage,validators:[I().p,(0,z().A)(D().v),n(792609).Y,n(409076).p],shortcuts:["turnIntoType"],closeParentMenu:!0,track:{actionName:"turn_into"},action:async(e,{blocks:t,environment:a},i)=>{const r=await(0,n(855801).zQ)();if(!i||!(0,Te().k)(i))return;i.preventDefault();const s=parseInt(o()(i.keyCode)),c=d().zx[s],{serverCommitResult:l}=be().createAndCommit({userAction:"actionRegistry.turnIntoTypeViaKeyboard",environment:a,canUndo:!0,perform:e=>{r({environment:a,blocks:t,blockType:c,transaction:e})}});l.then(e)}}),Ot=[$e({key:"toggle bold",displayName:je.boldName,analyticsName:je.boldName.defaultMessage,shortcuts:["toggleBold"],annotation:["b"]}),$e({key:"toggle italics",displayName:je.italicName,analyticsName:je.italicName.defaultMessage,shortcuts:["toggleItalics"],annotation:["i"]}),$e({key:"toggle strike",displayName:je.strikeThroughName,analyticsName:je.strikeThroughName.defaultMessage,shortcuts:["toggleStrike"],annotation:["s"]}),$e({key:"toggle underline",displayName:je.underlineName,analyticsName:je.underlineName.defaultMessage,shortcuts:["toggleUnderline"],annotation:[m().Ifu.Underline]})],Dt=(0,$().Fw)({key:"toggle dark mode",displayName:je.darkModeName,analyticsName:je.darkModeName.defaultMessage,validators:[],shortcuts:["toggleDarkMode"],closeParentMenu:!0,action:({environment:e})=>{const t="light"===e.ThemeStore.state.mode?"dark":"light";n(721253).C5(t)}}),Yt=(0,$().Fw)({key:"open peek view as page",displayName:je.openAsPageName,analyticsName:je.openAsPageName.defaultMessage,validators:[n(384937).G],shortcuts:["commandEnter"],closeParentMenu:!0,action:({environment:e})=>{Se().default.peekTargetStore.state&&(0,Z().u)({environment:e,store:Se().default.peekTargetStore.state,pageVisitSource:l().y8.Expand})}});function Vt(e){return e.actions.filter(a).map((t=>({...t,searchName:[e.title,t.displayName].filter(Boolean).join(" ")})))}const qt=(0,$().Fw)({key:"toggle qna in corner",displayName:je.toggleQnAMessage,analyticsName:"toggleQnAPane",validators:[(0,H().or)([(0,n(963335).S)("agent_writer"),(0,P().U)([(0,z().A)(V),...n(907487).J])])],shortcuts:["commandJ"],closeParentMenu:!0,action:async({environment:e})=>{n(242422).default.checkGate({gateName:"agent_writer"})&&"editing"===c().default.state.mode&&Qe(e);const{RouterStore:t}=e,{route:o}=t.state;if("chat"===o.name||"ai"===o.name)return void M().requestUnifiedChatInputFocus({chatFeatureType:"slippery_slope"});if((0,X().hw)()){he().setExpand({environment:e,isExpanded:!0,from:"keyboard_shortcut",saveDetailsSidebarPreference:!0});const t=(0,n(770160).getChatPanelState)(e);return null!=t&&t.isOpen&&n(863642).d.setState("chats"),void M().requestUnifiedChatInputFocus({chatFeatureType:"slippery_slope"})}const{getIsChatPanelOpen:a}=await Promise.resolve().then(n.bind(n,770160));if(a(e)){const{dismissChatSidebar:e}=await Promise.resolve().then(n.bind(n,703748));e()}else{const{openChatPanel:t}=await Promise.resolve().then(n.bind(n,703748));t({environment:e,store:i().default.state.mainEditorCurrentBlockStore,chatPanelState:{isOpen:!0},source:"keyboard_shortcut"})}}});function zt(){return[Ke,Oe,_e().z,...Fe().yj.actions,Fe().As,Ce().i,At,Pt,Be().N,Be().S,_t,Le().Sr,Le().EC,He().Zm,He().Lc,Ye().U,Ye().H,Me().Im,Me().pG,(0,ze().F)("keyboard_shortcut"),tt,nt,qe,lt,dt,mt,ut,yt,vt,pt,bt,wt,ft,gt,St,ot,at,it,rt,qt,st,(0,Ae().gS)(),Pe().k,(0,Ae().KV)(),Bt,Ct,Ut,xt,It,Lt,Et,Ie().tw,Ie().Yk,ht,Nt,Kt,Le().NQ,Le().ET,ct,Ft,Tt,Rt,Wt,Dt,Yt,Mt,Ze,et,ee,...Ot,...Vt(Ge().t3),...Vt(we().kl)]}},998992:(e,t,n)=>{n.d(t,{I:()=>a});var o=()=>n(907258);function a(e,t){if(function(e){return e===o().default.state.mainEditorCurrentBlockStore}(e)){const{RouterStore:e}=t,n=e.state.route;if("page"===n.name)return n.collectionViewId}}}}]);