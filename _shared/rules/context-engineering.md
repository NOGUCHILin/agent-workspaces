# Context Engineering

AIエージェント開発における「コンテキストの壁」を攻略するための原則。

---

## 核心的な問い

各タスクで判断すべき:
- **内部ナレッジ**: LLMの学習済み知識に頼る
- **外部ナレッジ**: 検索・ファイル読み込みで取得

→ どちらを使うか、タスクごとに意図的に設計する

---

## 実践的な教訓

### 1. コンテキストは有限資源

長すぎるコンテキストは逆効果。必要最小限に絞る。

### 2. ツールの動的管理

使わないツールはコンテキストから除外。必要な時だけ渡す。

### 3. SubAgentで分離

独立したタスクはSubAgentに委譲し、メインのコンテキストを温存。

### 4. Skills vs SubAgent

| 状況 | 選択 |
|------|------|
| コンテキスト共有が必要 | Skills |
| 独立した調査タスク | SubAgent |

### 5. 階層化

- rules/: 常に読み込まれる（簡潔に）
- Skills: 必要時のみ
- claudedocs/: 詳細（参照時のみ）

---

## Tips

### btwテクニック

処理中に質問したい時、`btw`で始めると実行を止めずに質問できる：

```
btw このファイルの役割は？
btw 今何してる？
```

### 長時間タスク

`skills/long-running-tasks/SKILL.md` 参照。
ralph-wiggumプラグインで自律ループ実行が可能。

---

## 参考

- [Manus コンテクストエンジニアリング](https://x.com/ManusAI_JP/status/2004501261299916901)
- [boxのCEO議論](https://x.com/j_kun_ml/status/2003777672946843654)
