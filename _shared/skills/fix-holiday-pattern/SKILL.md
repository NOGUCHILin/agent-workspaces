---
name: fix-holiday-pattern
description: KING OF TIMEでパターンと公休の不整合を修正する。「公休パターン修正」「休日パターン削除」「勤務日修正」と言われた時に使用。
---

# 公休・パターン不整合修正スキル

KING OF TIMEのタイムカードで、パターンと公休の設定が不整合な日を修正する。

## 対象システム

### KING OF TIME
- URL: https://s4.ta.kingoftime.jp/admin/
- ログインID: cnwqao1admin
- パスワード: 4669Uprose

## 不整合パターンの種類

### パターン1: 公休日にパターンが残っている
- 表示: 「事務所勤務10-19(公休)」
- 正しい表示: 「--(公休)」
- 修正: パターンを「--」にクリア

### パターン2: 勤務日なのに公休になっている
- 表示: 「--(公休)」または「事務所勤務10-19(公休)」
- 正しい表示: 「事務所勤務10-19」（平日）
- 修正: パターンを設定し、勤務日種別を「平日」に、休暇区分を「--」に変更

---

## パターン1の修正手順（公休日からパターンを削除）

### 1. タイムカード画面を開く
1. KING OF TIME管理画面にログイン
2. 月別データ → 対象従業員の「タイムカード」をクリック
3. 対象月を表示

### 2. 編集画面を開く
**重要: スケジュール編集ではなく、タイムカードの編集を使用する**

1. 対象日の左端にある鉛筆マーク（編集アイコン）をクリック
2. 「勤務データ編集」画面が開く

### 3. パターンをクリアする
1. 「スケジュール編集」セクションを確認
2. 「パターン」ドロップダウンを「--」に変更
3. 他の設定（勤務日種別、休暇区分）はそのまま維持
4. 「保存」をクリック

### 修正前後の比較

| 項目 | 修正前 | 修正後 |
|------|--------|--------|
| パターン | 事務所勤務10-19 | -- |
| 勤務日種別 | 法定休日/法定外休日 | 変更なし |
| 休暇区分 | 公休 | 変更なし |
| 取得単位 | 全日休暇 | 変更なし |

---

## パターン2の修正手順（公休から勤務日に変更）

### 1. タイムカード画面を開く
1. KING OF TIME管理画面にログイン
2. 月別データ → 対象従業員の「タイムカード」をクリック
3. 対象月を表示

### 2. 編集画面を開く
1. 対象日の左端にある鉛筆マーク（編集アイコン）をクリック
2. 「勤務データ編集」画面が開く

### 3. 勤務日に変更する
1. 「スケジュール編集」セクションを確認
2. 「パターン」ドロップダウンで勤務パターンを選択（例: 事務所勤務10-19）
3. 「勤務日種別」を「平日」に変更
4. 「休暇区分」の種別を「--」に変更
5. 「保存」をクリック

### 修正前後の比較

| 項目 | 修正前 | 修正後 |
|------|--------|--------|
| パターン | -- | 事務所勤務10-19 |
| 勤務日種別 | 法定休日/法定外休日 | 平日 |
| 休暇区分 | 公休 | -- |
| 取得単位 | 全日休暇 | -- |

---

## JavaScript操作（必要な場合）

### パターンをクリア
```javascript
async (page) => {
  await page.locator('#select_schedule_pattern_id').selectOption(['--']);
}
```

### パターンを設定
```javascript
async (page) => {
  await page.locator('#select_schedule_pattern_id').selectOption(['事務所勤務10-19']);
}
```

## 報告形式

| 従業員 | 日付 | 修正前 | 修正後 | 結果 |
|--------|------|--------|--------|------|
| 高橋 諒 | 02/25（水） | 事務所勤務10-19(公休) | --(公休) | ✅ |
| 山田 太郎 | 02/10（火） | --(公休) | 事務所勤務10-19(平日) | ✅ |

## 注意事項

- スケジュール編集（一括編集）ではなく、タイムカードの個別編集を使用する
- 鉛筆マークは各日付行の左端にある
- 複数日ある場合は1日ずつ編集する
- スプレッドシートで正しい状態を確認してから修正する
